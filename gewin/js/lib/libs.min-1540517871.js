!function(t,e){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(T,t){"use strict";var e=[],k=T.document,n=Object.getPrototypeOf,a=e.slice,m=e.concat,l=e.push,o=e.indexOf,i={},r=i.toString,g=i.hasOwnProperty,s=g.toString,u=s.call(Object),v={},y=function(t){return"function"==typeof t&&"number"!=typeof t.nodeType},_=function(t){return null!=t&&t===t.window},h={type:!0,src:!0,noModule:!0};function b(t,e,i){var n,o=(e=e||k).createElement("script");if(o.text=t,i)for(n in h)i[n]&&(o[n]=i[n]);e.head.appendChild(o).parentNode.removeChild(o)}function x(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?i[r.call(t)]||"object":typeof t}var c="3.3.1",C=function(t,e){return new C.fn.init(t,e)},p=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;function d(t){var e=!!t&&"length"in t&&t.length,i=x(t);return!y(t)&&!_(t)&&("array"===i||0===e||"number"==typeof e&&0<e&&e-1 in t)}C.fn=C.prototype={jquery:c,constructor:C,length:0,toArray:function(){return a.call(this)},get:function(t){return null==t?a.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=C.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return C.each(this,t)},map:function(i){return this.pushStack(C.map(this,function(t,e){return i.call(t,e,t)}))},slice:function(){return this.pushStack(a.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,i=+t+(t<0?e:0);return this.pushStack(0<=i&&i<e?[this[i]]:[])},end:function(){return this.prevObject||this.constructor()},push:l,sort:e.sort,splice:e.splice},C.extend=C.fn.extend=function(){var t,e,i,n,o,r,s=arguments[0]||{},a=1,l=arguments.length,u=!1;for("boolean"==typeof s&&(u=s,s=arguments[a]||{},a++),"object"==typeof s||y(s)||(s={}),a===l&&(s=this,a--);a<l;a++)if(null!=(t=arguments[a]))for(e in t)i=s[e],s!==(n=t[e])&&(u&&n&&(C.isPlainObject(n)||(o=Array.isArray(n)))?(r=o?(o=!1,i&&Array.isArray(i)?i:[]):i&&C.isPlainObject(i)?i:{},s[e]=C.extend(u,r,n)):void 0!==n&&(s[e]=n));return s},C.extend({expando:"jQuery"+(c+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isPlainObject:function(t){var e,i;return!(!t||"[object Object]"!==r.call(t))&&(!(e=n(t))||"function"==typeof(i=g.call(e,"constructor")&&e.constructor)&&s.call(i)===u)},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},globalEval:function(t){b(t)},each:function(t,e){var i,n=0;if(d(t))for(i=t.length;n<i&&!1!==e.call(t[n],n,t[n]);n++);else for(n in t)if(!1===e.call(t[n],n,t[n]))break;return t},trim:function(t){return null==t?"":(t+"").replace(p,"")},makeArray:function(t,e){var i=e||[];return null!=t&&(d(Object(t))?C.merge(i,"string"==typeof t?[t]:t):l.call(i,t)),i},inArray:function(t,e,i){return null==e?-1:o.call(e,t,i)},merge:function(t,e){for(var i=+e.length,n=0,o=t.length;n<i;n++)t[o++]=e[n];return t.length=o,t},grep:function(t,e,i){for(var n=[],o=0,r=t.length,s=!i;o<r;o++)!e(t[o],o)!==s&&n.push(t[o]);return n},map:function(t,e,i){var n,o,r=0,s=[];if(d(t))for(n=t.length;r<n;r++)null!=(o=e(t[r],r,i))&&s.push(o);else for(r in t)null!=(o=e(t[r],r,i))&&s.push(o);return m.apply([],s)},guid:1,support:v}),"function"==typeof Symbol&&(C.fn[Symbol.iterator]=e[Symbol.iterator]),C.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){i["[object "+e+"]"]=e.toLowerCase()});var f=function(i){var t,d,b,r,o,f,c,m,x,l,u,w,T,s,k,g,a,h,v,C="sizzle"+1*new Date,y=i.document,S=0,n=0,p=st(),_=st(),E=st(),A=function(t,e){return t===e&&(u=!0),0},P={}.hasOwnProperty,e=[],z=e.pop,D=e.push,M=e.push,I=e.slice,O=function(t,e){for(var i=0,n=t.length;i<n;i++)if(t[i]===e)return i;return-1},L="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",R="[\\x20\\t\\r\\n\\f]",F="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",N="\\["+R+"*("+F+")(?:"+R+"*([*^$|!~]?=)"+R+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+F+"))|)"+R+"*\\]",j=":("+F+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+N+")*)|.*)\\)|)",B=new RegExp(R+"+","g"),V=new RegExp("^"+R+"+|((?:^|[^\\\\])(?:\\\\.)*)"+R+"+$","g"),H=new RegExp("^"+R+"*,"+R+"*"),q=new RegExp("^"+R+"*([>+~]|"+R+")"+R+"*"),$=new RegExp("="+R+"*([^\\]'\"]*?)"+R+"*\\]","g"),W=new RegExp(j),U=new RegExp("^"+F+"$"),Z={ID:new RegExp("^#("+F+")"),CLASS:new RegExp("^\\.("+F+")"),TAG:new RegExp("^("+F+"|[*])"),ATTR:new RegExp("^"+N),PSEUDO:new RegExp("^"+j),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+R+"*(even|odd|(([+-]|)(\\d*)n|)"+R+"*(?:([+-]|)"+R+"*(\\d+)|))"+R+"*\\)|)","i"),bool:new RegExp("^(?:"+L+")$","i"),needsContext:new RegExp("^"+R+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+R+"*((?:-\\d)?\\d*)"+R+"*\\)|)(?=[^-]|$)","i")},X=/^(?:input|select|textarea|button)$/i,G=/^h\d$/i,Y=/^[^{]+\{\s*\[native \w/,K=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,J=/[+~]/,Q=new RegExp("\\\\([\\da-f]{1,6}"+R+"?|("+R+")|.)","ig"),tt=function(t,e,i){var n="0x"+e-65536;return n!=n||i?e:n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)},et=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,it=function(t,e){return e?"\0"===t?"ï¿½":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t},nt=function(){w()},ot=yt(function(t){return!0===t.disabled&&("form"in t||"label"in t)},{dir:"parentNode",next:"legend"});try{M.apply(e=I.call(y.childNodes),y.childNodes),e[y.childNodes.length].nodeType}catch(t){M={apply:e.length?function(t,e){D.apply(t,I.call(e))}:function(t,e){for(var i=t.length,n=0;t[i++]=e[n++];);t.length=i-1}}}function rt(t,e,i,n){var o,r,s,a,l,u,h,c=e&&e.ownerDocument,p=e?e.nodeType:9;if(i=i||[],"string"!=typeof t||!t||1!==p&&9!==p&&11!==p)return i;if(!n&&((e?e.ownerDocument||e:y)!==T&&w(e),e=e||T,k)){if(11!==p&&(l=K.exec(t)))if(o=l[1]){if(9===p){if(!(s=e.getElementById(o)))return i;if(s.id===o)return i.push(s),i}else if(c&&(s=c.getElementById(o))&&v(e,s)&&s.id===o)return i.push(s),i}else{if(l[2])return M.apply(i,e.getElementsByTagName(t)),i;if((o=l[3])&&d.getElementsByClassName&&e.getElementsByClassName)return M.apply(i,e.getElementsByClassName(o)),i}if(d.qsa&&!E[t+" "]&&(!g||!g.test(t))){if(1!==p)c=e,h=t;else if("object"!==e.nodeName.toLowerCase()){for((a=e.getAttribute("id"))?a=a.replace(et,it):e.setAttribute("id",a=C),r=(u=f(t)).length;r--;)u[r]="#"+a+" "+vt(u[r]);h=u.join(","),c=J.test(t)&&mt(e.parentNode)||e}if(h)try{return M.apply(i,c.querySelectorAll(h)),i}catch(t){}finally{a===C&&e.removeAttribute("id")}}}return m(t.replace(V,"$1"),e,i,n)}function st(){var n=[];return function t(e,i){return n.push(e+" ")>b.cacheLength&&delete t[n.shift()],t[e+" "]=i}}function at(t){return t[C]=!0,t}function lt(t){var e=T.createElement("fieldset");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function ut(t,e){for(var i=t.split("|"),n=i.length;n--;)b.attrHandle[i[n]]=e}function ht(t,e){var i=e&&t,n=i&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(n)return n;if(i)for(;i=i.nextSibling;)if(i===e)return-1;return t?1:-1}function ct(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function pt(i){return function(t){var e=t.nodeName.toLowerCase();return("input"===e||"button"===e)&&t.type===i}}function dt(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&ot(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function ft(s){return at(function(r){return r=+r,at(function(t,e){for(var i,n=s([],t.length,r),o=n.length;o--;)t[i=n[o]]&&(t[i]=!(e[i]=t[i]))})})}function mt(t){return t&&void 0!==t.getElementsByTagName&&t}for(t in d=rt.support={},o=rt.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},w=rt.setDocument=function(t){var e,i,n=t?t.ownerDocument||t:y;return n!==T&&9===n.nodeType&&n.documentElement&&(s=(T=n).documentElement,k=!o(T),y!==T&&(i=T.defaultView)&&i.top!==i&&(i.addEventListener?i.addEventListener("unload",nt,!1):i.attachEvent&&i.attachEvent("onunload",nt)),d.attributes=lt(function(t){return t.className="i",!t.getAttribute("className")}),d.getElementsByTagName=lt(function(t){return t.appendChild(T.createComment("")),!t.getElementsByTagName("*").length}),d.getElementsByClassName=Y.test(T.getElementsByClassName),d.getById=lt(function(t){return s.appendChild(t).id=C,!T.getElementsByName||!T.getElementsByName(C).length}),d.getById?(b.filter.ID=function(t){var e=t.replace(Q,tt);return function(t){return t.getAttribute("id")===e}},b.find.ID=function(t,e){if(void 0!==e.getElementById&&k){var i=e.getElementById(t);return i?[i]:[]}}):(b.filter.ID=function(t){var i=t.replace(Q,tt);return function(t){var e=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return e&&e.value===i}},b.find.ID=function(t,e){if(void 0!==e.getElementById&&k){var i,n,o,r=e.getElementById(t);if(r){if((i=r.getAttributeNode("id"))&&i.value===t)return[r];for(o=e.getElementsByName(t),n=0;r=o[n++];)if((i=r.getAttributeNode("id"))&&i.value===t)return[r]}return[]}}),b.find.TAG=d.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):d.qsa?e.querySelectorAll(t):void 0}:function(t,e){var i,n=[],o=0,r=e.getElementsByTagName(t);if("*"!==t)return r;for(;i=r[o++];)1===i.nodeType&&n.push(i);return n},b.find.CLASS=d.getElementsByClassName&&function(t,e){if(void 0!==e.getElementsByClassName&&k)return e.getElementsByClassName(t)},a=[],g=[],(d.qsa=Y.test(T.querySelectorAll))&&(lt(function(t){s.appendChild(t).innerHTML="<a id='"+C+"'></a><select id='"+C+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&g.push("[*^$]="+R+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||g.push("\\["+R+"*(?:value|"+L+")"),t.querySelectorAll("[id~="+C+"-]").length||g.push("~="),t.querySelectorAll(":checked").length||g.push(":checked"),t.querySelectorAll("a#"+C+"+*").length||g.push(".#.+[+~]")}),lt(function(t){t.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var e=T.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&g.push("name"+R+"*[*^$|!~]?="),2!==t.querySelectorAll(":enabled").length&&g.push(":enabled",":disabled"),s.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&g.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),g.push(",.*:")})),(d.matchesSelector=Y.test(h=s.matches||s.webkitMatchesSelector||s.mozMatchesSelector||s.oMatchesSelector||s.msMatchesSelector))&&lt(function(t){d.disconnectedMatch=h.call(t,"*"),h.call(t,"[s!='']:x"),a.push("!=",j)}),g=g.length&&new RegExp(g.join("|")),a=a.length&&new RegExp(a.join("|")),e=Y.test(s.compareDocumentPosition),v=e||Y.test(s.contains)?function(t,e){var i=9===t.nodeType?t.documentElement:t,n=e&&e.parentNode;return t===n||!(!n||1!==n.nodeType||!(i.contains?i.contains(n):t.compareDocumentPosition&&16&t.compareDocumentPosition(n)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},A=e?function(t,e){if(t===e)return u=!0,0;var i=!t.compareDocumentPosition-!e.compareDocumentPosition;return i||(1&(i=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!d.sortDetached&&e.compareDocumentPosition(t)===i?t===T||t.ownerDocument===y&&v(y,t)?-1:e===T||e.ownerDocument===y&&v(y,e)?1:l?O(l,t)-O(l,e):0:4&i?-1:1)}:function(t,e){if(t===e)return u=!0,0;var i,n=0,o=t.parentNode,r=e.parentNode,s=[t],a=[e];if(!o||!r)return t===T?-1:e===T?1:o?-1:r?1:l?O(l,t)-O(l,e):0;if(o===r)return ht(t,e);for(i=t;i=i.parentNode;)s.unshift(i);for(i=e;i=i.parentNode;)a.unshift(i);for(;s[n]===a[n];)n++;return n?ht(s[n],a[n]):s[n]===y?-1:a[n]===y?1:0}),T},rt.matches=function(t,e){return rt(t,null,null,e)},rt.matchesSelector=function(t,e){if((t.ownerDocument||t)!==T&&w(t),e=e.replace($,"='$1']"),d.matchesSelector&&k&&!E[e+" "]&&(!a||!a.test(e))&&(!g||!g.test(e)))try{var i=h.call(t,e);if(i||d.disconnectedMatch||t.document&&11!==t.document.nodeType)return i}catch(t){}return 0<rt(e,T,null,[t]).length},rt.contains=function(t,e){return(t.ownerDocument||t)!==T&&w(t),v(t,e)},rt.attr=function(t,e){(t.ownerDocument||t)!==T&&w(t);var i=b.attrHandle[e.toLowerCase()],n=i&&P.call(b.attrHandle,e.toLowerCase())?i(t,e,!k):void 0;return void 0!==n?n:d.attributes||!k?t.getAttribute(e):(n=t.getAttributeNode(e))&&n.specified?n.value:null},rt.escape=function(t){return(t+"").replace(et,it)},rt.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},rt.uniqueSort=function(t){var e,i=[],n=0,o=0;if(u=!d.detectDuplicates,l=!d.sortStable&&t.slice(0),t.sort(A),u){for(;e=t[o++];)e===t[o]&&(n=i.push(o));for(;n--;)t.splice(i[n],1)}return l=null,t},r=rt.getText=function(t){var e,i="",n=0,o=t.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)i+=r(t)}else if(3===o||4===o)return t.nodeValue}else for(;e=t[n++];)i+=r(e);return i},(b=rt.selectors={cacheLength:50,createPseudo:at,match:Z,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(Q,tt),t[3]=(t[3]||t[4]||t[5]||"").replace(Q,tt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||rt.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&rt.error(t[0]),t},PSEUDO:function(t){var e,i=!t[6]&&t[2];return Z.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":i&&W.test(i)&&(e=f(i,!0))&&(e=i.indexOf(")",i.length-e)-i.length)&&(t[0]=t[0].slice(0,e),t[2]=i.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(Q,tt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=p[t+" "];return e||(e=new RegExp("(^|"+R+")"+t+"("+R+"|$)"))&&p(t,function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(i,n,o){return function(t){var e=rt.attr(t,i);return null==e?"!="===n:!n||(e+="","="===n?e===o:"!="===n?e!==o:"^="===n?o&&0===e.indexOf(o):"*="===n?o&&-1<e.indexOf(o):"$="===n?o&&e.slice(-o.length)===o:"~="===n?-1<(" "+e.replace(B," ")+" ").indexOf(o):"|="===n&&(e===o||e.slice(0,o.length+1)===o+"-"))}},CHILD:function(f,t,e,m,g){var v="nth"!==f.slice(0,3),y="last"!==f.slice(-4),_="of-type"===t;return 1===m&&0===g?function(t){return!!t.parentNode}:function(t,e,i){var n,o,r,s,a,l,u=v!==y?"nextSibling":"previousSibling",h=t.parentNode,c=_&&t.nodeName.toLowerCase(),p=!i&&!_,d=!1;if(h){if(v){for(;u;){for(s=t;s=s[u];)if(_?s.nodeName.toLowerCase()===c:1===s.nodeType)return!1;l=u="only"===f&&!l&&"nextSibling"}return!0}if(l=[y?h.firstChild:h.lastChild],y&&p){for(d=(a=(n=(o=(r=(s=h)[C]||(s[C]={}))[s.uniqueID]||(r[s.uniqueID]={}))[f]||[])[0]===S&&n[1])&&n[2],s=a&&h.childNodes[a];s=++a&&s&&s[u]||(d=a=0)||l.pop();)if(1===s.nodeType&&++d&&s===t){o[f]=[S,a,d];break}}else if(p&&(d=a=(n=(o=(r=(s=t)[C]||(s[C]={}))[s.uniqueID]||(r[s.uniqueID]={}))[f]||[])[0]===S&&n[1]),!1===d)for(;(s=++a&&s&&s[u]||(d=a=0)||l.pop())&&((_?s.nodeName.toLowerCase()!==c:1!==s.nodeType)||!++d||(p&&((o=(r=s[C]||(s[C]={}))[s.uniqueID]||(r[s.uniqueID]={}))[f]=[S,d]),s!==t)););return(d-=g)===m||d%m==0&&0<=d/m}}},PSEUDO:function(t,r){var e,s=b.pseudos[t]||b.setFilters[t.toLowerCase()]||rt.error("unsupported pseudo: "+t);return s[C]?s(r):1<s.length?(e=[t,t,"",r],b.setFilters.hasOwnProperty(t.toLowerCase())?at(function(t,e){for(var i,n=s(t,r),o=n.length;o--;)t[i=O(t,n[o])]=!(e[i]=n[o])}):function(t){return s(t,0,e)}):s}},pseudos:{not:at(function(t){var n=[],o=[],a=c(t.replace(V,"$1"));return a[C]?at(function(t,e,i,n){for(var o,r=a(t,null,n,[]),s=t.length;s--;)(o=r[s])&&(t[s]=!(e[s]=o))}):function(t,e,i){return n[0]=t,a(n,null,i,o),n[0]=null,!o.pop()}}),has:at(function(e){return function(t){return 0<rt(e,t).length}}),contains:at(function(e){return e=e.replace(Q,tt),function(t){return-1<(t.textContent||t.innerText||r(t)).indexOf(e)}}),lang:at(function(i){return U.test(i||"")||rt.error("unsupported lang: "+i),i=i.replace(Q,tt).toLowerCase(),function(t){var e;do{if(e=k?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(e=e.toLowerCase())===i||0===e.indexOf(i+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var e=i.location&&i.location.hash;return e&&e.slice(1)===t.id},root:function(t){return t===s},focus:function(t){return t===T.activeElement&&(!T.hasFocus||T.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:dt(!1),disabled:dt(!0),checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!b.pseudos.empty(t)},header:function(t){return G.test(t.nodeName)},input:function(t){return X.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:ft(function(){return[0]}),last:ft(function(t,e){return[e-1]}),eq:ft(function(t,e,i){return[i<0?i+e:i]}),even:ft(function(t,e){for(var i=0;i<e;i+=2)t.push(i);return t}),odd:ft(function(t,e){for(var i=1;i<e;i+=2)t.push(i);return t}),lt:ft(function(t,e,i){for(var n=i<0?i+e:i;0<=--n;)t.push(n);return t}),gt:ft(function(t,e,i){for(var n=i<0?i+e:i;++n<e;)t.push(n);return t})}}).pseudos.nth=b.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})b.pseudos[t]=ct(t);for(t in{submit:!0,reset:!0})b.pseudos[t]=pt(t);function gt(){}function vt(t){for(var e=0,i=t.length,n="";e<i;e++)n+=t[e].value;return n}function yt(a,t,e){var l=t.dir,u=t.next,h=u||l,c=e&&"parentNode"===h,p=n++;return t.first?function(t,e,i){for(;t=t[l];)if(1===t.nodeType||c)return a(t,e,i);return!1}:function(t,e,i){var n,o,r,s=[S,p];if(i){for(;t=t[l];)if((1===t.nodeType||c)&&a(t,e,i))return!0}else for(;t=t[l];)if(1===t.nodeType||c)if(o=(r=t[C]||(t[C]={}))[t.uniqueID]||(r[t.uniqueID]={}),u&&u===t.nodeName.toLowerCase())t=t[l]||t;else{if((n=o[h])&&n[0]===S&&n[1]===p)return s[2]=n[2];if((o[h]=s)[2]=a(t,e,i))return!0}return!1}}function _t(o){return 1<o.length?function(t,e,i){for(var n=o.length;n--;)if(!o[n](t,e,i))return!1;return!0}:o[0]}function bt(t,e,i,n,o){for(var r,s=[],a=0,l=t.length,u=null!=e;a<l;a++)(r=t[a])&&(i&&!i(r,n,o)||(s.push(r),u&&e.push(a)));return s}function xt(d,f,m,g,v,t){return g&&!g[C]&&(g=xt(g)),v&&!v[C]&&(v=xt(v,t)),at(function(t,e,i,n){var o,r,s,a=[],l=[],u=e.length,h=t||function(t,e,i){for(var n=0,o=e.length;n<o;n++)rt(t,e[n],i);return i}(f||"*",i.nodeType?[i]:i,[]),c=!d||!t&&f?h:bt(h,a,d,i,n),p=m?v||(t?d:u||g)?[]:e:c;if(m&&m(c,p,i,n),g)for(o=bt(p,l),g(o,[],i,n),r=o.length;r--;)(s=o[r])&&(p[l[r]]=!(c[l[r]]=s));if(t){if(v||d){if(v){for(o=[],r=p.length;r--;)(s=p[r])&&o.push(c[r]=s);v(null,p=[],o,n)}for(r=p.length;r--;)(s=p[r])&&-1<(o=v?O(t,s):a[r])&&(t[o]=!(e[o]=s))}}else p=bt(p===e?p.splice(u,p.length):p),v?v(null,e,p,n):M.apply(e,p)})}function wt(t){for(var o,e,i,n=t.length,r=b.relative[t[0].type],s=r||b.relative[" "],a=r?1:0,l=yt(function(t){return t===o},s,!0),u=yt(function(t){return-1<O(o,t)},s,!0),h=[function(t,e,i){var n=!r&&(i||e!==x)||((o=e).nodeType?l(t,e,i):u(t,e,i));return o=null,n}];a<n;a++)if(e=b.relative[t[a].type])h=[yt(_t(h),e)];else{if((e=b.filter[t[a].type].apply(null,t[a].matches))[C]){for(i=++a;i<n&&!b.relative[t[i].type];i++);return xt(1<a&&_t(h),1<a&&vt(t.slice(0,a-1).concat({value:" "===t[a-2].type?"*":""})).replace(V,"$1"),e,a<i&&wt(t.slice(a,i)),i<n&&wt(t=t.slice(i)),i<n&&vt(t))}h.push(e)}return _t(h)}return gt.prototype=b.filters=b.pseudos,b.setFilters=new gt,f=rt.tokenize=function(t,e){var i,n,o,r,s,a,l,u=_[t+" "];if(u)return e?0:u.slice(0);for(s=t,a=[],l=b.preFilter;s;){for(r in i&&!(n=H.exec(s))||(n&&(s=s.slice(n[0].length)||s),a.push(o=[])),i=!1,(n=q.exec(s))&&(i=n.shift(),o.push({value:i,type:n[0].replace(V," ")}),s=s.slice(i.length)),b.filter)!(n=Z[r].exec(s))||l[r]&&!(n=l[r](n))||(i=n.shift(),o.push({value:i,type:r,matches:n}),s=s.slice(i.length));if(!i)break}return e?s.length:s?rt.error(t):_(t,a).slice(0)},c=rt.compile=function(t,e){var i,g,v,y,_,n,o=[],r=[],s=E[t+" "];if(!s){for(e||(e=f(t)),i=e.length;i--;)(s=wt(e[i]))[C]?o.push(s):r.push(s);(s=E(t,(g=r,y=0<(v=o).length,_=0<g.length,n=function(t,e,i,n,o){var r,s,a,l=0,u="0",h=t&&[],c=[],p=x,d=t||_&&b.find.TAG("*",o),f=S+=null==p?1:Math.random()||.1,m=d.length;for(o&&(x=e===T||e||o);u!==m&&null!=(r=d[u]);u++){if(_&&r){for(s=0,e||r.ownerDocument===T||(w(r),i=!k);a=g[s++];)if(a(r,e||T,i)){n.push(r);break}o&&(S=f)}y&&((r=!a&&r)&&l--,t&&h.push(r))}if(l+=u,y&&u!==l){for(s=0;a=v[s++];)a(h,c,e,i);if(t){if(0<l)for(;u--;)h[u]||c[u]||(c[u]=z.call(n));c=bt(c)}M.apply(n,c),o&&!t&&0<c.length&&1<l+v.length&&rt.uniqueSort(n)}return o&&(S=f,x=p),h},y?at(n):n))).selector=t}return s},m=rt.select=function(t,e,i,n){var o,r,s,a,l,u="function"==typeof t&&t,h=!n&&f(t=u.selector||t);if(i=i||[],1===h.length){if(2<(r=h[0]=h[0].slice(0)).length&&"ID"===(s=r[0]).type&&9===e.nodeType&&k&&b.relative[r[1].type]){if(!(e=(b.find.ID(s.matches[0].replace(Q,tt),e)||[])[0]))return i;u&&(e=e.parentNode),t=t.slice(r.shift().value.length)}for(o=Z.needsContext.test(t)?0:r.length;o--&&(s=r[o],!b.relative[a=s.type]);)if((l=b.find[a])&&(n=l(s.matches[0].replace(Q,tt),J.test(r[0].type)&&mt(e.parentNode)||e))){if(r.splice(o,1),!(t=n.length&&vt(r)))return M.apply(i,n),i;break}}return(u||c(t,h))(n,e,!k,i,!e||J.test(t)&&mt(e.parentNode)||e),i},d.sortStable=C.split("").sort(A).join("")===C,d.detectDuplicates=!!u,w(),d.sortDetached=lt(function(t){return 1&t.compareDocumentPosition(T.createElement("fieldset"))}),lt(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||ut("type|href|height|width",function(t,e,i){if(!i)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),d.attributes&&lt(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||ut("value",function(t,e,i){if(!i&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),lt(function(t){return null==t.getAttribute("disabled")})||ut(L,function(t,e,i){var n;if(!i)return!0===t[e]?e.toLowerCase():(n=t.getAttributeNode(e))&&n.specified?n.value:null}),rt}(T);C.find=f,C.expr=f.selectors,C.expr[":"]=C.expr.pseudos,C.uniqueSort=C.unique=f.uniqueSort,C.text=f.getText,C.isXMLDoc=f.isXML,C.contains=f.contains,C.escapeSelector=f.escape;var w=function(t,e,i){for(var n=[],o=void 0!==i;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(o&&C(t).is(i))break;n.push(t)}return n},S=function(t,e){for(var i=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&i.push(t);return i},E=C.expr.match.needsContext;function A(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}var P=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function z(t,i,n){return y(i)?C.grep(t,function(t,e){return!!i.call(t,e,t)!==n}):i.nodeType?C.grep(t,function(t){return t===i!==n}):"string"!=typeof i?C.grep(t,function(t){return-1<o.call(i,t)!==n}):C.filter(i,t,n)}C.filter=function(t,e,i){var n=e[0];return i&&(t=":not("+t+")"),1===e.length&&1===n.nodeType?C.find.matchesSelector(n,t)?[n]:[]:C.find.matches(t,C.grep(e,function(t){return 1===t.nodeType}))},C.fn.extend({find:function(t){var e,i,n=this.length,o=this;if("string"!=typeof t)return this.pushStack(C(t).filter(function(){for(e=0;e<n;e++)if(C.contains(o[e],this))return!0}));for(i=this.pushStack([]),e=0;e<n;e++)C.find(t,o[e],i);return 1<n?C.uniqueSort(i):i},filter:function(t){return this.pushStack(z(this,t||[],!1))},not:function(t){return this.pushStack(z(this,t||[],!0))},is:function(t){return!!z(this,"string"==typeof t&&E.test(t)?C(t):t||[],!1).length}});var D,M=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(C.fn.init=function(t,e,i){var n,o;if(!t)return this;if(i=i||D,"string"!=typeof t)return t.nodeType?(this[0]=t,this.length=1,this):y(t)?void 0!==i.ready?i.ready(t):t(C):C.makeArray(t,this);if(!(n="<"===t[0]&&">"===t[t.length-1]&&3<=t.length?[null,t,null]:M.exec(t))||!n[1]&&e)return!e||e.jquery?(e||i).find(t):this.constructor(e).find(t);if(n[1]){if(e=e instanceof C?e[0]:e,C.merge(this,C.parseHTML(n[1],e&&e.nodeType?e.ownerDocument||e:k,!0)),P.test(n[1])&&C.isPlainObject(e))for(n in e)y(this[n])?this[n](e[n]):this.attr(n,e[n]);return this}return(o=k.getElementById(n[2]))&&(this[0]=o,this.length=1),this}).prototype=C.fn,D=C(k);var I=/^(?:parents|prev(?:Until|All))/,O={children:!0,contents:!0,next:!0,prev:!0};function L(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}C.fn.extend({has:function(t){var e=C(t,this),i=e.length;return this.filter(function(){for(var t=0;t<i;t++)if(C.contains(this,e[t]))return!0})},closest:function(t,e){var i,n=0,o=this.length,r=[],s="string"!=typeof t&&C(t);if(!E.test(t))for(;n<o;n++)for(i=this[n];i&&i!==e;i=i.parentNode)if(i.nodeType<11&&(s?-1<s.index(i):1===i.nodeType&&C.find.matchesSelector(i,t))){r.push(i);break}return this.pushStack(1<r.length?C.uniqueSort(r):r)},index:function(t){return t?"string"==typeof t?o.call(C(t),this[0]):o.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(C.uniqueSort(C.merge(this.get(),C(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),C.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return w(t,"parentNode")},parentsUntil:function(t,e,i){return w(t,"parentNode",i)},next:function(t){return L(t,"nextSibling")},prev:function(t){return L(t,"previousSibling")},nextAll:function(t){return w(t,"nextSibling")},prevAll:function(t){return w(t,"previousSibling")},nextUntil:function(t,e,i){return w(t,"nextSibling",i)},prevUntil:function(t,e,i){return w(t,"previousSibling",i)},siblings:function(t){return S((t.parentNode||{}).firstChild,t)},children:function(t){return S(t.firstChild)},contents:function(t){return A(t,"iframe")?t.contentDocument:(A(t,"template")&&(t=t.content||t),C.merge([],t.childNodes))}},function(n,o){C.fn[n]=function(t,e){var i=C.map(this,o,t);return"Until"!==n.slice(-5)&&(e=t),e&&"string"==typeof e&&(i=C.filter(e,i)),1<this.length&&(O[n]||C.uniqueSort(i),I.test(n)&&i.reverse()),this.pushStack(i)}});var R=/[^\x20\t\r\n\f]+/g;function F(t){return t}function N(t){throw t}function j(t,e,i,n){var o;try{t&&y(o=t.promise)?o.call(t).done(e).fail(i):t&&y(o=t.then)?o.call(t,e,i):e.apply(void 0,[t].slice(n))}catch(t){i.apply(void 0,[t])}}C.Callbacks=function(n){var t,i;n="string"==typeof n?(t=n,i={},C.each(t.match(R)||[],function(t,e){i[e]=!0}),i):C.extend({},n);var o,e,r,s,a=[],l=[],u=-1,h=function(){for(s=s||n.once,r=o=!0;l.length;u=-1)for(e=l.shift();++u<a.length;)!1===a[u].apply(e[0],e[1])&&n.stopOnFalse&&(u=a.length,e=!1);n.memory||(e=!1),o=!1,s&&(a=e?[]:"")},c={add:function(){return a&&(e&&!o&&(u=a.length-1,l.push(e)),function i(t){C.each(t,function(t,e){y(e)?n.unique&&c.has(e)||a.push(e):e&&e.length&&"string"!==x(e)&&i(e)})}(arguments),e&&!o&&h()),this},remove:function(){return C.each(arguments,function(t,e){for(var i;-1<(i=C.inArray(e,a,i));)a.splice(i,1),i<=u&&u--}),this},has:function(t){return t?-1<C.inArray(t,a):0<a.length},empty:function(){return a&&(a=[]),this},disable:function(){return s=l=[],a=e="",this},disabled:function(){return!a},lock:function(){return s=l=[],e||o||(a=e=""),this},locked:function(){return!!s},fireWith:function(t,e){return s||(e=[t,(e=e||[]).slice?e.slice():e],l.push(e),o||h()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!r}};return c},C.extend({Deferred:function(t){var r=[["notify","progress",C.Callbacks("memory"),C.Callbacks("memory"),2],["resolve","done",C.Callbacks("once memory"),C.Callbacks("once memory"),0,"resolved"],["reject","fail",C.Callbacks("once memory"),C.Callbacks("once memory"),1,"rejected"]],o="pending",s={state:function(){return o},always:function(){return a.done(arguments).fail(arguments),this},catch:function(t){return s.then(null,t)},pipe:function(){var o=arguments;return C.Deferred(function(n){C.each(r,function(t,e){var i=y(o[e[4]])&&o[e[4]];a[e[1]](function(){var t=i&&i.apply(this,arguments);t&&y(t.promise)?t.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[e[0]+"With"](this,i?[t]:arguments)})}),o=null}).promise()},then:function(e,i,n){var l=0;function u(o,r,s,a){return function(){var i=this,n=arguments,t=function(){var t,e;if(!(o<l)){if((t=s.apply(i,n))===r.promise())throw new TypeError("Thenable self-resolution");e=t&&("object"==typeof t||"function"==typeof t)&&t.then,y(e)?a?e.call(t,u(l,r,F,a),u(l,r,N,a)):(l++,e.call(t,u(l,r,F,a),u(l,r,N,a),u(l,r,F,r.notifyWith))):(s!==F&&(i=void 0,n=[t]),(a||r.resolveWith)(i,n))}},e=a?t:function(){try{t()}catch(t){C.Deferred.exceptionHook&&C.Deferred.exceptionHook(t,e.stackTrace),l<=o+1&&(s!==N&&(i=void 0,n=[t]),r.rejectWith(i,n))}};o?e():(C.Deferred.getStackHook&&(e.stackTrace=C.Deferred.getStackHook()),T.setTimeout(e))}}return C.Deferred(function(t){r[0][3].add(u(0,t,y(n)?n:F,t.notifyWith)),r[1][3].add(u(0,t,y(e)?e:F)),r[2][3].add(u(0,t,y(i)?i:N))}).promise()},promise:function(t){return null!=t?C.extend(t,s):s}},a={};return C.each(r,function(t,e){var i=e[2],n=e[5];s[e[1]]=i.add,n&&i.add(function(){o=n},r[3-t][2].disable,r[3-t][3].disable,r[0][2].lock,r[0][3].lock),i.add(e[3].fire),a[e[0]]=function(){return a[e[0]+"With"](this===a?void 0:this,arguments),this},a[e[0]+"With"]=i.fireWith}),s.promise(a),t&&t.call(a,a),a},when:function(t){var i=arguments.length,e=i,n=Array(e),o=a.call(arguments),r=C.Deferred(),s=function(e){return function(t){n[e]=this,o[e]=1<arguments.length?a.call(arguments):t,--i||r.resolveWith(n,o)}};if(i<=1&&(j(t,r.done(s(e)).resolve,r.reject,!i),"pending"===r.state()||y(o[e]&&o[e].then)))return r.then();for(;e--;)j(o[e],s(e),r.reject);return r.promise()}});var B=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;C.Deferred.exceptionHook=function(t,e){T.console&&T.console.warn&&t&&B.test(t.name)&&T.console.warn("jQuery.Deferred exception: "+t.message,t.stack,e)},C.readyException=function(t){T.setTimeout(function(){throw t})};var V=C.Deferred();function H(){k.removeEventListener("DOMContentLoaded",H),T.removeEventListener("load",H),C.ready()}C.fn.ready=function(t){return V.then(t).catch(function(t){C.readyException(t)}),this},C.extend({isReady:!1,readyWait:1,ready:function(t){(!0===t?--C.readyWait:C.isReady)||(C.isReady=!0)!==t&&0<--C.readyWait||V.resolveWith(k,[C])}}),C.ready.then=V.then,"complete"===k.readyState||"loading"!==k.readyState&&!k.documentElement.doScroll?T.setTimeout(C.ready):(k.addEventListener("DOMContentLoaded",H),T.addEventListener("load",H));var q=function(t,e,i,n,o,r,s){var a=0,l=t.length,u=null==i;if("object"===x(i))for(a in o=!0,i)q(t,e,a,i[a],!0,r,s);else if(void 0!==n&&(o=!0,y(n)||(s=!0),u&&(e=s?(e.call(t,n),null):(u=e,function(t,e,i){return u.call(C(t),i)})),e))for(;a<l;a++)e(t[a],i,s?n:n.call(t[a],a,e(t[a],i)));return o?t:u?e.call(t):l?e(t[0],i):r},$=/^-ms-/,W=/-([a-z])/g;function U(t,e){return e.toUpperCase()}function Z(t){return t.replace($,"ms-").replace(W,U)}var X=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};function G(){this.expando=C.expando+G.uid++}G.uid=1,G.prototype={cache:function(t){var e=t[this.expando];return e||(e={},X(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,i){var n,o=this.cache(t);if("string"==typeof e)o[Z(e)]=i;else for(n in e)o[Z(n)]=e[n];return o},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][Z(e)]},access:function(t,e,i){return void 0===e||e&&"string"==typeof e&&void 0===i?this.get(t,e):(this.set(t,e,i),void 0!==i?i:e)},remove:function(t,e){var i,n=t[this.expando];if(void 0!==n){if(void 0!==e){i=(e=Array.isArray(e)?e.map(Z):(e=Z(e))in n?[e]:e.match(R)||[]).length;for(;i--;)delete n[e[i]]}(void 0===e||C.isEmptyObject(n))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!C.isEmptyObject(e)}};var Y=new G,K=new G,J=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Q=/[A-Z]/g;function tt(t,e,i){var n,o;if(void 0===i&&1===t.nodeType)if(n="data-"+e.replace(Q,"-$&").toLowerCase(),"string"==typeof(i=t.getAttribute(n))){try{i="true"===(o=i)||"false"!==o&&("null"===o?null:o===+o+""?+o:J.test(o)?JSON.parse(o):o)}catch(t){}K.set(t,e,i)}else i=void 0;return i}C.extend({hasData:function(t){return K.hasData(t)||Y.hasData(t)},data:function(t,e,i){return K.access(t,e,i)},removeData:function(t,e){K.remove(t,e)},_data:function(t,e,i){return Y.access(t,e,i)},_removeData:function(t,e){Y.remove(t,e)}}),C.fn.extend({data:function(i,t){var e,n,o,r=this[0],s=r&&r.attributes;if(void 0!==i)return"object"==typeof i?this.each(function(){K.set(this,i)}):q(this,function(t){var e;if(r&&void 0===t)return void 0!==(e=K.get(r,i))?e:void 0!==(e=tt(r,i))?e:void 0;this.each(function(){K.set(this,i,t)})},null,t,1<arguments.length,null,!0);if(this.length&&(o=K.get(r),1===r.nodeType&&!Y.get(r,"hasDataAttrs"))){for(e=s.length;e--;)s[e]&&0===(n=s[e].name).indexOf("data-")&&(n=Z(n.slice(5)),tt(r,n,o[n]));Y.set(r,"hasDataAttrs",!0)}return o},removeData:function(t){return this.each(function(){K.remove(this,t)})}}),C.extend({queue:function(t,e,i){var n;if(t)return e=(e||"fx")+"queue",n=Y.get(t,e),i&&(!n||Array.isArray(i)?n=Y.access(t,e,C.makeArray(i)):n.push(i)),n||[]},dequeue:function(t,e){e=e||"fx";var i=C.queue(t,e),n=i.length,o=i.shift(),r=C._queueHooks(t,e);"inprogress"===o&&(o=i.shift(),n--),o&&("fx"===e&&i.unshift("inprogress"),delete r.stop,o.call(t,function(){C.dequeue(t,e)},r)),!n&&r&&r.empty.fire()},_queueHooks:function(t,e){var i=e+"queueHooks";return Y.get(t,i)||Y.access(t,i,{empty:C.Callbacks("once memory").add(function(){Y.remove(t,[e+"queue",i])})})}}),C.fn.extend({queue:function(e,i){var t=2;return"string"!=typeof e&&(i=e,e="fx",t--),arguments.length<t?C.queue(this[0],e):void 0===i?this:this.each(function(){var t=C.queue(this,e,i);C._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0]&&C.dequeue(this,e)})},dequeue:function(t){return this.each(function(){C.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var i,n=1,o=C.Deferred(),r=this,s=this.length,a=function(){--n||o.resolveWith(r,[r])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";s--;)(i=Y.get(r[s],t+"queueHooks"))&&i.empty&&(n++,i.empty.add(a));return a(),o.promise(e)}});var et=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,it=new RegExp("^(?:([+-])=|)("+et+")([a-z%]*)$","i"),nt=["Top","Right","Bottom","Left"],ot=function(t,e){return"none"===(t=e||t).style.display||""===t.style.display&&C.contains(t.ownerDocument,t)&&"none"===C.css(t,"display")},rt=function(t,e,i,n){var o,r,s={};for(r in e)s[r]=t.style[r],t.style[r]=e[r];for(r in o=i.apply(t,n||[]),e)t.style[r]=s[r];return o};function st(t,e,i,n){var o,r,s=20,a=n?function(){return n.cur()}:function(){return C.css(t,e,"")},l=a(),u=i&&i[3]||(C.cssNumber[e]?"":"px"),h=(C.cssNumber[e]||"px"!==u&&+l)&&it.exec(C.css(t,e));if(h&&h[3]!==u){for(l/=2,u=u||h[3],h=+l||1;s--;)C.style(t,e,h+u),(1-r)*(1-(r=a()/l||.5))<=0&&(s=0),h/=r;h*=2,C.style(t,e,h+u),i=i||[]}return i&&(h=+h||+l||0,o=i[1]?h+(i[1]+1)*i[2]:+i[2],n&&(n.unit=u,n.start=h,n.end=o)),o}var at={};function lt(t,e){for(var i,n,o,r,s,a,l,u=[],h=0,c=t.length;h<c;h++)(n=t[h]).style&&(i=n.style.display,e?("none"===i&&(u[h]=Y.get(n,"display")||null,u[h]||(n.style.display="")),""===n.style.display&&ot(n)&&(u[h]=(l=s=r=void 0,s=(o=n).ownerDocument,a=o.nodeName,(l=at[a])||(r=s.body.appendChild(s.createElement(a)),l=C.css(r,"display"),r.parentNode.removeChild(r),"none"===l&&(l="block"),at[a]=l)))):"none"!==i&&(u[h]="none",Y.set(n,"display",i)));for(h=0;h<c;h++)null!=u[h]&&(t[h].style.display=u[h]);return t}C.fn.extend({show:function(){return lt(this,!0)},hide:function(){return lt(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){ot(this)?C(this).show():C(this).hide()})}});var ut=/^(?:checkbox|radio)$/i,ht=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,ct=/^$|^module$|\/(?:java|ecma)script/i,pt={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function dt(t,e){var i;return i=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||"*"):void 0!==t.querySelectorAll?t.querySelectorAll(e||"*"):[],void 0===e||e&&A(t,e)?C.merge([t],i):i}function ft(t,e){for(var i=0,n=t.length;i<n;i++)Y.set(t[i],"globalEval",!e||Y.get(e[i],"globalEval"))}pt.optgroup=pt.option,pt.tbody=pt.tfoot=pt.colgroup=pt.caption=pt.thead,pt.th=pt.td;var mt,gt,vt=/<|&#?\w+;/;function yt(t,e,i,n,o){for(var r,s,a,l,u,h,c=e.createDocumentFragment(),p=[],d=0,f=t.length;d<f;d++)if((r=t[d])||0===r)if("object"===x(r))C.merge(p,r.nodeType?[r]:r);else if(vt.test(r)){for(s=s||c.appendChild(e.createElement("div")),a=(ht.exec(r)||["",""])[1].toLowerCase(),l=pt[a]||pt._default,s.innerHTML=l[1]+C.htmlPrefilter(r)+l[2],h=l[0];h--;)s=s.lastChild;C.merge(p,s.childNodes),(s=c.firstChild).textContent=""}else p.push(e.createTextNode(r));for(c.textContent="",d=0;r=p[d++];)if(n&&-1<C.inArray(r,n))o&&o.push(r);else if(u=C.contains(r.ownerDocument,r),s=dt(c.appendChild(r),"script"),u&&ft(s),i)for(h=0;r=s[h++];)ct.test(r.type||"")&&i.push(r);return c}mt=k.createDocumentFragment().appendChild(k.createElement("div")),(gt=k.createElement("input")).setAttribute("type","radio"),gt.setAttribute("checked","checked"),gt.setAttribute("name","t"),mt.appendChild(gt),v.checkClone=mt.cloneNode(!0).cloneNode(!0).lastChild.checked,mt.innerHTML="<textarea>x</textarea>",v.noCloneChecked=!!mt.cloneNode(!0).lastChild.defaultValue;var _t=k.documentElement,bt=/^key/,xt=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,wt=/^([^.]*)(?:\.(.+)|)/;function Tt(){return!0}function kt(){return!1}function Ct(){try{return k.activeElement}catch(t){}}function St(t,e,i,n,o,r){var s,a;if("object"==typeof e){for(a in"string"!=typeof i&&(n=n||i,i=void 0),e)St(t,a,i,n,e[a],r);return t}if(null==n&&null==o?(o=i,n=i=void 0):null==o&&("string"==typeof i?(o=n,n=void 0):(o=n,n=i,i=void 0)),!1===o)o=kt;else if(!o)return t;return 1===r&&(s=o,(o=function(t){return C().off(t),s.apply(this,arguments)}).guid=s.guid||(s.guid=C.guid++)),t.each(function(){C.event.add(this,e,o,n,i)})}C.event={global:{},add:function(e,t,i,n,o){var r,s,a,l,u,h,c,p,d,f,m,g=Y.get(e);if(g)for(i.handler&&(i=(r=i).handler,o=r.selector),o&&C.find.matchesSelector(_t,o),i.guid||(i.guid=C.guid++),(l=g.events)||(l=g.events={}),(s=g.handle)||(s=g.handle=function(t){return void 0!==C&&C.event.triggered!==t.type?C.event.dispatch.apply(e,arguments):void 0}),u=(t=(t||"").match(R)||[""]).length;u--;)d=m=(a=wt.exec(t[u])||[])[1],f=(a[2]||"").split(".").sort(),d&&(c=C.event.special[d]||{},d=(o?c.delegateType:c.bindType)||d,c=C.event.special[d]||{},h=C.extend({type:d,origType:m,data:n,handler:i,guid:i.guid,selector:o,needsContext:o&&C.expr.match.needsContext.test(o),namespace:f.join(".")},r),(p=l[d])||((p=l[d]=[]).delegateCount=0,c.setup&&!1!==c.setup.call(e,n,f,s)||e.addEventListener&&e.addEventListener(d,s)),c.add&&(c.add.call(e,h),h.handler.guid||(h.handler.guid=i.guid)),o?p.splice(p.delegateCount++,0,h):p.push(h),C.event.global[d]=!0)},remove:function(t,e,i,n,o){var r,s,a,l,u,h,c,p,d,f,m,g=Y.hasData(t)&&Y.get(t);if(g&&(l=g.events)){for(u=(e=(e||"").match(R)||[""]).length;u--;)if(d=m=(a=wt.exec(e[u])||[])[1],f=(a[2]||"").split(".").sort(),d){for(c=C.event.special[d]||{},p=l[d=(n?c.delegateType:c.bindType)||d]||[],a=a[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=r=p.length;r--;)h=p[r],!o&&m!==h.origType||i&&i.guid!==h.guid||a&&!a.test(h.namespace)||n&&n!==h.selector&&("**"!==n||!h.selector)||(p.splice(r,1),h.selector&&p.delegateCount--,c.remove&&c.remove.call(t,h));s&&!p.length&&(c.teardown&&!1!==c.teardown.call(t,f,g.handle)||C.removeEvent(t,d,g.handle),delete l[d])}else for(d in l)C.event.remove(t,d+e[u],i,n,!0);C.isEmptyObject(l)&&Y.remove(t,"handle events")}},dispatch:function(t){var e,i,n,o,r,s,a=C.event.fix(t),l=new Array(arguments.length),u=(Y.get(this,"events")||{})[a.type]||[],h=C.event.special[a.type]||{};for(l[0]=a,e=1;e<arguments.length;e++)l[e]=arguments[e];if(a.delegateTarget=this,!h.preDispatch||!1!==h.preDispatch.call(this,a)){for(s=C.event.handlers.call(this,a,u),e=0;(o=s[e++])&&!a.isPropagationStopped();)for(a.currentTarget=o.elem,i=0;(r=o.handlers[i++])&&!a.isImmediatePropagationStopped();)a.rnamespace&&!a.rnamespace.test(r.namespace)||(a.handleObj=r,a.data=r.data,void 0!==(n=((C.event.special[r.origType]||{}).handle||r.handler).apply(o.elem,l))&&!1===(a.result=n)&&(a.preventDefault(),a.stopPropagation()));return h.postDispatch&&h.postDispatch.call(this,a),a.result}},handlers:function(t,e){var i,n,o,r,s,a=[],l=e.delegateCount,u=t.target;if(l&&u.nodeType&&!("click"===t.type&&1<=t.button))for(;u!==this;u=u.parentNode||this)if(1===u.nodeType&&("click"!==t.type||!0!==u.disabled)){for(r=[],s={},i=0;i<l;i++)void 0===s[o=(n=e[i]).selector+" "]&&(s[o]=n.needsContext?-1<C(o,this).index(u):C.find(o,this,null,[u]).length),s[o]&&r.push(n);r.length&&a.push({elem:u,handlers:r})}return u=this,l<e.length&&a.push({elem:u,handlers:e.slice(l)}),a},addProp:function(e,t){Object.defineProperty(C.Event.prototype,e,{enumerable:!0,configurable:!0,get:y(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(t){return t[C.expando]?t:new C.Event(t)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==Ct()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===Ct()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&A(this,"input"))return this.click(),!1},_default:function(t){return A(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},C.removeEvent=function(t,e,i){t.removeEventListener&&t.removeEventListener(e,i)},C.Event=function(t,e){if(!(this instanceof C.Event))return new C.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?Tt:kt,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&C.extend(this,e),this.timeStamp=t&&t.timeStamp||Date.now(),this[C.expando]=!0},C.Event.prototype={constructor:C.Event,isDefaultPrevented:kt,isPropagationStopped:kt,isImmediatePropagationStopped:kt,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=Tt,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=Tt,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=Tt,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},C.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(t){var e=t.button;return null==t.which&&bt.test(t.type)?null!=t.charCode?t.charCode:t.keyCode:!t.which&&void 0!==e&&xt.test(t.type)?1&e?1:2&e?3:4&e?2:0:t.which}},C.event.addProp),C.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,o){C.event.special[t]={delegateType:o,bindType:o,handle:function(t){var e,i=t.relatedTarget,n=t.handleObj;return i&&(i===this||C.contains(this,i))||(t.type=n.origType,e=n.handler.apply(this,arguments),t.type=o),e}}}),C.fn.extend({on:function(t,e,i,n){return St(this,t,e,i,n)},one:function(t,e,i,n){return St(this,t,e,i,n,1)},off:function(t,e,i){var n,o;if(t&&t.preventDefault&&t.handleObj)return n=t.handleObj,C(t.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"!=typeof t)return!1!==e&&"function"!=typeof e||(i=e,e=void 0),!1===i&&(i=kt),this.each(function(){C.event.remove(this,t,i,e)});for(o in t)this.off(o,e,t[o]);return this}});var Et=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,At=/<script|<style|<link/i,Pt=/checked\s*(?:[^=]|=\s*.checked.)/i,zt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Dt(t,e){return A(t,"table")&&A(11!==e.nodeType?e:e.firstChild,"tr")&&C(t).children("tbody")[0]||t}function Mt(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function It(t){return"true/"===(t.type||"").slice(0,5)?t.type=t.type.slice(5):t.removeAttribute("type"),t}function Ot(t,e){var i,n,o,r,s,a,l,u;if(1===e.nodeType){if(Y.hasData(t)&&(r=Y.access(t),s=Y.set(e,r),u=r.events))for(o in delete s.handle,s.events={},u)for(i=0,n=u[o].length;i<n;i++)C.event.add(e,o,u[o][i]);K.hasData(t)&&(a=K.access(t),l=C.extend({},a),K.set(e,l))}}function Lt(i,n,o,r){n=m.apply([],n);var t,e,s,a,l,u,h=0,c=i.length,p=c-1,d=n[0],f=y(d);if(f||1<c&&"string"==typeof d&&!v.checkClone&&Pt.test(d))return i.each(function(t){var e=i.eq(t);f&&(n[0]=d.call(this,t,e.html())),Lt(e,n,o,r)});if(c&&(e=(t=yt(n,i[0].ownerDocument,!1,i,r)).firstChild,1===t.childNodes.length&&(t=e),e||r)){for(a=(s=C.map(dt(t,"script"),Mt)).length;h<c;h++)l=t,h!==p&&(l=C.clone(l,!0,!0),a&&C.merge(s,dt(l,"script"))),o.call(i[h],l,h);if(a)for(u=s[s.length-1].ownerDocument,C.map(s,It),h=0;h<a;h++)l=s[h],ct.test(l.type||"")&&!Y.access(l,"globalEval")&&C.contains(u,l)&&(l.src&&"module"!==(l.type||"").toLowerCase()?C._evalUrl&&C._evalUrl(l.src):b(l.textContent.replace(zt,""),u,l))}return i}function Rt(t,e,i){for(var n,o=e?C.filter(e,t):t,r=0;null!=(n=o[r]);r++)i||1!==n.nodeType||C.cleanData(dt(n)),n.parentNode&&(i&&C.contains(n.ownerDocument,n)&&ft(dt(n,"script")),n.parentNode.removeChild(n));return t}C.extend({htmlPrefilter:function(t){return t.replace(Et,"<$1></$2>")},clone:function(t,e,i){var n,o,r,s,a,l,u,h=t.cloneNode(!0),c=C.contains(t.ownerDocument,t);if(!(v.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||C.isXMLDoc(t)))for(s=dt(h),n=0,o=(r=dt(t)).length;n<o;n++)a=r[n],l=s[n],void 0,"input"===(u=l.nodeName.toLowerCase())&&ut.test(a.type)?l.checked=a.checked:"input"!==u&&"textarea"!==u||(l.defaultValue=a.defaultValue);if(e)if(i)for(r=r||dt(t),s=s||dt(h),n=0,o=r.length;n<o;n++)Ot(r[n],s[n]);else Ot(t,h);return 0<(s=dt(h,"script")).length&&ft(s,!c&&dt(t,"script")),h},cleanData:function(t){for(var e,i,n,o=C.event.special,r=0;void 0!==(i=t[r]);r++)if(X(i)){if(e=i[Y.expando]){if(e.events)for(n in e.events)o[n]?C.event.remove(i,n):C.removeEvent(i,n,e.handle);i[Y.expando]=void 0}i[K.expando]&&(i[K.expando]=void 0)}}}),C.fn.extend({detach:function(t){return Rt(this,t,!0)},remove:function(t){return Rt(this,t)},text:function(t){return q(this,function(t){return void 0===t?C.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)})},null,t,arguments.length)},append:function(){return Lt(this,arguments,function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Dt(this,t).appendChild(t)})},prepend:function(){return Lt(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=Dt(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return Lt(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return Lt(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(C.cleanData(dt(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return C.clone(this,t,e)})},html:function(t){return q(this,function(t){var e=this[0]||{},i=0,n=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!At.test(t)&&!pt[(ht.exec(t)||["",""])[1].toLowerCase()]){t=C.htmlPrefilter(t);try{for(;i<n;i++)1===(e=this[i]||{}).nodeType&&(C.cleanData(dt(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var i=[];return Lt(this,arguments,function(t){var e=this.parentNode;C.inArray(this,i)<0&&(C.cleanData(dt(this)),e&&e.replaceChild(t,this))},i)}}),C.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,s){C.fn[t]=function(t){for(var e,i=[],n=C(t),o=n.length-1,r=0;r<=o;r++)e=r===o?this:this.clone(!0),C(n[r])[s](e),l.apply(i,e.get());return this.pushStack(i)}});var Ft=new RegExp("^("+et+")(?!px)[a-z%]+$","i"),Nt=function(t){var e=t.ownerDocument.defaultView;return e&&e.opener||(e=T),e.getComputedStyle(t)},jt=new RegExp(nt.join("|"),"i");function Bt(t,e,i){var n,o,r,s,a=t.style;return(i=i||Nt(t))&&(""!==(s=i.getPropertyValue(e)||i[e])||C.contains(t.ownerDocument,t)||(s=C.style(t,e)),!v.pixelBoxStyles()&&Ft.test(s)&&jt.test(e)&&(n=a.width,o=a.minWidth,r=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=i.width,a.width=n,a.minWidth=o,a.maxWidth=r)),void 0!==s?s+"":s}function Vt(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}!function(){function t(){if(l){a.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",l.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",_t.appendChild(a).appendChild(l);var t=T.getComputedStyle(l);i="1%"!==t.top,s=12===e(t.marginLeft),l.style.right="60%",r=36===e(t.right),n=36===e(t.width),l.style.position="absolute",o=36===l.offsetWidth||"absolute",_t.removeChild(a),l=null}}function e(t){return Math.round(parseFloat(t))}var i,n,o,r,s,a=k.createElement("div"),l=k.createElement("div");l.style&&(l.style.backgroundClip="content-box",l.cloneNode(!0).style.backgroundClip="",v.clearCloneStyle="content-box"===l.style.backgroundClip,C.extend(v,{boxSizingReliable:function(){return t(),n},pixelBoxStyles:function(){return t(),r},pixelPosition:function(){return t(),i},reliableMarginLeft:function(){return t(),s},scrollboxSize:function(){return t(),o}}))}();var Ht=/^(none|table(?!-c[ea]).+)/,qt=/^--/,$t={position:"absolute",visibility:"hidden",display:"block"},Wt={letterSpacing:"0",fontWeight:"400"},Ut=["Webkit","Moz","ms"],Zt=k.createElement("div").style;function Xt(t){var e=C.cssProps[t];return e||(e=C.cssProps[t]=function(t){if(t in Zt)return t;for(var e=t[0].toUpperCase()+t.slice(1),i=Ut.length;i--;)if((t=Ut[i]+e)in Zt)return t}(t)||t),e}function Gt(t,e,i){var n=it.exec(e);return n?Math.max(0,n[2]-(i||0))+(n[3]||"px"):e}function Yt(t,e,i,n,o,r){var s="width"===e?1:0,a=0,l=0;if(i===(n?"border":"content"))return 0;for(;s<4;s+=2)"margin"===i&&(l+=C.css(t,i+nt[s],!0,o)),n?("content"===i&&(l-=C.css(t,"padding"+nt[s],!0,o)),"margin"!==i&&(l-=C.css(t,"border"+nt[s]+"Width",!0,o))):(l+=C.css(t,"padding"+nt[s],!0,o),"padding"!==i?l+=C.css(t,"border"+nt[s]+"Width",!0,o):a+=C.css(t,"border"+nt[s]+"Width",!0,o));return!n&&0<=r&&(l+=Math.max(0,Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-r-l-a-.5))),l}function Kt(t,e,i){var n=Nt(t),o=Bt(t,e,n),r="border-box"===C.css(t,"boxSizing",!1,n),s=r;if(Ft.test(o)){if(!i)return o;o="auto"}return s=s&&(v.boxSizingReliable()||o===t.style[e]),("auto"===o||!parseFloat(o)&&"inline"===C.css(t,"display",!1,n))&&(o=t["offset"+e[0].toUpperCase()+e.slice(1)],s=!0),(o=parseFloat(o)||0)+Yt(t,e,i||(r?"border":"content"),s,n,o)+"px"}function Jt(t,e,i,n,o){return new Jt.prototype.init(t,e,i,n,o)}C.extend({cssHooks:{opacity:{get:function(t,e){if(e){var i=Bt(t,"opacity");return""===i?"1":i}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(t,e,i,n){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var o,r,s,a=Z(e),l=qt.test(e),u=t.style;if(l||(e=Xt(a)),s=C.cssHooks[e]||C.cssHooks[a],void 0===i)return s&&"get"in s&&void 0!==(o=s.get(t,!1,n))?o:u[e];"string"===(r=typeof i)&&(o=it.exec(i))&&o[1]&&(i=st(t,e,o),r="number"),null!=i&&i==i&&("number"===r&&(i+=o&&o[3]||(C.cssNumber[a]?"":"px")),v.clearCloneStyle||""!==i||0!==e.indexOf("background")||(u[e]="inherit"),s&&"set"in s&&void 0===(i=s.set(t,i,n))||(l?u.setProperty(e,i):u[e]=i))}},css:function(t,e,i,n){var o,r,s,a=Z(e);return qt.test(e)||(e=Xt(a)),(s=C.cssHooks[e]||C.cssHooks[a])&&"get"in s&&(o=s.get(t,!0,i)),void 0===o&&(o=Bt(t,e,n)),"normal"===o&&e in Wt&&(o=Wt[e]),""===i||i?(r=parseFloat(o),!0===i||isFinite(r)?r||0:o):o}}),C.each(["height","width"],function(t,a){C.cssHooks[a]={get:function(t,e,i){if(e)return!Ht.test(C.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?Kt(t,a,i):rt(t,$t,function(){return Kt(t,a,i)})},set:function(t,e,i){var n,o=Nt(t),r="border-box"===C.css(t,"boxSizing",!1,o),s=i&&Yt(t,a,i,r,o);return r&&v.scrollboxSize()===o.position&&(s-=Math.ceil(t["offset"+a[0].toUpperCase()+a.slice(1)]-parseFloat(o[a])-Yt(t,a,"border",!1,o)-.5)),s&&(n=it.exec(e))&&"px"!==(n[3]||"px")&&(t.style[a]=e,e=C.css(t,a)),Gt(0,e,s)}}}),C.cssHooks.marginLeft=Vt(v.reliableMarginLeft,function(t,e){if(e)return(parseFloat(Bt(t,"marginLeft"))||t.getBoundingClientRect().left-rt(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px"}),C.each({margin:"",padding:"",border:"Width"},function(o,r){C.cssHooks[o+r]={expand:function(t){for(var e=0,i={},n="string"==typeof t?t.split(" "):[t];e<4;e++)i[o+nt[e]+r]=n[e]||n[e-2]||n[0];return i}},"margin"!==o&&(C.cssHooks[o+r].set=Gt)}),C.fn.extend({css:function(t,e){return q(this,function(t,e,i){var n,o,r={},s=0;if(Array.isArray(e)){for(n=Nt(t),o=e.length;s<o;s++)r[e[s]]=C.css(t,e[s],!1,n);return r}return void 0!==i?C.style(t,e,i):C.css(t,e)},t,e,1<arguments.length)}}),((C.Tween=Jt).prototype={constructor:Jt,init:function(t,e,i,n,o,r){this.elem=t,this.prop=i,this.easing=o||C.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=n,this.unit=r||(C.cssNumber[i]?"":"px")},cur:function(){var t=Jt.propHooks[this.prop];return t&&t.get?t.get(this):Jt.propHooks._default.get(this)},run:function(t){var e,i=Jt.propHooks[this.prop];return this.options.duration?this.pos=e=C.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):Jt.propHooks._default.set(this),this}}).init.prototype=Jt.prototype,(Jt.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=C.css(t.elem,t.prop,""))&&"auto"!==e?e:0},set:function(t){C.fx.step[t.prop]?C.fx.step[t.prop](t):1!==t.elem.nodeType||null==t.elem.style[C.cssProps[t.prop]]&&!C.cssHooks[t.prop]?t.elem[t.prop]=t.now:C.style(t.elem,t.prop,t.now+t.unit)}}}).scrollTop=Jt.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},C.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},C.fx=Jt.prototype.init,C.fx.step={};var Qt,te,ee,ie,ne=/^(?:toggle|show|hide)$/,oe=/queueHooks$/;function re(){te&&(!1===k.hidden&&T.requestAnimationFrame?T.requestAnimationFrame(re):T.setTimeout(re,C.fx.interval),C.fx.tick())}function se(){return T.setTimeout(function(){Qt=void 0}),Qt=Date.now()}function ae(t,e){var i,n=0,o={height:t};for(e=e?1:0;n<4;n+=2-e)o["margin"+(i=nt[n])]=o["padding"+i]=t;return e&&(o.opacity=o.width=t),o}function le(t,e,i){for(var n,o=(ue.tweeners[e]||[]).concat(ue.tweeners["*"]),r=0,s=o.length;r<s;r++)if(n=o[r].call(i,e,t))return n}function ue(r,t,e){var i,s,n=0,o=ue.prefilters.length,a=C.Deferred().always(function(){delete l.elem}),l=function(){if(s)return!1;for(var t=Qt||se(),e=Math.max(0,u.startTime+u.duration-t),i=1-(e/u.duration||0),n=0,o=u.tweens.length;n<o;n++)u.tweens[n].run(i);return a.notifyWith(r,[u,i,e]),i<1&&o?e:(o||a.notifyWith(r,[u,1,0]),a.resolveWith(r,[u]),!1)},u=a.promise({elem:r,props:C.extend({},t),opts:C.extend(!0,{specialEasing:{},easing:C.easing._default},e),originalProperties:t,originalOptions:e,startTime:Qt||se(),duration:e.duration,tweens:[],createTween:function(t,e){var i=C.Tween(r,u.opts,t,e,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(i),i},stop:function(t){var e=0,i=t?u.tweens.length:0;if(s)return this;for(s=!0;e<i;e++)u.tweens[e].run(1);return t?(a.notifyWith(r,[u,1,0]),a.resolveWith(r,[u,t])):a.rejectWith(r,[u,t]),this}}),h=u.props;for(!function(t,e){var i,n,o,r,s;for(i in t)if(o=e[n=Z(i)],r=t[i],Array.isArray(r)&&(o=r[1],r=t[i]=r[0]),i!==n&&(t[n]=r,delete t[i]),(s=C.cssHooks[n])&&"expand"in s)for(i in r=s.expand(r),delete t[n],r)i in t||(t[i]=r[i],e[i]=o);else e[n]=o}(h,u.opts.specialEasing);n<o;n++)if(i=ue.prefilters[n].call(u,r,h,u.opts))return y(i.stop)&&(C._queueHooks(u.elem,u.opts.queue).stop=i.stop.bind(i)),i;return C.map(h,le,u),y(u.opts.start)&&u.opts.start.call(r,u),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always),C.fx.timer(C.extend(l,{elem:r,anim:u,queue:u.opts.queue})),u}C.Animation=C.extend(ue,{tweeners:{"*":[function(t,e){var i=this.createTween(t,e);return st(i.elem,t,it.exec(e),i),i}]},tweener:function(t,e){for(var i,n=0,o=(t=y(t)?(e=t,["*"]):t.match(R)).length;n<o;n++)i=t[n],ue.tweeners[i]=ue.tweeners[i]||[],ue.tweeners[i].unshift(e)},prefilters:[function(t,e,i){var n,o,r,s,a,l,u,h,c="width"in e||"height"in e,p=this,d={},f=t.style,m=t.nodeType&&ot(t),g=Y.get(t,"fxshow");for(n in i.queue||(null==(s=C._queueHooks(t,"fx")).unqueued&&(s.unqueued=0,a=s.empty.fire,s.empty.fire=function(){s.unqueued||a()}),s.unqueued++,p.always(function(){p.always(function(){s.unqueued--,C.queue(t,"fx").length||s.empty.fire()})})),e)if(o=e[n],ne.test(o)){if(delete e[n],r=r||"toggle"===o,o===(m?"hide":"show")){if("show"!==o||!g||void 0===g[n])continue;m=!0}d[n]=g&&g[n]||C.style(t,n)}if((l=!C.isEmptyObject(e))||!C.isEmptyObject(d))for(n in c&&1===t.nodeType&&(i.overflow=[f.overflow,f.overflowX,f.overflowY],null==(u=g&&g.display)&&(u=Y.get(t,"display")),"none"===(h=C.css(t,"display"))&&(u?h=u:(lt([t],!0),u=t.style.display||u,h=C.css(t,"display"),lt([t]))),("inline"===h||"inline-block"===h&&null!=u)&&"none"===C.css(t,"float")&&(l||(p.done(function(){f.display=u}),null==u&&(h=f.display,u="none"===h?"":h)),f.display="inline-block")),i.overflow&&(f.overflow="hidden",p.always(function(){f.overflow=i.overflow[0],f.overflowX=i.overflow[1],f.overflowY=i.overflow[2]})),l=!1,d)l||(g?"hidden"in g&&(m=g.hidden):g=Y.access(t,"fxshow",{display:u}),r&&(g.hidden=!m),m&&lt([t],!0),p.done(function(){for(n in m||lt([t]),Y.remove(t,"fxshow"),d)C.style(t,n,d[n])})),l=le(m?g[n]:0,n,p),n in g||(g[n]=l.start,m&&(l.end=l.start,l.start=0))}],prefilter:function(t,e){e?ue.prefilters.unshift(t):ue.prefilters.push(t)}}),C.speed=function(t,e,i){var n=t&&"object"==typeof t?C.extend({},t):{complete:i||!i&&e||y(t)&&t,duration:t,easing:i&&e||e&&!y(e)&&e};return C.fx.off?n.duration=0:"number"!=typeof n.duration&&(n.duration in C.fx.speeds?n.duration=C.fx.speeds[n.duration]:n.duration=C.fx.speeds._default),null!=n.queue&&!0!==n.queue||(n.queue="fx"),n.old=n.complete,n.complete=function(){y(n.old)&&n.old.call(this),n.queue&&C.dequeue(this,n.queue)},n},C.fn.extend({fadeTo:function(t,e,i,n){return this.filter(ot).css("opacity",0).show().end().animate({opacity:e},t,i,n)},animate:function(e,t,i,n){var o=C.isEmptyObject(e),r=C.speed(t,i,n),s=function(){var t=ue(this,C.extend({},e),r);(o||Y.get(this,"finish"))&&t.stop(!0)};return s.finish=s,o||!1===r.queue?this.each(s):this.queue(r.queue,s)},stop:function(o,t,r){var s=function(t){var e=t.stop;delete t.stop,e(r)};return"string"!=typeof o&&(r=t,t=o,o=void 0),t&&!1!==o&&this.queue(o||"fx",[]),this.each(function(){var t=!0,e=null!=o&&o+"queueHooks",i=C.timers,n=Y.get(this);if(e)n[e]&&n[e].stop&&s(n[e]);else for(e in n)n[e]&&n[e].stop&&oe.test(e)&&s(n[e]);for(e=i.length;e--;)i[e].elem!==this||null!=o&&i[e].queue!==o||(i[e].anim.stop(r),t=!1,i.splice(e,1));!t&&r||C.dequeue(this,o)})},finish:function(s){return!1!==s&&(s=s||"fx"),this.each(function(){var t,e=Y.get(this),i=e[s+"queue"],n=e[s+"queueHooks"],o=C.timers,r=i?i.length:0;for(e.finish=!0,C.queue(this,s,[]),n&&n.stop&&n.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===s&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<r;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete e.finish})}}),C.each(["toggle","show","hide"],function(t,n){var o=C.fn[n];C.fn[n]=function(t,e,i){return null==t||"boolean"==typeof t?o.apply(this,arguments):this.animate(ae(n,!0),t,e,i)}}),C.each({slideDown:ae("show"),slideUp:ae("hide"),slideToggle:ae("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,n){C.fn[t]=function(t,e,i){return this.animate(n,t,e,i)}}),C.timers=[],C.fx.tick=function(){var t,e=0,i=C.timers;for(Qt=Date.now();e<i.length;e++)(t=i[e])()||i[e]!==t||i.splice(e--,1);i.length||C.fx.stop(),Qt=void 0},C.fx.timer=function(t){C.timers.push(t),C.fx.start()},C.fx.interval=13,C.fx.start=function(){te||(te=!0,re())},C.fx.stop=function(){te=null},C.fx.speeds={slow:600,fast:200,_default:400},C.fn.delay=function(n,t){return n=C.fx&&C.fx.speeds[n]||n,t=t||"fx",this.queue(t,function(t,e){var i=T.setTimeout(t,n);e.stop=function(){T.clearTimeout(i)}})},ee=k.createElement("input"),ie=k.createElement("select").appendChild(k.createElement("option")),ee.type="checkbox",v.checkOn=""!==ee.value,v.optSelected=ie.selected,(ee=k.createElement("input")).value="t",ee.type="radio",v.radioValue="t"===ee.value;var he,ce=C.expr.attrHandle;C.fn.extend({attr:function(t,e){return q(this,C.attr,t,e,1<arguments.length)},removeAttr:function(t){return this.each(function(){C.removeAttr(this,t)})}}),C.extend({attr:function(t,e,i){var n,o,r=t.nodeType;if(3!==r&&8!==r&&2!==r)return void 0===t.getAttribute?C.prop(t,e,i):(1===r&&C.isXMLDoc(t)||(o=C.attrHooks[e.toLowerCase()]||(C.expr.match.bool.test(e)?he:void 0)),void 0!==i?null===i?void C.removeAttr(t,e):o&&"set"in o&&void 0!==(n=o.set(t,i,e))?n:(t.setAttribute(e,i+""),i):o&&"get"in o&&null!==(n=o.get(t,e))?n:null==(n=C.find.attr(t,e))?void 0:n)},attrHooks:{type:{set:function(t,e){if(!v.radioValue&&"radio"===e&&A(t,"input")){var i=t.value;return t.setAttribute("type",e),i&&(t.value=i),e}}}},removeAttr:function(t,e){var i,n=0,o=e&&e.match(R);if(o&&1===t.nodeType)for(;i=o[n++];)t.removeAttribute(i)}}),he={set:function(t,e,i){return!1===e?C.removeAttr(t,i):t.setAttribute(i,i),i}},C.each(C.expr.match.bool.source.match(/\w+/g),function(t,e){var s=ce[e]||C.find.attr;ce[e]=function(t,e,i){var n,o,r=e.toLowerCase();return i||(o=ce[r],ce[r]=n,n=null!=s(t,e,i)?r:null,ce[r]=o),n}});var pe=/^(?:input|select|textarea|button)$/i,de=/^(?:a|area)$/i;function fe(t){return(t.match(R)||[]).join(" ")}function me(t){return t.getAttribute&&t.getAttribute("class")||""}function ge(t){return Array.isArray(t)?t:"string"==typeof t&&t.match(R)||[]}C.fn.extend({prop:function(t,e){return q(this,C.prop,t,e,1<arguments.length)},removeProp:function(t){return this.each(function(){delete this[C.propFix[t]||t]})}}),C.extend({prop:function(t,e,i){var n,o,r=t.nodeType;if(3!==r&&8!==r&&2!==r)return 1===r&&C.isXMLDoc(t)||(e=C.propFix[e]||e,o=C.propHooks[e]),void 0!==i?o&&"set"in o&&void 0!==(n=o.set(t,i,e))?n:t[e]=i:o&&"get"in o&&null!==(n=o.get(t,e))?n:t[e]},propHooks:{tabIndex:{get:function(t){var e=C.find.attr(t,"tabindex");return e?parseInt(e,10):pe.test(t.nodeName)||de.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),v.optSelected||(C.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),C.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){C.propFix[this.toLowerCase()]=this}),C.fn.extend({addClass:function(e){var t,i,n,o,r,s,a,l=0;if(y(e))return this.each(function(t){C(this).addClass(e.call(this,t,me(this)))});if((t=ge(e)).length)for(;i=this[l++];)if(o=me(i),n=1===i.nodeType&&" "+fe(o)+" "){for(s=0;r=t[s++];)n.indexOf(" "+r+" ")<0&&(n+=r+" ");o!==(a=fe(n))&&i.setAttribute("class",a)}return this},removeClass:function(e){var t,i,n,o,r,s,a,l=0;if(y(e))return this.each(function(t){C(this).removeClass(e.call(this,t,me(this)))});if(!arguments.length)return this.attr("class","");if((t=ge(e)).length)for(;i=this[l++];)if(o=me(i),n=1===i.nodeType&&" "+fe(o)+" "){for(s=0;r=t[s++];)for(;-1<n.indexOf(" "+r+" ");)n=n.replace(" "+r+" "," ");o!==(a=fe(n))&&i.setAttribute("class",a)}return this},toggleClass:function(o,e){var r=typeof o,s="string"===r||Array.isArray(o);return"boolean"==typeof e&&s?e?this.addClass(o):this.removeClass(o):y(o)?this.each(function(t){C(this).toggleClass(o.call(this,t,me(this),e),e)}):this.each(function(){var t,e,i,n;if(s)for(e=0,i=C(this),n=ge(o);t=n[e++];)i.hasClass(t)?i.removeClass(t):i.addClass(t);else void 0!==o&&"boolean"!==r||((t=me(this))&&Y.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===o?"":Y.get(this,"__className__")||""))})},hasClass:function(t){var e,i,n=0;for(e=" "+t+" ";i=this[n++];)if(1===i.nodeType&&-1<(" "+fe(me(i))+" ").indexOf(e))return!0;return!1}});var ve=/\r/g;C.fn.extend({val:function(i){var n,t,o,e=this[0];return arguments.length?(o=y(i),this.each(function(t){var e;1===this.nodeType&&(null==(e=o?i.call(this,t,C(this).val()):i)?e="":"number"==typeof e?e+="":Array.isArray(e)&&(e=C.map(e,function(t){return null==t?"":t+""})),(n=C.valHooks[this.type]||C.valHooks[this.nodeName.toLowerCase()])&&"set"in n&&void 0!==n.set(this,e,"value")||(this.value=e))})):e?(n=C.valHooks[e.type]||C.valHooks[e.nodeName.toLowerCase()])&&"get"in n&&void 0!==(t=n.get(e,"value"))?t:"string"==typeof(t=e.value)?t.replace(ve,""):null==t?"":t:void 0}}),C.extend({valHooks:{option:{get:function(t){var e=C.find.attr(t,"value");return null!=e?e:fe(C.text(t))}},select:{get:function(t){var e,i,n,o=t.options,r=t.selectedIndex,s="select-one"===t.type,a=s?null:[],l=s?r+1:o.length;for(n=r<0?l:s?r:0;n<l;n++)if(((i=o[n]).selected||n===r)&&!i.disabled&&(!i.parentNode.disabled||!A(i.parentNode,"optgroup"))){if(e=C(i).val(),s)return e;a.push(e)}return a},set:function(t,e){for(var i,n,o=t.options,r=C.makeArray(e),s=o.length;s--;)((n=o[s]).selected=-1<C.inArray(C.valHooks.option.get(n),r))&&(i=!0);return i||(t.selectedIndex=-1),r}}}}),C.each(["radio","checkbox"],function(){C.valHooks[this]={set:function(t,e){if(Array.isArray(e))return t.checked=-1<C.inArray(C(t).val(),e)}},v.checkOn||(C.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})}),v.focusin="onfocusin"in T;var ye=/^(?:focusinfocus|focusoutblur)$/,_e=function(t){t.stopPropagation()};C.extend(C.event,{trigger:function(t,e,i,n){var o,r,s,a,l,u,h,c,p=[i||k],d=g.call(t,"type")?t.type:t,f=g.call(t,"namespace")?t.namespace.split("."):[];if(r=c=s=i=i||k,3!==i.nodeType&&8!==i.nodeType&&!ye.test(d+C.event.triggered)&&(-1<d.indexOf(".")&&(d=(f=d.split(".")).shift(),f.sort()),l=d.indexOf(":")<0&&"on"+d,(t=t[C.expando]?t:new C.Event(d,"object"==typeof t&&t)).isTrigger=n?2:3,t.namespace=f.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=i),e=null==e?[t]:C.makeArray(e,[t]),h=C.event.special[d]||{},n||!h.trigger||!1!==h.trigger.apply(i,e))){if(!n&&!h.noBubble&&!_(i)){for(a=h.delegateType||d,ye.test(a+d)||(r=r.parentNode);r;r=r.parentNode)p.push(r),s=r;s===(i.ownerDocument||k)&&p.push(s.defaultView||s.parentWindow||T)}for(o=0;(r=p[o++])&&!t.isPropagationStopped();)c=r,t.type=1<o?a:h.bindType||d,(u=(Y.get(r,"events")||{})[t.type]&&Y.get(r,"handle"))&&u.apply(r,e),(u=l&&r[l])&&u.apply&&X(r)&&(t.result=u.apply(r,e),!1===t.result&&t.preventDefault());return t.type=d,n||t.isDefaultPrevented()||h._default&&!1!==h._default.apply(p.pop(),e)||!X(i)||l&&y(i[d])&&!_(i)&&((s=i[l])&&(i[l]=null),C.event.triggered=d,t.isPropagationStopped()&&c.addEventListener(d,_e),i[d](),t.isPropagationStopped()&&c.removeEventListener(d,_e),C.event.triggered=void 0,s&&(i[l]=s)),t.result}},simulate:function(t,e,i){var n=C.extend(new C.Event,i,{type:t,isSimulated:!0});C.event.trigger(n,null,e)}}),C.fn.extend({trigger:function(t,e){return this.each(function(){C.event.trigger(t,e,this)})},triggerHandler:function(t,e){var i=this[0];if(i)return C.event.trigger(t,e,i,!0)}}),v.focusin||C.each({focus:"focusin",blur:"focusout"},function(i,n){var o=function(t){C.event.simulate(n,t.target,C.event.fix(t))};C.event.special[n]={setup:function(){var t=this.ownerDocument||this,e=Y.access(t,n);e||t.addEventListener(i,o,!0),Y.access(t,n,(e||0)+1)},teardown:function(){var t=this.ownerDocument||this,e=Y.access(t,n)-1;e?Y.access(t,n,e):(t.removeEventListener(i,o,!0),Y.remove(t,n))}}});var be=T.location,xe=Date.now(),we=/\?/;C.parseXML=function(t){var e;if(!t||"string"!=typeof t)return null;try{e=(new T.DOMParser).parseFromString(t,"text/xml")}catch(t){e=void 0}return e&&!e.getElementsByTagName("parsererror").length||C.error("Invalid XML: "+t),e};var Te=/\[\]$/,ke=/\r?\n/g,Ce=/^(?:submit|button|image|reset|file)$/i,Se=/^(?:input|select|textarea|keygen)/i;function Ee(i,t,n,o){var e;if(Array.isArray(t))C.each(t,function(t,e){n||Te.test(i)?o(i,e):Ee(i+"["+("object"==typeof e&&null!=e?t:"")+"]",e,n,o)});else if(n||"object"!==x(t))o(i,t);else for(e in t)Ee(i+"["+e+"]",t[e],n,o)}C.param=function(t,e){var i,n=[],o=function(t,e){var i=y(e)?e():e;n[n.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==i?"":i)};if(Array.isArray(t)||t.jquery&&!C.isPlainObject(t))C.each(t,function(){o(this.name,this.value)});else for(i in t)Ee(i,t[i],e,o);return n.join("&")},C.fn.extend({serialize:function(){return C.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=C.prop(this,"elements");return t?C.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!C(this).is(":disabled")&&Se.test(this.nodeName)&&!Ce.test(t)&&(this.checked||!ut.test(t))}).map(function(t,e){var i=C(this).val();return null==i?null:Array.isArray(i)?C.map(i,function(t){return{name:e.name,value:t.replace(ke,"\r\n")}}):{name:e.name,value:i.replace(ke,"\r\n")}}).get()}});var Ae=/%20/g,Pe=/#.*$/,ze=/([?&])_=[^&]*/,De=/^(.*?):[ \t]*([^\r\n]*)$/gm,Me=/^(?:GET|HEAD)$/,Ie=/^\/\//,Oe={},Le={},Re="*/".concat("*"),Fe=k.createElement("a");function Ne(r){return function(t,e){"string"!=typeof t&&(e=t,t="*");var i,n=0,o=t.toLowerCase().match(R)||[];if(y(e))for(;i=o[n++];)"+"===i[0]?(i=i.slice(1)||"*",(r[i]=r[i]||[]).unshift(e)):(r[i]=r[i]||[]).push(e)}}function je(e,o,r,s){var a={},l=e===Le;function u(t){var n;return a[t]=!0,C.each(e[t]||[],function(t,e){var i=e(o,r,s);return"string"!=typeof i||l||a[i]?l?!(n=i):void 0:(o.dataTypes.unshift(i),u(i),!1)}),n}return u(o.dataTypes[0])||!a["*"]&&u("*")}function Be(t,e){var i,n,o=C.ajaxSettings.flatOptions||{};for(i in e)void 0!==e[i]&&((o[i]?t:n||(n={}))[i]=e[i]);return n&&C.extend(!0,t,n),t}Fe.href=be.href,C.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:be.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(be.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Re,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":C.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?Be(Be(t,C.ajaxSettings),e):Be(C.ajaxSettings,t)},ajaxPrefilter:Ne(Oe),ajaxTransport:Ne(Le),ajax:function(t,e){"object"==typeof t&&(e=t,t=void 0),e=e||{};var h,c,p,i,d,n,f,m,o,r,g=C.ajaxSetup({},e),v=g.context||g,y=g.context&&(v.nodeType||v.jquery)?C(v):C.event,_=C.Deferred(),b=C.Callbacks("once memory"),x=g.statusCode||{},s={},a={},l="canceled",w={readyState:0,getResponseHeader:function(t){var e;if(f){if(!i)for(i={};e=De.exec(p);)i[e[1].toLowerCase()]=e[2];e=i[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return f?p:null},setRequestHeader:function(t,e){return null==f&&(t=a[t.toLowerCase()]=a[t.toLowerCase()]||t,s[t]=e),this},overrideMimeType:function(t){return null==f&&(g.mimeType=t),this},statusCode:function(t){var e;if(t)if(f)w.always(t[w.status]);else for(e in t)x[e]=[x[e],t[e]];return this},abort:function(t){var e=t||l;return h&&h.abort(e),u(0,e),this}};if(_.promise(w),g.url=((t||g.url||be.href)+"").replace(Ie,be.protocol+"//"),g.type=e.method||e.type||g.method||g.type,g.dataTypes=(g.dataType||"*").toLowerCase().match(R)||[""],null==g.crossDomain){n=k.createElement("a");try{n.href=g.url,n.href=n.href,g.crossDomain=Fe.protocol+"//"+Fe.host!=n.protocol+"//"+n.host}catch(t){g.crossDomain=!0}}if(g.data&&g.processData&&"string"!=typeof g.data&&(g.data=C.param(g.data,g.traditional)),je(Oe,g,e,w),f)return w;for(o in(m=C.event&&g.global)&&0==C.active++&&C.event.trigger("ajaxStart"),g.type=g.type.toUpperCase(),g.hasContent=!Me.test(g.type),c=g.url.replace(Pe,""),g.hasContent?g.data&&g.processData&&0===(g.contentType||"").indexOf("application/x-www-form-urlencoded")&&(g.data=g.data.replace(Ae,"+")):(r=g.url.slice(c.length),g.data&&(g.processData||"string"==typeof g.data)&&(c+=(we.test(c)?"&":"?")+g.data,delete g.data),!1===g.cache&&(c=c.replace(ze,"$1"),r=(we.test(c)?"&":"?")+"_="+xe+++r),g.url=c+r),g.ifModified&&(C.lastModified[c]&&w.setRequestHeader("If-Modified-Since",C.lastModified[c]),C.etag[c]&&w.setRequestHeader("If-None-Match",C.etag[c])),(g.data&&g.hasContent&&!1!==g.contentType||e.contentType)&&w.setRequestHeader("Content-Type",g.contentType),w.setRequestHeader("Accept",g.dataTypes[0]&&g.accepts[g.dataTypes[0]]?g.accepts[g.dataTypes[0]]+("*"!==g.dataTypes[0]?", "+Re+"; q=0.01":""):g.accepts["*"]),g.headers)w.setRequestHeader(o,g.headers[o]);if(g.beforeSend&&(!1===g.beforeSend.call(v,w,g)||f))return w.abort();if(l="abort",b.add(g.complete),w.done(g.success),w.fail(g.error),h=je(Le,g,e,w)){if(w.readyState=1,m&&y.trigger("ajaxSend",[w,g]),f)return w;g.async&&0<g.timeout&&(d=T.setTimeout(function(){w.abort("timeout")},g.timeout));try{f=!1,h.send(s,u)}catch(t){if(f)throw t;u(-1,t)}}else u(-1,"No Transport");function u(t,e,i,n){var o,r,s,a,l,u=e;f||(f=!0,d&&T.clearTimeout(d),h=void 0,p=n||"",w.readyState=0<t?4:0,o=200<=t&&t<300||304===t,i&&(a=function(t,e,i){for(var n,o,r,s,a=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),void 0===n&&(n=t.mimeType||e.getResponseHeader("Content-Type"));if(n)for(o in a)if(a[o]&&a[o].test(n)){l.unshift(o);break}if(l[0]in i)r=l[0];else{for(o in i){if(!l[0]||t.converters[o+" "+l[0]]){r=o;break}s||(s=o)}r=r||s}if(r)return r!==l[0]&&l.unshift(r),i[r]}(g,w,i)),a=function(t,e,i,n){var o,r,s,a,l,u={},h=t.dataTypes.slice();if(h[1])for(s in t.converters)u[s.toLowerCase()]=t.converters[s];for(r=h.shift();r;)if(t.responseFields[r]&&(i[t.responseFields[r]]=e),!l&&n&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=r,r=h.shift())if("*"===r)r=l;else if("*"!==l&&l!==r){if(!(s=u[l+" "+r]||u["* "+r]))for(o in u)if((a=o.split(" "))[1]===r&&(s=u[l+" "+a[0]]||u["* "+a[0]])){!0===s?s=u[o]:!0!==u[o]&&(r=a[0],h.unshift(a[1]));break}if(!0!==s)if(s&&t.throws)e=s(e);else try{e=s(e)}catch(t){return{state:"parsererror",error:s?t:"No conversion from "+l+" to "+r}}}return{state:"success",data:e}}(g,a,w,o),o?(g.ifModified&&((l=w.getResponseHeader("Last-Modified"))&&(C.lastModified[c]=l),(l=w.getResponseHeader("etag"))&&(C.etag[c]=l)),204===t||"HEAD"===g.type?u="nocontent":304===t?u="notmodified":(u=a.state,r=a.data,o=!(s=a.error))):(s=u,!t&&u||(u="error",t<0&&(t=0))),w.status=t,w.statusText=(e||u)+"",o?_.resolveWith(v,[r,u,w]):_.rejectWith(v,[w,u,s]),w.statusCode(x),x=void 0,m&&y.trigger(o?"ajaxSuccess":"ajaxError",[w,g,o?r:s]),b.fireWith(v,[w,u]),m&&(y.trigger("ajaxComplete",[w,g]),--C.active||C.event.trigger("ajaxStop")))}return w},getJSON:function(t,e,i){return C.get(t,e,i,"json")},getScript:function(t,e){return C.get(t,void 0,e,"script")}}),C.each(["get","post"],function(t,o){C[o]=function(t,e,i,n){return y(e)&&(n=n||i,i=e,e=void 0),C.ajax(C.extend({url:t,type:o,dataType:n,data:e,success:i},C.isPlainObject(t)&&t))}}),C._evalUrl=function(t){return C.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},C.fn.extend({wrapAll:function(t){var e;return this[0]&&(y(t)&&(t=t.call(this[0])),e=C(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this},wrapInner:function(i){return y(i)?this.each(function(t){C(this).wrapInner(i.call(this,t))}):this.each(function(){var t=C(this),e=t.contents();e.length?e.wrapAll(i):t.append(i)})},wrap:function(e){var i=y(e);return this.each(function(t){C(this).wrapAll(i?e.call(this,t):e)})},unwrap:function(t){return this.parent(t).not("body").each(function(){C(this).replaceWith(this.childNodes)}),this}}),C.expr.pseudos.hidden=function(t){return!C.expr.pseudos.visible(t)},C.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},C.ajaxSettings.xhr=function(){try{return new T.XMLHttpRequest}catch(t){}};var Ve={0:200,1223:204},He=C.ajaxSettings.xhr();v.cors=!!He&&"withCredentials"in He,v.ajax=He=!!He,C.ajaxTransport(function(o){var r,s;if(v.cors||He&&!o.crossDomain)return{send:function(t,e){var i,n=o.xhr();if(n.open(o.type,o.url,o.async,o.username,o.password),o.xhrFields)for(i in o.xhrFields)n[i]=o.xhrFields[i];for(i in o.mimeType&&n.overrideMimeType&&n.overrideMimeType(o.mimeType),o.crossDomain||t["X-Requested-With"]||(t["X-Requested-With"]="XMLHttpRequest"),t)n.setRequestHeader(i,t[i]);r=function(t){return function(){r&&(r=s=n.onload=n.onerror=n.onabort=n.ontimeout=n.onreadystatechange=null,"abort"===t?n.abort():"error"===t?"number"!=typeof n.status?e(0,"error"):e(n.status,n.statusText):e(Ve[n.status]||n.status,n.statusText,"text"!==(n.responseType||"text")||"string"!=typeof n.responseText?{binary:n.response}:{text:n.responseText},n.getAllResponseHeaders()))}},n.onload=r(),s=n.onerror=n.ontimeout=r("error"),void 0!==n.onabort?n.onabort=s:n.onreadystatechange=function(){4===n.readyState&&T.setTimeout(function(){r&&s()})},r=r("abort");try{n.send(o.hasContent&&o.data||null)}catch(t){if(r)throw t}},abort:function(){r&&r()}}}),C.ajaxPrefilter(function(t){t.crossDomain&&(t.contents.script=!1)}),C.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return C.globalEval(t),t}}}),C.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),C.ajaxTransport("script",function(i){var n,o;if(i.crossDomain)return{send:function(t,e){n=C("<script>").prop({charset:i.scriptCharset,src:i.url}).on("load error",o=function(t){n.remove(),o=null,t&&e("error"===t.type?404:200,t.type)}),k.head.appendChild(n[0])},abort:function(){o&&o()}}});var qe,$e=[],We=/(=)\?(?=&|$)|\?\?/;C.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=$e.pop()||C.expando+"_"+xe++;return this[t]=!0,t}}),C.ajaxPrefilter("json jsonp",function(t,e,i){var n,o,r,s=!1!==t.jsonp&&(We.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&We.test(t.data)&&"data");if(s||"jsonp"===t.dataTypes[0])return n=t.jsonpCallback=y(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(We,"$1"+n):!1!==t.jsonp&&(t.url+=(we.test(t.url)?"&":"?")+t.jsonp+"="+n),t.converters["script json"]=function(){return r||C.error(n+" was not called"),r[0]},t.dataTypes[0]="json",o=T[n],T[n]=function(){r=arguments},i.always(function(){void 0===o?C(T).removeProp(n):T[n]=o,t[n]&&(t.jsonpCallback=e.jsonpCallback,$e.push(n)),r&&y(o)&&o(r[0]),r=o=void 0}),"script"}),v.createHTMLDocument=((qe=k.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===qe.childNodes.length),C.parseHTML=function(t,e,i){return"string"!=typeof t?[]:("boolean"==typeof e&&(i=e,e=!1),e||(v.createHTMLDocument?((n=(e=k.implementation.createHTMLDocument("")).createElement("base")).href=k.location.href,e.head.appendChild(n)):e=k),r=!i&&[],(o=P.exec(t))?[e.createElement(o[1])]:(o=yt([t],e,r),r&&r.length&&C(r).remove(),C.merge([],o.childNodes)));var n,o,r},C.fn.load=function(t,e,i){var n,o,r,s=this,a=t.indexOf(" ");return-1<a&&(n=fe(t.slice(a)),t=t.slice(0,a)),y(e)?(i=e,e=void 0):e&&"object"==typeof e&&(o="POST"),0<s.length&&C.ajax({url:t,type:o||"GET",dataType:"html",data:e}).done(function(t){r=arguments,s.html(n?C("<div>").append(C.parseHTML(t)).find(n):t)}).always(i&&function(t,e){s.each(function(){i.apply(this,r||[t.responseText,e,t])})}),this},C.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){C.fn[e]=function(t){return this.on(e,t)}}),C.expr.pseudos.animated=function(e){return C.grep(C.timers,function(t){return e===t.elem}).length},C.offset={setOffset:function(t,e,i){var n,o,r,s,a,l,u=C.css(t,"position"),h=C(t),c={};"static"===u&&(t.style.position="relative"),a=h.offset(),r=C.css(t,"top"),l=C.css(t,"left"),o=("absolute"===u||"fixed"===u)&&-1<(r+l).indexOf("auto")?(s=(n=h.position()).top,n.left):(s=parseFloat(r)||0,parseFloat(l)||0),y(e)&&(e=e.call(t,i,C.extend({},a))),null!=e.top&&(c.top=e.top-a.top+s),null!=e.left&&(c.left=e.left-a.left+o),"using"in e?e.using.call(t,c):h.css(c)}},C.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){C.offset.setOffset(this,e,t)});var t,i,n=this[0];return n?n.getClientRects().length?(t=n.getBoundingClientRect(),i=n.ownerDocument.defaultView,{top:t.top+i.pageYOffset,left:t.left+i.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var t,e,i,n=this[0],o={top:0,left:0};if("fixed"===C.css(n,"position"))e=n.getBoundingClientRect();else{for(e=this.offset(),i=n.ownerDocument,t=n.offsetParent||i.documentElement;t&&(t===i.body||t===i.documentElement)&&"static"===C.css(t,"position");)t=t.parentNode;t&&t!==n&&1===t.nodeType&&((o=C(t).offset()).top+=C.css(t,"borderTopWidth",!0),o.left+=C.css(t,"borderLeftWidth",!0))}return{top:e.top-o.top-C.css(n,"marginTop",!0),left:e.left-o.left-C.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===C.css(t,"position");)t=t.offsetParent;return t||_t})}}),C.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,o){var r="pageYOffset"===o;C.fn[e]=function(t){return q(this,function(t,e,i){var n;if(_(t)?n=t:9===t.nodeType&&(n=t.defaultView),void 0===i)return n?n[o]:t[e];n?n.scrollTo(r?n.pageXOffset:i,r?i:n.pageYOffset):t[e]=i},e,t,arguments.length)}}),C.each(["top","left"],function(t,i){C.cssHooks[i]=Vt(v.pixelPosition,function(t,e){if(e)return e=Bt(t,i),Ft.test(e)?C(t).position()[i]+"px":e})}),C.each({Height:"height",Width:"width"},function(s,a){C.each({padding:"inner"+s,content:a,"":"outer"+s},function(n,r){C.fn[r]=function(t,e){var i=arguments.length&&(n||"boolean"!=typeof t),o=n||(!0===t||!0===e?"margin":"border");return q(this,function(t,e,i){var n;return _(t)?0===r.indexOf("outer")?t["inner"+s]:t.document.documentElement["client"+s]:9===t.nodeType?(n=t.documentElement,Math.max(t.body["scroll"+s],n["scroll"+s],t.body["offset"+s],n["offset"+s],n["client"+s])):void 0===i?C.css(t,e,o):C.style(t,e,i,o)},a,i?t:void 0,i)}})}),C.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(t,i){C.fn[i]=function(t,e){return 0<arguments.length?this.on(i,null,t,e):this.trigger(i)}}),C.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),C.fn.extend({bind:function(t,e,i){return this.on(t,null,e,i)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,i,n){return this.on(e,t,i,n)},undelegate:function(t,e,i){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",i)}}),C.proxy=function(t,e){var i,n,o;if("string"==typeof e&&(i=t[e],e=t,t=i),y(t))return n=a.call(arguments,2),(o=function(){return t.apply(e||this,n.concat(a.call(arguments)))}).guid=t.guid=t.guid||C.guid++,o},C.holdReady=function(t){t?C.readyWait++:C.ready(!0)},C.isArray=Array.isArray,C.parseJSON=JSON.parse,C.nodeName=A,C.isFunction=y,C.isWindow=_,C.camelCase=Z,C.type=x,C.now=Date.now,C.isNumeric=function(t){var e=C.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},"function"==typeof define&&define.amd&&define("jquery",[],function(){return C});var Ue=T.jQuery,Ze=T.$;return C.noConflict=function(t){return T.$===C&&(T.$=Ze),t&&T.jQuery===C&&(T.jQuery=Ue),C},t||(T.jQuery=T.$=C),C}),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(S){S.ui=S.ui||{};S.ui.version="1.12.1";var o,i=0,a=Array.prototype.slice;S.cleanData=(o=S.cleanData,function(t){var e,i,n;for(n=0;null!=(i=t[n]);n++)try{(e=S._data(i,"events"))&&e.remove&&S(i).triggerHandler("remove")}catch(t){}o(t)}),S.widget=function(t,i,e){var n,o,r,s={},a=t.split(".")[0],l=a+"-"+(t=t.split(".")[1]);return e||(e=i,i=S.Widget),S.isArray(e)&&(e=S.extend.apply(null,[{}].concat(e))),S.expr[":"][l.toLowerCase()]=function(t){return!!S.data(t,l)},S[a]=S[a]||{},n=S[a][t],o=S[a][t]=function(t,e){if(!this._createWidget)return new o(t,e);arguments.length&&this._createWidget(t,e)},S.extend(o,n,{version:e.version,_proto:S.extend({},e),_childConstructors:[]}),(r=new i).options=S.widget.extend({},r.options),S.each(e,function(e,r){S.isFunction(r)?s[e]=function(){function n(){return i.prototype[e].apply(this,arguments)}function o(t){return i.prototype[e].apply(this,t)}return function(){var t,e=this._super,i=this._superApply;return this._super=n,this._superApply=o,t=r.apply(this,arguments),this._super=e,this._superApply=i,t}}():s[e]=r}),o.prototype=S.widget.extend(r,{widgetEventPrefix:n&&r.widgetEventPrefix||t},s,{constructor:o,namespace:a,widgetName:t,widgetFullName:l}),n?(S.each(n._childConstructors,function(t,e){var i=e.prototype;S.widget(i.namespace+"."+i.widgetName,o,e._proto)}),delete n._childConstructors):i._childConstructors.push(o),S.widget.bridge(t,o),o},S.widget.extend=function(t){for(var e,i,n=a.call(arguments,1),o=0,r=n.length;o<r;o++)for(e in n[o])i=n[o][e],n[o].hasOwnProperty(e)&&void 0!==i&&(S.isPlainObject(i)?t[e]=S.isPlainObject(t[e])?S.widget.extend({},t[e],i):S.widget.extend({},i):t[e]=i);return t},S.widget.bridge=function(r,e){var s=e.prototype.widgetFullName||r;S.fn[r]=function(i){var t="string"==typeof i,n=a.call(arguments,1),o=this;return t?this.length||"instance"!==i?this.each(function(){var t,e=S.data(this,s);return"instance"===i?(o=e,!1):e?S.isFunction(e[i])&&"_"!==i.charAt(0)?(t=e[i].apply(e,n))!==e&&void 0!==t?(o=t&&t.jquery?o.pushStack(t.get()):t,!1):void 0:S.error("no such method '"+i+"' for "+r+" widget instance"):S.error("cannot call methods on "+r+" prior to initialization; attempted to call method '"+i+"'")}):o=void 0:(n.length&&(i=S.widget.extend.apply(null,[i].concat(n))),this.each(function(){var t=S.data(this,s);t?(t.option(i||{}),t._init&&t._init()):S.data(this,s,new e(i,this))})),o}},S.Widget=function(){},S.Widget._childConstructors=[],S.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(t,e){e=S(e||this.defaultElement||this)[0],this.element=S(e),this.uuid=i++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=S(),this.hoverable=S(),this.focusable=S(),this.classesElementLookup={},e!==this&&(S.data(e,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===e&&this.destroy()}}),this.document=S(e.style?e.ownerDocument:e.document||e),this.window=S(this.document[0].defaultView||this.document[0].parentWindow)),this.options=S.widget.extend({},this.options,this._getCreateOptions(),t),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:S.noop,_create:S.noop,_init:S.noop,destroy:function(){var i=this;this._destroy(),S.each(this.classesElementLookup,function(t,e){i._removeClass(e,t)}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:S.noop,widget:function(){return this.element},option:function(t,e){var i,n,o,r=t;if(0===arguments.length)return S.widget.extend({},this.options);if("string"==typeof t)if(r={},t=(i=t.split(".")).shift(),i.length){for(n=r[t]=S.widget.extend({},this.options[t]),o=0;o<i.length-1;o++)n[i[o]]=n[i[o]]||{},n=n[i[o]];if(t=i.pop(),1===arguments.length)return void 0===n[t]?null:n[t];n[t]=e}else{if(1===arguments.length)return void 0===this.options[t]?null:this.options[t];r[t]=e}return this._setOptions(r),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return"classes"===t&&this._setOptionClasses(e),this.options[t]=e,"disabled"===t&&this._setOptionDisabled(e),this},_setOptionClasses:function(t){var e,i,n;for(e in t)n=this.classesElementLookup[e],t[e]!==this.options.classes[e]&&n&&n.length&&(i=S(n.get()),this._removeClass(n,e),i.addClass(this._classes({element:i,keys:e,classes:t,add:!0})))},_setOptionDisabled:function(t){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!t),t&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(o){var r=[],s=this;function t(t,e){var i,n;for(n=0;n<t.length;n++)i=s.classesElementLookup[t[n]]||S(),i=o.add?S(S.unique(i.get().concat(o.element.get()))):S(i.not(o.element).get()),s.classesElementLookup[t[n]]=i,r.push(t[n]),e&&o.classes[t[n]]&&r.push(o.classes[t[n]])}return o=S.extend({element:this.element,classes:this.options.classes||{}},o),this._on(o.element,{remove:"_untrackClassesElement"}),o.keys&&t(o.keys.match(/\S+/g)||[],!0),o.extra&&t(o.extra.match(/\S+/g)||[]),r.join(" ")},_untrackClassesElement:function(i){var n=this;S.each(n.classesElementLookup,function(t,e){-1!==S.inArray(i.target,e)&&(n.classesElementLookup[t]=S(e.not(i.target).get()))})},_removeClass:function(t,e,i){return this._toggleClass(t,e,i,!1)},_addClass:function(t,e,i){return this._toggleClass(t,e,i,!0)},_toggleClass:function(t,e,i,n){n="boolean"==typeof n?n:i;var o="string"==typeof t||null===t,r={extra:o?e:i,keys:o?t:e,element:o?this.element:t,add:n};return r.element.toggleClass(this._classes(r),n),this},_on:function(s,a,t){var l,u=this;"boolean"!=typeof s&&(t=a,a=s,s=!1),t?(a=l=S(a),this.bindings=this.bindings.add(a)):(t=a,a=this.element,l=this.widget()),S.each(t,function(t,e){function i(){if(s||!0!==u.options.disabled&&!S(this).hasClass("ui-state-disabled"))return("string"==typeof e?u[e]:e).apply(u,arguments)}"string"!=typeof e&&(i.guid=e.guid=e.guid||i.guid||S.guid++);var n=t.match(/^([\w:-]*)\s*(.*)$/),o=n[1]+u.eventNamespace,r=n[2];r?l.on(o,r,i):a.on(o,i)})},_off:function(t,e){e=(e||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.off(e).off(e),this.bindings=S(this.bindings.not(t).get()),this.focusable=S(this.focusable.not(t).get()),this.hoverable=S(this.hoverable.not(t).get())},_delay:function(t,e){var i=this;return setTimeout(function(){return("string"==typeof t?i[t]:t).apply(i,arguments)},e||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){this._addClass(S(t.currentTarget),null,"ui-state-hover")},mouseleave:function(t){this._removeClass(S(t.currentTarget),null,"ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){this._addClass(S(t.currentTarget),null,"ui-state-focus")},focusout:function(t){this._removeClass(S(t.currentTarget),null,"ui-state-focus")}})},_trigger:function(t,e,i){var n,o,r=this.options[t];if(i=i||{},(e=S.Event(e)).type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),e.target=this.element[0],o=e.originalEvent)for(n in o)n in e||(e[n]=o[n]);return this.element.trigger(e,i),!(S.isFunction(r)&&!1===r.apply(this.element[0],[e].concat(i))||e.isDefaultPrevented())}},S.each({show:"fadeIn",hide:"fadeOut"},function(r,s){S.Widget.prototype["_"+r]=function(e,t,i){var n;"string"==typeof t&&(t={effect:t});var o=t?!0===t||"number"==typeof t?s:t.effect||s:r;"number"==typeof(t=t||{})&&(t={duration:t}),n=!S.isEmptyObject(t),t.complete=i,t.delay&&e.delay(t.delay),n&&S.effects&&S.effects.effect[o]?e[r](t):o!==r&&e[o]?e[o](t.duration,t.easing,i):e.queue(function(t){S(this)[r](),i&&i.call(e[0]),t()})}});S.widget;!function(){var o,w=Math.max,T=Math.abs,n=/left|center|right/,r=/top|center|bottom/,s=/[\+\-]\d+(\.[\d]+)?%?/,a=/^\w+/,l=/%$/,u=S.fn.position;function k(t,e,i){return[parseFloat(t[0])*(l.test(t[0])?e/100:1),parseFloat(t[1])*(l.test(t[1])?i/100:1)]}function C(t,e){return parseInt(S.css(t,e),10)||0}S.position={scrollbarWidth:function(){if(void 0!==o)return o;var t,e,i=S("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),n=i.children()[0];return S("body").append(i),t=n.offsetWidth,i.css("overflow","scroll"),t===(e=n.offsetWidth)&&(e=i[0].clientWidth),i.remove(),o=t-e},getScrollInfo:function(t){var e=t.isWindow||t.isDocument?"":t.element.css("overflow-x"),i=t.isWindow||t.isDocument?"":t.element.css("overflow-y"),n="scroll"===e||"auto"===e&&t.width<t.element[0].scrollWidth;return{width:"scroll"===i||"auto"===i&&t.height<t.element[0].scrollHeight?S.position.scrollbarWidth():0,height:n?S.position.scrollbarWidth():0}},getWithinInfo:function(t){var e=S(t||window),i=S.isWindow(e[0]),n=!!e[0]&&9===e[0].nodeType;return{element:e,isWindow:i,isDocument:n,offset:!i&&!n?S(t).offset():{left:0,top:0},scrollLeft:e.scrollLeft(),scrollTop:e.scrollTop(),width:e.outerWidth(),height:e.outerHeight()}}},S.fn.position=function(c){if(!c||!c.of)return u.apply(this,arguments);c=S.extend({},c);var p,d,f,m,g,t,e,i,v=S(c.of),y=S.position.getWithinInfo(c.within),_=S.position.getScrollInfo(y),b=(c.collision||"flip").split(" "),x={};return t=9===(i=(e=v)[0]).nodeType?{width:e.width(),height:e.height(),offset:{top:0,left:0}}:S.isWindow(i)?{width:e.width(),height:e.height(),offset:{top:e.scrollTop(),left:e.scrollLeft()}}:i.preventDefault?{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}:{width:e.outerWidth(),height:e.outerHeight(),offset:e.offset()},v[0].preventDefault&&(c.at="left top"),d=t.width,f=t.height,m=t.offset,g=S.extend({},m),S.each(["my","at"],function(){var t,e,i=(c[this]||"").split(" ");1===i.length&&(i=n.test(i[0])?i.concat(["center"]):r.test(i[0])?["center"].concat(i):["center","center"]),i[0]=n.test(i[0])?i[0]:"center",i[1]=r.test(i[1])?i[1]:"center",t=s.exec(i[0]),e=s.exec(i[1]),x[this]=[t?t[0]:0,e?e[0]:0],c[this]=[a.exec(i[0])[0],a.exec(i[1])[0]]}),1===b.length&&(b[1]=b[0]),"right"===c.at[0]?g.left+=d:"center"===c.at[0]&&(g.left+=d/2),"bottom"===c.at[1]?g.top+=f:"center"===c.at[1]&&(g.top+=f/2),p=k(x.at,d,f),g.left+=p[0],g.top+=p[1],this.each(function(){var i,t,s=S(this),a=s.outerWidth(),l=s.outerHeight(),e=C(this,"marginLeft"),n=C(this,"marginTop"),o=a+e+C(this,"marginRight")+_.width,r=l+n+C(this,"marginBottom")+_.height,u=S.extend({},g),h=k(x.my,s.outerWidth(),s.outerHeight());"right"===c.my[0]?u.left-=a:"center"===c.my[0]&&(u.left-=a/2),"bottom"===c.my[1]?u.top-=l:"center"===c.my[1]&&(u.top-=l/2),u.left+=h[0],u.top+=h[1],i={marginLeft:e,marginTop:n},S.each(["left","top"],function(t,e){S.ui.position[b[t]]&&S.ui.position[b[t]][e](u,{targetWidth:d,targetHeight:f,elemWidth:a,elemHeight:l,collisionPosition:i,collisionWidth:o,collisionHeight:r,offset:[p[0]+h[0],p[1]+h[1]],my:c.my,at:c.at,within:y,elem:s})}),c.using&&(t=function(t){var e=m.left-u.left,i=e+d-a,n=m.top-u.top,o=n+f-l,r={target:{element:v,left:m.left,top:m.top,width:d,height:f},element:{element:s,left:u.left,top:u.top,width:a,height:l},horizontal:i<0?"left":0<e?"right":"center",vertical:o<0?"top":0<n?"bottom":"middle"};d<a&&T(e+i)<d&&(r.horizontal="center"),f<l&&T(n+o)<f&&(r.vertical="middle"),w(T(e),T(i))>w(T(n),T(o))?r.important="horizontal":r.important="vertical",c.using.call(this,t,r)}),s.offset(S.extend(u,{using:t}))})},S.ui.position={fit:{left:function(t,e){var i,n=e.within,o=n.isWindow?n.scrollLeft:n.offset.left,r=n.width,s=t.left-e.collisionPosition.marginLeft,a=o-s,l=s+e.collisionWidth-r-o;e.collisionWidth>r?0<a&&l<=0?(i=t.left+a+e.collisionWidth-r-o,t.left+=a-i):t.left=0<l&&a<=0?o:l<a?o+r-e.collisionWidth:o:0<a?t.left+=a:0<l?t.left-=l:t.left=w(t.left-s,t.left)},top:function(t,e){var i,n=e.within,o=n.isWindow?n.scrollTop:n.offset.top,r=e.within.height,s=t.top-e.collisionPosition.marginTop,a=o-s,l=s+e.collisionHeight-r-o;e.collisionHeight>r?0<a&&l<=0?(i=t.top+a+e.collisionHeight-r-o,t.top+=a-i):t.top=0<l&&a<=0?o:l<a?o+r-e.collisionHeight:o:0<a?t.top+=a:0<l?t.top-=l:t.top=w(t.top-s,t.top)}},flip:{left:function(t,e){var i,n,o=e.within,r=o.offset.left+o.scrollLeft,s=o.width,a=o.isWindow?o.scrollLeft:o.offset.left,l=t.left-e.collisionPosition.marginLeft,u=l-a,h=l+e.collisionWidth-s-a,c="left"===e.my[0]?-e.elemWidth:"right"===e.my[0]?e.elemWidth:0,p="left"===e.at[0]?e.targetWidth:"right"===e.at[0]?-e.targetWidth:0,d=-2*e.offset[0];u<0?((i=t.left+c+p+d+e.collisionWidth-s-r)<0||i<T(u))&&(t.left+=c+p+d):0<h&&(0<(n=t.left-e.collisionPosition.marginLeft+c+p+d-a)||T(n)<h)&&(t.left+=c+p+d)},top:function(t,e){var i,n,o=e.within,r=o.offset.top+o.scrollTop,s=o.height,a=o.isWindow?o.scrollTop:o.offset.top,l=t.top-e.collisionPosition.marginTop,u=l-a,h=l+e.collisionHeight-s-a,c="top"===e.my[1]?-e.elemHeight:"bottom"===e.my[1]?e.elemHeight:0,p="top"===e.at[1]?e.targetHeight:"bottom"===e.at[1]?-e.targetHeight:0,d=-2*e.offset[1];u<0?((n=t.top+c+p+d+e.collisionHeight-s-r)<0||n<T(u))&&(t.top+=c+p+d):0<h&&(0<(i=t.top-e.collisionPosition.marginTop+c+p+d-a)||T(i)<h)&&(t.top+=c+p+d)}},flipfit:{left:function(){S.ui.position.flip.left.apply(this,arguments),S.ui.position.fit.left.apply(this,arguments)},top:function(){S.ui.position.flip.top.apply(this,arguments),S.ui.position.fit.top.apply(this,arguments)}}}}();S.ui.position,S.extend(S.expr[":"],{data:S.expr.createPseudo?S.expr.createPseudo(function(e){return function(t){return!!S.data(t,e)}}):function(t,e,i){return!!S.data(t,i[3])}}),S.fn.extend({disableSelection:(t="onselectstart"in document.createElement("div")?"selectstart":"mousedown",function(){return this.on(t+".ui-disableSelection",function(t){t.preventDefault()})}),enableSelection:function(){return this.off(".ui-disableSelection")}});var t,n,l="ui-effects-",u="ui-effects-style",c="ui-effects-animated",h=S;S.effects={effect:{}},function(h,c){var u,p=/^([\-+])=\s*(\d+\.?\d*)/,t=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[t[1],t[2],t[3],t[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[2.55*t[1],2.55*t[2],2.55*t[3],t[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(t){return[t[1],t[2]/100,t[3]/100,t[4]]}}],d=h.Color=function(t,e,i,n){return new h.Color.fn.parse(t,e,i,n)},f={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},m={byte:{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},s=d.support={},e=h("<p>")[0],g=h.each;function v(t,e,i){var n=m[e.type]||{};return null==t?i||!e.def?null:e.def:(t=n.floor?~~t:parseFloat(t),isNaN(t)?e.def:n.mod?(t+n.mod)%n.mod:t<0?0:n.max<t?n.max:t)}function a(s){var a=d(),l=a._rgba=[];return s=s.toLowerCase(),g(t,function(t,e){var i,n=e.re.exec(s),o=n&&e.parse(n),r=e.space||"rgba";if(o)return i=a[r](o),a[f[r].cache]=i[f[r].cache],l=a._rgba=i._rgba,!1}),l.length?("0,0,0,0"===l.join()&&h.extend(l,u.transparent),a):u[s]}function l(t,e,i){return 6*(i=(i+1)%1)<1?t+(e-t)*i*6:2*i<1?e:3*i<2?t+(e-t)*(2/3-i)*6:t}e.style.cssText="background-color:rgba(1,1,1,.5)",s.rgba=-1<e.style.backgroundColor.indexOf("rgba"),g(f,function(t,e){e.cache="_"+t,e.props.alpha={idx:3,type:"percent",def:1}}),d.fn=h.extend(d.prototype,{parse:function(o,t,e,i){if(o===c)return this._rgba=[null,null,null,null],this;(o.jquery||o.nodeType)&&(o=h(o).css(t),t=c);var r=this,n=h.type(o),s=this._rgba=[];return t!==c&&(o=[o,t,e,i],n="array"),"string"===n?this.parse(a(o)||u._default):"array"===n?(g(f.rgba.props,function(t,e){s[e.idx]=v(o[e.idx],e)}),this):"object"===n?(g(f,o instanceof d?function(t,e){o[e.cache]&&(r[e.cache]=o[e.cache].slice())}:function(t,i){var n=i.cache;g(i.props,function(t,e){if(!r[n]&&i.to){if("alpha"===t||null==o[t])return;r[n]=i.to(r._rgba)}r[n][e.idx]=v(o[t],e,!0)}),r[n]&&h.inArray(null,r[n].slice(0,3))<0&&(r[n][3]=1,i.from&&(r._rgba=i.from(r[n])))}),this):void 0},is:function(t){var o=d(t),r=!0,s=this;return g(f,function(t,e){var i,n=o[e.cache];return n&&(i=s[e.cache]||e.to&&e.to(s._rgba)||[],g(e.props,function(t,e){if(null!=n[e.idx])return r=n[e.idx]===i[e.idx]})),r}),r},_space:function(){var i=[],n=this;return g(f,function(t,e){n[e.cache]&&i.push(t)}),i.pop()},transition:function(t,s){var a=d(t),e=a._space(),i=f[e],n=0===this.alpha()?d("transparent"):this,l=n[i.cache]||i.to(n._rgba),u=l.slice();return a=a[i.cache],g(i.props,function(t,e){var i=e.idx,n=l[i],o=a[i],r=m[e.type]||{};null!==o&&(u[i]=null===n?o:(r.mod&&(o-n>r.mod/2?n+=r.mod:n-o>r.mod/2&&(n-=r.mod)),v((o-n)*s+n,e)))}),this[e](u)},blend:function(t){if(1===this._rgba[3])return this;var e=this._rgba.slice(),i=e.pop(),n=d(t)._rgba;return d(h.map(e,function(t,e){return(1-i)*n[e]+i*t}))},toRgbaString:function(){var t="rgba(",e=h.map(this._rgba,function(t,e){return null==t?2<e?1:0:t});return 1===e[3]&&(e.pop(),t="rgb("),t+e.join()+")"},toHslaString:function(){var t="hsla(",e=h.map(this.hsla(),function(t,e){return null==t&&(t=2<e?1:0),e&&e<3&&(t=Math.round(100*t)+"%"),t});return 1===e[3]&&(e.pop(),t="hsl("),t+e.join()+")"},toHexString:function(t){var e=this._rgba.slice(),i=e.pop();return t&&e.push(~~(255*i)),"#"+h.map(e,function(t){return 1===(t=(t||0).toString(16)).length?"0"+t:t}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),d.fn.parse.prototype=d.fn,f.hsla.to=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e,i,n=t[0]/255,o=t[1]/255,r=t[2]/255,s=t[3],a=Math.max(n,o,r),l=Math.min(n,o,r),u=a-l,h=a+l,c=.5*h;return e=l===a?0:n===a?60*(o-r)/u+360:o===a?60*(r-n)/u+120:60*(n-o)/u+240,i=0===u?0:c<=.5?u/h:u/(2-h),[Math.round(e)%360,i,c,null==s?1:s]},f.hsla.from=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e=t[0]/360,i=t[1],n=t[2],o=t[3],r=n<=.5?n*(1+i):n+i-n*i,s=2*n-r;return[Math.round(255*l(s,r,e+1/3)),Math.round(255*l(s,r,e)),Math.round(255*l(s,r,e-1/3)),o]},g(f,function(l,t){var i=t.props,s=t.cache,a=t.to,u=t.from;d.fn[l]=function(t){if(a&&!this[s]&&(this[s]=a(this._rgba)),t===c)return this[s].slice();var e,n=h.type(t),o="array"===n||"object"===n?t:arguments,r=this[s].slice();return g(i,function(t,e){var i=o["object"===n?t:e.idx];null==i&&(i=r[e.idx]),r[e.idx]=v(i,e)}),u?((e=d(u(r)))[s]=r,e):d(r)},g(i,function(s,a){d.fn[s]||(d.fn[s]=function(t){var e,i=h.type(t),n="alpha"===s?this._hsla?"hsla":"rgba":l,o=this[n](),r=o[a.idx];return"undefined"===i?r:("function"===i&&(t=t.call(this,r),i=h.type(t)),null==t&&a.empty?this:("string"===i&&(e=p.exec(t))&&(t=r+parseFloat(e[2])*("+"===e[1]?1:-1)),o[a.idx]=t,this[n](o)))})})}),d.hook=function(t){var e=t.split(" ");g(e,function(t,r){h.cssHooks[r]={set:function(t,e){var i,n,o="";if("transparent"!==e&&("string"!==h.type(e)||(i=a(e)))){if(e=d(i||e),!s.rgba&&1!==e._rgba[3]){for(n="backgroundColor"===r?t.parentNode:t;(""===o||"transparent"===o)&&n&&n.style;)try{o=h.css(n,"backgroundColor"),n=n.parentNode}catch(t){}e=e.blend(o&&"transparent"!==o?o:"_default")}e=e.toRgbaString()}try{t.style[r]=e}catch(t){}}},h.fx.step[r]=function(t){t.colorInit||(t.start=d(t.elem,r),t.end=d(t.end),t.colorInit=!0),h.cssHooks[r].set(t.elem,t.start.transition(t.end,t.pos))}})},d.hook("backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor"),h.cssHooks.borderColor={expand:function(i){var n={};return g(["Top","Right","Bottom","Left"],function(t,e){n["border"+e+"Color"]=i}),n}},u=h.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(h),function(){var r,o,s,a=["add","remove","toggle"],l={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};function u(t){var e,i,n=t.ownerDocument.defaultView?t.ownerDocument.defaultView.getComputedStyle(t,null):t.currentStyle,o={};if(n&&n.length&&n[0]&&n[n[0]])for(i=n.length;i--;)"string"==typeof n[e=n[i]]&&(o[S.camelCase(e)]=n[e]);else for(e in n)"string"==typeof n[e]&&(o[e]=n[e]);return o}S.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(t,e){S.fx.step[e]=function(t){("none"!==t.end&&!t.setAttr||1===t.pos&&!t.setAttr)&&(h.style(t.elem,e,t.end),t.setAttr=!0)}}),S.fn.addBack||(S.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),S.effects.animateClass=function(o,t,e,i){var r=S.speed(t,e,i);return this.queue(function(){var t,i=S(this),e=i.attr("class")||"",n=r.children?i.find("*").addBack():i;n=n.map(function(){return{el:S(this),start:u(this)}}),(t=function(){S.each(a,function(t,e){o[e]&&i[e+"Class"](o[e])})})(),n=n.map(function(){return this.end=u(this.el[0]),this.diff=function(t,e){var i,n,o={};for(i in e)n=e[i],t[i]!==n&&(l[i]||!S.fx.step[i]&&isNaN(parseFloat(n))||(o[i]=n));return o}(this.start,this.end),this}),i.attr("class",e),n=n.map(function(){var t=this,e=S.Deferred(),i=S.extend({},r,{queue:!1,complete:function(){e.resolve(t)}});return this.el.animate(this.diff,i),e.promise()}),S.when.apply(S,n.get()).done(function(){t(),S.each(arguments,function(){var e=this.el;S.each(this.diff,function(t){e.css(t,"")})}),r.complete.call(i[0])})})},S.fn.extend({addClass:(s=S.fn.addClass,function(t,e,i,n){return e?S.effects.animateClass.call(this,{add:t},e,i,n):s.apply(this,arguments)}),removeClass:(o=S.fn.removeClass,function(t,e,i,n){return 1<arguments.length?S.effects.animateClass.call(this,{remove:t},e,i,n):o.apply(this,arguments)}),toggleClass:(r=S.fn.toggleClass,function(t,e,i,n,o){return"boolean"==typeof e||void 0===e?i?S.effects.animateClass.call(this,e?{add:t}:{remove:t},i,n,o):r.apply(this,arguments):S.effects.animateClass.call(this,{toggle:t},e,i,n)}),switchClass:function(t,e,i,n,o){return S.effects.animateClass.call(this,{add:e,remove:t},i,n,o)}})}(),function(){var e,i,n,o;function h(t,e,i,n){return S.isPlainObject(t)&&(t=(e=t).effect),t={effect:t},null==e&&(e={}),S.isFunction(e)&&(n=e,i=null,e={}),("number"==typeof e||S.fx.speeds[e])&&(n=i,i=e,e={}),S.isFunction(i)&&(n=i,i=null),e&&S.extend(t,e),i=i||e.duration,t.duration=S.fx.off?0:"number"==typeof i?i:i in S.fx.speeds?S.fx.speeds[i]:S.fx.speeds._default,t.complete=n||e.complete,t}function r(t){return!(t&&"number"!=typeof t&&!S.fx.speeds[t])||("string"==typeof t&&!S.effects.effect[t]||(!!S.isFunction(t)||"object"==typeof t&&!t.effect))}function s(t,e){var i=e.outerWidth(),n=e.outerHeight(),o=/^rect\((-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto)\)$/.exec(t)||["",0,i,n,0];return{top:parseFloat(o[1])||0,right:"auto"===o[2]?i:parseFloat(o[2]),bottom:"auto"===o[3]?n:parseFloat(o[3]),left:parseFloat(o[4])||0}}S.expr&&S.expr.filters&&S.expr.filters.animated&&(S.expr.filters.animated=(e=S.expr.filters.animated,function(t){return!!S(t).data(c)||e(t)})),!1!==S.uiBackCompat&&S.extend(S.effects,{save:function(t,e){for(var i=0,n=e.length;i<n;i++)null!==e[i]&&t.data(l+e[i],t[0].style[e[i]])},restore:function(t,e){for(var i,n=0,o=e.length;n<o;n++)null!==e[n]&&(i=t.data(l+e[n]),t.css(e[n],i))},setMode:function(t,e){return"toggle"===e&&(e=t.is(":hidden")?"show":"hide"),e},createWrapper:function(i){if(i.parent().is(".ui-effects-wrapper"))return i.parent();var n={width:i.outerWidth(!0),height:i.outerHeight(!0),float:i.css("float")},t=S("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),e={width:i.width(),height:i.height()},o=document.activeElement;try{o.id}catch(t){o=document.body}return i.wrap(t),(i[0]===o||S.contains(i[0],o))&&S(o).trigger("focus"),t=i.parent(),"static"===i.css("position")?(t.css({position:"relative"}),i.css({position:"relative"})):(S.extend(n,{position:i.css("position"),zIndex:i.css("z-index")}),S.each(["top","left","bottom","right"],function(t,e){n[e]=i.css(e),isNaN(parseInt(n[e],10))&&(n[e]="auto")}),i.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),i.css(e),t.css(n).show()},removeWrapper:function(t){var e=document.activeElement;return t.parent().is(".ui-effects-wrapper")&&(t.parent().replaceWith(t),(t[0]===e||S.contains(t[0],e))&&S(e).trigger("focus")),t}}),S.extend(S.effects,{version:"1.12.1",define:function(t,e,i){return i||(i=e,e="effect"),S.effects.effect[t]=i,S.effects.effect[t].mode=e,i},scaledDimensions:function(t,e,i){if(0===e)return{height:0,width:0,outerHeight:0,outerWidth:0};var n="horizontal"!==i?(e||100)/100:1,o="vertical"!==i?(e||100)/100:1;return{height:t.height()*o,width:t.width()*n,outerHeight:t.outerHeight()*o,outerWidth:t.outerWidth()*n}},clipToBox:function(t){return{width:t.clip.right-t.clip.left,height:t.clip.bottom-t.clip.top,left:t.clip.left,top:t.clip.top}},unshift:function(t,e,i){var n=t.queue();1<e&&n.splice.apply(n,[1,0].concat(n.splice(e,i))),t.dequeue()},saveStyle:function(t){t.data(u,t[0].style.cssText)},restoreStyle:function(t){t[0].style.cssText=t.data(u)||"",t.removeData(u)},mode:function(t,e){var i=t.is(":hidden");return"toggle"===e&&(e=i?"show":"hide"),(i?"hide"===e:"show"===e)&&(e="none"),e},getBaseline:function(t,e){var i,n;switch(t[0]){case"top":i=0;break;case"middle":i=.5;break;case"bottom":i=1;break;default:i=t[0]/e.height}switch(t[1]){case"left":n=0;break;case"center":n=.5;break;case"right":n=1;break;default:n=t[1]/e.width}return{x:n,y:i}},createPlaceholder:function(t){var e,i=t.css("position"),n=t.position();return t.css({marginTop:t.css("marginTop"),marginBottom:t.css("marginBottom"),marginLeft:t.css("marginLeft"),marginRight:t.css("marginRight")}).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()),/^(static|relative)/.test(i)&&(i="absolute",e=S("<"+t[0].nodeName+">").insertAfter(t).css({display:/^(inline|ruby)/.test(t.css("display"))?"inline-block":"block",visibility:"hidden",marginTop:t.css("marginTop"),marginBottom:t.css("marginBottom"),marginLeft:t.css("marginLeft"),marginRight:t.css("marginRight"),float:t.css("float")}).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()).addClass("ui-effects-placeholder"),t.data(l+"placeholder",e)),t.css({position:i,left:n.left,top:n.top}),e},removePlaceholder:function(t){var e=l+"placeholder",i=t.data(e);i&&(i.remove(),t.removeData(e))},cleanUp:function(t){S.effects.restoreStyle(t),S.effects.removePlaceholder(t)},setTransition:function(n,t,o,r){return r=r||{},S.each(t,function(t,e){var i=n.cssUnit(e);0<i[0]&&(r[e]=i[0]*o+i[1])}),r}}),S.fn.extend({effect:function(){var n=h.apply(this,arguments),o=S.effects.effect[n.effect],r=o.mode,t=n.queue,e=t||"fx",s=n.complete,a=n.mode,l=[],i=function(t){var e=S(this),i=S.effects.mode(e,a)||r;e.data(c,!0),l.push(i),r&&("show"===i||i===r&&"hide"===i)&&e.show(),r&&"none"===i||S.effects.saveStyle(e),S.isFunction(t)&&t()};if(S.fx.off||!o)return a?this[a](n.duration,s):this.each(function(){s&&s.call(this)});function u(t){var e=S(this);function i(){S.isFunction(s)&&s.call(e[0]),S.isFunction(t)&&t()}n.mode=l.shift(),!1===S.uiBackCompat||r?"none"===n.mode?(e[a](),i()):o.call(e[0],n,function(){e.removeData(c),S.effects.cleanUp(e),"hide"===n.mode&&e.hide(),i()}):(e.is(":hidden")?"hide"===a:"show"===a)?(e[a](),i()):o.call(e[0],n,i)}return!1===t?this.each(i).each(u):this.queue(e,i).queue(e,u)},show:(o=S.fn.show,function(t){if(r(t))return o.apply(this,arguments);var e=h.apply(this,arguments);return e.mode="show",this.effect.call(this,e)}),hide:(n=S.fn.hide,function(t){if(r(t))return n.apply(this,arguments);var e=h.apply(this,arguments);return e.mode="hide",this.effect.call(this,e)}),toggle:(i=S.fn.toggle,function(t){if(r(t)||"boolean"==typeof t)return i.apply(this,arguments);var e=h.apply(this,arguments);return e.mode="toggle",this.effect.call(this,e)}),cssUnit:function(t){var i=this.css(t),n=[];return S.each(["em","px","%","pt"],function(t,e){0<i.indexOf(e)&&(n=[parseFloat(i),e])}),n},cssClip:function(t){return t?this.css("clip","rect("+t.top+"px "+t.right+"px "+t.bottom+"px "+t.left+"px)"):s(this.css("clip"),this)},transfer:function(t,e){var i=S(this),n=S(t.to),o="fixed"===n.css("position"),r=S("body"),s=o?r.scrollTop():0,a=o?r.scrollLeft():0,l=n.offset(),u={top:l.top-s,left:l.left-a,height:n.innerHeight(),width:n.innerWidth()},h=i.offset(),c=S("<div class='ui-effects-transfer'></div>").appendTo("body").addClass(t.className).css({top:h.top-s,left:h.left-a,height:i.innerHeight(),width:i.innerWidth(),position:o?"fixed":"absolute"}).animate(u,t.duration,t.easing,function(){c.remove(),S.isFunction(e)&&e()})}}),S.fx.step.clip=function(t){t.clipInit||(t.start=S(t.elem).cssClip(),"string"==typeof t.end&&(t.end=s(t.end,t.elem)),t.clipInit=!0),S(t.elem).cssClip({top:t.pos*(t.end.top-t.start.top)+t.start.top,right:t.pos*(t.end.right-t.start.right)+t.start.right,bottom:t.pos*(t.end.bottom-t.start.bottom)+t.start.bottom,left:t.pos*(t.end.left-t.start.left)+t.start.left})}}(),n={},S.each(["Quad","Cubic","Quart","Quint","Expo"],function(e,t){n[t]=function(t){return Math.pow(t,e+2)}}),S.extend(n,{Sine:function(t){return 1-Math.cos(t*Math.PI/2)},Circ:function(t){return 1-Math.sqrt(1-t*t)},Elastic:function(t){return 0===t||1===t?t:-Math.pow(2,8*(t-1))*Math.sin((80*(t-1)-7.5)*Math.PI/15)},Back:function(t){return t*t*(3*t-2)},Bounce:function(t){for(var e,i=4;t<((e=Math.pow(2,--i))-1)/11;);return 1/Math.pow(4,3-i)-7.5625*Math.pow((3*e-2)/22-t,2)}}),S.each(n,function(t,e){S.easing["easeIn"+t]=e,S.easing["easeOut"+t]=function(t){return 1-e(1-t)},S.easing["easeInOut"+t]=function(t){return t<.5?e(2*t)/2:1-e(-2*t+2)/2}});S.effects,S.effects.define("blind","hide",function(t,e){var i={up:["bottom","top"],vertical:["bottom","top"],down:["top","bottom"],left:["right","left"],horizontal:["right","left"],right:["left","right"]},n=S(this),o=t.direction||"up",r=n.cssClip(),s={clip:S.extend({},r)},a=S.effects.createPlaceholder(n);s.clip[i[o][0]]=s.clip[i[o][1]],"show"===t.mode&&(n.cssClip(s.clip),a&&a.css(S.effects.clipToBox(s)),s.clip=r),a&&a.animate(S.effects.clipToBox(s),t.duration,t.easing),n.animate(s,{queue:!1,duration:t.duration,easing:t.easing,complete:e})}),S.effects.define("bounce",function(t,e){var i,n,o,r=S(this),s=t.mode,a="hide"===s,l="show"===s,u=t.direction||"up",h=t.distance,c=t.times||5,p=2*c+(l||a?1:0),d=t.duration/p,f=t.easing,m="up"===u||"down"===u?"top":"left",g="up"===u||"left"===u,v=0,y=r.queue().length;for(S.effects.createPlaceholder(r),o=r.css(m),h||(h=r["top"===m?"outerHeight":"outerWidth"]()/3),l&&((n={opacity:1})[m]=o,r.css("opacity",0).css(m,g?2*-h:2*h).animate(n,d,f)),a&&(h/=Math.pow(2,c-1)),(n={})[m]=o;v<c;v++)(i={})[m]=(g?"-=":"+=")+h,r.animate(i,d,f).animate(n,d,f),h=a?2*h:h/2;a&&((i={opacity:0})[m]=(g?"-=":"+=")+h,r.animate(i,d,f)),r.queue(e),S.effects.unshift(r,y,p+1)}),S.effects.define("clip","hide",function(t,e){var i,n={},o=S(this),r=t.direction||"vertical",s="both"===r,a=s||"horizontal"===r,l=s||"vertical"===r;i=o.cssClip(),n.clip={top:l?(i.bottom-i.top)/2:i.top,right:a?(i.right-i.left)/2:i.right,bottom:l?(i.bottom-i.top)/2:i.bottom,left:a?(i.right-i.left)/2:i.left},S.effects.createPlaceholder(o),"show"===t.mode&&(o.cssClip(n.clip),n.clip=i),o.animate(n,{queue:!1,duration:t.duration,easing:t.easing,complete:e})}),S.effects.define("drop","hide",function(t,e){var i,n=S(this),o="show"===t.mode,r=t.direction||"left",s="up"===r||"down"===r?"top":"left",a="up"===r||"left"===r?"-=":"+=",l="+="===a?"-=":"+=",u={opacity:0};S.effects.createPlaceholder(n),i=t.distance||n["top"===s?"outerHeight":"outerWidth"](!0)/2,u[s]=a+i,o&&(n.css(u),u[s]=l+i,u.opacity=1),n.animate(u,{queue:!1,duration:t.duration,easing:t.easing,complete:e})}),S.effects.define("explode","hide",function(t,e){var i,n,o,r,s,a,l=t.pieces?Math.round(Math.sqrt(t.pieces)):3,u=l,h=S(this),c="show"===t.mode,p=h.show().css("visibility","hidden").offset(),d=Math.ceil(h.outerWidth()/u),f=Math.ceil(h.outerHeight()/l),m=[];function g(){m.push(this),m.length===l*u&&(h.css({visibility:"visible"}),S(m).remove(),e())}for(i=0;i<l;i++)for(r=p.top+i*f,a=i-(l-1)/2,n=0;n<u;n++)o=p.left+n*d,s=n-(u-1)/2,h.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-n*d,top:-i*f}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:d,height:f,left:o+(c?s*d:0),top:r+(c?a*f:0),opacity:c?0:1}).animate({left:o+(c?0:s*d),top:r+(c?0:a*f),opacity:c?1:0},t.duration||500,t.easing,g)}),S.effects.define("fade","toggle",function(t,e){var i="show"===t.mode;S(this).css("opacity",i?0:1).animate({opacity:i?1:0},{queue:!1,duration:t.duration,easing:t.easing,complete:e})}),S.effects.define("fold","hide",function(e,t){var i=S(this),n=e.mode,o="show"===n,r="hide"===n,s=e.size||15,a=/([0-9]+)%/.exec(s),l=!!e.horizFirst?["right","bottom"]:["bottom","right"],u=e.duration/2,h=S.effects.createPlaceholder(i),c=i.cssClip(),p={clip:S.extend({},c)},d={clip:S.extend({},c)},f=[c[l[0]],c[l[1]]],m=i.queue().length;a&&(s=parseInt(a[1],10)/100*f[r?0:1]),p.clip[l[0]]=s,d.clip[l[0]]=s,d.clip[l[1]]=0,o&&(i.cssClip(d.clip),h&&h.css(S.effects.clipToBox(d)),d.clip=c),i.queue(function(t){h&&h.animate(S.effects.clipToBox(p),u,e.easing).animate(S.effects.clipToBox(d),u,e.easing),t()}).animate(p,u,e.easing).animate(d,u,e.easing).queue(t),S.effects.unshift(i,m,4)}),S.effects.define("highlight","show",function(t,e){var i=S(this),n={backgroundColor:i.css("backgroundColor")};"hide"===t.mode&&(n.opacity=0),S.effects.saveStyle(i),i.css({backgroundImage:"none",backgroundColor:t.color||"#ffff99"}).animate(n,{queue:!1,duration:t.duration,easing:t.easing,complete:e})}),S.effects.define("size",function(o,e){var t,r,i,n=S(this),s=["fontSize"],a=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],l=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],u=o.mode,h="effect"!==u,c=o.scale||"both",p=o.origin||["middle","center"],d=n.css("position"),f=n.position(),m=S.effects.scaledDimensions(n),g=o.from||m,v=o.to||S.effects.scaledDimensions(n,0);S.effects.createPlaceholder(n),"show"===u&&(i=g,g=v,v=i),r={from:{y:g.height/m.height,x:g.width/m.width},to:{y:v.height/m.height,x:v.width/m.width}},"box"!==c&&"both"!==c||(r.from.y!==r.to.y&&(g=S.effects.setTransition(n,a,r.from.y,g),v=S.effects.setTransition(n,a,r.to.y,v)),r.from.x!==r.to.x&&(g=S.effects.setTransition(n,l,r.from.x,g),v=S.effects.setTransition(n,l,r.to.x,v))),"content"!==c&&"both"!==c||r.from.y!==r.to.y&&(g=S.effects.setTransition(n,s,r.from.y,g),v=S.effects.setTransition(n,s,r.to.y,v)),p&&(t=S.effects.getBaseline(p,m),g.top=(m.outerHeight-g.outerHeight)*t.y+f.top,g.left=(m.outerWidth-g.outerWidth)*t.x+f.left,v.top=(m.outerHeight-v.outerHeight)*t.y+f.top,v.left=(m.outerWidth-v.outerWidth)*t.x+f.left),n.css(g),"content"!==c&&"both"!==c||(a=a.concat(["marginTop","marginBottom"]).concat(s),l=l.concat(["marginLeft","marginRight"]),n.find("*[width]").each(function(){var t=S(this),e=S.effects.scaledDimensions(t),i={height:e.height*r.from.y,width:e.width*r.from.x,outerHeight:e.outerHeight*r.from.y,outerWidth:e.outerWidth*r.from.x},n={height:e.height*r.to.y,width:e.width*r.to.x,outerHeight:e.height*r.to.y,outerWidth:e.width*r.to.x};r.from.y!==r.to.y&&(i=S.effects.setTransition(t,a,r.from.y,i),n=S.effects.setTransition(t,a,r.to.y,n)),r.from.x!==r.to.x&&(i=S.effects.setTransition(t,l,r.from.x,i),n=S.effects.setTransition(t,l,r.to.x,n)),h&&S.effects.saveStyle(t),t.css(i),t.animate(n,o.duration,o.easing,function(){h&&S.effects.restoreStyle(t)})})),n.animate(v,{queue:!1,duration:o.duration,easing:o.easing,complete:function(){var t=n.offset();0===v.opacity&&n.css("opacity",g.opacity),h||(n.css("position","static"===d?"relative":d).offset(t),S.effects.saveStyle(n)),e()}})}),S.effects.define("scale",function(t,e){var i=S(this),n=t.mode,o=parseInt(t.percent,10)||(0===parseInt(t.percent,10)?0:"effect"!==n?0:100),r=S.extend(!0,{from:S.effects.scaledDimensions(i),to:S.effects.scaledDimensions(i,o,t.direction||"both"),origin:t.origin||["middle","center"]},t);t.fade&&(r.from.opacity=1,r.to.opacity=0),S.effects.effect.size.call(this,r,e)}),S.effects.define("puff","hide",function(t,e){var i=S.extend(!0,{},t,{fade:!0,percent:parseInt(t.percent,10)||150});S.effects.effect.scale.call(this,i,e)}),S.effects.define("pulsate","show",function(t,e){var i=S(this),n=t.mode,o="show"===n,r=o||"hide"===n,s=2*(t.times||5)+(r?1:0),a=t.duration/s,l=0,u=1,h=i.queue().length;for(!o&&i.is(":visible")||(i.css("opacity",0).show(),l=1);u<s;u++)i.animate({opacity:l},a,t.easing),l=1-l;i.animate({opacity:l},a,t.easing),i.queue(e),S.effects.unshift(i,h,s+1)}),S.effects.define("shake",function(t,e){var i=1,n=S(this),o=t.direction||"left",r=t.distance||20,s=t.times||3,a=2*s+1,l=Math.round(t.duration/a),u="up"===o||"down"===o?"top":"left",h="up"===o||"left"===o,c={},p={},d={},f=n.queue().length;for(S.effects.createPlaceholder(n),c[u]=(h?"-=":"+=")+r,p[u]=(h?"+=":"-=")+2*r,d[u]=(h?"-=":"+=")+2*r,n.animate(c,l,t.easing);i<s;i++)n.animate(p,l,t.easing).animate(d,l,t.easing);n.animate(p,l,t.easing).animate(c,l/2,t.easing).queue(e),S.effects.unshift(n,f,a+1)}),S.effects.define("slide","show",function(t,e){var i,n,o=S(this),r={up:["bottom","top"],down:["top","bottom"],left:["right","left"],right:["left","right"]},s=t.mode,a=t.direction||"left",l="up"===a||"down"===a?"top":"left",u="up"===a||"left"===a,h=t.distance||o["top"===l?"outerHeight":"outerWidth"](!0),c={};S.effects.createPlaceholder(o),i=o.cssClip(),n=o.position()[l],c[l]=(u?-1:1)*h+n,c.clip=o.cssClip(),c.clip[r[a][1]]=c.clip[r[a][0]],"show"===s&&(o.cssClip(c.clip),o.css(l,c[l]),c.clip=i,c[l]=n),o.animate(c,{queue:!1,duration:t.duration,easing:t.easing,complete:e})});!1!==S.uiBackCompat&&S.effects.define("transfer",function(t,e){S(this).transfer(t,e)});S.ui.focusable=function(t,e){var i,n,o,r,s,a=t.nodeName.toLowerCase();return"area"===a?(n=(i=t.parentNode).name,!(!t.href||!n||"map"!==i.nodeName.toLowerCase())&&(0<(o=S("img[usemap='#"+n+"']")).length&&o.is(":visible"))):(/^(input|select|textarea|button|object)$/.test(a)?(r=!t.disabled)&&(s=S(t).closest("fieldset")[0])&&(r=!s.disabled):r="a"===a&&t.href||e,r&&S(t).is(":visible")&&function(t){var e=t.css("visibility");for(;"inherit"===e;)t=t.parent(),e=t.css("visibility");return"hidden"!==e}(S(t)))},S.extend(S.expr[":"],{focusable:function(t){return S.ui.focusable(t,null!=S.attr(t,"tabindex"))}});S.ui.focusable,S.fn.form=function(){return"string"==typeof this[0].form?this.closest("form"):S(this[0].form)},S.ui.formResetMixin={_formResetHandler:function(){var e=S(this);setTimeout(function(){var t=e.data("ui-form-reset-instances");S.each(t,function(){this.refresh()})})},_bindFormResetHandler:function(){if(this.form=this.element.form(),this.form.length){var t=this.form.data("ui-form-reset-instances")||[];t.length||this.form.on("reset.ui-form-reset",this._formResetHandler),t.push(this),this.form.data("ui-form-reset-instances",t)}},_unbindFormResetHandler:function(){if(this.form.length){var t=this.form.data("ui-form-reset-instances");t.splice(S.inArray(this,t),1),t.length?this.form.data("ui-form-reset-instances",t):this.form.removeData("ui-form-reset-instances").off("reset.ui-form-reset")}}};"1.7"===S.fn.jquery.substring(0,3)&&(S.each(["Width","Height"],function(t,i){var o="Width"===i?["Left","Right"]:["Top","Bottom"],n=i.toLowerCase(),r={innerWidth:S.fn.innerWidth,innerHeight:S.fn.innerHeight,outerWidth:S.fn.outerWidth,outerHeight:S.fn.outerHeight};function s(t,e,i,n){return S.each(o,function(){e-=parseFloat(S.css(t,"padding"+this))||0,i&&(e-=parseFloat(S.css(t,"border"+this+"Width"))||0),n&&(e-=parseFloat(S.css(t,"margin"+this))||0)}),e}S.fn["inner"+i]=function(t){return void 0===t?r["inner"+i].call(this):this.each(function(){S(this).css(n,s(this,t)+"px")})},S.fn["outer"+i]=function(t,e){return"number"!=typeof t?r["outer"+i].call(this,t):this.each(function(){S(this).css(n,s(this,t,!0,e)+"px")})}}),S.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))});var e,r;S.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38},S.ui.escapeSelector=(e=/([!"#$%&'()*+,./:;<=>?@[\]^`{|}~])/g,function(t){return t.replace(e,"\\$1")}),S.fn.labels=function(){var t,e,i,n,o;return this[0].labels&&this[0].labels.length?this.pushStack(this[0].labels):(n=this.eq(0).parents("label"),(i=this.attr("id"))&&(o=(t=this.eq(0).parents().last()).add(t.length?t.siblings():this.siblings()),e="label[for='"+S.ui.escapeSelector(i)+"']",n=n.add(o.find(e).addBack(e))),this.pushStack(n))},S.fn.scrollParent=function(t){var e=this.css("position"),i="absolute"===e,n=t?/(auto|scroll|hidden)/:/(auto|scroll)/,o=this.parents().filter(function(){var t=S(this);return(!i||"static"!==t.css("position"))&&n.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))}).eq(0);return"fixed"!==e&&o.length?o:S(this[0].ownerDocument||document)},S.extend(S.expr[":"],{tabbable:function(t){var e=S.attr(t,"tabindex"),i=null!=e;return(!i||0<=e)&&S.ui.focusable(t,i)}}),S.fn.extend({uniqueId:(r=0,function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++r)})}),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&S(this).removeAttr("id")})}}),S.widget("ui.accordion",{version:"1.12.1",options:{active:0,animate:{},classes:{"ui-accordion-header":"ui-corner-top","ui-accordion-header-collapsed":"ui-corner-all","ui-accordion-content":"ui-corner-bottom"},collapsible:!1,event:"click",header:"> li > :first-child, > :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var t=this.options;this.prevShow=this.prevHide=S(),this._addClass("ui-accordion","ui-widget ui-helper-reset"),this.element.attr("role","tablist"),t.collapsible||!1!==t.active&&null!=t.active||(t.active=0),this._processPanels(),t.active<0&&(t.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():S()}},_createIcons:function(){var t,e,i=this.options.icons;i&&(t=S("<span>"),this._addClass(t,"ui-accordion-header-icon","ui-icon "+i.header),t.prependTo(this.headers),e=this.active.children(".ui-accordion-header-icon"),this._removeClass(e,i.header)._addClass(e,null,i.activeHeader)._addClass(this.headers,"ui-accordion-icons"))},_destroyIcons:function(){this._removeClass(this.headers,"ui-accordion-icons"),this.headers.children(".ui-accordion-header-icon").remove()},_destroy:function(){var t;this.element.removeAttr("role"),this.headers.removeAttr("role aria-expanded aria-selected aria-controls tabIndex").removeUniqueId(),this._destroyIcons(),t=this.headers.next().css("display","").removeAttr("role aria-hidden aria-labelledby").removeUniqueId(),"content"!==this.options.heightStyle&&t.css("height","")},_setOption:function(t,e){"active"!==t?("event"===t&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(e)),this._super(t,e),"collapsible"!==t||e||!1!==this.options.active||this._activate(0),"icons"===t&&(this._destroyIcons(),e&&this._createIcons())):this._activate(e)},_setOptionDisabled:function(t){this._super(t),this.element.attr("aria-disabled",t),this._toggleClass(null,"ui-state-disabled",!!t),this._toggleClass(this.headers.add(this.headers.next()),null,"ui-state-disabled",!!t)},_keydown:function(t){if(!t.altKey&&!t.ctrlKey){var e=S.ui.keyCode,i=this.headers.length,n=this.headers.index(t.target),o=!1;switch(t.keyCode){case e.RIGHT:case e.DOWN:o=this.headers[(n+1)%i];break;case e.LEFT:case e.UP:o=this.headers[(n-1+i)%i];break;case e.SPACE:case e.ENTER:this._eventHandler(t);break;case e.HOME:o=this.headers[0];break;case e.END:o=this.headers[i-1]}o&&(S(t.target).attr("tabIndex",-1),S(o).attr("tabIndex",0),S(o).trigger("focus"),t.preventDefault())}},_panelKeyDown:function(t){t.keyCode===S.ui.keyCode.UP&&t.ctrlKey&&S(t.currentTarget).prev().trigger("focus")},refresh:function(){var t=this.options;this._processPanels(),!1===t.active&&!0===t.collapsible||!this.headers.length?(t.active=!1,this.active=S()):!1===t.active?this._activate(0):this.active.length&&!S.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(t.active=!1,this.active=S()):this._activate(Math.max(0,t.active-1)):t.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){var t=this.headers,e=this.panels;this.headers=this.element.find(this.options.header),this._addClass(this.headers,"ui-accordion-header ui-accordion-header-collapsed","ui-state-default"),this.panels=this.headers.next().filter(":not(.ui-accordion-content-active)").hide(),this._addClass(this.panels,"ui-accordion-content","ui-helper-reset ui-widget-content"),e&&(this._off(t.not(this.headers)),this._off(e.not(this.panels)))},_refresh:function(){var i,t=this.options,e=t.heightStyle,n=this.element.parent();this.active=this._findActive(t.active),this._addClass(this.active,"ui-accordion-header-active","ui-state-active")._removeClass(this.active,"ui-accordion-header-collapsed"),this._addClass(this.active.next(),"ui-accordion-content-active"),this.active.next().show(),this.headers.attr("role","tab").each(function(){var t=S(this),e=t.uniqueId().attr("id"),i=t.next(),n=i.uniqueId().attr("id");t.attr("aria-controls",n),i.attr("aria-labelledby",e)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(t.event),"fill"===e?(i=n.height(),this.element.siblings(":visible").each(function(){var t=S(this),e=t.css("position");"absolute"!==e&&"fixed"!==e&&(i-=t.outerHeight(!0))}),this.headers.each(function(){i-=S(this).outerHeight(!0)}),this.headers.next().each(function(){S(this).height(Math.max(0,i-S(this).innerHeight()+S(this).height()))}).css("overflow","auto")):"auto"===e&&(i=0,this.headers.next().each(function(){var t=S(this).is(":visible");t||S(this).show(),i=Math.max(i,S(this).css("height","").height()),t||S(this).hide()}).height(i))},_activate:function(t){var e=this._findActive(t)[0];e!==this.active[0]&&(e=e||this.active[0],this._eventHandler({target:e,currentTarget:e,preventDefault:S.noop}))},_findActive:function(t){return"number"==typeof t?this.headers.eq(t):S()},_setupEvents:function(t){var i={keydown:"_keydown"};t&&S.each(t.split(" "),function(t,e){i[e]="_eventHandler"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,i),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(t){var e,i,n=this.options,o=this.active,r=S(t.currentTarget),s=r[0]===o[0],a=s&&n.collapsible,l=a?S():r.next(),u=o.next(),h={oldHeader:o,oldPanel:u,newHeader:a?S():r,newPanel:l};t.preventDefault(),s&&!n.collapsible||!1===this._trigger("beforeActivate",t,h)||(n.active=!a&&this.headers.index(r),this.active=s?S():r,this._toggle(h),this._removeClass(o,"ui-accordion-header-active","ui-state-active"),n.icons&&(e=o.children(".ui-accordion-header-icon"),this._removeClass(e,null,n.icons.activeHeader)._addClass(e,null,n.icons.header)),s||(this._removeClass(r,"ui-accordion-header-collapsed")._addClass(r,"ui-accordion-header-active","ui-state-active"),n.icons&&(i=r.children(".ui-accordion-header-icon"),this._removeClass(i,null,n.icons.header)._addClass(i,null,n.icons.activeHeader)),this._addClass(r.next(),"ui-accordion-content-active")))},_toggle:function(t){var e=t.newPanel,i=this.prevShow.length?this.prevShow:t.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=e,this.prevHide=i,this.options.animate?this._animate(e,i,t):(i.hide(),e.show(),this._toggleComplete(t)),i.attr({"aria-hidden":"true"}),i.prev().attr({"aria-selected":"false","aria-expanded":"false"}),e.length&&i.length?i.prev().attr({tabIndex:-1,"aria-expanded":"false"}):e.length&&this.headers.filter(function(){return 0===parseInt(S(this).attr("tabIndex"),10)}).attr("tabIndex",-1),e.attr("aria-hidden","false").prev().attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_animate:function(t,i,e){var n,o,r,s=this,a=0,l=t.css("box-sizing"),u=t.length&&(!i.length||t.index()<i.index()),h=this.options.animate||{},c=u&&h.down||h,p=function(){s._toggleComplete(e)};return"number"==typeof c&&(r=c),"string"==typeof c&&(o=c),o=o||c.easing||h.easing,r=r||c.duration||h.duration,i.length?t.length?(n=t.show().outerHeight(),i.animate(this.hideProps,{duration:r,easing:o,step:function(t,e){e.now=Math.round(t)}}),void t.hide().animate(this.showProps,{duration:r,easing:o,complete:p,step:function(t,e){e.now=Math.round(t),"height"!==e.prop?"content-box"===l&&(a+=e.now):"content"!==s.options.heightStyle&&(e.now=Math.round(n-i.outerHeight()-a),a=0)}})):i.animate(this.hideProps,r,o,p):t.animate(this.showProps,r,o,p)},_toggleComplete:function(t){var e=t.oldPanel,i=e.prev();this._removeClass(e,"ui-accordion-content-active"),this._removeClass(i,"ui-accordion-header-active")._addClass(i,"ui-accordion-header-collapsed"),e.length&&(e.parent()[0].className=e.parent()[0].className),this._trigger("activate",null,t)}}),S.ui.safeActiveElement=function(e){var i;try{i=e.activeElement}catch(t){i=e.body}return i||(i=e.body),i.nodeName||(i=e.body),i},S.widget("ui.menu",{version:"1.12.1",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-caret-1-e"},items:"> *",menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().attr({role:this.options.role,tabIndex:0}),this._addClass("ui-menu","ui-widget ui-widget-content"),this._on({"mousedown .ui-menu-item":function(t){t.preventDefault()},"click .ui-menu-item":function(t){var e=S(t.target),i=S(S.ui.safeActiveElement(this.document[0]));!this.mouseHandled&&e.not(".ui-state-disabled").length&&(this.select(t),t.isPropagationStopped()||(this.mouseHandled=!0),e.has(".ui-menu").length?this.expand(t):!this.element.is(":focus")&&i.closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(t){if(!this.previousFilter){var e=S(t.target).closest(".ui-menu-item"),i=S(t.currentTarget);e[0]===i[0]&&(this._removeClass(i.siblings().children(".ui-state-active"),null,"ui-state-active"),this.focus(t,i))}},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(t,e){var i=this.active||this.element.find(this.options.items).eq(0);e||this.focus(t,i)},blur:function(t){this._delay(function(){!S.contains(this.element[0],S.ui.safeActiveElement(this.document[0]))&&this.collapseAll(t)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(t){this._closeOnDocumentClick(t)&&this.collapseAll(t),this.mouseHandled=!1}})},_destroy:function(){var t=this.element.find(".ui-menu-item").removeAttr("role aria-disabled").children(".ui-menu-item-wrapper").removeUniqueId().removeAttr("tabIndex role aria-haspopup");this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeAttr("role aria-labelledby aria-expanded aria-hidden aria-disabled tabIndex").removeUniqueId().show(),t.children().each(function(){var t=S(this);t.data("ui-menu-submenu-caret")&&t.remove()})},_keydown:function(t){var e,i,n,o,r=!0;switch(t.keyCode){case S.ui.keyCode.PAGE_UP:this.previousPage(t);break;case S.ui.keyCode.PAGE_DOWN:this.nextPage(t);break;case S.ui.keyCode.HOME:this._move("first","first",t);break;case S.ui.keyCode.END:this._move("last","last",t);break;case S.ui.keyCode.UP:this.previous(t);break;case S.ui.keyCode.DOWN:this.next(t);break;case S.ui.keyCode.LEFT:this.collapse(t);break;case S.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(t);break;case S.ui.keyCode.ENTER:case S.ui.keyCode.SPACE:this._activate(t);break;case S.ui.keyCode.ESCAPE:this.collapse(t);break;default:r=!1,i=this.previousFilter||"",o=!1,n=96<=t.keyCode&&t.keyCode<=105?(t.keyCode-96).toString():String.fromCharCode(t.keyCode),clearTimeout(this.filterTimer),n===i?o=!0:n=i+n,e=this._filterMenuItems(n),(e=o&&-1!==e.index(this.active.next())?this.active.nextAll(".ui-menu-item"):e).length||(n=String.fromCharCode(t.keyCode),e=this._filterMenuItems(n)),e.length?(this.focus(t,e),this.previousFilter=n,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter}r&&t.preventDefault()},_activate:function(t){this.active&&!this.active.is(".ui-state-disabled")&&(this.active.children("[aria-haspopup='true']").length?this.expand(t):this.select(t))},refresh:function(){var t,e,i,n,o=this,r=this.options.icons.submenu,s=this.element.find(this.options.menus);this._toggleClass("ui-menu-icons",null,!!this.element.find(".ui-icon").length),e=s.filter(":not(.ui-menu)").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var t=S(this),e=t.prev(),i=S("<span>").data("ui-menu-submenu-caret",!0);o._addClass(i,"ui-menu-icon","ui-icon "+r),e.attr("aria-haspopup","true").prepend(i),t.attr("aria-labelledby",e.attr("id"))}),this._addClass(e,"ui-menu","ui-widget ui-widget-content ui-front"),(t=s.add(this.element).find(this.options.items)).not(".ui-menu-item").each(function(){var t=S(this);o._isDivider(t)&&o._addClass(t,"ui-menu-divider","ui-widget-content")}),n=(i=t.not(".ui-menu-item, .ui-menu-divider")).children().not(".ui-menu").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),this._addClass(i,"ui-menu-item")._addClass(n,"ui-menu-item-wrapper"),t.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!S.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(t,e){if("icons"===t){var i=this.element.find(".ui-menu-icon");this._removeClass(i,null,this.options.icons.submenu)._addClass(i,null,e.submenu)}this._super(t,e)},_setOptionDisabled:function(t){this._super(t),this.element.attr("aria-disabled",String(t)),this._toggleClass(null,"ui-state-disabled",!!t)},focus:function(t,e){var i,n,o;this.blur(t,t&&"focus"===t.type),this._scrollIntoView(e),this.active=e.first(),n=this.active.children(".ui-menu-item-wrapper"),this._addClass(n,null,"ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",n.attr("id")),o=this.active.parent().closest(".ui-menu-item").children(".ui-menu-item-wrapper"),this._addClass(o,null,"ui-state-active"),t&&"keydown"===t.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),(i=e.children(".ui-menu")).length&&t&&/^mouse/.test(t.type)&&this._startOpening(i),this.activeMenu=e.parent(),this._trigger("focus",t,{item:e})},_scrollIntoView:function(t){var e,i,n,o,r,s;this._hasScroll()&&(e=parseFloat(S.css(this.activeMenu[0],"borderTopWidth"))||0,i=parseFloat(S.css(this.activeMenu[0],"paddingTop"))||0,n=t.offset().top-this.activeMenu.offset().top-e-i,o=this.activeMenu.scrollTop(),r=this.activeMenu.height(),s=t.outerHeight(),n<0?this.activeMenu.scrollTop(o+n):r<n+s&&this.activeMenu.scrollTop(o+n-r+s))},blur:function(t,e){e||clearTimeout(this.timer),this.active&&(this._removeClass(this.active.children(".ui-menu-item-wrapper"),null,"ui-state-active"),this._trigger("blur",t,{item:this.active}),this.active=null)},_startOpening:function(t){clearTimeout(this.timer),"true"===t.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(t)},this.delay))},_open:function(t){var e=S.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(t.parents(".ui-menu")).hide().attr("aria-hidden","true"),t.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(e)},collapseAll:function(e,i){clearTimeout(this.timer),this.timer=this._delay(function(){var t=i?this.element:S(e&&e.target).closest(this.element.find(".ui-menu"));t.length||(t=this.element),this._close(t),this.blur(e),this._removeClass(t.find(".ui-state-active"),null,"ui-state-active"),this.activeMenu=t},this.delay)},_close:function(t){t||(t=this.active?this.active.parent():this.element),t.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false")},_closeOnDocumentClick:function(t){return!S(t.target).closest(".ui-menu").length},_isDivider:function(t){return!/[^\-\u2014\u2013\s]/.test(t.text())},collapse:function(t){var e=this.active&&this.active.parent().closest(".ui-menu-item",this.element);e&&e.length&&(this._close(),this.focus(t,e))},expand:function(t){var e=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();e&&e.length&&(this._open(e.parent()),this._delay(function(){this.focus(t,e)}))},next:function(t){this._move("next","first",t)},previous:function(t){this._move("prev","last",t)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(t,e,i){var n;this.active&&(n="first"===t||"last"===t?this.active["first"===t?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[t+"All"](".ui-menu-item").eq(0)),n&&n.length&&this.active||(n=this.activeMenu.find(this.options.items)[e]()),this.focus(i,n)},nextPage:function(t){var e,i,n;this.active?this.isLastItem()||(this._hasScroll()?(i=this.active.offset().top,n=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return(e=S(this)).offset().top-i-n<0}),this.focus(t,e)):this.focus(t,this.activeMenu.find(this.options.items)[this.active?"last":"first"]())):this.next(t)},previousPage:function(t){var e,i,n;this.active?this.isFirstItem()||(this._hasScroll()?(i=this.active.offset().top,n=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return 0<(e=S(this)).offset().top-i+n}),this.focus(t,e)):this.focus(t,this.activeMenu.find(this.options.items).first())):this.next(t)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(t){this.active=this.active||S(t.target).closest(".ui-menu-item");var e={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(t,!0),this._trigger("select",t,e)},_filterMenuItems:function(t){var e=t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),i=new RegExp("^"+e,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return i.test(S.trim(S(this).children(".ui-menu-item-wrapper").text()))})}});S.widget("ui.autocomplete",{version:"1.12.1",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var i,n,o,t=this.element[0].nodeName.toLowerCase(),e="textarea"===t,r="input"===t;this.isMultiLine=e||!r&&this._isContentEditable(this.element),this.valueMethod=this.element[e||r?"val":"text"],this.isNewMenu=!0,this._addClass("ui-autocomplete-input"),this.element.attr("autocomplete","off"),this._on(this.element,{keydown:function(t){if(this.element.prop("readOnly"))n=o=i=!0;else{n=o=i=!1;var e=S.ui.keyCode;switch(t.keyCode){case e.PAGE_UP:i=!0,this._move("previousPage",t);break;case e.PAGE_DOWN:i=!0,this._move("nextPage",t);break;case e.UP:i=!0,this._keyEvent("previous",t);break;case e.DOWN:i=!0,this._keyEvent("next",t);break;case e.ENTER:this.menu.active&&(i=!0,t.preventDefault(),this.menu.select(t));break;case e.TAB:this.menu.active&&this.menu.select(t);break;case e.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(t),t.preventDefault());break;default:n=!0,this._searchTimeout(t)}}},keypress:function(t){if(i)return i=!1,void(this.isMultiLine&&!this.menu.element.is(":visible")||t.preventDefault());if(!n){var e=S.ui.keyCode;switch(t.keyCode){case e.PAGE_UP:this._move("previousPage",t);break;case e.PAGE_DOWN:this._move("nextPage",t);break;case e.UP:this._keyEvent("previous",t);break;case e.DOWN:this._keyEvent("next",t)}}},input:function(t){if(o)return o=!1,void t.preventDefault();this._searchTimeout(t)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(t){this.cancelBlur?delete this.cancelBlur:(clearTimeout(this.searching),this.close(t),this._change(t))}}),this._initSource(),this.menu=S("<ul>").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance"),this._addClass(this.menu.element,"ui-autocomplete","ui-front"),this._on(this.menu.element,{mousedown:function(t){t.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,this.element[0]!==S.ui.safeActiveElement(this.document[0])&&this.element.trigger("focus")})},menufocus:function(t,e){var i,n;if(this.isNewMenu&&(this.isNewMenu=!1,t.originalEvent&&/^mouse/.test(t.originalEvent.type)))return this.menu.blur(),void this.document.one("mousemove",function(){S(t.target).trigger(t.originalEvent)});n=e.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",t,{item:n})&&t.originalEvent&&/^key/.test(t.originalEvent.type)&&this._value(n.value),(i=e.item.attr("aria-label")||n.value)&&S.trim(i).length&&(this.liveRegion.children().hide(),S("<div>").text(i).appendTo(this.liveRegion))},menuselect:function(t,e){var i=e.item.data("ui-autocomplete-item"),n=this.previous;this.element[0]!==S.ui.safeActiveElement(this.document[0])&&(this.element.trigger("focus"),this.previous=n,this._delay(function(){this.previous=n,this.selectedItem=i})),!1!==this._trigger("select",t,{item:i})&&this._value(i.value),this.term=this._value(),this.close(t),this.selectedItem=i}}),this.liveRegion=S("<div>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(t,e){this._super(t,e),"source"===t&&this._initSource(),"appendTo"===t&&this.menu.element.appendTo(this._appendTo()),"disabled"===t&&e&&this.xhr&&this.xhr.abort()},_isEventTargetInWidget:function(t){var e=this.menu.element[0];return t.target===this.element[0]||t.target===e||S.contains(e,t.target)},_closeOnClickOutside:function(t){this._isEventTargetInWidget(t)||this.close()},_appendTo:function(){var t=this.options.appendTo;return t&&(t=t.jquery||t.nodeType?S(t):this.document.find(t).eq(0)),t&&t[0]||(t=this.element.closest(".ui-front, dialog")),t.length||(t=this.document[0].body),t},_initSource:function(){var i,n,o=this;S.isArray(this.options.source)?(i=this.options.source,this.source=function(t,e){e(S.ui.autocomplete.filter(i,t.term))}):"string"==typeof this.options.source?(n=this.options.source,this.source=function(t,e){o.xhr&&o.xhr.abort(),o.xhr=S.ajax({url:n,data:t,dataType:"json",success:function(t){e(t)},error:function(){e([])}})}):this.source=this.options.source},_searchTimeout:function(n){clearTimeout(this.searching),this.searching=this._delay(function(){var t=this.term===this._value(),e=this.menu.element.is(":visible"),i=n.altKey||n.ctrlKey||n.metaKey||n.shiftKey;t&&(!t||e||i)||(this.selectedItem=null,this.search(null,n))},this.options.delay)},search:function(t,e){return t=null!=t?t:this._value(),this.term=this._value(),t.length<this.options.minLength?this.close(e):!1!==this._trigger("search",e)?this._search(t):void 0},_search:function(t){this.pending++,this._addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:t},this._response())},_response:function(){var e=++this.requestIndex;return S.proxy(function(t){e===this.requestIndex&&this.__response(t),this.pending--,this.pending||this._removeClass("ui-autocomplete-loading")},this)},__response:function(t){t&&(t=this._normalize(t)),this._trigger("response",null,{content:t}),!this.options.disabled&&t&&t.length&&!this.cancelSearch?(this._suggest(t),this._trigger("open")):this._close()},close:function(t){this.cancelSearch=!0,this._close(t)},_close:function(t){this._off(this.document,"mousedown"),this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",t))},_change:function(t){this.previous!==this._value()&&this._trigger("change",t,{item:this.selectedItem})},_normalize:function(t){return t.length&&t[0].label&&t[0].value?t:S.map(t,function(t){return"string"==typeof t?{label:t,value:t}:S.extend({},t,{label:t.label||t.value,value:t.value||t.label})})},_suggest:function(t){var e=this.menu.element.empty();this._renderMenu(e,t),this.isNewMenu=!0,this.menu.refresh(),e.show(),this._resizeMenu(),e.position(S.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next(),this._on(this.document,{mousedown:"_closeOnClickOutside"})},_resizeMenu:function(){var t=this.menu.element;t.outerWidth(Math.max(t.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(i,t){var n=this;S.each(t,function(t,e){n._renderItemData(i,e)})},_renderItemData:function(t,e){return this._renderItem(t,e).data("ui-autocomplete-item",e)},_renderItem:function(t,e){return S("<li>").append(S("<div>").text(e.label)).appendTo(t)},_move:function(t,e){if(this.menu.element.is(":visible"))return this.menu.isFirstItem()&&/^previous/.test(t)||this.menu.isLastItem()&&/^next/.test(t)?(this.isMultiLine||this._value(this.term),void this.menu.blur()):void this.menu[t](e);this.search(null,e)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(t,e){this.isMultiLine&&!this.menu.element.is(":visible")||(this._move(t,e),e.preventDefault())},_isContentEditable:function(t){if(!t.length)return!1;var e=t.prop("contentEditable");return"inherit"===e?this._isContentEditable(t.parent()):"true"===e}}),S.extend(S.ui.autocomplete,{escapeRegex:function(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(t,e){var i=new RegExp(S.ui.autocomplete.escapeRegex(e),"i");return S.grep(t,function(t){return i.test(t.label||t.value||t)})}}),S.widget("ui.autocomplete",S.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(t){return t+(1<t?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(t){var e;this._superApply(arguments),this.options.disabled||this.cancelSearch||(e=t&&t.length?this.options.messages.results(t.length):this.options.messages.noResults,this.liveRegion.children().hide(),S("<div>").text(e).appendTo(this.liveRegion))}});S.ui.autocomplete;var s=/ui-corner-([a-z]){2,6}/g;S.widget("ui.controlgroup",{version:"1.12.1",defaultElement:"<div>",options:{direction:"horizontal",disabled:null,onlyVisible:!0,items:{button:"input[type=button], input[type=submit], input[type=reset], button, a",controlgroupLabel:".ui-controlgroup-label",checkboxradio:"input[type='checkbox'], input[type='radio']",selectmenu:"select",spinner:".ui-spinner-input"}},_create:function(){this._enhance()},_enhance:function(){this.element.attr("role","toolbar"),this.refresh()},_destroy:function(){this._callChildMethod("destroy"),this.childWidgets.removeData("ui-controlgroup-data"),this.element.removeAttr("role"),this.options.items.controlgroupLabel&&this.element.find(this.options.items.controlgroupLabel).find(".ui-controlgroup-label-contents").contents().unwrap()},_initWidgets:function(){var s=this,a=[];S.each(this.options.items,function(o,t){var e,r={};if(t)return"controlgroupLabel"===o?((e=s.element.find(t)).each(function(){var t=S(this);t.children(".ui-controlgroup-label-contents").length||t.contents().wrapAll("<span class='ui-controlgroup-label-contents'></span>")}),s._addClass(e,null,"ui-widget ui-widget-content ui-state-default"),void(a=a.concat(e.get()))):void(S.fn[o]&&(r=s["_"+o+"Options"]?s["_"+o+"Options"]("middle"):{classes:{}},s.element.find(t).each(function(){var t=S(this),e=t[o]("instance"),i=S.widget.extend({},r);if("button"!==o||!t.parent(".ui-spinner").length){e||(e=t[o]()[o]("instance")),e&&(i.classes=s._resolveClassesValues(i.classes,e)),t[o](i);var n=t[o]("widget");S.data(n[0],"ui-controlgroup-data",e||t[o]("instance")),a.push(n[0])}})))}),this.childWidgets=S(S.unique(a)),this._addClass(this.childWidgets,"ui-controlgroup-item")},_callChildMethod:function(e){this.childWidgets.each(function(){var t=S(this).data("ui-controlgroup-data");t&&t[e]&&t[e]()})},_updateCornerClass:function(t,e){var i=this._buildSimpleOptions(e,"label").classes.label;this._removeClass(t,null,"ui-corner-top ui-corner-bottom ui-corner-left ui-corner-right ui-corner-all"),this._addClass(t,null,i)},_buildSimpleOptions:function(t,e){var i="vertical"===this.options.direction,n={classes:{}};return n.classes[e]={middle:"",first:"ui-corner-"+(i?"top":"left"),last:"ui-corner-"+(i?"bottom":"right"),only:"ui-corner-all"}[t],n},_spinnerOptions:function(t){var e=this._buildSimpleOptions(t,"ui-spinner");return e.classes["ui-spinner-up"]="",e.classes["ui-spinner-down"]="",e},_buttonOptions:function(t){return this._buildSimpleOptions(t,"ui-button")},_checkboxradioOptions:function(t){return this._buildSimpleOptions(t,"ui-checkboxradio-label")},_selectmenuOptions:function(t){var e="vertical"===this.options.direction;return{width:!!e&&"auto",classes:{middle:{"ui-selectmenu-button-open":"","ui-selectmenu-button-closed":""},first:{"ui-selectmenu-button-open":"ui-corner-"+(e?"top":"tl"),"ui-selectmenu-button-closed":"ui-corner-"+(e?"top":"left")},last:{"ui-selectmenu-button-open":e?"":"ui-corner-tr","ui-selectmenu-button-closed":"ui-corner-"+(e?"bottom":"right")},only:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"}}[t]}},_resolveClassesValues:function(i,n){var o={};return S.each(i,function(t){var e=n.options.classes[t]||"";e=S.trim(e.replace(s,"")),o[t]=(e+" "+i[t]).replace(/\s+/g," ")}),o},_setOption:function(t,e){"direction"===t&&this._removeClass("ui-controlgroup-"+this.options.direction),this._super(t,e),"disabled"!==t?this.refresh():this._callChildMethod(e?"disable":"enable")},refresh:function(){var o,r=this;this._addClass("ui-controlgroup ui-controlgroup-"+this.options.direction),"horizontal"===this.options.direction&&this._addClass(null,"ui-helper-clearfix"),this._initWidgets(),o=this.childWidgets,this.options.onlyVisible&&(o=o.filter(":visible")),o.length&&(S.each(["first","last"],function(t,e){var i=o[e]().data("ui-controlgroup-data");if(i&&r["_"+i.widgetName+"Options"]){var n=r["_"+i.widgetName+"Options"](1===o.length?"only":e);n.classes=r._resolveClassesValues(n.classes,i),i.element[i.widgetName](n)}else r._updateCornerClass(o[e](),e)}),this._callChildMethod("refresh"))}});S.widget("ui.checkboxradio",[S.ui.formResetMixin,{version:"1.12.1",options:{disabled:null,label:null,icon:!0,classes:{"ui-checkboxradio-label":"ui-corner-all","ui-checkboxradio-icon":"ui-corner-all"}},_getCreateOptions:function(){var t,e,i=this,n=this._super()||{};return this._readType(),e=this.element.labels(),this.label=S(e[e.length-1]),this.label.length||S.error("No label found for checkboxradio widget"),this.originalLabel="",this.label.contents().not(this.element[0]).each(function(){i.originalLabel+=3===this.nodeType?S(this).text():this.outerHTML}),this.originalLabel&&(n.label=this.originalLabel),null!=(t=this.element[0].disabled)&&(n.disabled=t),n},_create:function(){var t=this.element[0].checked;this._bindFormResetHandler(),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled),this._setOption("disabled",this.options.disabled),this._addClass("ui-checkboxradio","ui-helper-hidden-accessible"),this._addClass(this.label,"ui-checkboxradio-label","ui-button ui-widget"),"radio"===this.type&&this._addClass(this.label,"ui-checkboxradio-radio-label"),this.options.label&&this.options.label!==this.originalLabel?this._updateLabel():this.originalLabel&&(this.options.label=this.originalLabel),this._enhance(),t&&(this._addClass(this.label,"ui-checkboxradio-checked","ui-state-active"),this.icon&&this._addClass(this.icon,null,"ui-state-hover")),this._on({change:"_toggleClasses",focus:function(){this._addClass(this.label,null,"ui-state-focus ui-visual-focus")},blur:function(){this._removeClass(this.label,null,"ui-state-focus ui-visual-focus")}})},_readType:function(){var t=this.element[0].nodeName.toLowerCase();this.type=this.element[0].type,"input"===t&&/radio|checkbox/.test(this.type)||S.error("Can't create checkboxradio on element.nodeName="+t+" and element.type="+this.type)},_enhance:function(){this._updateIcon(this.element[0].checked)},widget:function(){return this.label},_getRadioGroup:function(){var t=this.element[0].name,e="input[name='"+S.ui.escapeSelector(t)+"']";return t?(this.form.length?S(this.form[0].elements).filter(e):S(e).filter(function(){return 0===S(this).form().length})).not(this.element):S([])},_toggleClasses:function(){var t=this.element[0].checked;this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",t),this.options.icon&&"checkbox"===this.type&&this._toggleClass(this.icon,null,"ui-icon-check ui-state-checked",t)._toggleClass(this.icon,null,"ui-icon-blank",!t),"radio"===this.type&&this._getRadioGroup().each(function(){var t=S(this).checkboxradio("instance");t&&t._removeClass(t.label,"ui-checkboxradio-checked","ui-state-active")})},_destroy:function(){this._unbindFormResetHandler(),this.icon&&(this.icon.remove(),this.iconSpace.remove())},_setOption:function(t,e){if("label"!==t||e){if(this._super(t,e),"disabled"===t)return this._toggleClass(this.label,null,"ui-state-disabled",e),void(this.element[0].disabled=e);this.refresh()}},_updateIcon:function(t){var e="ui-icon ui-icon-background ";this.options.icon?(this.icon||(this.icon=S("<span>"),this.iconSpace=S("<span> </span>"),this._addClass(this.iconSpace,"ui-checkboxradio-icon-space")),"checkbox"===this.type?(e+=t?"ui-icon-check ui-state-checked":"ui-icon-blank",this._removeClass(this.icon,null,t?"ui-icon-blank":"ui-icon-check")):e+="ui-icon-blank",this._addClass(this.icon,"ui-checkboxradio-icon",e),t||this._removeClass(this.icon,null,"ui-icon-check ui-state-checked"),this.icon.prependTo(this.label).after(this.iconSpace)):void 0!==this.icon&&(this.icon.remove(),this.iconSpace.remove(),delete this.icon)},_updateLabel:function(){var t=this.label.contents().not(this.element[0]);this.icon&&(t=t.not(this.icon[0])),this.iconSpace&&(t=t.not(this.iconSpace[0])),t.remove(),this.label.append(this.options.label)},refresh:function(){var t=this.element[0].checked,e=this.element[0].disabled;this._updateIcon(t),this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",t),null!==this.options.label&&this._updateLabel(),e!==this.options.disabled&&this._setOptions({disabled:e})}}]);var p;S.ui.checkboxradio;S.widget("ui.button",{version:"1.12.1",defaultElement:"<button>",options:{classes:{"ui-button":"ui-corner-all"},disabled:null,icon:null,iconPosition:"beginning",label:null,showLabel:!0},_getCreateOptions:function(){var t,e=this._super()||{};return this.isInput=this.element.is("input"),null!=(t=this.element[0].disabled)&&(e.disabled=t),this.originalLabel=this.isInput?this.element.val():this.element.html(),this.originalLabel&&(e.label=this.originalLabel),e},_create:function(){!this.option.showLabel&!this.options.icon&&(this.options.showLabel=!0),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled||!1),this.hasTitle=!!this.element.attr("title"),this.options.label&&this.options.label!==this.originalLabel&&(this.isInput?this.element.val(this.options.label):this.element.html(this.options.label)),this._addClass("ui-button","ui-widget"),this._setOption("disabled",this.options.disabled),this._enhance(),this.element.is("a")&&this._on({keyup:function(t){t.keyCode===S.ui.keyCode.SPACE&&(t.preventDefault(),this.element[0].click?this.element[0].click():this.element.trigger("click"))}})},_enhance:function(){this.element.is("button")||this.element.attr("role","button"),this.options.icon&&(this._updateIcon("icon",this.options.icon),this._updateTooltip())},_updateTooltip:function(){this.title=this.element.attr("title"),this.options.showLabel||this.title||this.element.attr("title",this.options.label)},_updateIcon:function(t,e){var i="iconPosition"!==t,n=i?this.options.iconPosition:e,o="top"===n||"bottom"===n;this.icon?i&&this._removeClass(this.icon,null,this.options.icon):(this.icon=S("<span>"),this._addClass(this.icon,"ui-button-icon","ui-icon"),this.options.showLabel||this._addClass("ui-button-icon-only")),i&&this._addClass(this.icon,null,e),this._attachIcon(n),o?(this._addClass(this.icon,null,"ui-widget-icon-block"),this.iconSpace&&this.iconSpace.remove()):(this.iconSpace||(this.iconSpace=S("<span> </span>"),this._addClass(this.iconSpace,"ui-button-icon-space")),this._removeClass(this.icon,null,"ui-wiget-icon-block"),this._attachIconSpace(n))},_destroy:function(){this.element.removeAttr("role"),this.icon&&this.icon.remove(),this.iconSpace&&this.iconSpace.remove(),this.hasTitle||this.element.removeAttr("title")},_attachIconSpace:function(t){this.icon[/^(?:end|bottom)/.test(t)?"before":"after"](this.iconSpace)},_attachIcon:function(t){this.element[/^(?:end|bottom)/.test(t)?"append":"prepend"](this.icon)},_setOptions:function(t){var e=void 0===t.showLabel?this.options.showLabel:t.showLabel,i=void 0===t.icon?this.options.icon:t.icon;e||i||(t.showLabel=!0),this._super(t)},_setOption:function(t,e){"icon"===t&&(e?this._updateIcon(t,e):this.icon&&(this.icon.remove(),this.iconSpace&&this.iconSpace.remove())),"iconPosition"===t&&this._updateIcon(t,e),"showLabel"===t&&(this._toggleClass("ui-button-icon-only",null,!e),this._updateTooltip()),"label"===t&&(this.isInput?this.element.val(e):(this.element.html(e),this.icon&&(this._attachIcon(this.options.iconPosition),this._attachIconSpace(this.options.iconPosition)))),this._super(t,e),"disabled"===t&&(this._toggleClass(null,"ui-state-disabled",e),(this.element[0].disabled=e)&&this.element.blur())},refresh:function(){var t=this.element.is("input, button")?this.element[0].disabled:this.element.hasClass("ui-button-disabled");t!==this.options.disabled&&this._setOptions({disabled:t}),this._updateTooltip()}}),!1!==S.uiBackCompat&&(S.widget("ui.button",S.ui.button,{options:{text:!0,icons:{primary:null,secondary:null}},_create:function(){this.options.showLabel&&!this.options.text&&(this.options.showLabel=this.options.text),!this.options.showLabel&&this.options.text&&(this.options.text=this.options.showLabel),this.options.icon||!this.options.icons.primary&&!this.options.icons.secondary?this.options.icon&&(this.options.icons.primary=this.options.icon):this.options.icons.primary?this.options.icon=this.options.icons.primary:(this.options.icon=this.options.icons.secondary,this.options.iconPosition="end"),this._super()},_setOption:function(t,e){"text"!==t?("showLabel"===t&&(this.options.text=e),"icon"===t&&(this.options.icons.primary=e),"icons"===t&&(e.primary?(this._super("icon",e.primary),this._super("iconPosition","beginning")):e.secondary&&(this._super("icon",e.secondary),this._super("iconPosition","end"))),this._superApply(arguments)):this._super("showLabel",e)}}),S.fn.button=(p=S.fn.button,function(){return!this.length||this.length&&"INPUT"!==this[0].tagName||this.length&&"INPUT"===this[0].tagName&&"checkbox"!==this.attr("type")&&"radio"!==this.attr("type")?p.apply(this,arguments):(S.ui.checkboxradio||S.error("Checkboxradio widget missing"),0===arguments.length?this.checkboxradio({icon:!1}):this.checkboxradio.apply(this,arguments))}),S.fn.buttonset=function(){return S.ui.controlgroup||S.error("Controlgroup widget missing"),"option"===arguments[0]&&"items"===arguments[1]&&arguments[2]?this.controlgroup.apply(this,[arguments[0],"items.button",arguments[2]]):"option"===arguments[0]&&"items"===arguments[1]?this.controlgroup.apply(this,[arguments[0],"items.button"]):("object"==typeof arguments[0]&&arguments[0].items&&(arguments[0].items={button:arguments[0].items}),this.controlgroup.apply(this,arguments))});var d;S.ui.button;function f(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},S.extend(this._defaults,this.regional[""]),this.regional.en=S.extend(!0,{},this.regional[""]),this.regional["en-US"]=S.extend(!0,{},this.regional.en),this.dpDiv=m(S("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function m(t){var e="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return t.on("mouseout",e,function(){S(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&S(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&S(this).removeClass("ui-datepicker-next-hover")}).on("mouseover",e,g)}function g(){S.datepicker._isDisabledDatepicker(d.inline?d.dpDiv.parent()[0]:d.input[0])||(S(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),S(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&S(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&S(this).addClass("ui-datepicker-next-hover"))}function v(t,e){for(var i in S.extend(t,e),e)null==e[i]&&(t[i]=e[i]);return t}S.extend(S.ui,{datepicker:{version:"1.12.1"}}),S.extend(f.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(t){return v(this._defaults,t||{}),this},_attachDatepicker:function(t,e){var i,n,o;n="div"===(i=t.nodeName.toLowerCase())||"span"===i,t.id||(this.uuid+=1,t.id="dp"+this.uuid),(o=this._newInst(S(t),n)).settings=S.extend({},e||{}),"input"===i?this._connectDatepicker(t,o):n&&this._inlineDatepicker(t,o)},_newInst:function(t,e){return{id:t[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1"),input:t,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:e,dpDiv:e?m(S("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(t,e){var i=S(t);e.append=S([]),e.trigger=S([]),i.hasClass(this.markerClassName)||(this._attachments(i,e),i.addClass(this.markerClassName).on("keydown",this._doKeyDown).on("keypress",this._doKeyPress).on("keyup",this._doKeyUp),this._autoSize(e),S.data(t,"datepicker",e),e.settings.disabled&&this._disableDatepicker(t))},_attachments:function(t,e){var i,n,o,r=this._get(e,"appendText"),s=this._get(e,"isRTL");e.append&&e.append.remove(),r&&(e.append=S("<span class='"+this._appendClass+"'>"+r+"</span>"),t[s?"before":"after"](e.append)),t.off("focus",this._showDatepicker),e.trigger&&e.trigger.remove(),"focus"!==(i=this._get(e,"showOn"))&&"both"!==i||t.on("focus",this._showDatepicker),"button"!==i&&"both"!==i||(n=this._get(e,"buttonText"),o=this._get(e,"buttonImage"),e.trigger=S(this._get(e,"buttonImageOnly")?S("<img/>").addClass(this._triggerClass).attr({src:o,alt:n,title:n}):S("<button type='button'></button>").addClass(this._triggerClass).html(o?S("<img/>").attr({src:o,alt:n,title:n}):n)),t[s?"before":"after"](e.trigger),e.trigger.on("click",function(){return S.datepicker._datepickerShowing&&S.datepicker._lastInput===t[0]?S.datepicker._hideDatepicker():(S.datepicker._datepickerShowing&&S.datepicker._lastInput!==t[0]&&S.datepicker._hideDatepicker(),S.datepicker._showDatepicker(t[0])),!1}))},_autoSize:function(t){if(this._get(t,"autoSize")&&!t.inline){var e,i,n,o,r=new Date(2009,11,20),s=this._get(t,"dateFormat");s.match(/[DM]/)&&(e=function(t){for(o=n=i=0;o<t.length;o++)t[o].length>i&&(i=t[o].length,n=o);return n},r.setMonth(e(this._get(t,s.match(/MM/)?"monthNames":"monthNamesShort"))),r.setDate(e(this._get(t,s.match(/DD/)?"dayNames":"dayNamesShort"))+20-r.getDay())),t.input.attr("size",this._formatDate(t,r).length)}},_inlineDatepicker:function(t,e){var i=S(t);i.hasClass(this.markerClassName)||(i.addClass(this.markerClassName).append(e.dpDiv),S.data(t,"datepicker",e),this._setDate(e,this._getDefaultDate(e),!0),this._updateDatepicker(e),this._updateAlternate(e),e.settings.disabled&&this._disableDatepicker(t),e.dpDiv.css("display","block"))},_dialogDatepicker:function(t,e,i,n,o){var r,s,a,l,u,h=this._dialogInst;return h||(this.uuid+=1,r="dp"+this.uuid,this._dialogInput=S("<input type='text' id='"+r+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.on("keydown",this._doKeyDown),S("body").append(this._dialogInput),(h=this._dialogInst=this._newInst(this._dialogInput,!1)).settings={},S.data(this._dialogInput[0],"datepicker",h)),v(h.settings,n||{}),e=e&&e.constructor===Date?this._formatDate(h,e):e,this._dialogInput.val(e),this._pos=o?o.length?o:[o.pageX,o.pageY]:null,this._pos||(s=document.documentElement.clientWidth,a=document.documentElement.clientHeight,l=document.documentElement.scrollLeft||document.body.scrollLeft,u=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[s/2-100+l,a/2-150+u]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),h.settings.onSelect=i,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),S.blockUI&&S.blockUI(this.dpDiv),S.data(this._dialogInput[0],"datepicker",h),this},_destroyDatepicker:function(t){var e,i=S(t),n=S.data(t,"datepicker");i.hasClass(this.markerClassName)&&(e=t.nodeName.toLowerCase(),S.removeData(t,"datepicker"),"input"===e?(n.append.remove(),n.trigger.remove(),i.removeClass(this.markerClassName).off("focus",this._showDatepicker).off("keydown",this._doKeyDown).off("keypress",this._doKeyPress).off("keyup",this._doKeyUp)):"div"!==e&&"span"!==e||i.removeClass(this.markerClassName).empty(),d===n&&(d=null))},_enableDatepicker:function(e){var t,i,n=S(e),o=S.data(e,"datepicker");n.hasClass(this.markerClassName)&&("input"===(t=e.nodeName.toLowerCase())?(e.disabled=!1,o.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):"div"!==t&&"span"!==t||((i=n.children("."+this._inlineClass)).children().removeClass("ui-state-disabled"),i.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=S.map(this._disabledInputs,function(t){return t===e?null:t}))},_disableDatepicker:function(e){var t,i,n=S(e),o=S.data(e,"datepicker");n.hasClass(this.markerClassName)&&("input"===(t=e.nodeName.toLowerCase())?(e.disabled=!0,o.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):"div"!==t&&"span"!==t||((i=n.children("."+this._inlineClass)).children().addClass("ui-state-disabled"),i.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=S.map(this._disabledInputs,function(t){return t===e?null:t}),this._disabledInputs[this._disabledInputs.length]=e)},_isDisabledDatepicker:function(t){if(!t)return!1;for(var e=0;e<this._disabledInputs.length;e++)if(this._disabledInputs[e]===t)return!0;return!1},_getInst:function(t){try{return S.data(t,"datepicker")}catch(t){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(t,e,i){var n,o,r,s,a=this._getInst(t);if(2===arguments.length&&"string"==typeof e)return"defaults"===e?S.extend({},S.datepicker._defaults):a?"all"===e?S.extend({},a.settings):this._get(a,e):null;n=e||{},"string"==typeof e&&((n={})[e]=i),a&&(this._curInst===a&&this._hideDatepicker(),o=this._getDateDatepicker(t,!0),r=this._getMinMaxDate(a,"min"),s=this._getMinMaxDate(a,"max"),v(a.settings,n),null!==r&&void 0!==n.dateFormat&&void 0===n.minDate&&(a.settings.minDate=this._formatDate(a,r)),null!==s&&void 0!==n.dateFormat&&void 0===n.maxDate&&(a.settings.maxDate=this._formatDate(a,s)),"disabled"in n&&(n.disabled?this._disableDatepicker(t):this._enableDatepicker(t)),this._attachments(S(t),a),this._autoSize(a),this._setDate(a,o),this._updateAlternate(a),this._updateDatepicker(a))},_changeDatepicker:function(t,e,i){this._optionDatepicker(t,e,i)},_refreshDatepicker:function(t){var e=this._getInst(t);e&&this._updateDatepicker(e)},_setDateDatepicker:function(t,e){var i=this._getInst(t);i&&(this._setDate(i,e),this._updateDatepicker(i),this._updateAlternate(i))},_getDateDatepicker:function(t,e){var i=this._getInst(t);return i&&!i.inline&&this._setDateFromField(i,e),i?this._getDate(i):null},_doKeyDown:function(t){var e,i,n,o=S.datepicker._getInst(t.target),r=!0,s=o.dpDiv.is(".ui-datepicker-rtl");if(o._keyEvent=!0,S.datepicker._datepickerShowing)switch(t.keyCode){case 9:S.datepicker._hideDatepicker(),r=!1;break;case 13:return(n=S("td."+S.datepicker._dayOverClass+":not(."+S.datepicker._currentClass+")",o.dpDiv))[0]&&S.datepicker._selectDay(t.target,o.selectedMonth,o.selectedYear,n[0]),(e=S.datepicker._get(o,"onSelect"))?(i=S.datepicker._formatDate(o),e.apply(o.input?o.input[0]:null,[i,o])):S.datepicker._hideDatepicker(),!1;case 27:S.datepicker._hideDatepicker();break;case 33:S.datepicker._adjustDate(t.target,t.ctrlKey?-S.datepicker._get(o,"stepBigMonths"):-S.datepicker._get(o,"stepMonths"),"M");break;case 34:S.datepicker._adjustDate(t.target,t.ctrlKey?+S.datepicker._get(o,"stepBigMonths"):+S.datepicker._get(o,"stepMonths"),"M");break;case 35:(t.ctrlKey||t.metaKey)&&S.datepicker._clearDate(t.target),r=t.ctrlKey||t.metaKey;break;case 36:(t.ctrlKey||t.metaKey)&&S.datepicker._gotoToday(t.target),r=t.ctrlKey||t.metaKey;break;case 37:(t.ctrlKey||t.metaKey)&&S.datepicker._adjustDate(t.target,s?1:-1,"D"),r=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&S.datepicker._adjustDate(t.target,t.ctrlKey?-S.datepicker._get(o,"stepBigMonths"):-S.datepicker._get(o,"stepMonths"),"M");break;case 38:(t.ctrlKey||t.metaKey)&&S.datepicker._adjustDate(t.target,-7,"D"),r=t.ctrlKey||t.metaKey;break;case 39:(t.ctrlKey||t.metaKey)&&S.datepicker._adjustDate(t.target,s?-1:1,"D"),r=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&S.datepicker._adjustDate(t.target,t.ctrlKey?+S.datepicker._get(o,"stepBigMonths"):+S.datepicker._get(o,"stepMonths"),"M");break;case 40:(t.ctrlKey||t.metaKey)&&S.datepicker._adjustDate(t.target,7,"D"),r=t.ctrlKey||t.metaKey;break;default:r=!1}else 36===t.keyCode&&t.ctrlKey?S.datepicker._showDatepicker(this):r=!1;r&&(t.preventDefault(),t.stopPropagation())},_doKeyPress:function(t){var e,i,n=S.datepicker._getInst(t.target);if(S.datepicker._get(n,"constrainInput"))return e=S.datepicker._possibleChars(S.datepicker._get(n,"dateFormat")),i=String.fromCharCode(null==t.charCode?t.keyCode:t.charCode),t.ctrlKey||t.metaKey||i<" "||!e||-1<e.indexOf(i)},_doKeyUp:function(t){var e=S.datepicker._getInst(t.target);if(e.input.val()!==e.lastVal)try{S.datepicker.parseDate(S.datepicker._get(e,"dateFormat"),e.input?e.input.val():null,S.datepicker._getFormatConfig(e))&&(S.datepicker._setDateFromField(e),S.datepicker._updateAlternate(e),S.datepicker._updateDatepicker(e))}catch(t){}return!0},_showDatepicker:function(t){var e,i,n,o,r,s,a;("input"!==(t=t.target||t).nodeName.toLowerCase()&&(t=S("input",t.parentNode)[0]),S.datepicker._isDisabledDatepicker(t)||S.datepicker._lastInput===t)||(e=S.datepicker._getInst(t),S.datepicker._curInst&&S.datepicker._curInst!==e&&(S.datepicker._curInst.dpDiv.stop(!0,!0),e&&S.datepicker._datepickerShowing&&S.datepicker._hideDatepicker(S.datepicker._curInst.input[0])),!1!==(n=(i=S.datepicker._get(e,"beforeShow"))?i.apply(t,[t,e]):{})&&(v(e.settings,n),e.lastVal=null,S.datepicker._lastInput=t,S.datepicker._setDateFromField(e),S.datepicker._inDialog&&(t.value=""),S.datepicker._pos||(S.datepicker._pos=S.datepicker._findPos(t),S.datepicker._pos[1]+=t.offsetHeight),o=!1,S(t).parents().each(function(){return!(o|="fixed"===S(this).css("position"))}),r={left:S.datepicker._pos[0],top:S.datepicker._pos[1]},S.datepicker._pos=null,e.dpDiv.empty(),e.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),S.datepicker._updateDatepicker(e),r=S.datepicker._checkOffset(e,r,o),e.dpDiv.css({position:S.datepicker._inDialog&&S.blockUI?"static":o?"fixed":"absolute",display:"none",left:r.left+"px",top:r.top+"px"}),e.inline||(s=S.datepicker._get(e,"showAnim"),a=S.datepicker._get(e,"duration"),e.dpDiv.css("z-index",function(t){for(var e,i;t.length&&t[0]!==document;){if(("absolute"===(e=t.css("position"))||"relative"===e||"fixed"===e)&&(i=parseInt(t.css("zIndex"),10),!isNaN(i)&&0!==i))return i;t=t.parent()}return 0}(S(t))+1),S.datepicker._datepickerShowing=!0,S.effects&&S.effects.effect[s]?e.dpDiv.show(s,S.datepicker._get(e,"showOptions"),a):e.dpDiv[s||"show"](s?a:null),S.datepicker._shouldFocusInput(e)&&e.input.trigger("focus"),S.datepicker._curInst=e)))},_updateDatepicker:function(t){this.maxRows=4,(d=t).dpDiv.empty().append(this._generateHTML(t)),this._attachHandlers(t);var e,i=this._getNumberOfMonths(t),n=i[1],o=t.dpDiv.find("."+this._dayOverClass+" a");0<o.length&&g.apply(o.get(0)),t.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),1<n&&t.dpDiv.addClass("ui-datepicker-multi-"+n).css("width",17*n+"em"),t.dpDiv[(1!==i[0]||1!==i[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),t.dpDiv[(this._get(t,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),t===S.datepicker._curInst&&S.datepicker._datepickerShowing&&S.datepicker._shouldFocusInput(t)&&t.input.trigger("focus"),t.yearshtml&&(e=t.yearshtml,setTimeout(function(){e===t.yearshtml&&t.yearshtml&&t.dpDiv.find("select.ui-datepicker-year:first").replaceWith(t.yearshtml),e=t.yearshtml=null},0))},_shouldFocusInput:function(t){return t.input&&t.input.is(":visible")&&!t.input.is(":disabled")&&!t.input.is(":focus")},_checkOffset:function(t,e,i){var n=t.dpDiv.outerWidth(),o=t.dpDiv.outerHeight(),r=t.input?t.input.outerWidth():0,s=t.input?t.input.outerHeight():0,a=document.documentElement.clientWidth+(i?0:S(document).scrollLeft()),l=document.documentElement.clientHeight+(i?0:S(document).scrollTop());return e.left-=this._get(t,"isRTL")?n-r:0,e.left-=i&&e.left===t.input.offset().left?S(document).scrollLeft():0,e.top-=i&&e.top===t.input.offset().top+s?S(document).scrollTop():0,e.left-=Math.min(e.left,e.left+n>a&&n<a?Math.abs(e.left+n-a):0),e.top-=Math.min(e.top,e.top+o>l&&o<l?Math.abs(o+s):0),e},_findPos:function(t){for(var e,i=this._getInst(t),n=this._get(i,"isRTL");t&&("hidden"===t.type||1!==t.nodeType||S.expr.filters.hidden(t));)t=t[n?"previousSibling":"nextSibling"];return[(e=S(t).offset()).left,e.top]},_hideDatepicker:function(t){var e,i,n,o,r=this._curInst;!r||t&&r!==S.data(t,"datepicker")||this._datepickerShowing&&(e=this._get(r,"showAnim"),i=this._get(r,"duration"),n=function(){S.datepicker._tidyDialog(r)},S.effects&&(S.effects.effect[e]||S.effects[e])?r.dpDiv.hide(e,S.datepicker._get(r,"showOptions"),i,n):r.dpDiv["slideDown"===e?"slideUp":"fadeIn"===e?"fadeOut":"hide"](e?i:null,n),e||n(),this._datepickerShowing=!1,(o=this._get(r,"onClose"))&&o.apply(r.input?r.input[0]:null,[r.input?r.input.val():"",r]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),S.blockUI&&(S.unblockUI(),S("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(t){t.dpDiv.removeClass(this._dialogClass).off(".ui-datepicker-calendar")},_checkExternalClick:function(t){if(S.datepicker._curInst){var e=S(t.target),i=S.datepicker._getInst(e[0]);(e[0].id===S.datepicker._mainDivId||0!==e.parents("#"+S.datepicker._mainDivId).length||e.hasClass(S.datepicker.markerClassName)||e.closest("."+S.datepicker._triggerClass).length||!S.datepicker._datepickerShowing||S.datepicker._inDialog&&S.blockUI)&&(!e.hasClass(S.datepicker.markerClassName)||S.datepicker._curInst===i)||S.datepicker._hideDatepicker()}},_adjustDate:function(t,e,i){var n=S(t),o=this._getInst(n[0]);this._isDisabledDatepicker(n[0])||(this._adjustInstDate(o,e+("M"===i?this._get(o,"showCurrentAtPos"):0),i),this._updateDatepicker(o))},_gotoToday:function(t){var e,i=S(t),n=this._getInst(i[0]);this._get(n,"gotoCurrent")&&n.currentDay?(n.selectedDay=n.currentDay,n.drawMonth=n.selectedMonth=n.currentMonth,n.drawYear=n.selectedYear=n.currentYear):(e=new Date,n.selectedDay=e.getDate(),n.drawMonth=n.selectedMonth=e.getMonth(),n.drawYear=n.selectedYear=e.getFullYear()),this._notifyChange(n),this._adjustDate(i)},_selectMonthYear:function(t,e,i){var n=S(t),o=this._getInst(n[0]);o["selected"+("M"===i?"Month":"Year")]=o["draw"+("M"===i?"Month":"Year")]=parseInt(e.options[e.selectedIndex].value,10),this._notifyChange(o),this._adjustDate(n)},_selectDay:function(t,e,i,n){var o,r=S(t);S(n).hasClass(this._unselectableClass)||this._isDisabledDatepicker(r[0])||((o=this._getInst(r[0])).selectedDay=o.currentDay=S("a",n).html(),o.selectedMonth=o.currentMonth=e,o.selectedYear=o.currentYear=i,this._selectDate(t,this._formatDate(o,o.currentDay,o.currentMonth,o.currentYear)))},_clearDate:function(t){var e=S(t);this._selectDate(e,"")},_selectDate:function(t,e){var i,n=S(t),o=this._getInst(n[0]);e=null!=e?e:this._formatDate(o),o.input&&o.input.val(e),this._updateAlternate(o),(i=this._get(o,"onSelect"))?i.apply(o.input?o.input[0]:null,[e,o]):o.input&&o.input.trigger("change"),o.inline?this._updateDatepicker(o):(this._hideDatepicker(),this._lastInput=o.input[0],"object"!=typeof o.input[0]&&o.input.trigger("focus"),this._lastInput=null)},_updateAlternate:function(t){var e,i,n,o=this._get(t,"altField");o&&(e=this._get(t,"altFormat")||this._get(t,"dateFormat"),i=this._getDate(t),n=this.formatDate(e,i,this._getFormatConfig(t)),S(o).val(n))},noWeekends:function(t){var e=t.getDay();return[0<e&&e<6,""]},iso8601Week:function(t){var e,i=new Date(t.getTime());return i.setDate(i.getDate()+4-(i.getDay()||7)),e=i.getTime(),i.setMonth(0),i.setDate(1),Math.floor(Math.round((e-i)/864e5)/7)+1},parseDate:function(i,r,t){if(null==i||null==r)throw"Invalid arguments";if(""===(r="object"==typeof r?r.toString():r+""))return null;var n,e,o,s,a=0,l=(t?t.shortYearCutoff:null)||this._defaults.shortYearCutoff,u="string"!=typeof l?l:(new Date).getFullYear()%100+parseInt(l,10),h=(t?t.dayNamesShort:null)||this._defaults.dayNamesShort,c=(t?t.dayNames:null)||this._defaults.dayNames,p=(t?t.monthNamesShort:null)||this._defaults.monthNamesShort,d=(t?t.monthNames:null)||this._defaults.monthNames,f=-1,m=-1,g=-1,v=-1,y=!1,_=function(t){var e=n+1<i.length&&i.charAt(n+1)===t;return e&&n++,e},b=function(t){var e=_(t),i="@"===t?14:"!"===t?20:"y"===t&&e?4:"o"===t?3:2,n=new RegExp("^\\d{"+("y"===t?i:1)+","+i+"}"),o=r.substring(a).match(n);if(!o)throw"Missing number at position "+a;return a+=o[0].length,parseInt(o[0],10)},x=function(t,e,i){var n=-1,o=S.map(_(t)?i:e,function(t,e){return[[e,t]]}).sort(function(t,e){return-(t[1].length-e[1].length)});if(S.each(o,function(t,e){var i=e[1];if(r.substr(a,i.length).toLowerCase()===i.toLowerCase())return n=e[0],a+=i.length,!1}),-1!==n)return n+1;throw"Unknown name at position "+a},w=function(){if(r.charAt(a)!==i.charAt(n))throw"Unexpected literal at position "+a;a++};for(n=0;n<i.length;n++)if(y)"'"!==i.charAt(n)||_("'")?w():y=!1;else switch(i.charAt(n)){case"d":g=b("d");break;case"D":x("D",h,c);break;case"o":v=b("o");break;case"m":m=b("m");break;case"M":m=x("M",p,d);break;case"y":f=b("y");break;case"@":f=(s=new Date(b("@"))).getFullYear(),m=s.getMonth()+1,g=s.getDate();break;case"!":f=(s=new Date((b("!")-this._ticksTo1970)/1e4)).getFullYear(),m=s.getMonth()+1,g=s.getDate();break;case"'":_("'")?w():y=!0;break;default:w()}if(a<r.length&&(o=r.substr(a),!/^\s+/.test(o)))throw"Extra/unparsed characters found in date: "+o;if(-1===f?f=(new Date).getFullYear():f<100&&(f+=(new Date).getFullYear()-(new Date).getFullYear()%100+(f<=u?0:-100)),-1<v)for(m=1,g=v;;){if(g<=(e=this._getDaysInMonth(f,m-1)))break;m++,g-=e}if((s=this._daylightSavingAdjust(new Date(f,m-1,g))).getFullYear()!==f||s.getMonth()+1!==m||s.getDate()!==g)throw"Invalid date";return s},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7,formatDate:function(i,t,e){if(!t)return"";var n,o=(e?e.dayNamesShort:null)||this._defaults.dayNamesShort,r=(e?e.dayNames:null)||this._defaults.dayNames,s=(e?e.monthNamesShort:null)||this._defaults.monthNamesShort,a=(e?e.monthNames:null)||this._defaults.monthNames,l=function(t){var e=n+1<i.length&&i.charAt(n+1)===t;return e&&n++,e},u=function(t,e,i){var n=""+e;if(l(t))for(;n.length<i;)n="0"+n;return n},h=function(t,e,i,n){return l(t)?n[e]:i[e]},c="",p=!1;if(t)for(n=0;n<i.length;n++)if(p)"'"!==i.charAt(n)||l("'")?c+=i.charAt(n):p=!1;else switch(i.charAt(n)){case"d":c+=u("d",t.getDate(),2);break;case"D":c+=h("D",t.getDay(),o,r);break;case"o":c+=u("o",Math.round((new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime()-new Date(t.getFullYear(),0,0).getTime())/864e5),3);break;case"m":c+=u("m",t.getMonth()+1,2);break;case"M":c+=h("M",t.getMonth(),s,a);break;case"y":c+=l("y")?t.getFullYear():(t.getFullYear()%100<10?"0":"")+t.getFullYear()%100;break;case"@":c+=t.getTime();break;case"!":c+=1e4*t.getTime()+this._ticksTo1970;break;case"'":l("'")?c+="'":p=!0;break;default:c+=i.charAt(n)}return c},_possibleChars:function(i){var n,t="",e=!1,o=function(t){var e=n+1<i.length&&i.charAt(n+1)===t;return e&&n++,e};for(n=0;n<i.length;n++)if(e)"'"!==i.charAt(n)||o("'")?t+=i.charAt(n):e=!1;else switch(i.charAt(n)){case"d":case"m":case"y":case"@":t+="0123456789";break;case"D":case"M":return null;case"'":o("'")?t+="'":e=!0;break;default:t+=i.charAt(n)}return t},_get:function(t,e){return void 0!==t.settings[e]?t.settings[e]:this._defaults[e]},_setDateFromField:function(t,e){if(t.input.val()!==t.lastVal){var i=this._get(t,"dateFormat"),n=t.lastVal=t.input?t.input.val():null,o=this._getDefaultDate(t),r=o,s=this._getFormatConfig(t);try{r=this.parseDate(i,n,s)||o}catch(t){n=e?"":n}t.selectedDay=r.getDate(),t.drawMonth=t.selectedMonth=r.getMonth(),t.drawYear=t.selectedYear=r.getFullYear(),t.currentDay=n?r.getDate():0,t.currentMonth=n?r.getMonth():0,t.currentYear=n?r.getFullYear():0,this._adjustInstDate(t)}},_getDefaultDate:function(t){return this._restrictMinMax(t,this._determineDate(t,this._get(t,"defaultDate"),new Date))},_determineDate:function(a,t,e){var i,n,o=null==t||""===t?e:"string"==typeof t?function(t){try{return S.datepicker.parseDate(S.datepicker._get(a,"dateFormat"),t,S.datepicker._getFormatConfig(a))}catch(t){}for(var e=(t.toLowerCase().match(/^c/)?S.datepicker._getDate(a):null)||new Date,i=e.getFullYear(),n=e.getMonth(),o=e.getDate(),r=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,s=r.exec(t);s;){switch(s[2]||"d"){case"d":case"D":o+=parseInt(s[1],10);break;case"w":case"W":o+=7*parseInt(s[1],10);break;case"m":case"M":n+=parseInt(s[1],10),o=Math.min(o,S.datepicker._getDaysInMonth(i,n));break;case"y":case"Y":i+=parseInt(s[1],10),o=Math.min(o,S.datepicker._getDaysInMonth(i,n))}s=r.exec(t)}return new Date(i,n,o)}(t):"number"==typeof t?isNaN(t)?e:(i=t,(n=new Date).setDate(n.getDate()+i),n):new Date(t.getTime());return(o=o&&"Invalid Date"===o.toString()?e:o)&&(o.setHours(0),o.setMinutes(0),o.setSeconds(0),o.setMilliseconds(0)),this._daylightSavingAdjust(o)},_daylightSavingAdjust:function(t){return t?(t.setHours(12<t.getHours()?t.getHours()+2:0),t):null},_setDate:function(t,e,i){var n=!e,o=t.selectedMonth,r=t.selectedYear,s=this._restrictMinMax(t,this._determineDate(t,e,new Date));t.selectedDay=t.currentDay=s.getDate(),t.drawMonth=t.selectedMonth=t.currentMonth=s.getMonth(),t.drawYear=t.selectedYear=t.currentYear=s.getFullYear(),o===t.selectedMonth&&r===t.selectedYear||i||this._notifyChange(t),this._adjustInstDate(t),t.input&&t.input.val(n?"":this._formatDate(t))},_getDate:function(t){return!t.currentYear||t.input&&""===t.input.val()?null:this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay))},_attachHandlers:function(t){var e=this._get(t,"stepMonths"),i="#"+t.id.replace(/\\\\/g,"\\");t.dpDiv.find("[data-handler]").map(function(){var t={prev:function(){S.datepicker._adjustDate(i,-e,"M")},next:function(){S.datepicker._adjustDate(i,+e,"M")},hide:function(){S.datepicker._hideDatepicker()},today:function(){S.datepicker._gotoToday(i)},selectDay:function(){return S.datepicker._selectDay(i,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return S.datepicker._selectMonthYear(i,this,"M"),!1},selectYear:function(){return S.datepicker._selectMonthYear(i,this,"Y"),!1}};S(this).on(this.getAttribute("data-event"),t[this.getAttribute("data-handler")])})},_generateHTML:function(t){var e,i,n,o,r,s,a,l,u,h,c,p,d,f,m,g,v,y,_,b,x,w,T,k,C,S,E,A,P,z,D,M,I,O,L,R,F,N,j,B=new Date,V=this._daylightSavingAdjust(new Date(B.getFullYear(),B.getMonth(),B.getDate())),H=this._get(t,"isRTL"),q=this._get(t,"showButtonPanel"),$=this._get(t,"hideIfNoPrevNext"),W=this._get(t,"navigationAsDateFormat"),U=this._getNumberOfMonths(t),Z=this._get(t,"showCurrentAtPos"),X=this._get(t,"stepMonths"),G=1!==U[0]||1!==U[1],Y=this._daylightSavingAdjust(t.currentDay?new Date(t.currentYear,t.currentMonth,t.currentDay):new Date(9999,9,9)),K=this._getMinMaxDate(t,"min"),J=this._getMinMaxDate(t,"max"),Q=t.drawMonth-Z,tt=t.drawYear;if(Q<0&&(Q+=12,tt--),J)for(e=this._daylightSavingAdjust(new Date(J.getFullYear(),J.getMonth()-U[0]*U[1]+1,J.getDate())),e=K&&e<K?K:e;this._daylightSavingAdjust(new Date(tt,Q,1))>e;)--Q<0&&(Q=11,tt--);for(t.drawMonth=Q,t.drawYear=tt,i=this._get(t,"prevText"),i=W?this.formatDate(i,this._daylightSavingAdjust(new Date(tt,Q-X,1)),this._getFormatConfig(t)):i,n=this._canAdjustMonth(t,-1,tt,Q)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(H?"e":"w")+"'>"+i+"</span></a>":$?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(H?"e":"w")+"'>"+i+"</span></a>",o=this._get(t,"nextText"),o=W?this.formatDate(o,this._daylightSavingAdjust(new Date(tt,Q+X,1)),this._getFormatConfig(t)):o,r=this._canAdjustMonth(t,1,tt,Q)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+o+"'><span class='ui-icon ui-icon-circle-triangle-"+(H?"w":"e")+"'>"+o+"</span></a>":$?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+o+"'><span class='ui-icon ui-icon-circle-triangle-"+(H?"w":"e")+"'>"+o+"</span></a>",s=this._get(t,"currentText"),a=this._get(t,"gotoCurrent")&&t.currentDay?Y:V,s=W?this.formatDate(s,a,this._getFormatConfig(t)):s,l=t.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(t,"closeText")+"</button>",u=q?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(H?l:"")+(this._isInRange(t,a)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+s+"</button>":"")+(H?"":l)+"</div>":"",h=parseInt(this._get(t,"firstDay"),10),h=isNaN(h)?0:h,c=this._get(t,"showWeek"),p=this._get(t,"dayNames"),d=this._get(t,"dayNamesMin"),f=this._get(t,"monthNames"),m=this._get(t,"monthNamesShort"),g=this._get(t,"beforeShowDay"),v=this._get(t,"showOtherMonths"),y=this._get(t,"selectOtherMonths"),_=this._getDefaultDate(t),b="",w=0;w<U[0];w++){for(T="",this.maxRows=4,k=0;k<U[1];k++){if(C=this._daylightSavingAdjust(new Date(tt,Q,t.selectedDay)),S=" ui-corner-all",E="",G){if(E+="<div class='ui-datepicker-group",1<U[1])switch(k){case 0:E+=" ui-datepicker-group-first",S=" ui-corner-"+(H?"right":"left");break;case U[1]-1:E+=" ui-datepicker-group-last",S=" ui-corner-"+(H?"left":"right");break;default:E+=" ui-datepicker-group-middle",S=""}E+="'>"}for(E+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+S+"'>"+(/all|left/.test(S)&&0===w?H?r:n:"")+(/all|right/.test(S)&&0===w?H?n:r:"")+this._generateMonthYearHeader(t,Q,tt,K,J,0<w||0<k,f,m)+"</div><table class='ui-datepicker-calendar'><thead><tr>",A=c?"<th class='ui-datepicker-week-col'>"+this._get(t,"weekHeader")+"</th>":"",x=0;x<7;x++)A+="<th scope='col'"+(5<=(x+h+6)%7?" class='ui-datepicker-week-end'":"")+"><span title='"+p[P=(x+h)%7]+"'>"+d[P]+"</span></th>";for(E+=A+"</tr></thead><tbody>",z=this._getDaysInMonth(tt,Q),tt===t.selectedYear&&Q===t.selectedMonth&&(t.selectedDay=Math.min(t.selectedDay,z)),D=(this._getFirstDayOfMonth(tt,Q)-h+7)%7,M=Math.ceil((D+z)/7),I=G&&this.maxRows>M?this.maxRows:M,this.maxRows=I,O=this._daylightSavingAdjust(new Date(tt,Q,1-D)),L=0;L<I;L++){for(E+="<tr>",R=c?"<td class='ui-datepicker-week-col'>"+this._get(t,"calculateWeek")(O)+"</td>":"",x=0;x<7;x++)F=g?g.apply(t.input?t.input[0]:null,[O]):[!0,""],j=(N=O.getMonth()!==Q)&&!y||!F[0]||K&&O<K||J&&J<O,R+="<td class='"+(5<=(x+h+6)%7?" ui-datepicker-week-end":"")+(N?" ui-datepicker-other-month":"")+(O.getTime()===C.getTime()&&Q===t.selectedMonth&&t._keyEvent||_.getTime()===O.getTime()&&_.getTime()===C.getTime()?" "+this._dayOverClass:"")+(j?" "+this._unselectableClass+" ui-state-disabled":"")+(N&&!v?"":" "+F[1]+(O.getTime()===Y.getTime()?" "+this._currentClass:"")+(O.getTime()===V.getTime()?" ui-datepicker-today":""))+"'"+(N&&!v||!F[2]?"":" title='"+F[2].replace(/'/g,"&#39;")+"'")+(j?"":" data-handler='selectDay' data-event='click' data-month='"+O.getMonth()+"' data-year='"+O.getFullYear()+"'")+">"+(N&&!v?"&#xa0;":j?"<span class='ui-state-default'>"+O.getDate()+"</span>":"<a class='ui-state-default"+(O.getTime()===V.getTime()?" ui-state-highlight":"")+(O.getTime()===Y.getTime()?" ui-state-active":"")+(N?" ui-priority-secondary":"")+"' href='#'>"+O.getDate()+"</a>")+"</td>",O.setDate(O.getDate()+1),O=this._daylightSavingAdjust(O);E+=R+"</tr>"}11<++Q&&(Q=0,tt++),T+=E+="</tbody></table>"+(G?"</div>"+(0<U[0]&&k===U[1]-1?"<div class='ui-datepicker-row-break'></div>":""):"")}b+=T}return b+=u,t._keyEvent=!1,b},_generateMonthYearHeader:function(t,e,i,n,o,r,s,a){var l,u,h,c,p,d,f,m,g=this._get(t,"changeMonth"),v=this._get(t,"changeYear"),y=this._get(t,"showMonthAfterYear"),_="<div class='ui-datepicker-title'>",b="";if(r||!g)b+="<span class='ui-datepicker-month'>"+s[e]+"</span>";else{for(l=n&&n.getFullYear()===i,u=o&&o.getFullYear()===i,b+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",h=0;h<12;h++)(!l||h>=n.getMonth())&&(!u||h<=o.getMonth())&&(b+="<option value='"+h+"'"+(h===e?" selected='selected'":"")+">"+a[h]+"</option>");b+="</select>"}if(y||(_+=b+(!r&&g&&v?"":"&#xa0;")),!t.yearshtml)if(t.yearshtml="",r||!v)_+="<span class='ui-datepicker-year'>"+i+"</span>";else{for(c=this._get(t,"yearRange").split(":"),p=(new Date).getFullYear(),f=(d=function(t){var e=t.match(/c[+\-].*/)?i+parseInt(t.substring(1),10):t.match(/[+\-].*/)?p+parseInt(t,10):parseInt(t,10);return isNaN(e)?p:e})(c[0]),m=Math.max(f,d(c[1]||"")),f=n?Math.max(f,n.getFullYear()):f,m=o?Math.min(m,o.getFullYear()):m,t.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";f<=m;f++)t.yearshtml+="<option value='"+f+"'"+(f===i?" selected='selected'":"")+">"+f+"</option>";t.yearshtml+="</select>",_+=t.yearshtml,t.yearshtml=null}return _+=this._get(t,"yearSuffix"),y&&(_+=(!r&&g&&v?"":"&#xa0;")+b),_+="</div>"},_adjustInstDate:function(t,e,i){var n=t.selectedYear+("Y"===i?e:0),o=t.selectedMonth+("M"===i?e:0),r=Math.min(t.selectedDay,this._getDaysInMonth(n,o))+("D"===i?e:0),s=this._restrictMinMax(t,this._daylightSavingAdjust(new Date(n,o,r)));t.selectedDay=s.getDate(),t.drawMonth=t.selectedMonth=s.getMonth(),t.drawYear=t.selectedYear=s.getFullYear(),"M"!==i&&"Y"!==i||this._notifyChange(t)},_restrictMinMax:function(t,e){var i=this._getMinMaxDate(t,"min"),n=this._getMinMaxDate(t,"max"),o=i&&e<i?i:e;return n&&n<o?n:o},_notifyChange:function(t){var e=this._get(t,"onChangeMonthYear");e&&e.apply(t.input?t.input[0]:null,[t.selectedYear,t.selectedMonth+1,t])},_getNumberOfMonths:function(t){var e=this._get(t,"numberOfMonths");return null==e?[1,1]:"number"==typeof e?[1,e]:e},_getMinMaxDate:function(t,e){return this._determineDate(t,this._get(t,e+"Date"),null)},_getDaysInMonth:function(t,e){return 32-this._daylightSavingAdjust(new Date(t,e,32)).getDate()},_getFirstDayOfMonth:function(t,e){return new Date(t,e,1).getDay()},_canAdjustMonth:function(t,e,i,n){var o=this._getNumberOfMonths(t),r=this._daylightSavingAdjust(new Date(i,n+(e<0?e:o[0]*o[1]),1));return e<0&&r.setDate(this._getDaysInMonth(r.getFullYear(),r.getMonth())),this._isInRange(t,r)},_isInRange:function(t,e){var i,n,o=this._getMinMaxDate(t,"min"),r=this._getMinMaxDate(t,"max"),s=null,a=null,l=this._get(t,"yearRange");return l&&(i=l.split(":"),n=(new Date).getFullYear(),s=parseInt(i[0],10),a=parseInt(i[1],10),i[0].match(/[+\-].*/)&&(s+=n),i[1].match(/[+\-].*/)&&(a+=n)),(!o||e.getTime()>=o.getTime())&&(!r||e.getTime()<=r.getTime())&&(!s||e.getFullYear()>=s)&&(!a||e.getFullYear()<=a)},_getFormatConfig:function(t){var e=this._get(t,"shortYearCutoff");return{shortYearCutoff:e="string"!=typeof e?e:(new Date).getFullYear()%100+parseInt(e,10),dayNamesShort:this._get(t,"dayNamesShort"),dayNames:this._get(t,"dayNames"),monthNamesShort:this._get(t,"monthNamesShort"),monthNames:this._get(t,"monthNames")}},_formatDate:function(t,e,i,n){e||(t.currentDay=t.selectedDay,t.currentMonth=t.selectedMonth,t.currentYear=t.selectedYear);var o=e?"object"==typeof e?e:this._daylightSavingAdjust(new Date(n,i,e)):this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return this.formatDate(this._get(t,"dateFormat"),o,this._getFormatConfig(t))}}),S.fn.datepicker=function(t){if(!this.length)return this;S.datepicker.initialized||(S(document).on("mousedown",S.datepicker._checkExternalClick),S.datepicker.initialized=!0),0===S("#"+S.datepicker._mainDivId).length&&S("body").append(S.datepicker.dpDiv);var e=Array.prototype.slice.call(arguments,1);return"string"!=typeof t||"isDisabled"!==t&&"getDate"!==t&&"widget"!==t?"option"===t&&2===arguments.length&&"string"==typeof arguments[1]?S.datepicker["_"+t+"Datepicker"].apply(S.datepicker,[this[0]].concat(e)):this.each(function(){"string"==typeof t?S.datepicker["_"+t+"Datepicker"].apply(S.datepicker,[this].concat(e)):S.datepicker._attachDatepicker(this,t)}):S.datepicker["_"+t+"Datepicker"].apply(S.datepicker,[this[0]].concat(e))},S.datepicker=new f,S.datepicker.initialized=!1,S.datepicker.uuid=(new Date).getTime(),S.datepicker.version="1.12.1";S.datepicker,S.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());var y=!1;S(document).on("mouseup",function(){y=!1});S.widget("ui.mouse",{version:"1.12.1",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.on("mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).on("click."+this.widgetName,function(t){if(!0===S.data(t.target,e.widgetName+".preventClickEvent"))return S.removeData(t.target,e.widgetName+".preventClickEvent"),t.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(t){if(!y){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(t),this._mouseDownEvent=t;var e=this,i=1===t.which,n=!("string"!=typeof this.options.cancel||!t.target.nodeName)&&S(t.target).closest(this.options.cancel).length;return!(i&&!n&&this._mouseCapture(t))||(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){e.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=!1!==this._mouseStart(t),!this._mouseStarted)?(t.preventDefault(),!0):(!0===S.data(t.target,this.widgetName+".preventClickEvent")&&S.removeData(t.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return e._mouseMove(t)},this._mouseUpDelegate=function(t){return e._mouseUp(t)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),t.preventDefault(),y=!0))}},_mouseMove:function(t){if(this._mouseMoved){if(S.ui.ie&&(!document.documentMode||document.documentMode<9)&&!t.button)return this._mouseUp(t);if(!t.which)if(t.originalEvent.altKey||t.originalEvent.ctrlKey||t.originalEvent.metaKey||t.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(t)}return(t.which||t.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,t),this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(t){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target===this._mouseDownEvent.target&&S.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,y=!1,t.preventDefault()},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),S.ui.plugin={add:function(t,e,i){var n,o=S.ui[t].prototype;for(n in i)o.plugins[n]=o.plugins[n]||[],o.plugins[n].push([e,i[n]])},call:function(t,e,i,n){var o,r=t.plugins[e];if(r&&(n||t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType))for(o=0;o<r.length;o++)t.options[r[o][0]]&&r[o][1].apply(t.element,i)}},S.ui.safeBlur=function(t){t&&"body"!==t.nodeName.toLowerCase()&&S(t).trigger("blur")};S.widget("ui.draggable",S.ui.mouse,{version:"1.12.1",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this._addClass("ui-draggable"),this._setHandleClassName(),this._mouseInit()},_setOption:function(t,e){this._super(t,e),"handle"===t&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){(this.helper||this.element).is(".ui-draggable-dragging")?this.destroyOnClear=!0:(this._removeHandleClassName(),this._mouseDestroy())},_mouseCapture:function(t){var e=this.options;return!(this.helper||e.disabled||0<S(t.target).closest(".ui-resizable-handle").length)&&(this.handle=this._getHandle(t),!!this.handle&&(this._blurActiveElement(t),this._blockFrames(!0===e.iframeFix?"iframe":e.iframeFix),!0))},_blockFrames:function(t){this.iframeBlocks=this.document.find(t).map(function(){var t=S(this);return S("<div>").css("position","absolute").appendTo(t.parent()).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()).offset(t.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(t){var e=S.ui.safeActiveElement(this.document[0]);S(t.target).closest(e).length||S.ui.safeBlur(e)},_mouseStart:function(t){var e=this.options;return this.helper=this._createHelper(t),this._addClass(this.helper,"ui-draggable-dragging"),this._cacheHelperProportions(),S.ui.ddmanager&&(S.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=0<this.helper.parents().filter(function(){return"fixed"===S(this).css("position")}).length,this.positionAbs=this.element.offset(),this._refreshOffsets(t),this.originalPosition=this.position=this._generatePosition(t,!1),this.originalPageX=t.pageX,this.originalPageY=t.pageY,e.cursorAt&&this._adjustOffsetFromHelper(e.cursorAt),this._setContainment(),!1===this._trigger("start",t)?(this._clear(),!1):(this._cacheHelperProportions(),S.ui.ddmanager&&!e.dropBehaviour&&S.ui.ddmanager.prepareOffsets(this,t),this._mouseDrag(t,!0),S.ui.ddmanager&&S.ui.ddmanager.dragStart(this,t),!0)},_refreshOffsets:function(t){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:t.pageX-this.offset.left,top:t.pageY-this.offset.top}},_mouseDrag:function(t,e){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(t,!0),this.positionAbs=this._convertPositionTo("absolute"),!e){var i=this._uiHash();if(!1===this._trigger("drag",t,i))return this._mouseUp(new S.Event("mouseup",t)),!1;this.position=i.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",S.ui.ddmanager&&S.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var e=this,i=!1;return S.ui.ddmanager&&!this.options.dropBehaviour&&(i=S.ui.ddmanager.drop(this,t)),this.dropped&&(i=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!i||"valid"===this.options.revert&&i||!0===this.options.revert||S.isFunction(this.options.revert)&&this.options.revert.call(this.element,i)?S(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){!1!==e._trigger("stop",t)&&e._clear()}):!1!==this._trigger("stop",t)&&this._clear(),!1},_mouseUp:function(t){return this._unblockFrames(),S.ui.ddmanager&&S.ui.ddmanager.dragStop(this,t),this.handleElement.is(t.target)&&this.element.trigger("focus"),S.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp(new S.Event("mouseup",{target:this.element[0]})):this._clear(),this},_getHandle:function(t){return!this.options.handle||!!S(t.target).closest(this.element.find(this.options.handle)).length},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this._addClass(this.handleElement,"ui-draggable-handle")},_removeHandleClassName:function(){this._removeClass(this.handleElement,"ui-draggable-handle")},_createHelper:function(t){var e=this.options,i=S.isFunction(e.helper),n=i?S(e.helper.apply(this.element[0],[t])):"clone"===e.helper?this.element.clone().removeAttr("id"):this.element;return n.parents("body").length||n.appendTo("parent"===e.appendTo?this.element[0].parentNode:e.appendTo),i&&n[0]===this.element[0]&&this._setPositionRelative(),n[0]===this.element[0]||/(fixed|absolute)/.test(n.css("position"))||n.css("position","absolute"),n},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),S.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_isRootNode:function(t){return/(html|body)/i.test(t.tagName)||t===this.document[0]},_getParentOffset:function(){var t=this.offsetParent.offset(),e=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==e&&S.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var t=this.element.position(),e=this._isRootNode(this.scrollParent[0]);return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+(e?0:this.scrollParent.scrollTop()),left:t.left-(parseInt(this.helper.css("left"),10)||0)+(e?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,e,i,n=this.options,o=this.document[0];this.relativeContainer=null,n.containment?"window"!==n.containment?"document"!==n.containment?n.containment.constructor!==Array?("parent"===n.containment&&(n.containment=this.helper[0].parentNode),(i=(e=S(n.containment))[0])&&(t=/(scroll|auto)/.test(e.css("overflow")),this.containment=[(parseInt(e.css("borderLeftWidth"),10)||0)+(parseInt(e.css("paddingLeft"),10)||0),(parseInt(e.css("borderTopWidth"),10)||0)+(parseInt(e.css("paddingTop"),10)||0),(t?Math.max(i.scrollWidth,i.offsetWidth):i.offsetWidth)-(parseInt(e.css("borderRightWidth"),10)||0)-(parseInt(e.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(t?Math.max(i.scrollHeight,i.offsetHeight):i.offsetHeight)-(parseInt(e.css("borderBottomWidth"),10)||0)-(parseInt(e.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=e)):this.containment=n.containment:this.containment=[0,0,S(o).width()-this.helperProportions.width-this.margins.left,(S(o).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=[S(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,S(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,S(window).scrollLeft()+S(window).width()-this.helperProportions.width-this.margins.left,S(window).scrollTop()+(S(window).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=null},_convertPositionTo:function(t,e){e||(e=this.position);var i="absolute"===t?1:-1,n=this._isRootNode(this.scrollParent[0]);return{top:e.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.offset.scroll.top:n?0:this.offset.scroll.top)*i,left:e.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.offset.scroll.left:n?0:this.offset.scroll.left)*i}},_generatePosition:function(t,e){var i,n,o,r,s=this.options,a=this._isRootNode(this.scrollParent[0]),l=t.pageX,u=t.pageY;return a&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),e&&(this.containment&&(i=this.relativeContainer?(n=this.relativeContainer.offset(),[this.containment[0]+n.left,this.containment[1]+n.top,this.containment[2]+n.left,this.containment[3]+n.top]):this.containment,t.pageX-this.offset.click.left<i[0]&&(l=i[0]+this.offset.click.left),t.pageY-this.offset.click.top<i[1]&&(u=i[1]+this.offset.click.top),t.pageX-this.offset.click.left>i[2]&&(l=i[2]+this.offset.click.left),t.pageY-this.offset.click.top>i[3]&&(u=i[3]+this.offset.click.top)),s.grid&&(o=s.grid[1]?this.originalPageY+Math.round((u-this.originalPageY)/s.grid[1])*s.grid[1]:this.originalPageY,u=i?o-this.offset.click.top>=i[1]||o-this.offset.click.top>i[3]?o:o-this.offset.click.top>=i[1]?o-s.grid[1]:o+s.grid[1]:o,r=s.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/s.grid[0])*s.grid[0]:this.originalPageX,l=i?r-this.offset.click.left>=i[0]||r-this.offset.click.left>i[2]?r:r-this.offset.click.left>=i[0]?r-s.grid[0]:r+s.grid[0]:r),"y"===s.axis&&(l=this.originalPageX),"x"===s.axis&&(u=this.originalPageY)),{top:u-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:a?0:this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:a?0:this.offset.scroll.left)}},_clear:function(){this._removeClass(this.helper,"ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_trigger:function(t,e,i){return i=i||this._uiHash(),S.ui.plugin.call(this,t,[e,i,this],!0),/^(drag|start|stop)/.test(t)&&(this.positionAbs=this._convertPositionTo("absolute"),i.offset=this.positionAbs),S.Widget.prototype._trigger.call(this,t,e,i)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),S.ui.plugin.add("draggable","connectToSortable",{start:function(e,t,i){var n=S.extend({},t,{item:i.element});i.sortables=[],S(i.options.connectToSortable).each(function(){var t=S(this).sortable("instance");t&&!t.options.disabled&&(i.sortables.push(t),t.refreshPositions(),t._trigger("activate",e,n))})},stop:function(e,t,i){var n=S.extend({},t,{item:i.element});i.cancelHelperRemoval=!1,S.each(i.sortables,function(){var t=this;t.isOver?(t.isOver=0,i.cancelHelperRemoval=!0,t.cancelHelperRemoval=!1,t._storedCSS={position:t.placeholder.css("position"),top:t.placeholder.css("top"),left:t.placeholder.css("left")},t._mouseStop(e),t.options.helper=t.options._helper):(t.cancelHelperRemoval=!0,t._trigger("deactivate",e,n))})},drag:function(i,n,o){S.each(o.sortables,function(){var t=!1,e=this;e.positionAbs=o.positionAbs,e.helperProportions=o.helperProportions,e.offset.click=o.offset.click,e._intersectsWith(e.containerCache)&&(t=!0,S.each(o.sortables,function(){return this.positionAbs=o.positionAbs,this.helperProportions=o.helperProportions,this.offset.click=o.offset.click,this!==e&&this._intersectsWith(this.containerCache)&&S.contains(e.element[0],this.element[0])&&(t=!1),t})),t?(e.isOver||(e.isOver=1,o._parent=n.helper.parent(),e.currentItem=n.helper.appendTo(e.element).data("ui-sortable-item",!0),e.options._helper=e.options.helper,e.options.helper=function(){return n.helper[0]},i.target=e.currentItem[0],e._mouseCapture(i,!0),e._mouseStart(i,!0,!0),e.offset.click.top=o.offset.click.top,e.offset.click.left=o.offset.click.left,e.offset.parent.left-=o.offset.parent.left-e.offset.parent.left,e.offset.parent.top-=o.offset.parent.top-e.offset.parent.top,o._trigger("toSortable",i),o.dropped=e.element,S.each(o.sortables,function(){this.refreshPositions()}),o.currentItem=o.element,e.fromOutside=o),e.currentItem&&(e._mouseDrag(i),n.position=e.position)):e.isOver&&(e.isOver=0,e.cancelHelperRemoval=!0,e.options._revert=e.options.revert,e.options.revert=!1,e._trigger("out",i,e._uiHash(e)),e._mouseStop(i,!0),e.options.revert=e.options._revert,e.options.helper=e.options._helper,e.placeholder&&e.placeholder.remove(),n.helper.appendTo(o._parent),o._refreshOffsets(i),n.position=o._generatePosition(i,!0),o._trigger("fromSortable",i),o.dropped=!1,S.each(o.sortables,function(){this.refreshPositions()}))})}}),S.ui.plugin.add("draggable","cursor",{start:function(t,e,i){var n=S("body"),o=i.options;n.css("cursor")&&(o._cursor=n.css("cursor")),n.css("cursor",o.cursor)},stop:function(t,e,i){var n=i.options;n._cursor&&S("body").css("cursor",n._cursor)}}),S.ui.plugin.add("draggable","opacity",{start:function(t,e,i){var n=S(e.helper),o=i.options;n.css("opacity")&&(o._opacity=n.css("opacity")),n.css("opacity",o.opacity)},stop:function(t,e,i){var n=i.options;n._opacity&&S(e.helper).css("opacity",n._opacity)}}),S.ui.plugin.add("draggable","scroll",{start:function(t,e,i){i.scrollParentNotHidden||(i.scrollParentNotHidden=i.helper.scrollParent(!1)),i.scrollParentNotHidden[0]!==i.document[0]&&"HTML"!==i.scrollParentNotHidden[0].tagName&&(i.overflowOffset=i.scrollParentNotHidden.offset())},drag:function(t,e,i){var n=i.options,o=!1,r=i.scrollParentNotHidden[0],s=i.document[0];r!==s&&"HTML"!==r.tagName?(n.axis&&"x"===n.axis||(i.overflowOffset.top+r.offsetHeight-t.pageY<n.scrollSensitivity?r.scrollTop=o=r.scrollTop+n.scrollSpeed:t.pageY-i.overflowOffset.top<n.scrollSensitivity&&(r.scrollTop=o=r.scrollTop-n.scrollSpeed)),n.axis&&"y"===n.axis||(i.overflowOffset.left+r.offsetWidth-t.pageX<n.scrollSensitivity?r.scrollLeft=o=r.scrollLeft+n.scrollSpeed:t.pageX-i.overflowOffset.left<n.scrollSensitivity&&(r.scrollLeft=o=r.scrollLeft-n.scrollSpeed))):(n.axis&&"x"===n.axis||(t.pageY-S(s).scrollTop()<n.scrollSensitivity?o=S(s).scrollTop(S(s).scrollTop()-n.scrollSpeed):S(window).height()-(t.pageY-S(s).scrollTop())<n.scrollSensitivity&&(o=S(s).scrollTop(S(s).scrollTop()+n.scrollSpeed))),n.axis&&"y"===n.axis||(t.pageX-S(s).scrollLeft()<n.scrollSensitivity?o=S(s).scrollLeft(S(s).scrollLeft()-n.scrollSpeed):S(window).width()-(t.pageX-S(s).scrollLeft())<n.scrollSensitivity&&(o=S(s).scrollLeft(S(s).scrollLeft()+n.scrollSpeed)))),!1!==o&&S.ui.ddmanager&&!n.dropBehaviour&&S.ui.ddmanager.prepareOffsets(i,t)}}),S.ui.plugin.add("draggable","snap",{start:function(t,e,i){var n=i.options;i.snapElements=[],S(n.snap.constructor!==String?n.snap.items||":data(ui-draggable)":n.snap).each(function(){var t=S(this),e=t.offset();this!==i.element[0]&&i.snapElements.push({item:this,width:t.outerWidth(),height:t.outerHeight(),top:e.top,left:e.left})})},drag:function(t,e,i){var n,o,r,s,a,l,u,h,c,p,d=i.options,f=d.snapTolerance,m=e.offset.left,g=m+i.helperProportions.width,v=e.offset.top,y=v+i.helperProportions.height;for(c=i.snapElements.length-1;0<=c;c--)l=(a=i.snapElements[c].left-i.margins.left)+i.snapElements[c].width,h=(u=i.snapElements[c].top-i.margins.top)+i.snapElements[c].height,g<a-f||l+f<m||y<u-f||h+f<v||!S.contains(i.snapElements[c].item.ownerDocument,i.snapElements[c].item)?(i.snapElements[c].snapping&&i.options.snap.release&&i.options.snap.release.call(i.element,t,S.extend(i._uiHash(),{snapItem:i.snapElements[c].item})),i.snapElements[c].snapping=!1):("inner"!==d.snapMode&&(n=Math.abs(u-y)<=f,o=Math.abs(h-v)<=f,r=Math.abs(a-g)<=f,s=Math.abs(l-m)<=f,n&&(e.position.top=i._convertPositionTo("relative",{top:u-i.helperProportions.height,left:0}).top),o&&(e.position.top=i._convertPositionTo("relative",{top:h,left:0}).top),r&&(e.position.left=i._convertPositionTo("relative",{top:0,left:a-i.helperProportions.width}).left),s&&(e.position.left=i._convertPositionTo("relative",{top:0,left:l}).left)),p=n||o||r||s,"outer"!==d.snapMode&&(n=Math.abs(u-v)<=f,o=Math.abs(h-y)<=f,r=Math.abs(a-m)<=f,s=Math.abs(l-g)<=f,n&&(e.position.top=i._convertPositionTo("relative",{top:u,left:0}).top),o&&(e.position.top=i._convertPositionTo("relative",{top:h-i.helperProportions.height,left:0}).top),r&&(e.position.left=i._convertPositionTo("relative",{top:0,left:a}).left),s&&(e.position.left=i._convertPositionTo("relative",{top:0,left:l-i.helperProportions.width}).left)),!i.snapElements[c].snapping&&(n||o||r||s||p)&&i.options.snap.snap&&i.options.snap.snap.call(i.element,t,S.extend(i._uiHash(),{snapItem:i.snapElements[c].item})),i.snapElements[c].snapping=n||o||r||s||p)}}),S.ui.plugin.add("draggable","stack",{start:function(t,e,i){var n,o=i.options,r=S.makeArray(S(o.stack)).sort(function(t,e){return(parseInt(S(t).css("zIndex"),10)||0)-(parseInt(S(e).css("zIndex"),10)||0)});r.length&&(n=parseInt(S(r[0]).css("zIndex"),10)||0,S(r).each(function(t){S(this).css("zIndex",n+t)}),this.css("zIndex",n+r.length))}}),S.ui.plugin.add("draggable","zIndex",{start:function(t,e,i){var n=S(e.helper),o=i.options;n.css("zIndex")&&(o._zIndex=n.css("zIndex")),n.css("zIndex",o.zIndex)},stop:function(t,e,i){var n=i.options;n._zIndex&&S(e.helper).css("zIndex",n._zIndex)}});S.ui.draggable;S.widget("ui.resizable",S.ui.mouse,{version:"1.12.1",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,classes:{"ui-resizable-se":"ui-icon ui-icon-gripsmall-diagonal-se"},containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(t){return parseFloat(t)||0},_isNumber:function(t){return!isNaN(parseFloat(t))},_hasScroll:function(t,e){if("hidden"===S(t).css("overflow"))return!1;var i,n=e&&"left"===e?"scrollLeft":"scrollTop";return 0<t[n]||(t[n]=1,i=0<t[n],t[n]=0,i)},_create:function(){var t,e=this.options,i=this;this._addClass("ui-resizable"),S.extend(this,{_aspectRatio:!!e.aspectRatio,aspectRatio:e.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:e.helper||e.ghost||e.animate?e.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(S("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,t={marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom"),marginLeft:this.originalElement.css("marginLeft")},this.element.css(t),this.originalElement.css("margin",0),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css(t),this._proportionallyResize()),this._setupHandles(),e.autoHide&&S(this.element).on("mouseenter",function(){e.disabled||(i._removeClass("ui-resizable-autohide"),i._handles.show())}).on("mouseleave",function(){e.disabled||i.resizing||(i._addClass("ui-resizable-autohide"),i._handles.hide())}),this._mouseInit()},_destroy:function(){this._mouseDestroy();var t,e=function(t){S(t).removeData("resizable").removeData("ui-resizable").off(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(e(this.element),t=this.element,this.originalElement.css({position:t.css("position"),width:t.outerWidth(),height:t.outerHeight(),top:t.css("top"),left:t.css("left")}).insertAfter(t),t.remove()),this.originalElement.css("resize",this.originalResizeStyle),e(this.originalElement),this},_setOption:function(t,e){switch(this._super(t,e),t){case"handles":this._removeHandles(),this._setupHandles()}},_setupHandles:function(){var t,e,i,n,o,r=this.options,s=this;if(this.handles=r.handles||(S(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=S(),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),i=this.handles.split(","),this.handles={},e=0;e<i.length;e++)n="ui-resizable-"+(t=S.trim(i[e])),o=S("<div>"),this._addClass(o,"ui-resizable-handle "+n),o.css({zIndex:r.zIndex}),this.handles[t]=".ui-resizable-"+t,this.element.append(o);this._renderAxis=function(t){var e,i,n,o;for(e in t=t||this.element,this.handles)this.handles[e].constructor===String?this.handles[e]=this.element.children(this.handles[e]).first().show():(this.handles[e].jquery||this.handles[e].nodeType)&&(this.handles[e]=S(this.handles[e]),this._on(this.handles[e],{mousedown:s._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(i=S(this.handles[e],this.element),o=/sw|ne|nw|se|n|s/.test(e)?i.outerHeight():i.outerWidth(),n=["padding",/ne|nw|n/.test(e)?"Top":/se|sw|s/.test(e)?"Bottom":/^e$/.test(e)?"Right":"Left"].join(""),t.css(n,o),this._proportionallyResize()),this._handles=this._handles.add(this.handles[e])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.on("mouseover",function(){s.resizing||(this.className&&(o=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),s.axis=o&&o[1]?o[1]:"se")}),r.autoHide&&(this._handles.hide(),this._addClass("ui-resizable-autohide"))},_removeHandles:function(){this._handles.remove()},_mouseCapture:function(t){var e,i,n=!1;for(e in this.handles)((i=S(this.handles[e])[0])===t.target||S.contains(i,t.target))&&(n=!0);return!this.options.disabled&&n},_mouseStart:function(t){var e,i,n,o=this.options,r=this.element;return this.resizing=!0,this._renderProxy(),e=this._num(this.helper.css("left")),i=this._num(this.helper.css("top")),o.containment&&(e+=S(o.containment).scrollLeft()||0,i+=S(o.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:e,top:i},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:r.width(),height:r.height()},this.originalSize=this._helper?{width:r.outerWidth(),height:r.outerHeight()}:{width:r.width(),height:r.height()},this.sizeDiff={width:r.outerWidth()-r.width(),height:r.outerHeight()-r.height()},this.originalPosition={left:e,top:i},this.originalMousePosition={left:t.pageX,top:t.pageY},this.aspectRatio="number"==typeof o.aspectRatio?o.aspectRatio:this.originalSize.width/this.originalSize.height||1,n=S(".ui-resizable-"+this.axis).css("cursor"),S("body").css("cursor","auto"===n?this.axis+"-resize":n),this._addClass("ui-resizable-resizing"),this._propagate("start",t),!0},_mouseDrag:function(t){var e,i,n=this.originalMousePosition,o=this.axis,r=t.pageX-n.left||0,s=t.pageY-n.top||0,a=this._change[o];return this._updatePrevProperties(),a&&(e=a.apply(this,[t,r,s]),this._updateVirtualBoundaries(t.shiftKey),(this._aspectRatio||t.shiftKey)&&(e=this._updateRatio(e,t)),e=this._respectSize(e,t),this._updateCache(e),this._propagate("resize",t),i=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),S.isEmptyObject(i)||(this._updatePrevProperties(),this._trigger("resize",t,this.ui()),this._applyChanges())),!1},_mouseStop:function(t){this.resizing=!1;var e,i,n,o,r,s,a,l=this.options,u=this;return this._helper&&(n=(i=(e=this._proportionallyResizeElements).length&&/textarea/i.test(e[0].nodeName))&&this._hasScroll(e[0],"left")?0:u.sizeDiff.height,o=i?0:u.sizeDiff.width,r={width:u.helper.width()-o,height:u.helper.height()-n},s=parseFloat(u.element.css("left"))+(u.position.left-u.originalPosition.left)||null,a=parseFloat(u.element.css("top"))+(u.position.top-u.originalPosition.top)||null,l.animate||this.element.css(S.extend(r,{top:a,left:s})),u.helper.height(u.size.height),u.helper.width(u.size.width),this._helper&&!l.animate&&this._proportionallyResize()),S("body").css("cursor","auto"),this._removeClass("ui-resizable-resizing"),this._propagate("stop",t),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var t={};return this.position.top!==this.prevPosition.top&&(t.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(t.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(t.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(t.height=this.size.height+"px"),this.helper.css(t),t},_updateVirtualBoundaries:function(t){var e,i,n,o,r,s=this.options;r={minWidth:this._isNumber(s.minWidth)?s.minWidth:0,maxWidth:this._isNumber(s.maxWidth)?s.maxWidth:1/0,minHeight:this._isNumber(s.minHeight)?s.minHeight:0,maxHeight:this._isNumber(s.maxHeight)?s.maxHeight:1/0},(this._aspectRatio||t)&&(e=r.minHeight*this.aspectRatio,n=r.minWidth/this.aspectRatio,i=r.maxHeight*this.aspectRatio,o=r.maxWidth/this.aspectRatio,e>r.minWidth&&(r.minWidth=e),n>r.minHeight&&(r.minHeight=n),i<r.maxWidth&&(r.maxWidth=i),o<r.maxHeight&&(r.maxHeight=o)),this._vBoundaries=r},_updateCache:function(t){this.offset=this.helper.offset(),this._isNumber(t.left)&&(this.position.left=t.left),this._isNumber(t.top)&&(this.position.top=t.top),this._isNumber(t.height)&&(this.size.height=t.height),this._isNumber(t.width)&&(this.size.width=t.width)},_updateRatio:function(t){var e=this.position,i=this.size,n=this.axis;return this._isNumber(t.height)?t.width=t.height*this.aspectRatio:this._isNumber(t.width)&&(t.height=t.width/this.aspectRatio),"sw"===n&&(t.left=e.left+(i.width-t.width),t.top=null),"nw"===n&&(t.top=e.top+(i.height-t.height),t.left=e.left+(i.width-t.width)),t},_respectSize:function(t){var e=this._vBoundaries,i=this.axis,n=this._isNumber(t.width)&&e.maxWidth&&e.maxWidth<t.width,o=this._isNumber(t.height)&&e.maxHeight&&e.maxHeight<t.height,r=this._isNumber(t.width)&&e.minWidth&&e.minWidth>t.width,s=this._isNumber(t.height)&&e.minHeight&&e.minHeight>t.height,a=this.originalPosition.left+this.originalSize.width,l=this.originalPosition.top+this.originalSize.height,u=/sw|nw|w/.test(i),h=/nw|ne|n/.test(i);return r&&(t.width=e.minWidth),s&&(t.height=e.minHeight),n&&(t.width=e.maxWidth),o&&(t.height=e.maxHeight),r&&u&&(t.left=a-e.minWidth),n&&u&&(t.left=a-e.maxWidth),s&&h&&(t.top=l-e.minHeight),o&&h&&(t.top=l-e.maxHeight),t.width||t.height||t.left||!t.top?t.width||t.height||t.top||!t.left||(t.left=null):t.top=null,t},_getPaddingPlusBorderDimensions:function(t){for(var e=0,i=[],n=[t.css("borderTopWidth"),t.css("borderRightWidth"),t.css("borderBottomWidth"),t.css("borderLeftWidth")],o=[t.css("paddingTop"),t.css("paddingRight"),t.css("paddingBottom"),t.css("paddingLeft")];e<4;e++)i[e]=parseFloat(n[e])||0,i[e]+=parseFloat(o[e])||0;return{height:i[0]+i[2],width:i[1]+i[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var t,e=0,i=this.helper||this.element;e<this._proportionallyResizeElements.length;e++)t=this._proportionallyResizeElements[e],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(t)),t.css({height:i.height()-this.outerDimensions.height||0,width:i.width()-this.outerDimensions.width||0})},_renderProxy:function(){var t=this.element,e=this.options;this.elementOffset=t.offset(),this._helper?(this.helper=this.helper||S("<div style='overflow:hidden;'></div>"),this._addClass(this.helper,this._helper),this.helper.css({width:this.element.outerWidth(),height:this.element.outerHeight(),position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++e.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(t,e){return{width:this.originalSize.width+e}},w:function(t,e){var i=this.originalSize;return{left:this.originalPosition.left+e,width:i.width-e}},n:function(t,e,i){var n=this.originalSize;return{top:this.originalPosition.top+i,height:n.height-i}},s:function(t,e,i){return{height:this.originalSize.height+i}},se:function(t,e,i){return S.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,e,i]))},sw:function(t,e,i){return S.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,e,i]))},ne:function(t,e,i){return S.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,e,i]))},nw:function(t,e,i){return S.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,e,i]))}},_propagate:function(t,e){S.ui.plugin.call(this,t,[e,this.ui()]),"resize"!==t&&this._trigger(t,e,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),S.ui.plugin.add("resizable","animate",{stop:function(e){var i=S(this).resizable("instance"),t=i.options,n=i._proportionallyResizeElements,o=n.length&&/textarea/i.test(n[0].nodeName),r=o&&i._hasScroll(n[0],"left")?0:i.sizeDiff.height,s=o?0:i.sizeDiff.width,a={width:i.size.width-s,height:i.size.height-r},l=parseFloat(i.element.css("left"))+(i.position.left-i.originalPosition.left)||null,u=parseFloat(i.element.css("top"))+(i.position.top-i.originalPosition.top)||null;i.element.animate(S.extend(a,u&&l?{top:u,left:l}:{}),{duration:t.animateDuration,easing:t.animateEasing,step:function(){var t={width:parseFloat(i.element.css("width")),height:parseFloat(i.element.css("height")),top:parseFloat(i.element.css("top")),left:parseFloat(i.element.css("left"))};n&&n.length&&S(n[0]).css({width:t.width,height:t.height}),i._updateCache(t),i._propagate("resize",e)}})}}),S.ui.plugin.add("resizable","containment",{start:function(){var i,n,t,e,o,r,s,a=S(this).resizable("instance"),l=a.options,u=a.element,h=l.containment,c=h instanceof S?h.get(0):/parent/.test(h)?u.parent().get(0):h;c&&(a.containerElement=S(c),/document/.test(h)||h===document?(a.containerOffset={left:0,top:0},a.containerPosition={left:0,top:0},a.parentData={element:S(document),left:0,top:0,width:S(document).width(),height:S(document).height()||document.body.parentNode.scrollHeight}):(i=S(c),n=[],S(["Top","Right","Left","Bottom"]).each(function(t,e){n[t]=a._num(i.css("padding"+e))}),a.containerOffset=i.offset(),a.containerPosition=i.position(),a.containerSize={height:i.innerHeight()-n[3],width:i.innerWidth()-n[1]},t=a.containerOffset,e=a.containerSize.height,o=a.containerSize.width,r=a._hasScroll(c,"left")?c.scrollWidth:o,s=a._hasScroll(c)?c.scrollHeight:e,a.parentData={element:c,left:t.left,top:t.top,width:r,height:s}))},resize:function(t){var e,i,n,o,r=S(this).resizable("instance"),s=r.options,a=r.containerOffset,l=r.position,u=r._aspectRatio||t.shiftKey,h={top:0,left:0},c=r.containerElement,p=!0;c[0]!==document&&/static/.test(c.css("position"))&&(h=a),l.left<(r._helper?a.left:0)&&(r.size.width=r.size.width+(r._helper?r.position.left-a.left:r.position.left-h.left),u&&(r.size.height=r.size.width/r.aspectRatio,p=!1),r.position.left=s.helper?a.left:0),l.top<(r._helper?a.top:0)&&(r.size.height=r.size.height+(r._helper?r.position.top-a.top:r.position.top),u&&(r.size.width=r.size.height*r.aspectRatio,p=!1),r.position.top=r._helper?a.top:0),n=r.containerElement.get(0)===r.element.parent().get(0),o=/relative|absolute/.test(r.containerElement.css("position")),r.offset.top=n&&o?(r.offset.left=r.parentData.left+r.position.left,r.parentData.top+r.position.top):(r.offset.left=r.element.offset().left,r.element.offset().top),e=Math.abs(r.sizeDiff.width+(r._helper?r.offset.left-h.left:r.offset.left-a.left)),i=Math.abs(r.sizeDiff.height+(r._helper?r.offset.top-h.top:r.offset.top-a.top)),e+r.size.width>=r.parentData.width&&(r.size.width=r.parentData.width-e,u&&(r.size.height=r.size.width/r.aspectRatio,p=!1)),i+r.size.height>=r.parentData.height&&(r.size.height=r.parentData.height-i,u&&(r.size.width=r.size.height*r.aspectRatio,p=!1)),p||(r.position.left=r.prevPosition.left,r.position.top=r.prevPosition.top,r.size.width=r.prevSize.width,r.size.height=r.prevSize.height)},stop:function(){var t=S(this).resizable("instance"),e=t.options,i=t.containerOffset,n=t.containerPosition,o=t.containerElement,r=S(t.helper),s=r.offset(),a=r.outerWidth()-t.sizeDiff.width,l=r.outerHeight()-t.sizeDiff.height;t._helper&&!e.animate&&/relative/.test(o.css("position"))&&S(this).css({left:s.left-n.left-i.left,width:a,height:l}),t._helper&&!e.animate&&/static/.test(o.css("position"))&&S(this).css({left:s.left-n.left-i.left,width:a,height:l})}}),S.ui.plugin.add("resizable","alsoResize",{start:function(){var t=S(this).resizable("instance").options;S(t.alsoResize).each(function(){var t=S(this);t.data("ui-resizable-alsoresize",{width:parseFloat(t.width()),height:parseFloat(t.height()),left:parseFloat(t.css("left")),top:parseFloat(t.css("top"))})})},resize:function(t,i){var e=S(this).resizable("instance"),n=e.options,o=e.originalSize,r=e.originalPosition,s={height:e.size.height-o.height||0,width:e.size.width-o.width||0,top:e.position.top-r.top||0,left:e.position.left-r.left||0};S(n.alsoResize).each(function(){var t=S(this),n=S(this).data("ui-resizable-alsoresize"),o={},e=t.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];S.each(e,function(t,e){var i=(n[e]||0)+(s[e]||0);i&&0<=i&&(o[e]=i||null)}),t.css(o)})},stop:function(){S(this).removeData("ui-resizable-alsoresize")}}),S.ui.plugin.add("resizable","ghost",{start:function(){var t=S(this).resizable("instance"),e=t.size;t.ghost=t.originalElement.clone(),t.ghost.css({opacity:.25,display:"block",position:"relative",height:e.height,width:e.width,margin:0,left:0,top:0}),t._addClass(t.ghost,"ui-resizable-ghost"),!1!==S.uiBackCompat&&"string"==typeof t.options.ghost&&t.ghost.addClass(this.options.ghost),t.ghost.appendTo(t.helper)},resize:function(){var t=S(this).resizable("instance");t.ghost&&t.ghost.css({position:"relative",height:t.size.height,width:t.size.width})},stop:function(){var t=S(this).resizable("instance");t.ghost&&t.helper&&t.helper.get(0).removeChild(t.ghost.get(0))}}),S.ui.plugin.add("resizable","grid",{resize:function(){var t,e=S(this).resizable("instance"),i=e.options,n=e.size,o=e.originalSize,r=e.originalPosition,s=e.axis,a="number"==typeof i.grid?[i.grid,i.grid]:i.grid,l=a[0]||1,u=a[1]||1,h=Math.round((n.width-o.width)/l)*l,c=Math.round((n.height-o.height)/u)*u,p=o.width+h,d=o.height+c,f=i.maxWidth&&i.maxWidth<p,m=i.maxHeight&&i.maxHeight<d,g=i.minWidth&&i.minWidth>p,v=i.minHeight&&i.minHeight>d;i.grid=a,g&&(p+=l),v&&(d+=u),f&&(p-=l),m&&(d-=u),/^(se|s|e)$/.test(s)?(e.size.width=p,e.size.height=d):/^(ne)$/.test(s)?(e.size.width=p,e.size.height=d,e.position.top=r.top-c):/^(sw)$/.test(s)?(e.size.width=p,e.size.height=d,e.position.left=r.left-h):((d-u<=0||p-l<=0)&&(t=e._getPaddingPlusBorderDimensions(this)),e.position.top=0<d-u?(e.size.height=d,r.top-c):(d=u-t.height,e.size.height=d,r.top+o.height-d),e.position.left=0<p-l?(e.size.width=p,r.left-h):(p=l-t.width,e.size.width=p,r.left+o.width-p))}});S.ui.resizable;S.widget("ui.dialog",{version:"1.12.1",options:{appendTo:"body",autoOpen:!0,buttons:[],classes:{"ui-dialog":"ui-corner-all","ui-dialog-titlebar":"ui-corner-all"},closeOnEscape:!0,closeText:"Close",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(t){var e=S(this).css(t).offset().top;e<0&&S(this).css("top",t.top-e)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),null==this.options.title&&null!=this.originalTitle&&(this.options.title=this.originalTitle),this.options.disabled&&(this.options.disabled=!1),this._createWrapper(),this.element.show().removeAttr("title").appendTo(this.uiDialog),this._addClass("ui-dialog-content","ui-widget-content"),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&S.fn.draggable&&this._makeDraggable(),this.options.resizable&&S.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var t=this.options.appendTo;return t&&(t.jquery||t.nodeType)?S(t):this.document.find(t||"body").eq(0)},_destroy:function(){var t,e=this.originalPosition;this._untrackInstance(),this._destroyOverlay(),this.element.removeUniqueId().css(this.originalCss).detach(),this.uiDialog.remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),(t=e.parent.children().eq(e.index)).length&&t[0]!==this.element[0]?t.before(this.element):e.parent.append(this.element)},widget:function(){return this.uiDialog},disable:S.noop,enable:S.noop,close:function(t){var e=this;this._isOpen&&!1!==this._trigger("beforeClose",t)&&(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),this.opener.filter(":focusable").trigger("focus").length||S.ui.safeBlur(S.ui.safeActiveElement(this.document[0])),this._hide(this.uiDialog,this.options.hide,function(){e._trigger("close",t)}))},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(t,e){var i=!1,n=this.uiDialog.siblings(".ui-front:visible").map(function(){return+S(this).css("z-index")}).get(),o=Math.max.apply(null,n);return o>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",o+1),i=!0),i&&!e&&this._trigger("focus",t),i},open:function(){var t=this;this._isOpen?this._moveToTop()&&this._focusTabbable():(this._isOpen=!0,this.opener=S(S.ui.safeActiveElement(this.document[0])),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,function(){t._focusTabbable(),t._trigger("focus")}),this._makeFocusTarget(),this._trigger("open"))},_focusTabbable:function(){var t=this._focusedElement;t||(t=this.element.find("[autofocus]")),t.length||(t=this.element.find(":tabbable")),t.length||(t=this.uiDialogButtonPane.find(":tabbable")),t.length||(t=this.uiDialogTitlebarClose.filter(":tabbable")),t.length||(t=this.uiDialog),t.eq(0).trigger("focus")},_keepFocus:function(t){function e(){var t=S.ui.safeActiveElement(this.document[0]);this.uiDialog[0]===t||S.contains(this.uiDialog[0],t)||this._focusTabbable()}t.preventDefault(),e.call(this),this._delay(e)},_createWrapper:function(){this.uiDialog=S("<div>").hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._addClass(this.uiDialog,"ui-dialog","ui-widget ui-widget-content ui-front"),this._on(this.uiDialog,{keydown:function(t){if(this.options.closeOnEscape&&!t.isDefaultPrevented()&&t.keyCode&&t.keyCode===S.ui.keyCode.ESCAPE)return t.preventDefault(),void this.close(t);if(t.keyCode===S.ui.keyCode.TAB&&!t.isDefaultPrevented()){var e=this.uiDialog.find(":tabbable"),i=e.filter(":first"),n=e.filter(":last");t.target!==n[0]&&t.target!==this.uiDialog[0]||t.shiftKey?t.target!==i[0]&&t.target!==this.uiDialog[0]||!t.shiftKey||(this._delay(function(){n.trigger("focus")}),t.preventDefault()):(this._delay(function(){i.trigger("focus")}),t.preventDefault())}},mousedown:function(t){this._moveToTop(t)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var t;this.uiDialogTitlebar=S("<div>"),this._addClass(this.uiDialogTitlebar,"ui-dialog-titlebar","ui-widget-header ui-helper-clearfix"),this._on(this.uiDialogTitlebar,{mousedown:function(t){S(t.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.trigger("focus")}}),this.uiDialogTitlebarClose=S("<button type='button'></button>").button({label:S("<a>").text(this.options.closeText).html(),icon:"ui-icon-closethick",showLabel:!1}).appendTo(this.uiDialogTitlebar),this._addClass(this.uiDialogTitlebarClose,"ui-dialog-titlebar-close"),this._on(this.uiDialogTitlebarClose,{click:function(t){t.preventDefault(),this.close(t)}}),t=S("<span>").uniqueId().prependTo(this.uiDialogTitlebar),this._addClass(t,"ui-dialog-title"),this._title(t),this.uiDialogTitlebar.prependTo(this.uiDialog),this.uiDialog.attr({"aria-labelledby":t.attr("id")})},_title:function(t){this.options.title?t.text(this.options.title):t.html("&#160;")},_createButtonPane:function(){this.uiDialogButtonPane=S("<div>"),this._addClass(this.uiDialogButtonPane,"ui-dialog-buttonpane","ui-widget-content ui-helper-clearfix"),this.uiButtonSet=S("<div>").appendTo(this.uiDialogButtonPane),this._addClass(this.uiButtonSet,"ui-dialog-buttonset"),this._createButtons()},_createButtons:function(){var o=this,t=this.options.buttons;this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),S.isEmptyObject(t)||S.isArray(t)&&!t.length?this._removeClass(this.uiDialog,"ui-dialog-buttons"):(S.each(t,function(t,e){var i,n;e=S.isFunction(e)?{click:e,text:t}:e,e=S.extend({type:"button"},e),i=e.click,n={icon:e.icon,iconPosition:e.iconPosition,showLabel:e.showLabel,icons:e.icons,text:e.text},delete e.click,delete e.icon,delete e.iconPosition,delete e.showLabel,delete e.icons,"boolean"==typeof e.text&&delete e.text,S("<button></button>",e).button(n).appendTo(o.uiButtonSet).on("click",function(){i.apply(o.element[0],arguments)})}),this._addClass(this.uiDialog,"ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog))},_makeDraggable:function(){var o=this,r=this.options;function s(t){return{position:t.position,offset:t.offset}}this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(t,e){o._addClass(S(this),"ui-dialog-dragging"),o._blockFrames(),o._trigger("dragStart",t,s(e))},drag:function(t,e){o._trigger("drag",t,s(e))},stop:function(t,e){var i=e.offset.left-o.document.scrollLeft(),n=e.offset.top-o.document.scrollTop();r.position={my:"left top",at:"left"+(0<=i?"+":"")+i+" top"+(0<=n?"+":"")+n,of:o.window},o._removeClass(S(this),"ui-dialog-dragging"),o._unblockFrames(),o._trigger("dragStop",t,s(e))}})},_makeResizable:function(){var r=this,s=this.options,t=s.resizable,e=this.uiDialog.css("position"),i="string"==typeof t?t:"n,e,s,w,se,sw,ne,nw";function a(t){return{originalPosition:t.originalPosition,originalSize:t.originalSize,position:t.position,size:t.size}}this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:s.maxWidth,maxHeight:s.maxHeight,minWidth:s.minWidth,minHeight:this._minHeight(),handles:i,start:function(t,e){r._addClass(S(this),"ui-dialog-resizing"),r._blockFrames(),r._trigger("resizeStart",t,a(e))},resize:function(t,e){r._trigger("resize",t,a(e))},stop:function(t,e){var i=r.uiDialog.offset(),n=i.left-r.document.scrollLeft(),o=i.top-r.document.scrollTop();s.height=r.uiDialog.height(),s.width=r.uiDialog.width(),s.position={my:"left top",at:"left"+(0<=n?"+":"")+n+" top"+(0<=o?"+":"")+o,of:r.window},r._removeClass(S(this),"ui-dialog-resizing"),r._unblockFrames(),r._trigger("resizeStop",t,a(e))}}).css("position",e)},_trackFocus:function(){this._on(this.widget(),{focusin:function(t){this._makeFocusTarget(),this._focusedElement=S(t.target)}})},_makeFocusTarget:function(){this._untrackInstance(),this._trackingInstances().unshift(this)},_untrackInstance:function(){var t=this._trackingInstances(),e=S.inArray(this,t);-1!==e&&t.splice(e,1)},_trackingInstances:function(){var t=this.document.data("ui-dialog-instances");return t||(t=[],this.document.data("ui-dialog-instances",t)),t},_minHeight:function(){var t=this.options;return"auto"===t.height?t.minHeight:Math.min(t.minHeight,t.height)},_position:function(){var t=this.uiDialog.is(":visible");t||this.uiDialog.show(),this.uiDialog.position(this.options.position),t||this.uiDialog.hide()},_setOptions:function(t){var i=this,n=!1,o={};S.each(t,function(t,e){i._setOption(t,e),t in i.sizeRelatedOptions&&(n=!0),t in i.resizableRelatedOptions&&(o[t]=e)}),n&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",o)},_setOption:function(t,e){var i,n,o=this.uiDialog;"disabled"!==t&&(this._super(t,e),"appendTo"===t&&this.uiDialog.appendTo(this._appendTo()),"buttons"===t&&this._createButtons(),"closeText"===t&&this.uiDialogTitlebarClose.button({label:S("<a>").text(""+this.options.closeText).html()}),"draggable"===t&&((i=o.is(":data(ui-draggable)"))&&!e&&o.draggable("destroy"),!i&&e&&this._makeDraggable()),"position"===t&&this._position(),"resizable"===t&&((n=o.is(":data(ui-resizable)"))&&!e&&o.resizable("destroy"),n&&"string"==typeof e&&o.resizable("option","handles",e),n||!1===e||this._makeResizable()),"title"===t&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var t,e,i,n=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),n.minWidth>n.width&&(n.width=n.minWidth),t=this.uiDialog.css({height:"auto",width:n.width}).outerHeight(),e=Math.max(0,n.minHeight-t),i="number"==typeof n.maxHeight?Math.max(0,n.maxHeight-t):"none","auto"===n.height?this.element.css({minHeight:e,maxHeight:i,height:"auto"}):this.element.height(Math.max(0,n.height-t)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var t=S(this);return S("<div>").css({position:"absolute",width:t.outerWidth(),height:t.outerHeight()}).appendTo(t.parent()).offset(t.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(t){return!!S(t.target).closest(".ui-dialog").length||!!S(t.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var e=!0;this._delay(function(){e=!1}),this.document.data("ui-dialog-overlays")||this._on(this.document,{focusin:function(t){e||this._allowInteraction(t)||(t.preventDefault(),this._trackingInstances()[0]._focusTabbable())}}),this.overlay=S("<div>").appendTo(this._appendTo()),this._addClass(this.overlay,null,"ui-widget-overlay ui-front"),this._on(this.overlay,{mousedown:"_keepFocus"}),this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)}},_destroyOverlay:function(){if(this.options.modal&&this.overlay){var t=this.document.data("ui-dialog-overlays")-1;t?this.document.data("ui-dialog-overlays",t):(this._off(this.document,"focusin"),this.document.removeData("ui-dialog-overlays")),this.overlay.remove(),this.overlay=null}}}),!1!==S.uiBackCompat&&S.widget("ui.dialog",S.ui.dialog,{options:{dialogClass:""},_createWrapper:function(){this._super(),this.uiDialog.addClass(this.options.dialogClass)},_setOption:function(t,e){"dialogClass"===t&&this.uiDialog.removeClass(this.options.dialogClass).addClass(e),this._superApply(arguments)}});S.ui.dialog;S.widget("ui.droppable",{version:"1.12.1",widgetEventPrefix:"drop",options:{accept:"*",addClasses:!0,greedy:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var t,e=this.options,i=e.accept;this.isover=!1,this.isout=!0,this.accept=S.isFunction(i)?i:function(t){return t.is(i)},this.proportions=function(){if(!arguments.length)return t||(t={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight});t=arguments[0]},this._addToManager(e.scope),e.addClasses&&this._addClass("ui-droppable")},_addToManager:function(t){S.ui.ddmanager.droppables[t]=S.ui.ddmanager.droppables[t]||[],S.ui.ddmanager.droppables[t].push(this)},_splice:function(t){for(var e=0;e<t.length;e++)t[e]===this&&t.splice(e,1)},_destroy:function(){var t=S.ui.ddmanager.droppables[this.options.scope];this._splice(t)},_setOption:function(t,e){if("accept"===t)this.accept=S.isFunction(e)?e:function(t){return t.is(e)};else if("scope"===t){var i=S.ui.ddmanager.droppables[this.options.scope];this._splice(i),this._addToManager(e)}this._super(t,e)},_activate:function(t){var e=S.ui.ddmanager.current;this._addActiveClass(),e&&this._trigger("activate",t,this.ui(e))},_deactivate:function(t){var e=S.ui.ddmanager.current;this._removeActiveClass(),e&&this._trigger("deactivate",t,this.ui(e))},_over:function(t){var e=S.ui.ddmanager.current;e&&(e.currentItem||e.element)[0]!==this.element[0]&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this._addHoverClass(),this._trigger("over",t,this.ui(e)))},_out:function(t){var e=S.ui.ddmanager.current;e&&(e.currentItem||e.element)[0]!==this.element[0]&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this._removeHoverClass(),this._trigger("out",t,this.ui(e)))},_drop:function(e,t){var i=t||S.ui.ddmanager.current,n=!1;return!(!i||(i.currentItem||i.element)[0]===this.element[0])&&(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var t=S(this).droppable("instance");if(t.options.greedy&&!t.options.disabled&&t.options.scope===i.options.scope&&t.accept.call(t.element[0],i.currentItem||i.element)&&_(i,S.extend(t,{offset:t.element.offset()}),t.options.tolerance,e))return!(n=!0)}),!n&&(!!this.accept.call(this.element[0],i.currentItem||i.element)&&(this._removeActiveClass(),this._removeHoverClass(),this._trigger("drop",e,this.ui(i)),this.element)))},ui:function(t){return{draggable:t.currentItem||t.element,helper:t.helper,position:t.position,offset:t.positionAbs}},_addHoverClass:function(){this._addClass("ui-droppable-hover")},_removeHoverClass:function(){this._removeClass("ui-droppable-hover")},_addActiveClass:function(){this._addClass("ui-droppable-active")},_removeActiveClass:function(){this._removeClass("ui-droppable-active")}});var _=S.ui.intersect=function(){function p(t,e,i){return e<=t&&t<e+i}return function(t,e,i,n){if(!e.offset)return!1;var o=(t.positionAbs||t.position.absolute).left+t.margins.left,r=(t.positionAbs||t.position.absolute).top+t.margins.top,s=o+t.helperProportions.width,a=r+t.helperProportions.height,l=e.offset.left,u=e.offset.top,h=l+e.proportions().width,c=u+e.proportions().height;switch(i){case"fit":return l<=o&&s<=h&&u<=r&&a<=c;case"intersect":return l<o+t.helperProportions.width/2&&s-t.helperProportions.width/2<h&&u<r+t.helperProportions.height/2&&a-t.helperProportions.height/2<c;case"pointer":return p(n.pageY,u,e.proportions().height)&&p(n.pageX,l,e.proportions().width);case"touch":return(u<=r&&r<=c||u<=a&&a<=c||r<u&&c<a)&&(l<=o&&o<=h||l<=s&&s<=h||o<l&&h<s);default:return!1}}}();!(S.ui.ddmanager={current:null,droppables:{default:[]},prepareOffsets:function(t,e){var i,n,o=S.ui.ddmanager.droppables[t.options.scope]||[],r=e?e.type:null,s=(t.currentItem||t.element).find(":data(ui-droppable)").addBack();t:for(i=0;i<o.length;i++)if(!(o[i].options.disabled||t&&!o[i].accept.call(o[i].element[0],t.currentItem||t.element))){for(n=0;n<s.length;n++)if(s[n]===o[i].element[0]){o[i].proportions().height=0;continue t}o[i].visible="none"!==o[i].element.css("display"),o[i].visible&&("mousedown"===r&&o[i]._activate.call(o[i],e),o[i].offset=o[i].element.offset(),o[i].proportions({width:o[i].element[0].offsetWidth,height:o[i].element[0].offsetHeight}))}},drop:function(t,e){var i=!1;return S.each((S.ui.ddmanager.droppables[t.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&_(t,this,this.options.tolerance,e)&&(i=this._drop.call(this,e)||i),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,e)))}),i},dragStart:function(t,e){t.element.parentsUntil("body").on("scroll.droppable",function(){t.options.refreshPositions||S.ui.ddmanager.prepareOffsets(t,e)})},drag:function(r,s){r.options.refreshPositions&&S.ui.ddmanager.prepareOffsets(r,s),S.each(S.ui.ddmanager.droppables[r.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var t,e,i,n=_(r,this,this.options.tolerance,s),o=!n&&this.isover?"isout":n&&!this.isover?"isover":null;o&&(this.options.greedy&&(e=this.options.scope,(i=this.element.parents(":data(ui-droppable)").filter(function(){return S(this).droppable("instance").options.scope===e})).length&&((t=S(i[0]).droppable("instance")).greedyChild="isover"===o)),t&&"isover"===o&&(t.isover=!1,t.isout=!0,t._out.call(t,s)),this[o]=!0,this["isout"===o?"isover":"isout"]=!1,this["isover"===o?"_over":"_out"].call(this,s),t&&"isout"===o&&(t.isout=!1,t.isover=!0,t._over.call(t,s)))}})},dragStop:function(t,e){t.element.parentsUntil("body").off("scroll.droppable"),t.options.refreshPositions||S.ui.ddmanager.prepareOffsets(t,e)}})!==S.uiBackCompat&&S.widget("ui.droppable",S.ui.droppable,{options:{hoverClass:!1,activeClass:!1},_addActiveClass:function(){this._super(),this.options.activeClass&&this.element.addClass(this.options.activeClass)},_removeActiveClass:function(){this._super(),this.options.activeClass&&this.element.removeClass(this.options.activeClass)},_addHoverClass:function(){this._super(),this.options.hoverClass&&this.element.addClass(this.options.hoverClass)},_removeHoverClass:function(){this._super(),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass)}});S.ui.droppable,S.widget("ui.progressbar",{version:"1.12.1",options:{classes:{"ui-progressbar":"ui-corner-all","ui-progressbar-value":"ui-corner-left","ui-progressbar-complete":"ui-corner-right"},max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.attr({role:"progressbar","aria-valuemin":this.min}),this._addClass("ui-progressbar","ui-widget ui-widget-content"),this.valueDiv=S("<div>").appendTo(this.element),this._addClass(this.valueDiv,"ui-progressbar-value","ui-widget-header"),this._refreshValue()},_destroy:function(){this.element.removeAttr("role aria-valuemin aria-valuemax aria-valuenow"),this.valueDiv.remove()},value:function(t){if(void 0===t)return this.options.value;this.options.value=this._constrainedValue(t),this._refreshValue()},_constrainedValue:function(t){return void 0===t&&(t=this.options.value),this.indeterminate=!1===t,"number"!=typeof t&&(t=0),!this.indeterminate&&Math.min(this.options.max,Math.max(this.min,t))},_setOptions:function(t){var e=t.value;delete t.value,this._super(t),this.options.value=this._constrainedValue(e),this._refreshValue()},_setOption:function(t,e){"max"===t&&(e=Math.max(this.min,e)),this._super(t,e)},_setOptionDisabled:function(t){this._super(t),this.element.attr("aria-disabled",t),this._toggleClass(null,"ui-state-disabled",!!t)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var t=this.options.value,e=this._percentage();this.valueDiv.toggle(this.indeterminate||t>this.min).width(e.toFixed(0)+"%"),this._toggleClass(this.valueDiv,"ui-progressbar-complete",null,t===this.options.max)._toggleClass("ui-progressbar-indeterminate",null,this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=S("<div>").appendTo(this.valueDiv),this._addClass(this.overlayDiv,"ui-progressbar-overlay"))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":t}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==t&&(this.oldValue=t,this._trigger("change")),t===this.options.max&&this._trigger("complete")}}),S.widget("ui.selectable",S.ui.mouse,{version:"1.12.1",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var n=this;this._addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){n.elementPos=S(n.element[0]).offset(),n.selectees=S(n.options.filter,n.element[0]),n._addClass(n.selectees,"ui-selectee"),n.selectees.each(function(){var t=S(this),e=t.offset(),i={left:e.left-n.elementPos.left,top:e.top-n.elementPos.top};S.data(this,"selectable-item",{element:this,$element:t,left:i.left,top:i.top,right:i.left+t.outerWidth(),bottom:i.top+t.outerHeight(),startselected:!1,selected:t.hasClass("ui-selected"),selecting:t.hasClass("ui-selecting"),unselecting:t.hasClass("ui-unselecting")})})},this.refresh(),this._mouseInit(),this.helper=S("<div>"),this._addClass(this.helper,"ui-selectable-helper")},_destroy:function(){this.selectees.removeData("selectable-item"),this._mouseDestroy()},_mouseStart:function(i){var n=this,t=this.options;this.opos=[i.pageX,i.pageY],this.elementPos=S(this.element[0]).offset(),this.options.disabled||(this.selectees=S(t.filter,this.element[0]),this._trigger("start",i),S(t.appendTo).append(this.helper),this.helper.css({left:i.pageX,top:i.pageY,width:0,height:0}),t.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var t=S.data(this,"selectable-item");t.startselected=!0,i.metaKey||i.ctrlKey||(n._removeClass(t.$element,"ui-selected"),t.selected=!1,n._addClass(t.$element,"ui-unselecting"),t.unselecting=!0,n._trigger("unselecting",i,{unselecting:t.element}))}),S(i.target).parents().addBack().each(function(){var t,e=S.data(this,"selectable-item");if(e)return t=!i.metaKey&&!i.ctrlKey||!e.$element.hasClass("ui-selected"),n._removeClass(e.$element,t?"ui-unselecting":"ui-selected")._addClass(e.$element,t?"ui-selecting":"ui-unselecting"),e.unselecting=!t,e.selecting=t,(e.selected=t)?n._trigger("selecting",i,{selecting:e.element}):n._trigger("unselecting",i,{unselecting:e.element}),!1}))},_mouseDrag:function(n){if(this.dragged=!0,!this.options.disabled){var t,o=this,r=this.options,s=this.opos[0],a=this.opos[1],l=n.pageX,u=n.pageY;return l<s&&(t=l,l=s,s=t),u<a&&(t=u,u=a,a=t),this.helper.css({left:s,top:a,width:l-s,height:u-a}),this.selectees.each(function(){var t=S.data(this,"selectable-item"),e=!1,i={};t&&t.element!==o.element[0]&&(i.left=t.left+o.elementPos.left,i.right=t.right+o.elementPos.left,i.top=t.top+o.elementPos.top,i.bottom=t.bottom+o.elementPos.top,"touch"===r.tolerance?e=!(i.left>l||i.right<s||i.top>u||i.bottom<a):"fit"===r.tolerance&&(e=i.left>s&&i.right<l&&i.top>a&&i.bottom<u),e?(t.selected&&(o._removeClass(t.$element,"ui-selected"),t.selected=!1),t.unselecting&&(o._removeClass(t.$element,"ui-unselecting"),t.unselecting=!1),t.selecting||(o._addClass(t.$element,"ui-selecting"),t.selecting=!0,o._trigger("selecting",n,{selecting:t.element}))):(t.selecting&&((n.metaKey||n.ctrlKey)&&t.startselected?(o._removeClass(t.$element,"ui-selecting"),t.selecting=!1,o._addClass(t.$element,"ui-selected"),t.selected=!0):(o._removeClass(t.$element,"ui-selecting"),t.selecting=!1,t.startselected&&(o._addClass(t.$element,"ui-unselecting"),t.unselecting=!0),o._trigger("unselecting",n,{unselecting:t.element}))),t.selected&&(n.metaKey||n.ctrlKey||t.startselected||(o._removeClass(t.$element,"ui-selected"),t.selected=!1,o._addClass(t.$element,"ui-unselecting"),t.unselecting=!0,o._trigger("unselecting",n,{unselecting:t.element})))))}),!1}},_mouseStop:function(e){var i=this;return this.dragged=!1,S(".ui-unselecting",this.element[0]).each(function(){var t=S.data(this,"selectable-item");i._removeClass(t.$element,"ui-unselecting"),t.unselecting=!1,t.startselected=!1,i._trigger("unselected",e,{unselected:t.element})}),S(".ui-selecting",this.element[0]).each(function(){var t=S.data(this,"selectable-item");i._removeClass(t.$element,"ui-selecting")._addClass(t.$element,"ui-selected"),t.selecting=!1,t.selected=!0,t.startselected=!0,i._trigger("selected",e,{selected:t.element})}),this._trigger("stop",e),this.helper.remove(),!1}}),S.widget("ui.selectmenu",[S.ui.formResetMixin,{version:"1.12.1",defaultElement:"<select>",options:{appendTo:null,classes:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"},disabled:null,icons:{button:"ui-icon-triangle-1-s"},position:{my:"left top",at:"left bottom",collision:"none"},width:!1,change:null,close:null,focus:null,open:null,select:null},_create:function(){var t=this.element.uniqueId().attr("id");this.ids={element:t,button:t+"-button",menu:t+"-menu"},this._drawButton(),this._drawMenu(),this._bindFormResetHandler(),this._rendered=!1,this.menuItems=S()},_drawButton:function(){var t,e=this,i=this._parseOption(this.element.find("option:selected"),this.element[0].selectedIndex);this.labels=this.element.labels().attr("for",this.ids.button),this._on(this.labels,{click:function(t){this.button.focus(),t.preventDefault()}}),this.element.hide(),this.button=S("<span>",{tabindex:this.options.disabled?-1:0,id:this.ids.button,role:"combobox","aria-expanded":"false","aria-autocomplete":"list","aria-owns":this.ids.menu,"aria-haspopup":"true",title:this.element.attr("title")}).insertAfter(this.element),this._addClass(this.button,"ui-selectmenu-button ui-selectmenu-button-closed","ui-button ui-widget"),t=S("<span>").appendTo(this.button),this._addClass(t,"ui-selectmenu-icon","ui-icon "+this.options.icons.button),this.buttonItem=this._renderButtonItem(i).appendTo(this.button),!1!==this.options.width&&this._resizeButton(),this._on(this.button,this._buttonEvents),this.button.one("focusin",function(){e._rendered||e._refreshMenu()})},_drawMenu:function(){var n=this;this.menu=S("<ul>",{"aria-hidden":"true","aria-labelledby":this.ids.button,id:this.ids.menu}),this.menuWrap=S("<div>").append(this.menu),this._addClass(this.menuWrap,"ui-selectmenu-menu","ui-front"),this.menuWrap.appendTo(this._appendTo()),this.menuInstance=this.menu.menu({classes:{"ui-menu":"ui-corner-bottom"},role:"listbox",select:function(t,e){t.preventDefault(),n._setSelection(),n._select(e.item.data("ui-selectmenu-item"),t)},focus:function(t,e){var i=e.item.data("ui-selectmenu-item");null!=n.focusIndex&&i.index!==n.focusIndex&&(n._trigger("focus",t,{item:i}),n.isOpen||n._select(i,t)),n.focusIndex=i.index,n.button.attr("aria-activedescendant",n.menuItems.eq(i.index).attr("id"))}}).menu("instance"),this.menuInstance._off(this.menu,"mouseleave"),this.menuInstance._closeOnDocumentClick=function(){return!1},this.menuInstance._isDivider=function(){return!1}},refresh:function(){this._refreshMenu(),this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(this._getSelectedItem().data("ui-selectmenu-item")||{})),null===this.options.width&&this._resizeButton()},_refreshMenu:function(){var t,e=this.element.find("option");this.menu.empty(),this._parseOptions(e),this._renderMenu(this.menu,this.items),this.menuInstance.refresh(),this.menuItems=this.menu.find("li").not(".ui-selectmenu-optgroup").find(".ui-menu-item-wrapper"),this._rendered=!0,e.length&&(t=this._getSelectedItem(),this.menuInstance.focus(null,t),this._setAria(t.data("ui-selectmenu-item")),this._setOption("disabled",this.element.prop("disabled")))},open:function(t){this.options.disabled||(this._rendered?(this._removeClass(this.menu.find(".ui-state-active"),null,"ui-state-active"),this.menuInstance.focus(null,this._getSelectedItem())):this._refreshMenu(),this.menuItems.length&&(this.isOpen=!0,this._toggleAttr(),this._resizeMenu(),this._position(),this._on(this.document,this._documentClick),this._trigger("open",t)))},_position:function(){this.menuWrap.position(S.extend({of:this.button},this.options.position))},close:function(t){this.isOpen&&(this.isOpen=!1,this._toggleAttr(),this.range=null,this._off(this.document),this._trigger("close",t))},widget:function(){return this.button},menuWidget:function(){return this.menu},_renderButtonItem:function(t){var e=S("<span>");return this._setText(e,t.label),this._addClass(e,"ui-selectmenu-text"),e},_renderMenu:function(n,t){var o=this,r="";S.each(t,function(t,e){var i;e.optgroup!==r&&(i=S("<li>",{text:e.optgroup}),o._addClass(i,"ui-selectmenu-optgroup","ui-menu-divider"+(e.element.parent("optgroup").prop("disabled")?" ui-state-disabled":"")),i.appendTo(n),r=e.optgroup),o._renderItemData(n,e)})},_renderItemData:function(t,e){return this._renderItem(t,e).data("ui-selectmenu-item",e)},_renderItem:function(t,e){var i=S("<li>"),n=S("<div>",{title:e.element.attr("title")});return e.disabled&&this._addClass(i,null,"ui-state-disabled"),this._setText(n,e.label),i.append(n).appendTo(t)},_setText:function(t,e){e?t.text(e):t.html("&#160;")},_move:function(t,e){var i,n,o=".ui-menu-item";this.isOpen?i=this.menuItems.eq(this.focusIndex).parent("li"):(i=this.menuItems.eq(this.element[0].selectedIndex).parent("li"),o+=":not(.ui-state-disabled)"),(n="first"===t||"last"===t?i["first"===t?"prevAll":"nextAll"](o).eq(-1):i[t+"All"](o).eq(0)).length&&this.menuInstance.focus(e,n)},_getSelectedItem:function(){return this.menuItems.eq(this.element[0].selectedIndex).parent("li")},_toggle:function(t){this[this.isOpen?"close":"open"](t)},_setSelection:function(){var t;this.range&&(window.getSelection?((t=window.getSelection()).removeAllRanges(),t.addRange(this.range)):this.range.select(),this.button.focus())},_documentClick:{mousedown:function(t){this.isOpen&&(S(t.target).closest(".ui-selectmenu-menu, #"+S.ui.escapeSelector(this.ids.button)).length||this.close(t))}},_buttonEvents:{mousedown:function(){var t;window.getSelection?(t=window.getSelection()).rangeCount&&(this.range=t.getRangeAt(0)):this.range=document.selection.createRange()},click:function(t){this._setSelection(),this._toggle(t)},keydown:function(t){var e=!0;switch(t.keyCode){case S.ui.keyCode.TAB:case S.ui.keyCode.ESCAPE:this.close(t),e=!1;break;case S.ui.keyCode.ENTER:this.isOpen&&this._selectFocusedItem(t);break;case S.ui.keyCode.UP:t.altKey?this._toggle(t):this._move("prev",t);break;case S.ui.keyCode.DOWN:t.altKey?this._toggle(t):this._move("next",t);break;case S.ui.keyCode.SPACE:this.isOpen?this._selectFocusedItem(t):this._toggle(t);break;case S.ui.keyCode.LEFT:this._move("prev",t);break;case S.ui.keyCode.RIGHT:this._move("next",t);break;case S.ui.keyCode.HOME:case S.ui.keyCode.PAGE_UP:this._move("first",t);break;case S.ui.keyCode.END:case S.ui.keyCode.PAGE_DOWN:this._move("last",t);break;default:this.menu.trigger(t),e=!1}e&&t.preventDefault()}},_selectFocusedItem:function(t){var e=this.menuItems.eq(this.focusIndex).parent("li");e.hasClass("ui-state-disabled")||this._select(e.data("ui-selectmenu-item"),t)},_select:function(t,e){var i=this.element[0].selectedIndex;this.element[0].selectedIndex=t.index,this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(t)),this._setAria(t),this._trigger("select",e,{item:t}),t.index!==i&&this._trigger("change",e,{item:t}),this.close(e)},_setAria:function(t){var e=this.menuItems.eq(t.index).attr("id");this.button.attr({"aria-labelledby":e,"aria-activedescendant":e}),this.menu.attr("aria-activedescendant",e)},_setOption:function(t,e){if("icons"===t){var i=this.button.find("span.ui-icon");this._removeClass(i,null,this.options.icons.button)._addClass(i,null,e.button)}this._super(t,e),"appendTo"===t&&this.menuWrap.appendTo(this._appendTo()),"width"===t&&this._resizeButton()},_setOptionDisabled:function(t){this._super(t),this.menuInstance.option("disabled",t),this.button.attr("aria-disabled",t),this._toggleClass(this.button,null,"ui-state-disabled",t),this.element.prop("disabled",t),t?(this.button.attr("tabindex",-1),this.close()):this.button.attr("tabindex",0)},_appendTo:function(){var t=this.options.appendTo;return t&&(t=t.jquery||t.nodeType?S(t):this.document.find(t).eq(0)),t&&t[0]||(t=this.element.closest(".ui-front, dialog")),t.length||(t=this.document[0].body),t},_toggleAttr:function(){this.button.attr("aria-expanded",this.isOpen),this._removeClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"closed":"open"))._addClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"open":"closed"))._toggleClass(this.menuWrap,"ui-selectmenu-open",null,this.isOpen),this.menu.attr("aria-hidden",!this.isOpen)},_resizeButton:function(){var t=this.options.width;!1!==t?(null===t&&(t=this.element.show().outerWidth(),this.element.hide()),this.button.outerWidth(t)):this.button.css("width","")},_resizeMenu:function(){this.menu.outerWidth(Math.max(this.button.outerWidth(),this.menu.width("").outerWidth()+1))},_getCreateOptions:function(){var t=this._super();return t.disabled=this.element.prop("disabled"),t},_parseOptions:function(t){var i=this,n=[];t.each(function(t,e){n.push(i._parseOption(S(e),t))}),this.items=n},_parseOption:function(t,e){var i=t.parent("optgroup");return{element:t,index:e,value:t.val(),label:t.text(),optgroup:i.attr("label")||"",disabled:i.prop("disabled")||t.prop("disabled")}},_destroy:function(){this._unbindFormResetHandler(),this.menuWrap.remove(),this.button.remove(),this.element.show(),this.element.removeUniqueId(),this.labels.attr("for",this.ids.element)}}]),S.widget("ui.slider",S.ui.mouse,{version:"1.12.1",widgetEventPrefix:"slide",options:{animate:!1,classes:{"ui-slider":"ui-corner-all","ui-slider-handle":"ui-corner-all","ui-slider-range":"ui-corner-all ui-widget-header"},distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this._addClass("ui-slider ui-slider-"+this.orientation,"ui-widget ui-widget-content"),this._refresh(),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var t,e,i=this.options,n=this.element.find(".ui-slider-handle"),o=[];for(e=i.values&&i.values.length||1,n.length>e&&(n.slice(e).remove(),n=n.slice(0,e)),t=n.length;t<e;t++)o.push("<span tabindex='0'></span>");this.handles=n.add(S(o.join("")).appendTo(this.element)),this._addClass(this.handles,"ui-slider-handle","ui-state-default"),this.handle=this.handles.eq(0),this.handles.each(function(t){S(this).data("ui-slider-handle-index",t).attr("tabIndex",0)})},_createRange:function(){var t=this.options;t.range?(!0===t.range&&(t.values?t.values.length&&2!==t.values.length?t.values=[t.values[0],t.values[0]]:S.isArray(t.values)&&(t.values=t.values.slice(0)):t.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?(this._removeClass(this.range,"ui-slider-range-min ui-slider-range-max"),this.range.css({left:"",bottom:""})):(this.range=S("<div>").appendTo(this.element),this._addClass(this.range,"ui-slider-range")),"min"!==t.range&&"max"!==t.range||this._addClass(this.range,"ui-slider-range-"+t.range)):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this._mouseDestroy()},_mouseCapture:function(t){var e,i,n,o,r,s,a,l=this,u=this.options;return!u.disabled&&(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),e={x:t.pageX,y:t.pageY},i=this._normValueFromMouse(e),n=this._valueMax()-this._valueMin()+1,this.handles.each(function(t){var e=Math.abs(i-l.values(t));(e<n||n===e&&(t===l._lastChangedValue||l.values(t)===u.min))&&(n=e,o=S(this),r=t)}),!1!==this._start(t,r)&&(this._mouseSliding=!0,this._handleIndex=r,this._addClass(o,null,"ui-state-active"),o.trigger("focus"),s=o.offset(),a=!S(t.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=a?{left:0,top:0}:{left:t.pageX-s.left-o.width()/2,top:t.pageY-s.top-o.height()/2-(parseInt(o.css("borderTopWidth"),10)||0)-(parseInt(o.css("borderBottomWidth"),10)||0)+(parseInt(o.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(t,r,i),this._animateOff=!0))},_mouseStart:function(){return!0},_mouseDrag:function(t){var e={x:t.pageX,y:t.pageY},i=this._normValueFromMouse(e);return this._slide(t,this._handleIndex,i),!1},_mouseStop:function(t){return this._removeClass(this.handles,null,"ui-state-active"),this._mouseSliding=!1,this._stop(t,this._handleIndex),this._change(t,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(t){var e,i,n,o;return 1<(i=("horizontal"===this.orientation?(e=this.elementSize.width,t.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(e=this.elementSize.height,t.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)))/e)&&(i=1),i<0&&(i=0),"vertical"===this.orientation&&(i=1-i),n=this._valueMax()-this._valueMin(),o=this._valueMin()+i*n,this._trimAlignValue(o)},_uiHash:function(t,e,i){var n={handle:this.handles[t],handleIndex:t,value:void 0!==e?e:this.value()};return this._hasMultipleValues()&&(n.value=void 0!==e?e:this.values(t),n.values=i||this.values()),n},_hasMultipleValues:function(){return this.options.values&&this.options.values.length},_start:function(t,e){return this._trigger("start",t,this._uiHash(e))},_slide:function(t,e,i){var n,o=this.value(),r=this.values();this._hasMultipleValues()&&(n=this.values(e?0:1),o=this.values(e),2===this.options.values.length&&!0===this.options.range&&(i=0===e?Math.min(n,i):Math.max(n,i)),r[e]=i),i!==o&&!1!==this._trigger("slide",t,this._uiHash(e,i,r))&&(this._hasMultipleValues()?this.values(e,i):this.value(i))},_stop:function(t,e){this._trigger("stop",t,this._uiHash(e))},_change:function(t,e){this._keySliding||this._mouseSliding||(this._lastChangedValue=e,this._trigger("change",t,this._uiHash(e)))},value:function(t){return arguments.length?(this.options.value=this._trimAlignValue(t),this._refreshValue(),void this._change(null,0)):this._value()},values:function(t,e){var i,n,o;if(1<arguments.length)return this.options.values[t]=this._trimAlignValue(e),this._refreshValue(),void this._change(null,t);if(!arguments.length)return this._values();if(!S.isArray(t))return this._hasMultipleValues()?this._values(t):this.value();for(i=this.options.values,n=t,o=0;o<i.length;o+=1)i[o]=this._trimAlignValue(n[o]),this._change(null,o);this._refreshValue()},_setOption:function(t,e){var i,n=0;switch("range"===t&&!0===this.options.range&&("min"===e?(this.options.value=this._values(0),this.options.values=null):"max"===e&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),S.isArray(this.options.values)&&(n=this.options.values.length),this._super(t,e),t){case"orientation":this._detectOrientation(),this._removeClass("ui-slider-horizontal ui-slider-vertical")._addClass("ui-slider-"+this.orientation),this._refreshValue(),this.options.range&&this._refreshRange(e),this.handles.css("horizontal"===e?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),i=n-1;0<=i;i--)this._change(null,i);this._animateOff=!1;break;case"step":case"min":case"max":this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_setOptionDisabled:function(t){this._super(t),this._toggleClass(null,"ui-state-disabled",!!t)},_value:function(){var t=this.options.value;return t=this._trimAlignValue(t)},_values:function(t){var e,i,n;if(arguments.length)return e=this.options.values[t],e=this._trimAlignValue(e);if(this._hasMultipleValues()){for(i=this.options.values.slice(),n=0;n<i.length;n+=1)i[n]=this._trimAlignValue(i[n]);return i}return[]},_trimAlignValue:function(t){if(t<=this._valueMin())return this._valueMin();if(t>=this._valueMax())return this._valueMax();var e=0<this.options.step?this.options.step:1,i=(t-this._valueMin())%e,n=t-i;return 2*Math.abs(i)>=e&&(n+=0<i?e:-e),parseFloat(n.toFixed(5))},_calculateNewMax:function(){var t=this.options.max,e=this._valueMin(),i=this.options.step;(t=Math.round((t-e)/i)*i+e)>this.options.max&&(t-=i),this.max=parseFloat(t.toFixed(this._precision()))},_precision:function(){var t=this._precisionOf(this.options.step);return null!==this.options.min&&(t=Math.max(t,this._precisionOf(this.options.min))),t},_precisionOf:function(t){var e=t.toString(),i=e.indexOf(".");return-1===i?0:e.length-i-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshRange:function(t){"vertical"===t&&this.range.css({width:"",left:""}),"horizontal"===t&&this.range.css({height:"",bottom:""})},_refreshValue:function(){var e,i,t,n,o,r=this.options.range,s=this.options,a=this,l=!this._animateOff&&s.animate,u={};this._hasMultipleValues()?this.handles.each(function(t){i=(a.values(t)-a._valueMin())/(a._valueMax()-a._valueMin())*100,u["horizontal"===a.orientation?"left":"bottom"]=i+"%",S(this).stop(1,1)[l?"animate":"css"](u,s.animate),!0===a.options.range&&("horizontal"===a.orientation?(0===t&&a.range.stop(1,1)[l?"animate":"css"]({left:i+"%"},s.animate),1===t&&a.range[l?"animate":"css"]({width:i-e+"%"},{queue:!1,duration:s.animate})):(0===t&&a.range.stop(1,1)[l?"animate":"css"]({bottom:i+"%"},s.animate),1===t&&a.range[l?"animate":"css"]({height:i-e+"%"},{queue:!1,duration:s.animate}))),e=i}):(t=this.value(),n=this._valueMin(),o=this._valueMax(),i=o!==n?(t-n)/(o-n)*100:0,u["horizontal"===this.orientation?"left":"bottom"]=i+"%",this.handle.stop(1,1)[l?"animate":"css"](u,s.animate),"min"===r&&"horizontal"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({width:i+"%"},s.animate),"max"===r&&"horizontal"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({width:100-i+"%"},s.animate),"min"===r&&"vertical"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({height:i+"%"},s.animate),"max"===r&&"vertical"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({height:100-i+"%"},s.animate))},_handleEvents:{keydown:function(t){var e,i,n,o=S(t.target).data("ui-slider-handle-index");switch(t.keyCode){case S.ui.keyCode.HOME:case S.ui.keyCode.END:case S.ui.keyCode.PAGE_UP:case S.ui.keyCode.PAGE_DOWN:case S.ui.keyCode.UP:case S.ui.keyCode.RIGHT:case S.ui.keyCode.DOWN:case S.ui.keyCode.LEFT:if(t.preventDefault(),!this._keySliding&&(this._keySliding=!0,this._addClass(S(t.target),null,"ui-state-active"),!1===this._start(t,o)))return}switch(n=this.options.step,e=i=this._hasMultipleValues()?this.values(o):this.value(),t.keyCode){case S.ui.keyCode.HOME:i=this._valueMin();break;case S.ui.keyCode.END:i=this._valueMax();break;case S.ui.keyCode.PAGE_UP:i=this._trimAlignValue(e+(this._valueMax()-this._valueMin())/this.numPages);break;case S.ui.keyCode.PAGE_DOWN:i=this._trimAlignValue(e-(this._valueMax()-this._valueMin())/this.numPages);break;case S.ui.keyCode.UP:case S.ui.keyCode.RIGHT:if(e===this._valueMax())return;i=this._trimAlignValue(e+n);break;case S.ui.keyCode.DOWN:case S.ui.keyCode.LEFT:if(e===this._valueMin())return;i=this._trimAlignValue(e-n)}this._slide(t,o,i)},keyup:function(t){var e=S(t.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(t,e),this._change(t,e),this._removeClass(S(t.target),null,"ui-state-active"))}}}),S.widget("ui.sortable",S.ui.mouse,{version:"1.12.1",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(t,e,i){return e<=t&&t<e+i},_isFloating:function(t){return/left|right/.test(t.css("float"))||/inline|table-cell/.test(t.css("display"))},_create:function(){this.containerCache={},this._addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(t,e){this._super(t,e),"handle"===t&&this._setHandleClassName()},_setHandleClassName:function(){var t=this;this._removeClass(this.element.find(".ui-sortable-handle"),"ui-sortable-handle"),S.each(this.items,function(){t._addClass(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item,"ui-sortable-handle")})},_destroy:function(){this._mouseDestroy();for(var t=this.items.length-1;0<=t;t--)this.items[t].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(t,e){var i=null,n=!1,o=this;return!this.reverting&&(!this.options.disabled&&"static"!==this.options.type&&(this._refreshItems(t),S(t.target).parents().each(function(){if(S.data(this,o.widgetName+"-item")===o)return i=S(this),!1}),S.data(t.target,o.widgetName+"-item")===o&&(i=S(t.target)),!!i&&(!(this.options.handle&&!e&&(S(this.options.handle,i).find("*").addBack().each(function(){this===t.target&&(n=!0)}),!n))&&(this.currentItem=i,this._removeCurrentsFromItems(),!0))))},_mouseStart:function(t,e,i){var n,o,r=this.options;if((this.currentContainer=this).refreshPositions(),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},S.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,r.cursorAt&&this._adjustOffsetFromHelper(r.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),r.containment&&this._setContainment(),r.cursor&&"auto"!==r.cursor&&(o=this.document.find("body"),this.storedCursor=o.css("cursor"),o.css("cursor",r.cursor),this.storedStylesheet=S("<style>*{ cursor: "+r.cursor+" !important; }</style>").appendTo(o)),r.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",r.opacity)),r.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",r.zIndex)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!i)for(n=this.containers.length-1;0<=n;n--)this.containers[n]._trigger("activate",t,this._uiHash(this));return S.ui.ddmanager&&(S.ui.ddmanager.current=this),S.ui.ddmanager&&!r.dropBehaviour&&S.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this._addClass(this.helper,"ui-sortable-helper"),this._mouseDrag(t),!0},_mouseDrag:function(t){var e,i,n,o,r=this.options,s=!1;for(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<r.scrollSensitivity?this.scrollParent[0].scrollTop=s=this.scrollParent[0].scrollTop+r.scrollSpeed:t.pageY-this.overflowOffset.top<r.scrollSensitivity&&(this.scrollParent[0].scrollTop=s=this.scrollParent[0].scrollTop-r.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<r.scrollSensitivity?this.scrollParent[0].scrollLeft=s=this.scrollParent[0].scrollLeft+r.scrollSpeed:t.pageX-this.overflowOffset.left<r.scrollSensitivity&&(this.scrollParent[0].scrollLeft=s=this.scrollParent[0].scrollLeft-r.scrollSpeed)):(t.pageY-this.document.scrollTop()<r.scrollSensitivity?s=this.document.scrollTop(this.document.scrollTop()-r.scrollSpeed):this.window.height()-(t.pageY-this.document.scrollTop())<r.scrollSensitivity&&(s=this.document.scrollTop(this.document.scrollTop()+r.scrollSpeed)),t.pageX-this.document.scrollLeft()<r.scrollSensitivity?s=this.document.scrollLeft(this.document.scrollLeft()-r.scrollSpeed):this.window.width()-(t.pageX-this.document.scrollLeft())<r.scrollSensitivity&&(s=this.document.scrollLeft(this.document.scrollLeft()+r.scrollSpeed))),!1!==s&&S.ui.ddmanager&&!r.dropBehaviour&&S.ui.ddmanager.prepareOffsets(this,t)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),e=this.items.length-1;0<=e;e--)if(n=(i=this.items[e]).item[0],(o=this._intersectsWithPointer(i))&&i.instance===this.currentContainer&&!(n===this.currentItem[0]||this.placeholder[1===o?"next":"prev"]()[0]===n||S.contains(this.placeholder[0],n)||"semi-dynamic"===this.options.type&&S.contains(this.element[0],n))){if(this.direction=1===o?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(i))break;this._rearrange(t,i),this._trigger("change",t,this._uiHash());break}return this._contactContainers(t),S.ui.ddmanager&&S.ui.ddmanager.drag(this,t),this._trigger("sort",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(t,e){if(t){if(S.ui.ddmanager&&!this.options.dropBehaviour&&S.ui.ddmanager.drop(this,t),this.options.revert){var i=this,n=this.placeholder.offset(),o=this.options.axis,r={};o&&"x"!==o||(r.left=n.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),o&&"y"!==o||(r.top=n.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,S(this.helper).animate(r,parseInt(this.options.revert,10)||500,function(){i._clear(t)})}else this._clear(t,e);return!1}},cancel:function(){if(this.dragging){this._mouseUp(new S.Event("mouseup",{target:null})),"original"===this.options.helper?(this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")):this.currentItem.show();for(var t=this.containers.length-1;0<=t;t--)this.containers[t]._trigger("deactivate",null,this._uiHash(this)),this.containers[t].containerCache.over&&(this.containers[t]._trigger("out",null,this._uiHash(this)),this.containers[t].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),S.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?S(this.domPosition.prev).after(this.currentItem):S(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(e){var t=this._getItemsAsjQuery(e&&e.connected),i=[];return e=e||{},S(t).each(function(){var t=(S(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[\-=_](.+)/);t&&i.push((e.key||t[1]+"[]")+"="+(e.key&&e.expression?t[1]:t[2]))}),!i.length&&e.key&&i.push(e.key+"="),i.join("&")},toArray:function(t){var e=this._getItemsAsjQuery(t&&t.connected),i=[];return t=t||{},e.each(function(){i.push(S(t.item||this).attr(t.attribute||"id")||"")}),i},_intersectsWith:function(t){var e=this.positionAbs.left,i=e+this.helperProportions.width,n=this.positionAbs.top,o=n+this.helperProportions.height,r=t.left,s=r+t.width,a=t.top,l=a+t.height,u=this.offset.click.top,h=this.offset.click.left,c="x"===this.options.axis||a<n+u&&n+u<l,p="y"===this.options.axis||r<e+h&&e+h<s,d=c&&p;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>t[this.floating?"width":"height"]?d:r<e+this.helperProportions.width/2&&i-this.helperProportions.width/2<s&&a<n+this.helperProportions.height/2&&o-this.helperProportions.height/2<l},_intersectsWithPointer:function(t){var e,i,n="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top,t.height),o="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left,t.width);return!(!n||!o)&&(e=this._getDragVerticalDirection(),i=this._getDragHorizontalDirection(),this.floating?"right"===i||"down"===e?2:1:e&&("down"===e?2:1))},_intersectsWithSides:function(t){var e=this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),i=this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),n=this._getDragVerticalDirection(),o=this._getDragHorizontalDirection();return this.floating&&o?"right"===o&&i||"left"===o&&!i:n&&("down"===n&&e||"up"===n&&!e)},_getDragVerticalDirection:function(){var t=this.positionAbs.top-this.lastPositionAbs.top;return 0!==t&&(0<t?"down":"up")},_getDragHorizontalDirection:function(){var t=this.positionAbs.left-this.lastPositionAbs.left;return 0!==t&&(0<t?"right":"left")},refresh:function(t){return this._refreshItems(t),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var t=this.options;return t.connectWith.constructor===String?[t.connectWith]:t.connectWith},_getItemsAsjQuery:function(t){var e,i,n,o,r=[],s=[],a=this._connectWith();if(a&&t)for(e=a.length-1;0<=e;e--)for(i=(n=S(a[e],this.document[0])).length-1;0<=i;i--)(o=S.data(n[i],this.widgetFullName))&&o!==this&&!o.options.disabled&&s.push([S.isFunction(o.options.items)?o.options.items.call(o.element):S(o.options.items,o.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),o]);function l(){r.push(this)}for(s.push([S.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):S(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),e=s.length-1;0<=e;e--)s[e][0].each(l);return S(r)},_removeCurrentsFromItems:function(){var i=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=S.grep(this.items,function(t){for(var e=0;e<i.length;e++)if(i[e]===t.item[0])return!1;return!0})},_refreshItems:function(t){this.items=[],this.containers=[this];var e,i,n,o,r,s,a,l,u=this.items,h=[[S.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):S(this.options.items,this.element),this]],c=this._connectWith();if(c&&this.ready)for(e=c.length-1;0<=e;e--)for(i=(n=S(c[e],this.document[0])).length-1;0<=i;i--)(o=S.data(n[i],this.widgetFullName))&&o!==this&&!o.options.disabled&&(h.push([S.isFunction(o.options.items)?o.options.items.call(o.element[0],t,{item:this.currentItem}):S(o.options.items,o.element),o]),this.containers.push(o));for(e=h.length-1;0<=e;e--)for(r=h[e][1],i=0,l=(s=h[e][0]).length;i<l;i++)(a=S(s[i])).data(this.widgetName+"-item",r),u.push({item:a,instance:r,width:0,height:0,left:0,top:0})},refreshPositions:function(t){var e,i,n,o;for(this.floating=!!this.items.length&&("x"===this.options.axis||this._isFloating(this.items[0].item)),this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset()),e=this.items.length-1;0<=e;e--)(i=this.items[e]).instance!==this.currentContainer&&this.currentContainer&&i.item[0]!==this.currentItem[0]||(n=this.options.toleranceElement?S(this.options.toleranceElement,i.item):i.item,t||(i.width=n.outerWidth(),i.height=n.outerHeight()),o=n.offset(),i.left=o.left,i.top=o.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(e=this.containers.length-1;0<=e;e--)o=this.containers[e].element.offset(),this.containers[e].containerCache.left=o.left,this.containers[e].containerCache.top=o.top,this.containers[e].containerCache.width=this.containers[e].element.outerWidth(),this.containers[e].containerCache.height=this.containers[e].element.outerHeight();return this},_createPlaceholder:function(i){var n,o=(i=i||this).options;o.placeholder&&o.placeholder.constructor!==String||(n=o.placeholder,o.placeholder={element:function(){var t=i.currentItem[0].nodeName.toLowerCase(),e=S("<"+t+">",i.document[0]);return i._addClass(e,"ui-sortable-placeholder",n||i.currentItem[0].className)._removeClass(e,"ui-sortable-helper"),"tbody"===t?i._createTrPlaceholder(i.currentItem.find("tr").eq(0),S("<tr>",i.document[0]).appendTo(e)):"tr"===t?i._createTrPlaceholder(i.currentItem,e):"img"===t&&e.attr("src",i.currentItem.attr("src")),n||e.css("visibility","hidden"),e},update:function(t,e){n&&!o.forcePlaceholderSize||(e.height()||e.height(i.currentItem.innerHeight()-parseInt(i.currentItem.css("paddingTop")||0,10)-parseInt(i.currentItem.css("paddingBottom")||0,10)),e.width()||e.width(i.currentItem.innerWidth()-parseInt(i.currentItem.css("paddingLeft")||0,10)-parseInt(i.currentItem.css("paddingRight")||0,10)))}}),i.placeholder=S(o.placeholder.element.call(i.element,i.currentItem)),i.currentItem.after(i.placeholder),o.placeholder.update(i,i.placeholder)},_createTrPlaceholder:function(t,e){var i=this;t.children().each(function(){S("<td>&#160;</td>",i.document[0]).attr("colspan",S(this).attr("colspan")||1).appendTo(e)})},_contactContainers:function(t){var e,i,n,o,r,s,a,l,u,h,c=null,p=null;for(e=this.containers.length-1;0<=e;e--)if(!S.contains(this.currentItem[0],this.containers[e].element[0]))if(this._intersectsWith(this.containers[e].containerCache)){if(c&&S.contains(this.containers[e].element[0],c.element[0]))continue;c=this.containers[e],p=e}else this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",t,this._uiHash(this)),this.containers[e].containerCache.over=0);if(c)if(1===this.containers.length)this.containers[p].containerCache.over||(this.containers[p]._trigger("over",t,this._uiHash(this)),this.containers[p].containerCache.over=1);else{for(n=1e4,o=null,r=(u=c.floating||this._isFloating(this.currentItem))?"left":"top",s=u?"width":"height",h=u?"pageX":"pageY",i=this.items.length-1;0<=i;i--)S.contains(this.containers[p].element[0],this.items[i].item[0])&&this.items[i].item[0]!==this.currentItem[0]&&(a=this.items[i].item.offset()[r],l=!1,t[h]-a>this.items[i][s]/2&&(l=!0),Math.abs(t[h]-a)<n&&(n=Math.abs(t[h]-a),o=this.items[i],this.direction=l?"up":"down"));if(!o&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[p])return void(this.currentContainer.containerCache.over||(this.containers[p]._trigger("over",t,this._uiHash()),this.currentContainer.containerCache.over=1));o?this._rearrange(t,o,null,!0):this._rearrange(t,null,this.containers[p].element,!0),this._trigger("change",t,this._uiHash()),this.containers[p]._trigger("change",t,this._uiHash(this)),this.currentContainer=this.containers[p],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[p]._trigger("over",t,this._uiHash(this)),this.containers[p].containerCache.over=1}},_createHelper:function(t){var e=this.options,i=S.isFunction(e.helper)?S(e.helper.apply(this.element[0],[t,this.currentItem])):"clone"===e.helper?this.currentItem.clone():this.currentItem;return i.parents("body").length||S("parent"!==e.appendTo?e.appendTo:this.currentItem[0].parentNode)[0].appendChild(i[0]),i[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),i[0].style.width&&!e.forceHelperSize||i.width(this.currentItem.width()),i[0].style.height&&!e.forceHelperSize||i.height(this.currentItem.height()),i},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),S.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&S.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&S.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var t=this.currentItem.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,e,i,n=this.options;"parent"===n.containment&&(n.containment=this.helper[0].parentNode),"document"!==n.containment&&"window"!==n.containment||(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===n.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===n.containment?this.document.height()||document.body.parentNode.scrollHeight:this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(n.containment)||(t=S(n.containment)[0],e=S(n.containment).offset(),i="hidden"!==S(t).css("overflow"),this.containment=[e.left+(parseInt(S(t).css("borderLeftWidth"),10)||0)+(parseInt(S(t).css("paddingLeft"),10)||0)-this.margins.left,e.top+(parseInt(S(t).css("borderTopWidth"),10)||0)+(parseInt(S(t).css("paddingTop"),10)||0)-this.margins.top,e.left+(i?Math.max(t.scrollWidth,t.offsetWidth):t.offsetWidth)-(parseInt(S(t).css("borderLeftWidth"),10)||0)-(parseInt(S(t).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,e.top+(i?Math.max(t.scrollHeight,t.offsetHeight):t.offsetHeight)-(parseInt(S(t).css("borderTopWidth"),10)||0)-(parseInt(S(t).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(t,e){e||(e=this.position);var i="absolute"===t?1:-1,n="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&S.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,o=/(html|body)/i.test(n[0].tagName);return{top:e.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():o?0:n.scrollTop())*i,left:e.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():o?0:n.scrollLeft())*i}},_generatePosition:function(t){var e,i,n=this.options,o=t.pageX,r=t.pageY,s="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&S.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,a=/(html|body)/i.test(s[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(o=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(r=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(o=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(r=this.containment[3]+this.offset.click.top)),n.grid&&(e=this.originalPageY+Math.round((r-this.originalPageY)/n.grid[1])*n.grid[1],r=this.containment?e-this.offset.click.top>=this.containment[1]&&e-this.offset.click.top<=this.containment[3]?e:e-this.offset.click.top>=this.containment[1]?e-n.grid[1]:e+n.grid[1]:e,i=this.originalPageX+Math.round((o-this.originalPageX)/n.grid[0])*n.grid[0],o=this.containment?i-this.offset.click.left>=this.containment[0]&&i-this.offset.click.left<=this.containment[2]?i:i-this.offset.click.left>=this.containment[0]?i-n.grid[0]:i+n.grid[0]:i)),{top:r-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():a?0:s.scrollTop()),left:o-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():a?0:s.scrollLeft())}},_rearrange:function(t,e,i,n){i?i[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?e.item[0]:e.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var o=this.counter;this._delay(function(){o===this.counter&&this.refreshPositions(!n)})},_clear:function(t,e){this.reverting=!1;var i,n=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(i in this._storedCSS)"auto"!==this._storedCSS[i]&&"static"!==this._storedCSS[i]||(this._storedCSS[i]="");this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")}else this.currentItem.show();function o(e,i,n){return function(t){n._trigger(e,t,i._uiHash(i))}}for(this.fromOutside&&!e&&n.push(function(t){this._trigger("receive",t,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||e||n.push(function(t){this._trigger("update",t,this._uiHash())}),this!==this.currentContainer&&(e||(n.push(function(t){this._trigger("remove",t,this._uiHash())}),n.push(function(e){return function(t){e._trigger("receive",t,this._uiHash(this))}}.call(this,this.currentContainer)),n.push(function(e){return function(t){e._trigger("update",t,this._uiHash(this))}}.call(this,this.currentContainer)))),i=this.containers.length-1;0<=i;i--)e||n.push(o("deactivate",this,this.containers[i])),this.containers[i].containerCache.over&&(n.push(o("out",this,this.containers[i])),this.containers[i].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,e||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!e){for(i=0;i<n.length;i++)n[i].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){!1===S.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(t){var e=t||this;return{helper:e.helper,placeholder:e.placeholder||S([]),position:e.position,originalPosition:e.originalPosition,offset:e.positionAbs,item:e.currentItem,sender:t?t.element:null}}});function b(e){return function(){var t=this.element.val();e.apply(this,arguments),this._refresh(),t!==this.element.val()&&this._trigger("change")}}S.widget("ui.spinner",{version:"1.12.1",defaultElement:"<input>",widgetEventPrefix:"spin",options:{classes:{"ui-spinner":"ui-corner-all","ui-spinner-down":"ui-corner-br","ui-spinner-up":"ui-corner-tr"},culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),""!==this.value()&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var n=this._super(),o=this.element;return S.each(["min","max","step"],function(t,e){var i=o.attr(e);null!=i&&i.length&&(n[e]=i)}),n},_events:{keydown:function(t){this._start(t)&&this._keydown(t)&&t.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(t){this.cancelBlur?delete this.cancelBlur:(this._stop(),this._refresh(),this.previous!==this.element.val()&&this._trigger("change",t))},mousewheel:function(t,e){if(e){if(!this.spinning&&!this._start(t))return!1;this._spin((0<e?1:-1)*this.options.step,t),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(t)},100),t.preventDefault()}},"mousedown .ui-spinner-button":function(t){var e;function i(){this.element[0]===S.ui.safeActiveElement(this.document[0])||(this.element.trigger("focus"),this.previous=e,this._delay(function(){this.previous=e}))}e=this.element[0]===S.ui.safeActiveElement(this.document[0])?this.previous:this.element.val(),t.preventDefault(),i.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,i.call(this)}),!1!==this._start(t)&&this._repeat(null,S(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(t){if(S(t.currentTarget).hasClass("ui-state-active"))return!1!==this._start(t)&&void this._repeat(null,S(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t)},"mouseleave .ui-spinner-button":"_stop"},_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap("<span>").parent().append("<a></a><a></a>")},_draw:function(){this._enhance(),this._addClass(this.uiSpinner,"ui-spinner","ui-widget ui-widget-content"),this._addClass("ui-spinner-input"),this.element.attr("role","spinbutton"),this.buttons=this.uiSpinner.children("a").attr("tabIndex",-1).attr("aria-hidden",!0).button({classes:{"ui-button":""}}),this._removeClass(this.buttons,"ui-corner-all"),this._addClass(this.buttons.first(),"ui-spinner-button ui-spinner-up"),this._addClass(this.buttons.last(),"ui-spinner-button ui-spinner-down"),this.buttons.first().button({icon:this.options.icons.up,showLabel:!1}),this.buttons.last().button({icon:this.options.icons.down,showLabel:!1}),this.buttons.height()>Math.ceil(.5*this.uiSpinner.height())&&0<this.uiSpinner.height()&&this.uiSpinner.height(this.uiSpinner.height())},_keydown:function(t){var e=this.options,i=S.ui.keyCode;switch(t.keyCode){case i.UP:return this._repeat(null,1,t),!0;case i.DOWN:return this._repeat(null,-1,t),!0;case i.PAGE_UP:return this._repeat(null,e.page,t),!0;case i.PAGE_DOWN:return this._repeat(null,-e.page,t),!0}return!1},_start:function(t){return!(!this.spinning&&!1===this._trigger("start",t))&&(this.counter||(this.counter=1),this.spinning=!0)},_repeat:function(t,e,i){t=t||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,e,i)},t),this._spin(e*this.options.step,i)},_spin:function(t,e){var i=this.value()||0;this.counter||(this.counter=1),i=this._adjustValue(i+t*this._increment(this.counter)),this.spinning&&!1===this._trigger("spin",e,{value:i})||(this._value(i),this.counter++)},_increment:function(t){var e=this.options.incremental;return e?S.isFunction(e)?e(t):Math.floor(t*t*t/5e4-t*t/500+17*t/200+1):1},_precision:function(){var t=this._precisionOf(this.options.step);return null!==this.options.min&&(t=Math.max(t,this._precisionOf(this.options.min))),t},_precisionOf:function(t){var e=t.toString(),i=e.indexOf(".");return-1===i?0:e.length-i-1},_adjustValue:function(t){var e,i,n=this.options;return i=t-(e=null!==n.min?n.min:0),t=e+(i=Math.round(i/n.step)*n.step),t=parseFloat(t.toFixed(this._precision())),null!==n.max&&t>n.max?n.max:null!==n.min&&t<n.min?n.min:t},_stop:function(t){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",t))},_setOption:function(t,e){var i,n,o;if("culture"===t||"numberFormat"===t)return i=this._parse(this.element.val()),this.options[t]=e,void this.element.val(this._format(i));"max"!==t&&"min"!==t&&"step"!==t||"string"==typeof e&&(e=this._parse(e)),"icons"===t&&(n=this.buttons.first().find(".ui-icon"),this._removeClass(n,null,this.options.icons.up),this._addClass(n,null,e.up),o=this.buttons.last().find(".ui-icon"),this._removeClass(o,null,this.options.icons.down),this._addClass(o,null,e.down)),this._super(t,e)},_setOptionDisabled:function(t){this._super(t),this._toggleClass(this.uiSpinner,null,"ui-state-disabled",!!t),this.element.prop("disabled",!!t),this.buttons.button(t?"disable":"enable")},_setOptions:b(function(t){this._super(t)}),_parse:function(t){return"string"==typeof t&&""!==t&&(t=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(t,10,this.options.culture):+t),""===t||isNaN(t)?null:t},_format:function(t){return""===t?"":window.Globalize&&this.options.numberFormat?Globalize.format(t,this.options.numberFormat,this.options.culture):t},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},isValid:function(){var t=this.value();return null!==t&&t===this._adjustValue(t)},_value:function(t,e){var i;""!==t&&null!==(i=this._parse(t))&&(e||(i=this._adjustValue(i)),t=this._format(i)),this.element.val(t),this._refresh()},_destroy:function(){this.element.prop("disabled",!1).removeAttr("autocomplete role aria-valuemin aria-valuemax aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:b(function(t){this._stepUp(t)}),_stepUp:function(t){this._start()&&(this._spin((t||1)*this.options.step),this._stop())},stepDown:b(function(t){this._stepDown(t)}),_stepDown:function(t){this._start()&&(this._spin((t||1)*-this.options.step),this._stop())},pageUp:b(function(t){this._stepUp((t||1)*this.options.page)}),pageDown:b(function(t){this._stepDown((t||1)*this.options.page)}),value:function(t){if(!arguments.length)return this._parse(this.element.val());b(this._value).call(this,t)},widget:function(){return this.uiSpinner}}),!1!==S.uiBackCompat&&S.widget("ui.spinner",S.ui.spinner,{_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml())},_uiSpinnerHtml:function(){return"<span>"},_buttonHtml:function(){return"<a></a><a></a>"}});var x;S.ui.spinner;S.widget("ui.tabs",{version:"1.12.1",delay:300,options:{active:null,classes:{"ui-tabs":"ui-corner-all","ui-tabs-nav":"ui-corner-all","ui-tabs-panel":"ui-corner-bottom","ui-tabs-tab":"ui-corner-top"},collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:(x=/#.*$/,function(t){var e,i;e=t.href.replace(x,""),i=location.href.replace(x,"");try{e=decodeURIComponent(e)}catch(t){}try{i=decodeURIComponent(i)}catch(t){}return 1<t.hash.length&&e===i}),_create:function(){var e=this,t=this.options;this.running=!1,this._addClass("ui-tabs","ui-widget ui-widget-content"),this._toggleClass("ui-tabs-collapsible",null,t.collapsible),this._processTabs(),t.active=this._initialActive(),S.isArray(t.disabled)&&(t.disabled=S.unique(t.disabled.concat(S.map(this.tabs.filter(".ui-state-disabled"),function(t){return e.tabs.index(t)}))).sort()),!1!==this.options.active&&this.anchors.length?this.active=this._findActive(t.active):this.active=S(),this._refresh(),this.active.length&&this.load(t.active)},_initialActive:function(){var i=this.options.active,t=this.options.collapsible,n=location.hash.substring(1);return null===i&&(n&&this.tabs.each(function(t,e){if(S(e).attr("aria-controls")===n)return i=t,!1}),null===i&&(i=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),null!==i&&-1!==i||(i=!!this.tabs.length&&0)),!1!==i&&-1===(i=this.tabs.index(this.tabs.eq(i)))&&(i=!t&&0),!t&&!1===i&&this.anchors.length&&(i=0),i},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):S()}},_tabKeydown:function(t){var e=S(S.ui.safeActiveElement(this.document[0])).closest("li"),i=this.tabs.index(e),n=!0;if(!this._handlePageNav(t)){switch(t.keyCode){case S.ui.keyCode.RIGHT:case S.ui.keyCode.DOWN:i++;break;case S.ui.keyCode.UP:case S.ui.keyCode.LEFT:n=!1,i--;break;case S.ui.keyCode.END:i=this.anchors.length-1;break;case S.ui.keyCode.HOME:i=0;break;case S.ui.keyCode.SPACE:return t.preventDefault(),clearTimeout(this.activating),void this._activate(i);case S.ui.keyCode.ENTER:return t.preventDefault(),clearTimeout(this.activating),void this._activate(i!==this.options.active&&i);default:return}t.preventDefault(),clearTimeout(this.activating),i=this._focusNextTab(i,n),t.ctrlKey||t.metaKey||(e.attr("aria-selected","false"),this.tabs.eq(i).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",i)},this.delay))}},_panelKeydown:function(t){this._handlePageNav(t)||t.ctrlKey&&t.keyCode===S.ui.keyCode.UP&&(t.preventDefault(),this.active.trigger("focus"))},_handlePageNav:function(t){return t.altKey&&t.keyCode===S.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):t.altKey&&t.keyCode===S.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(t,e){var i=this.tabs.length-1;for(;-1!==S.inArray((i<t&&(t=0),t<0&&(t=i),t),this.options.disabled);)t=e?t+1:t-1;return t},_focusNextTab:function(t,e){return t=this._findNextTab(t,e),this.tabs.eq(t).trigger("focus"),t},_setOption:function(t,e){"active"!==t?(this._super(t,e),"collapsible"===t&&(this._toggleClass("ui-tabs-collapsible",null,e),e||!1!==this.options.active||this._activate(0)),"event"===t&&this._setupEvents(e),"heightStyle"===t&&this._setupHeightStyle(e)):this._activate(e)},_sanitizeSelector:function(t){return t?t.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var t=this.options,e=this.tablist.children(":has(a[href])");t.disabled=S.map(e.filter(".ui-state-disabled"),function(t){return e.index(t)}),this._processTabs(),!1!==t.active&&this.anchors.length?this.active.length&&!S.contains(this.tablist[0],this.active[0])?this.tabs.length===t.disabled.length?(t.active=!1,this.active=S()):this._activate(this._findNextTab(Math.max(0,t.active-1),!1)):t.active=this.tabs.index(this.active):(t.active=!1,this.active=S()),this._refresh()},_refresh:function(){this._setOptionDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"}),this.active.length?(this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}),this._addClass(this.active,"ui-tabs-active","ui-state-active"),this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var l=this,t=this.tabs,e=this.anchors,i=this.panels;this.tablist=this._getList().attr("role","tablist"),this._addClass(this.tablist,"ui-tabs-nav","ui-helper-reset ui-helper-clearfix ui-widget-header"),this.tablist.on("mousedown"+this.eventNamespace,"> li",function(t){S(this).is(".ui-state-disabled")&&t.preventDefault()}).on("focus"+this.eventNamespace,".ui-tabs-anchor",function(){S(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this.tabs=this.tablist.find("> li:has(a[href])").attr({role:"tab",tabIndex:-1}),this._addClass(this.tabs,"ui-tabs-tab","ui-state-default"),this.anchors=this.tabs.map(function(){return S("a",this)[0]}).attr({role:"presentation",tabIndex:-1}),this._addClass(this.anchors,"ui-tabs-anchor"),this.panels=S(),this.anchors.each(function(t,e){var i,n,o,r=S(e).uniqueId().attr("id"),s=S(e).closest("li"),a=s.attr("aria-controls");l._isLocal(e)?(o=(i=e.hash).substring(1),n=l.element.find(l._sanitizeSelector(i))):(i="#"+(o=s.attr("aria-controls")||S({}).uniqueId()[0].id),(n=l.element.find(i)).length||(n=l._createPanel(o)).insertAfter(l.panels[t-1]||l.tablist),n.attr("aria-live","polite")),n.length&&(l.panels=l.panels.add(n)),a&&s.data("ui-tabs-aria-controls",a),s.attr({"aria-controls":o,"aria-labelledby":r}),n.attr("aria-labelledby",r)}),this.panels.attr("role","tabpanel"),this._addClass(this.panels,"ui-tabs-panel","ui-widget-content"),t&&(this._off(t.not(this.tabs)),this._off(e.not(this.anchors)),this._off(i.not(this.panels)))},_getList:function(){return this.tablist||this.element.find("ol, ul").eq(0)},_createPanel:function(t){return S("<div>").attr("id",t).data("ui-tabs-destroy",!0)},_setOptionDisabled:function(t){var e,i,n;for(S.isArray(t)&&(t.length?t.length===this.anchors.length&&(t=!0):t=!1),n=0;i=this.tabs[n];n++)e=S(i),!0===t||-1!==S.inArray(n,t)?(e.attr("aria-disabled","true"),this._addClass(e,null,"ui-state-disabled")):(e.removeAttr("aria-disabled"),this._removeClass(e,null,"ui-state-disabled"));this.options.disabled=t,this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!0===t)},_setupEvents:function(t){var i={};t&&S.each(t.split(" "),function(t,e){i[e]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(!0,this.anchors,{click:function(t){t.preventDefault()}}),this._on(this.anchors,i),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(t){var i,e=this.element.parent();"fill"===t?(i=e.height(),i-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var t=S(this),e=t.css("position");"absolute"!==e&&"fixed"!==e&&(i-=t.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){i-=S(this).outerHeight(!0)}),this.panels.each(function(){S(this).height(Math.max(0,i-S(this).innerHeight()+S(this).height()))}).css("overflow","auto")):"auto"===t&&(i=0,this.panels.each(function(){i=Math.max(i,S(this).height("").height())}).height(i))},_eventHandler:function(t){var e=this.options,i=this.active,n=S(t.currentTarget).closest("li"),o=n[0]===i[0],r=o&&e.collapsible,s=r?S():this._getPanelForTab(n),a=i.length?this._getPanelForTab(i):S(),l={oldTab:i,oldPanel:a,newTab:r?S():n,newPanel:s};t.preventDefault(),n.hasClass("ui-state-disabled")||n.hasClass("ui-tabs-loading")||this.running||o&&!e.collapsible||!1===this._trigger("beforeActivate",t,l)||(e.active=!r&&this.tabs.index(n),this.active=o?S():n,this.xhr&&this.xhr.abort(),a.length||s.length||S.error("jQuery UI Tabs: Mismatching fragment identifier."),s.length&&this.load(this.tabs.index(n),t),this._toggle(t,l))},_toggle:function(t,e){var i=this,n=e.newPanel,o=e.oldPanel;function r(){i.running=!1,i._trigger("activate",t,e)}function s(){i._addClass(e.newTab.closest("li"),"ui-tabs-active","ui-state-active"),n.length&&i.options.show?i._show(n,i.options.show,r):(n.show(),r())}this.running=!0,o.length&&this.options.hide?this._hide(o,this.options.hide,function(){i._removeClass(e.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),s()}):(this._removeClass(e.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),o.hide(),s()),o.attr("aria-hidden","true"),e.oldTab.attr({"aria-selected":"false","aria-expanded":"false"}),n.length&&o.length?e.oldTab.attr("tabIndex",-1):n.length&&this.tabs.filter(function(){return 0===S(this).attr("tabIndex")}).attr("tabIndex",-1),n.attr("aria-hidden","false"),e.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(t){var e,i=this._findActive(t);i[0]!==this.active[0]&&(i.length||(i=this.active),e=i.find(".ui-tabs-anchor")[0],this._eventHandler({target:e,currentTarget:e,preventDefault:S.noop}))},_findActive:function(t){return!1===t?S():this.tabs.eq(t)},_getIndex:function(t){return"string"==typeof t&&(t=this.anchors.index(this.anchors.filter("[href$='"+S.ui.escapeSelector(t)+"']"))),t},_destroy:function(){this.xhr&&this.xhr.abort(),this.tablist.removeAttr("role").off(this.eventNamespace),this.anchors.removeAttr("role tabIndex").removeUniqueId(),this.tabs.add(this.panels).each(function(){S.data(this,"ui-tabs-destroy")?S(this).remove():S(this).removeAttr("role tabIndex aria-live aria-busy aria-selected aria-labelledby aria-hidden aria-expanded")}),this.tabs.each(function(){var t=S(this),e=t.data("ui-tabs-aria-controls");e?t.attr("aria-controls",e).removeData("ui-tabs-aria-controls"):t.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(i){var t=this.options.disabled;!1!==t&&(t=void 0!==i&&(i=this._getIndex(i),S.isArray(t)?S.map(t,function(t){return t!==i?t:null}):S.map(this.tabs,function(t,e){return e!==i?e:null})),this._setOptionDisabled(t))},disable:function(t){var e=this.options.disabled;if(!0!==e){if(void 0===t)e=!0;else{if(t=this._getIndex(t),-1!==S.inArray(t,e))return;e=S.isArray(e)?S.merge([t],e).sort():[t]}this._setOptionDisabled(e)}},load:function(t,n){t=this._getIndex(t);var o=this,i=this.tabs.eq(t),e=i.find(".ui-tabs-anchor"),r=this._getPanelForTab(i),s={tab:i,panel:r},a=function(t,e){"abort"===e&&o.panels.stop(!1,!0),o._removeClass(i,"ui-tabs-loading"),r.removeAttr("aria-busy"),t===o.xhr&&delete o.xhr};this._isLocal(e[0])||(this.xhr=S.ajax(this._ajaxSettings(e,n,s)),this.xhr&&"canceled"!==this.xhr.statusText&&(this._addClass(i,"ui-tabs-loading"),r.attr("aria-busy","true"),this.xhr.done(function(t,e,i){setTimeout(function(){r.html(t),o._trigger("load",n,s),a(i,e)},1)}).fail(function(t,e){setTimeout(function(){a(t,e)},1)})))},_ajaxSettings:function(t,i,n){var o=this;return{url:t.attr("href").replace(/#.*$/,""),beforeSend:function(t,e){return o._trigger("beforeLoad",i,S.extend({jqXHR:t,ajaxSettings:e},n))}}},_getPanelForTab:function(t){var e=S(t).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+e))}}),!1!==S.uiBackCompat&&S.widget("ui.tabs",S.ui.tabs,{_processTabs:function(){this._superApply(arguments),this._addClass(this.tabs,"ui-tab")}});S.ui.tabs;S.widget("ui.tooltip",{version:"1.12.1",options:{classes:{"ui-tooltip":"ui-corner-all ui-widget-shadow"},content:function(){var t=S(this).attr("title")||"";return S("<a>").text(t).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,track:!1,close:null,open:null},_addDescribedBy:function(t,e){var i=(t.attr("aria-describedby")||"").split(/\s+/);i.push(e),t.data("ui-tooltip-id",e).attr("aria-describedby",S.trim(i.join(" ")))},_removeDescribedBy:function(t){var e=t.data("ui-tooltip-id"),i=(t.attr("aria-describedby")||"").split(/\s+/),n=S.inArray(e,i);-1!==n&&i.splice(n,1),t.removeData("ui-tooltip-id"),(i=S.trim(i.join(" ")))?t.attr("aria-describedby",i):t.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.liveRegion=S("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this.disabledTitles=S([])},_setOption:function(t,e){var i=this;this._super(t,e),"content"===t&&S.each(this.tooltips,function(t,e){i._updateContent(e.element)})},_setOptionDisabled:function(t){this[t?"_disable":"_enable"]()},_disable:function(){var n=this;S.each(this.tooltips,function(t,e){var i=S.Event("blur");i.target=i.currentTarget=e.element[0],n.close(i,!0)}),this.disabledTitles=this.disabledTitles.add(this.element.find(this.options.items).addBack().filter(function(){var t=S(this);if(t.is("[title]"))return t.data("ui-tooltip-title",t.attr("title")).removeAttr("title")}))},_enable:function(){this.disabledTitles.each(function(){var t=S(this);t.data("ui-tooltip-title")&&t.attr("title",t.data("ui-tooltip-title"))}),this.disabledTitles=S([])},open:function(t){var i=this,e=S(t?t.target:this.element).closest(this.options.items);e.length&&!e.data("ui-tooltip-id")&&(e.attr("title")&&e.data("ui-tooltip-title",e.attr("title")),e.data("ui-tooltip-open",!0),t&&"mouseover"===t.type&&e.parents().each(function(){var t,e=S(this);e.data("ui-tooltip-open")&&((t=S.Event("blur")).target=t.currentTarget=this,i.close(t,!0)),e.attr("title")&&(e.uniqueId(),i.parents[this.id]={element:this,title:e.attr("title")},e.attr("title",""))}),this._registerCloseHandlers(t,e),this._updateContent(e,t))},_updateContent:function(e,i){var t,n=this.options.content,o=this,r=i?i.type:null;if("string"==typeof n||n.nodeType||n.jquery)return this._open(i,e,n);(t=n.call(e[0],function(t){o._delay(function(){e.data("ui-tooltip-open")&&(i&&(i.type=r),this._open(i,e,t))})}))&&this._open(i,e,t)},_open:function(t,e,i){var n,o,r,s,a=S.extend({},this.options.position);function l(t){a.of=t,o.is(":hidden")||o.position(a)}i&&((n=this._find(e))?n.tooltip.find(".ui-tooltip-content").html(i):(e.is("[title]")&&(t&&"mouseover"===t.type?e.attr("title",""):e.removeAttr("title")),n=this._tooltip(e),o=n.tooltip,this._addDescribedBy(e,o.attr("id")),o.find(".ui-tooltip-content").html(i),this.liveRegion.children().hide(),(s=S("<div>").html(o.find(".ui-tooltip-content").html())).removeAttr("name").find("[name]").removeAttr("name"),s.removeAttr("id").find("[id]").removeAttr("id"),s.appendTo(this.liveRegion),this.options.track&&t&&/^mouse/.test(t.type)?(this._on(this.document,{mousemove:l}),l(t)):o.position(S.extend({of:e},this.options.position)),o.hide(),this._show(o,this.options.show),this.options.track&&this.options.show&&this.options.show.delay&&(r=this.delayedShow=setInterval(function(){o.is(":visible")&&(l(a.of),clearInterval(r))},S.fx.interval)),this._trigger("open",t,{tooltip:o})))},_registerCloseHandlers:function(t,i){var e={keyup:function(t){if(t.keyCode===S.ui.keyCode.ESCAPE){var e=S.Event(t);e.currentTarget=i[0],this.close(e,!0)}}};i[0]!==this.element[0]&&(e.remove=function(){this._removeTooltip(this._find(i).tooltip)}),t&&"mouseover"!==t.type||(e.mouseleave="close"),t&&"focusin"!==t.type||(e.focusout="close"),this._on(!0,i,e)},close:function(t){var e,i=this,n=S(t?t.currentTarget:this.element),o=this._find(n);o?(e=o.tooltip,o.closing||(clearInterval(this.delayedShow),n.data("ui-tooltip-title")&&!n.attr("title")&&n.attr("title",n.data("ui-tooltip-title")),this._removeDescribedBy(n),o.hiding=!0,e.stop(!0),this._hide(e,this.options.hide,function(){i._removeTooltip(S(this))}),n.removeData("ui-tooltip-open"),this._off(n,"mouseleave focusout keyup"),n[0]!==this.element[0]&&this._off(n,"remove"),this._off(this.document,"mousemove"),t&&"mouseleave"===t.type&&S.each(this.parents,function(t,e){S(e.element).attr("title",e.title),delete i.parents[t]}),o.closing=!0,this._trigger("close",t,{tooltip:e}),o.hiding||(o.closing=!1))):n.removeData("ui-tooltip-open")},_tooltip:function(t){var e=S("<div>").attr("role","tooltip"),i=S("<div>").appendTo(e),n=e.uniqueId().attr("id");return this._addClass(i,"ui-tooltip-content"),this._addClass(e,"ui-tooltip","ui-widget ui-widget-content"),e.appendTo(this._appendTo(t)),this.tooltips[n]={element:t,tooltip:e}},_find:function(t){var e=t.data("ui-tooltip-id");return e?this.tooltips[e]:null},_removeTooltip:function(t){t.remove(),delete this.tooltips[t.attr("id")]},_appendTo:function(t){var e=t.closest(".ui-front, dialog");return e.length||(e=this.document[0].body),e},_destroy:function(){var o=this;S.each(this.tooltips,function(t,e){var i=S.Event("blur"),n=e.element;i.target=i.currentTarget=n[0],o.close(i,!0),S("#"+t).remove(),n.data("ui-tooltip-title")&&(n.attr("title")||n.attr("title",n.data("ui-tooltip-title")),n.removeData("ui-tooltip-title"))}),this.liveRegion.remove()}}),!1!==S.uiBackCompat&&S.widget("ui.tooltip",S.ui.tooltip,{options:{tooltipClass:null},_tooltip:function(){var t=this._superApply(arguments);return this.options.tooltipClass&&t.tooltip.addClass(this.options.tooltipClass),t}});S.ui.tooltip});var TouchPunch=function(t){function e(t,e){if(!(1<t.originalEvent.touches.length)){t.preventDefault();var i=t.originalEvent.changedTouches[0],n=document.createEvent("MouseEvents");n.initMouseEvent(e,!0,!0,window,1,i.screenX,i.screenY,i.clientX,i.clientY,!1,!1,!1,!1,0,null),t.target.dispatchEvent(n)}}if(t.support.touch="ontouchend"in document,t.support.touch){var i,n=t.ui.mouse.prototype,o=n._mouseInit,r=n._mouseDestroy;n._touchStart=function(t){!i&&this._mouseCapture(t.originalEvent.changedTouches[0])&&(i=!0,this._touchMoved=!1,e(t,"mouseover"),e(t,"mousemove"),e(t,"mousedown"))},n._touchMove=function(t){i&&(this._touchMoved=!0,e(t,"mousemove"))},n._touchEnd=function(t){i&&(e(t,"mouseup"),e(t,"mouseout"),this._touchMoved||e(t,"click"),i=!1)},n._mouseInit=function(){this.element.bind({touchstart:t.proxy(this,"_touchStart"),touchmove:t.proxy(this,"_touchMove"),touchend:t.proxy(this,"_touchEnd")}),o.call(this)},n._mouseDestroy=function(){this.element.unbind({touchstart:t.proxy(this,"_touchStart"),touchmove:t.proxy(this,"_touchMove"),touchend:t.proxy(this,"_touchEnd")}),r.call(this)}}};if("function"==typeof define?define(["jquery","jquery/ui"],TouchPunch):TouchPunch(jQuery),function(s,p,d){var a=[],t={_version:"3.6.0",_config:{classPrefix:"",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(t,e){var i=this;setTimeout(function(){e(i[t])},0)},addTest:function(t,e,i){a.push({name:t,fn:e,options:i})},addAsyncTest:function(t){a.push({name:null,fn:t})}},l=function(){};l.prototype=t,l=new l;var u=[];function f(t,e){return typeof t===e}var m=p.documentElement,g="svg"===m.nodeName.toLowerCase();function v(){return"function"!=typeof p.createElement?p.createElement(arguments[0]):g?p.createElementNS.call(p,"http://www.w3.org/2000/svg",arguments[0]):p.createElement.apply(p,arguments)}function o(t,e,i,n){var o,r,s,a,l,u="modernizr",h=v("div"),c=((l=p.body)||((l=v(g?"svg":"body")).fake=!0),l);if(parseInt(i,10))for(;i--;)(s=v("div")).id=n?n[i]:u+(i+1),h.appendChild(s);return(o=v("style")).type="text/css",o.id="s"+u,(c.fake?c:h).appendChild(o),c.appendChild(h),o.styleSheet?o.styleSheet.cssText=t:o.appendChild(p.createTextNode(t)),h.id=u,c.fake&&(c.style.background="",c.style.overflow="hidden",a=m.style.overflow,m.style.overflow="hidden",m.appendChild(c)),r=e(h,t),c.fake?(c.parentNode.removeChild(c),m.style.overflow=a,m.offsetHeight):h.parentNode.removeChild(h),!!r}g||function(t,l){var u,h,e=t.html5||{},o=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,r=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,i="_html5shiv",n=0,s={};function c(){var t=f.elements;return"string"==typeof t?t.split(" "):t}function p(t){var e=s[t[i]];return e||(e={},n++,t[i]=n,s[n]=e),e}function d(t,e,i){return e||(e=l),h?e.createElement(t):(i||(i=p(e)),!(n=i.cache[t]?i.cache[t].cloneNode():r.test(t)?(i.cache[t]=i.createElem(t)).cloneNode():i.createElem(t)).canHaveChildren||o.test(t)||n.tagUrn?n:i.frag.appendChild(n));var n}function a(t){t||(t=l);var e,i,n,o,r,s,a=p(t);return!f.shivCSS||u||a.hasCSS||(a.hasCSS=(i="article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}",n=(e=t).createElement("p"),o=e.getElementsByTagName("head")[0]||e.documentElement,n.innerHTML="x<style>"+i+"</style>",!!o.insertBefore(n.lastChild,o.firstChild))),h||(r=t,(s=a).cache||(s.cache={},s.createElem=r.createElement,s.createFrag=r.createDocumentFragment,s.frag=s.createFrag()),r.createElement=function(t){return f.shivMethods?d(t,r,s):s.createElem(t)},r.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+c().join().replace(/[\w\-:]+/g,function(t){return s.createElem(t),s.frag.createElement(t),'c("'+t+'")'})+");return n}")(f,s.frag)),t}!function(){try{var t=l.createElement("a");t.innerHTML="<xyz></xyz>",u="hidden"in t,h=1==t.childNodes.length||function(){l.createElement("a");var t=l.createDocumentFragment();return void 0===t.cloneNode||void 0===t.createDocumentFragment||void 0===t.createElement}()}catch(t){h=u=!0}}();var f={elements:e.elements||"abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output picture progress section summary template time video",version:"3.7.3",shivCSS:!1!==e.shivCSS,supportsUnknownElements:h,shivMethods:!1!==e.shivMethods,type:"default",shivDocument:a,createElement:d,createDocumentFragment:function(t,e){if(t||(t=l),h)return t.createDocumentFragment();for(var i=(e=e||p(t)).frag.cloneNode(),n=0,o=c(),r=o.length;n<r;n++)i.createElement(o[n]);return i},addElements:function(t,e){var i=f.elements;"string"!=typeof i&&(i=i.join(" ")),"string"!=typeof t&&(t=t.join(" ")),f.elements=i+" "+t,a(e)}};t.html5=f,a(l),"object"==typeof module&&module.exports&&(module.exports=f)}(void 0!==s?s:this,p);var i,e=(i=s.matchMedia||s.msMatchMedia)?function(t){var e=i(t);return e&&e.matches||!1}:function(t){var e=!1;return o("@media "+t+" { #modernizr { position: absolute; } }",function(t){e="absolute"==(s.getComputedStyle?s.getComputedStyle(t,null):t.currentStyle).position}),e};t.mq=e;var n="Moz O ms Webkit",h=t._config.usePrefixes?n.split(" "):[];t._cssomPrefixes=h;var r={elem:v("modernizr")};l._q.push(function(){delete r.elem});var y={style:r.elem.style};function c(t){return t.replace(/([A-Z])/g,function(t,e){return"-"+e.toLowerCase()}).replace(/^ms-/,"-ms-")}function _(t,e){var i=t.length;if("CSS"in s&&"supports"in s.CSS){for(;i--;)if(s.CSS.supports(c(t[i]),e))return!0;return!1}if("CSSSupportsRule"in s){for(var n=[];i--;)n.push("("+c(t[i])+":"+e+")");return o("@supports ("+(n=n.join(" or "))+") { #modernizr { position: absolute; } }",function(t){return"absolute"==function(t,e,i){var n;if("getComputedStyle"in s){n=getComputedStyle.call(s,t,e);var o=s.console;null!==n?i&&(n=n.getPropertyValue(i)):o&&o[o.error?"error":"log"].call(o,"getComputedStyle returning null, its possible modernizr test results are inaccurate")}else n=!e&&t.currentStyle&&t.currentStyle[i];return n}(t,null,"position")})}return d}function b(t){return t.replace(/([a-z])-([a-z])/g,function(t,e,i){return e+i.toUpperCase()}).replace(/^-/,"")}l._q.unshift(function(){delete y.style});var x=t._config.usePrefixes?n.toLowerCase().split(" "):[];function w(t,e){return function(){return t.apply(e,arguments)}}function T(t,e,i,n,o){var r=t.charAt(0).toUpperCase()+t.slice(1),s=(t+" "+h.join(r+" ")+r).split(" ");return f(e,"string")||f(e,"undefined")?function(t,e,i,n){if(n=!f(n,"undefined")&&n,!f(i,"undefined")){var o=_(t,i);if(!f(o,"undefined"))return o}for(var r,s,a,l,u,h=["modernizr","tspan","samp"];!y.style&&h.length;)r=!0,y.modElem=v(h.shift()),y.style=y.modElem.style;function c(){r&&(delete y.style,delete y.modElem)}for(a=t.length,s=0;s<a;s++)if(l=t[s],u=y.style[l],~(""+l).indexOf("-")&&(l=b(l)),y.style[l]!==d){if(n||f(i,"undefined"))return c(),"pfx"!=e||l;try{y.style[l]=i}catch(t){}if(y.style[l]!=u)return c(),"pfx"!=e||l}return c(),!1}(s,e,n,o):function(t,e,i){var n;for(var o in t)if(t[o]in e)return!1===i?t[o]:f(n=e[t[o]],"function")?w(n,i||e):n;return!1}(s=(t+" "+x.join(r+" ")+r).split(" "),e,i)}t._domPrefixes=x,t.testAllProps=T;var k=function(t){var e,i=E.length,n=s.CSSRule;if(void 0===n)return d;if(!t)return!1;if((e=(t=t.replace(/^@/,"")).replace(/-/g,"_").toUpperCase()+"_RULE")in n)return"@"+t;for(var o=0;o<i;o++){var r=E[o];if(r.toUpperCase()+"_"+e in n)return"@-"+r.toLowerCase()+"-"+t}return!1};t.atRule=k;var C=t.prefixed=function(t,e,i){return 0===t.indexOf("@")?k(t):(-1!=t.indexOf("-")&&(t=b(t)),e?T(t,e,i):T(t,"pfx"))};function S(t,e,i){return T(t,d,d,e,i)}l.addTest("backgroundblendmode",C("backgroundBlendMode","text")),t.testAllProps=S,l.addTest("backgroundcliptext",function(){return S("backgroundClip","text")}),l.addTest("flexbox",S("flexBasis","1px",!0)),l.addTest("flexboxlegacy",S("boxDirection","reverse",!0)),l.addTest("flexwrap",S("flexWrap","wrap",!0)),l.addTest("mediaqueries",e("only all"));var E=t._config.usePrefixes?" -webkit- -moz- -o- -ms- ".split(" "):["",""];t._prefixes=E;var A=t.testStyles=o;l.addTest("touchevents",function(){var e;if("ontouchstart"in s||s.DocumentTouch&&p instanceof DocumentTouch)e=!0;else{var t=["@media (",E.join("touch-enabled),("),"heartz",")","{#modernizr{top:9px;position:absolute}}"].join("");A(t,function(t){e=9===t.offsetTop})}return e}),function(){var t,e,i,n,o,r;for(var s in a)if(a.hasOwnProperty(s)){if(t=[],(e=a[s]).name&&(t.push(e.name.toLowerCase()),e.options&&e.options.aliases&&e.options.aliases.length))for(i=0;i<e.options.aliases.length;i++)t.push(e.options.aliases[i].toLowerCase());for(n=f(e.fn,"function")?e.fn():e.fn,o=0;o<t.length;o++)1===(r=t[o].split(".")).length?l[r[0]]=n:(!l[r[0]]||l[r[0]]instanceof Boolean||(l[r[0]]=new Boolean(l[r[0]])),l[r[0]][r[1]]=n),u.push((n?"":"no-")+r.join("-"))}}(),function(t){var e=m.className,i=l._config.classPrefix||"";if(g&&(e=e.baseVal),l._config.enableJSClass){var n=new RegExp("(^|\\s)"+i+"no-js(\\s|$)");e=e.replace(n,"$1"+i+"js$2")}l._config.enableClasses&&(e+=" "+i+t.join(" "+i),g?m.className.baseVal=e:m.className=e)}(u),delete t.addTest,delete t.addAsyncTest;for(var P=0;P<l._q.length;P++)l._q[P]();s.Modernizr=l}(window,document),function(t,e){"function"==typeof define&&define.amd?define([],function(){return t.svg4everybody=e()}):"object"==typeof module&&module.exports?module.exports=e():t.svg4everybody=e()}(this,function(){function g(t,e,i){if(i){var n=document.createDocumentFragment(),o=!e.hasAttribute("viewBox")&&i.getAttribute("viewBox");o&&e.setAttribute("viewBox",o);for(var r=i.cloneNode(!0);r.childNodes.length;)n.appendChild(r.firstChild);t.appendChild(n)}}function v(n){n.onreadystatechange=function(){if(4===n.readyState){var i=n._cachedDocument;i||((i=n._cachedDocument=document.implementation.createHTMLDocument("")).body.innerHTML=n.responseText,n._cachedTarget={}),n._embeds.splice(0).map(function(t){var e=n._cachedTarget[t.id];e||(e=n._cachedTarget[t.id]=i.getElementById(t.id)),g(t.parent,t.svg,e)})}},n.onreadystatechange()}function y(t){for(var e=t;"svg"!==e.nodeName.toLowerCase()&&(e=e.parentNode););return e}return function(t){var h,c=Object(t),e=window.top!==window.self;h="polyfill"in c?c.polyfill:/\bTrident\/[567]\b|\bMSIE (?:9|10)\.0\b/.test(navigator.userAgent)||(navigator.userAgent.match(/\bEdge\/12\.(\d+)\b/)||[])[1]<10547||(navigator.userAgent.match(/\bAppleWebKit\/(\d+)\b/)||[])[1]<537||/\bEdge\/.(\d+)\b/.test(navigator.userAgent)&&e;var p={},d=window.requestAnimationFrame||setTimeout,f=document.getElementsByTagName("use"),m=0;h&&function t(){for(var e=0;e<f.length;){var i=f[e],n=i.parentNode,o=y(n),r=i.getAttribute("xlink:href")||i.getAttribute("href");if(!r&&c.attributeName&&(r=i.getAttribute(c.attributeName)),o&&r){if(h)if(!c.validate||c.validate(r,o,i)){n.removeChild(i);var s=r.split("#"),a=s.shift(),l=s.join("#");if(a.length){var u=p[a];u||((u=p[a]=new XMLHttpRequest).open("GET",a),u.send(),u._embeds=[]),u._embeds.push({parent:n,svg:o,id:l}),v(u)}else g(n,o,document.getElementById(l))}else++e,++m}else++e}(!f.length||0<f.length-m)&&d(t,67)}()}}),"undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");function _toConsumableArray(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return Array.from(t)}!function(t){"use strict";var e=jQuery.fn.jquery.split(" ")[0].split(".");if(e[0]<2&&e[1]<9||1==e[0]&&9==e[1]&&e[2]<1||3<e[0])throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher, but lower than version 4")}(),function(n){"use strict";n.fn.emulateTransitionEnd=function(t){var e=!1,i=this;n(this).one("bsTransitionEnd",function(){e=!0});return setTimeout(function(){e||n(i).trigger(n.support.transition.end)},t),this},n(function(){n.support.transition=function(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var i in e)if(void 0!==t.style[i])return{end:e[i]};return!1}(),n.support.transition&&(n.event.special.bsTransitionEnd={bindType:n.support.transition.end,delegateType:n.support.transition.end,handle:function(t){if(n(t.target).is(this))return t.handleObj.handler.apply(this,arguments)}})})}(jQuery),function(r){"use strict";var e='[data-dismiss="alert"]',s=function(t){r(t).on("click",e,this.close)};s.VERSION="3.3.7",s.TRANSITION_DURATION=150,s.prototype.close=function(t){var e=r(this),i=e.attr("data-target");i||(i=(i=e.attr("href"))&&i.replace(/.*(?=#[^\s]*$)/,""));var n=r("#"===i?[]:i);function o(){n.detach().trigger("closed.bs.alert").remove()}t&&t.preventDefault(),n.length||(n=e.closest(".alert")),n.trigger(t=r.Event("close.bs.alert")),t.isDefaultPrevented()||(n.removeClass("in"),r.support.transition&&n.hasClass("fade")?n.one("bsTransitionEnd",o).emulateTransitionEnd(s.TRANSITION_DURATION):o())};var t=r.fn.alert;r.fn.alert=function(i){return this.each(function(){var t=r(this),e=t.data("bs.alert");e||t.data("bs.alert",e=new s(this)),"string"==typeof i&&e[i].call(t)})},r.fn.alert.Constructor=s,r.fn.alert.noConflict=function(){return r.fn.alert=t,this},r(document).on("click.bs.alert.data-api",e,s.prototype.close)}(jQuery),function(r){"use strict";var o=function(t,e){this.$element=r(t),this.options=r.extend({},o.DEFAULTS,e),this.isLoading=!1};function i(n){return this.each(function(){var t=r(this),e=t.data("bs.button"),i="object"==typeof n&&n;e||t.data("bs.button",e=new o(this,i)),"toggle"==n?e.toggle():n&&e.setState(n)})}o.VERSION="3.3.7",o.DEFAULTS={loadingText:"loading..."},o.prototype.setState=function(t){var e="disabled",i=this.$element,n=i.is("input")?"val":"html",o=i.data();t+="Text",null==o.resetText&&i.data("resetText",i[n]()),setTimeout(r.proxy(function(){i[n](null==o[t]?this.options[t]:o[t]),"loadingText"==t?(this.isLoading=!0,i.addClass(e).attr(e,e).prop(e,!0)):this.isLoading&&(this.isLoading=!1,i.removeClass(e).removeAttr(e).prop(e,!1))},this),0)},o.prototype.toggle=function(){var t=!0,e=this.$element.closest('[data-toggle="buttons"]');if(e.length){var i=this.$element.find("input");"radio"==i.prop("type")?(i.prop("checked")&&(t=!1),e.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==i.prop("type")&&(i.prop("checked")!==this.$element.hasClass("active")&&(t=!1),this.$element.toggleClass("active")),i.prop("checked",this.$element.hasClass("active")),t&&i.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var t=r.fn.button;r.fn.button=i,r.fn.button.Constructor=o,r.fn.button.noConflict=function(){return r.fn.button=t,this},r(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(t){var e=r(t.target).closest(".btn");i.call(e,"toggle"),r(t.target).is('input[type="radio"], input[type="checkbox"]')||(t.preventDefault(),e.is("input,button")?e.trigger("focus"):e.find("input:visible,button:visible").first().trigger("focus"))}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(t){r(t.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(t.type))})}(jQuery),function(c){"use strict";var p=function(t,e){this.$element=c(t),this.$indicators=this.$element.find(".carousel-indicators"),this.options=e,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",c.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",c.proxy(this.pause,this)).on("mouseleave.bs.carousel",c.proxy(this.cycle,this))};function s(o){return this.each(function(){var t=c(this),e=t.data("bs.carousel"),i=c.extend({},p.DEFAULTS,t.data(),"object"==typeof o&&o),n="string"==typeof o?o:i.slide;e||t.data("bs.carousel",e=new p(this,i)),"number"==typeof o?e.to(o):n?e[n]():i.interval&&e.pause().cycle()})}p.VERSION="3.3.7",p.TRANSITION_DURATION=600,p.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},p.prototype.keydown=function(t){if(!/input|textarea/i.test(t.target.tagName)){switch(t.which){case 37:this.prev();break;case 39:this.next();break;default:return}t.preventDefault()}},p.prototype.cycle=function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(c.proxy(this.next,this),this.options.interval)),this},p.prototype.getItemIndex=function(t){return this.$items=t.parent().children(".item"),this.$items.index(t||this.$active)},p.prototype.getItemForDirection=function(t,e){var i=this.getItemIndex(e);if(("prev"==t&&0===i||"next"==t&&i==this.$items.length-1)&&!this.options.wrap)return e;var n=(i+("prev"==t?-1:1))%this.$items.length;return this.$items.eq(n)},p.prototype.to=function(t){var e=this,i=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(!(t>this.$items.length-1||t<0))return this.sliding?this.$element.one("slid.bs.carousel",function(){e.to(t)}):i==t?this.pause().cycle():this.slide(i<t?"next":"prev",this.$items.eq(t))},p.prototype.pause=function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&c.support.transition&&(this.$element.trigger(c.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},p.prototype.next=function(){if(!this.sliding)return this.slide("next")},p.prototype.prev=function(){if(!this.sliding)return this.slide("prev")},p.prototype.slide=function(t,e){var i=this.$element.find(".item.active"),n=e||this.getItemForDirection(t,i),o=this.interval,r="next"==t?"left":"right",s=this;if(n.hasClass("active"))return this.sliding=!1;var a=n[0],l=c.Event("slide.bs.carousel",{relatedTarget:a,direction:r});if(this.$element.trigger(l),!l.isDefaultPrevented()){if(this.sliding=!0,o&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var u=c(this.$indicators.children()[this.getItemIndex(n)]);u&&u.addClass("active")}var h=c.Event("slid.bs.carousel",{relatedTarget:a,direction:r});return c.support.transition&&this.$element.hasClass("slide")?(n.addClass(t),n[0].offsetWidth,i.addClass(r),n.addClass(r),i.one("bsTransitionEnd",function(){n.removeClass([t,r].join(" ")).addClass("active"),i.removeClass(["active",r].join(" ")),s.sliding=!1,setTimeout(function(){s.$element.trigger(h)},0)}).emulateTransitionEnd(p.TRANSITION_DURATION)):(i.removeClass("active"),n.addClass("active"),this.sliding=!1,this.$element.trigger(h)),o&&this.cycle(),this}};var t=c.fn.carousel;c.fn.carousel=s,c.fn.carousel.Constructor=p,c.fn.carousel.noConflict=function(){return c.fn.carousel=t,this};var e=function(t){var e,i=c(this),n=c(i.attr("data-target")||(e=i.attr("href"))&&e.replace(/.*(?=#[^\s]+$)/,""));if(n.hasClass("carousel")){var o=c.extend({},n.data(),i.data()),r=i.attr("data-slide-to");r&&(o.interval=!1),s.call(n,o),r&&n.data("bs.carousel").to(r),t.preventDefault()}};c(document).on("click.bs.carousel.data-api","[data-slide]",e).on("click.bs.carousel.data-api","[data-slide-to]",e),c(window).on("load",function(){c('[data-ride="carousel"]').each(function(){var t=c(this);s.call(t,t.data())})})}(jQuery),function(s){"use strict";var a=function(t,e){this.$element=s(t),this.options=s.extend({},a.DEFAULTS,e),this.$trigger=s('[data-toggle="collapse"][href="#'+t.id+'"],[data-toggle="collapse"][data-target="#'+t.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};function o(t){var e,i=t.attr("data-target")||(e=t.attr("href"))&&e.replace(/.*(?=#[^\s]+$)/,"");return s(i)}function l(n){return this.each(function(){var t=s(this),e=t.data("bs.collapse"),i=s.extend({},a.DEFAULTS,t.data(),"object"==typeof n&&n);!e&&i.toggle&&/show|hide/.test(n)&&(i.toggle=!1),e||t.data("bs.collapse",e=new a(this,i)),"string"==typeof n&&e[n]()})}a.VERSION="3.3.7",a.TRANSITION_DURATION=350,a.DEFAULTS={toggle:!0},a.prototype.dimension=function(){return this.$element.hasClass("width")?"width":"height"},a.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var t,e=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(e&&e.length&&(t=e.data("bs.collapse"))&&t.transitioning)){var i=s.Event("show.bs.collapse");if(this.$element.trigger(i),!i.isDefaultPrevented()){e&&e.length&&(l.call(e,"hide"),t||e.data("bs.collapse",null));var n=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[n](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var o=function(){this.$element.removeClass("collapsing").addClass("collapse in")[n](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!s.support.transition)return o.call(this);var r=s.camelCase(["scroll",n].join("-"));this.$element.one("bsTransitionEnd",s.proxy(o,this)).emulateTransitionEnd(a.TRANSITION_DURATION)[n](this.$element[0][r])}}}},a.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var t=s.Event("hide.bs.collapse");if(this.$element.trigger(t),!t.isDefaultPrevented()){var e=this.dimension();this.$element[e](this.$element[e]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var i=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};if(!s.support.transition)return i.call(this);this.$element[e](0).one("bsTransitionEnd",s.proxy(i,this)).emulateTransitionEnd(a.TRANSITION_DURATION)}}},a.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},a.prototype.getParent=function(){return s(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(s.proxy(function(t,e){var i=s(e);this.addAriaAndCollapsedClass(o(i),i)},this)).end()},a.prototype.addAriaAndCollapsedClass=function(t,e){var i=t.hasClass("in");t.attr("aria-expanded",i),e.toggleClass("collapsed",!i).attr("aria-expanded",i)};var t=s.fn.collapse;s.fn.collapse=l,s.fn.collapse.Constructor=a,s.fn.collapse.noConflict=function(){return s.fn.collapse=t,this},s(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(t){var e=s(this);e.attr("data-target")||t.preventDefault();var i=o(e),n=i.data("bs.collapse")?"toggle":e.data();l.call(i,n)})}(jQuery),function(s){"use strict";var a='[data-toggle="dropdown"]',n=function(t){s(t).on("click.bs.dropdown",this.toggle)};function l(t){var e=t.attr("data-target");e||(e=(e=t.attr("href"))&&/#[A-Za-z]/.test(e)&&e.replace(/.*(?=#[^\s]*$)/,""));var i=e&&s(e);return i&&i.length?i:t.parent()}function r(n){n&&3===n.which||(s(".dropdown-backdrop").remove(),s(a).each(function(){var t=s(this),e=l(t),i={relatedTarget:this};e.hasClass("open")&&(n&&"click"==n.type&&/input|textarea/i.test(n.target.tagName)&&s.contains(e[0],n.target)||(e.trigger(n=s.Event("hide.bs.dropdown",i)),n.isDefaultPrevented()||(t.attr("aria-expanded","false"),e.removeClass("open").trigger(s.Event("hidden.bs.dropdown",i)))))}))}n.VERSION="3.3.7",n.prototype.toggle=function(t){var e=s(this);if(!e.is(".disabled, :disabled")){var i=l(e),n=i.hasClass("open");if(r(),!n){"ontouchstart"in document.documentElement&&!i.closest(".navbar-nav").length&&s(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(s(this)).on("click",r);var o={relatedTarget:this};if(i.trigger(t=s.Event("show.bs.dropdown",o)),t.isDefaultPrevented())return;e.trigger("focus").attr("aria-expanded","true"),i.toggleClass("open").trigger(s.Event("shown.bs.dropdown",o))}return!1}},n.prototype.keydown=function(t){if(/(38|40|27|32)/.test(t.which)&&!/input|textarea/i.test(t.target.tagName)){var e=s(this);if(t.preventDefault(),t.stopPropagation(),!e.is(".disabled, :disabled")){var i=l(e),n=i.hasClass("open");if(!n&&27!=t.which||n&&27==t.which)return 27==t.which&&i.find(a).trigger("focus"),e.trigger("click");var o=i.find(".dropdown-menu li:not(.disabled):visible a");if(o.length){var r=o.index(t.target);38==t.which&&0<r&&r--,40==t.which&&r<o.length-1&&r++,~r||(r=0),o.eq(r).trigger("focus")}}}};var t=s.fn.dropdown;s.fn.dropdown=function(i){return this.each(function(){var t=s(this),e=t.data("bs.dropdown");e||t.data("bs.dropdown",e=new n(this)),"string"==typeof i&&e[i].call(t)})},s.fn.dropdown.Constructor=n,s.fn.dropdown.noConflict=function(){return s.fn.dropdown=t,this},s(document).on("click.bs.dropdown.data-api",r).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.bs.dropdown.data-api",a,n.prototype.toggle).on("keydown.bs.dropdown.data-api",a,n.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",n.prototype.keydown)}(jQuery),function(r){"use strict";var s=function(t,e){this.options=e,this.$body=r(document.body),this.$element=r(t),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,r.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};function a(n,o){return this.each(function(){var t=r(this),e=t.data("bs.modal"),i=r.extend({},s.DEFAULTS,t.data(),"object"==typeof n&&n);e||t.data("bs.modal",e=new s(this,i)),"string"==typeof n?e[n](o):i.show&&e.show(o)})}s.VERSION="3.3.7",s.TRANSITION_DURATION=300,s.BACKDROP_TRANSITION_DURATION=150,s.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},s.prototype.toggle=function(t){return this.isShown?this.hide():this.show(t)},s.prototype.show=function(i){var n=this,t=r.Event("show.bs.modal",{relatedTarget:i});this.$element.trigger(t),this.isShown||t.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',r.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){n.$element.one("mouseup.dismiss.bs.modal",function(t){r(t.target).is(n.$element)&&(n.ignoreBackdropClick=!0)})}),this.backdrop(function(){var t=r.support.transition&&n.$element.hasClass("fade");n.$element.parent().length||n.$element.appendTo(n.$body),n.$element.show().scrollTop(0),n.adjustDialog(),t&&n.$element[0].offsetWidth,n.$element.addClass("in"),n.enforceFocus();var e=r.Event("shown.bs.modal",{relatedTarget:i});t?n.$dialog.one("bsTransitionEnd",function(){n.$element.trigger("focus").trigger(e)}).emulateTransitionEnd(s.TRANSITION_DURATION):n.$element.trigger("focus").trigger(e)}))},s.prototype.hide=function(t){t&&t.preventDefault(),t=r.Event("hide.bs.modal"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),r(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),r.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",r.proxy(this.hideModal,this)).emulateTransitionEnd(s.TRANSITION_DURATION):this.hideModal())},s.prototype.enforceFocus=function(){r(document).off("focusin.bs.modal").on("focusin.bs.modal",r.proxy(function(t){document===t.target||this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.trigger("focus")},this))},s.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",r.proxy(function(t){27==t.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},s.prototype.resize=function(){this.isShown?r(window).on("resize.bs.modal",r.proxy(this.handleUpdate,this)):r(window).off("resize.bs.modal")},s.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.$body.removeClass("modal-open"),t.resetAdjustments(),t.resetScrollbar(),t.$element.trigger("hidden.bs.modal")})},s.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},s.prototype.backdrop=function(t){var e=this,i=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var n=r.support.transition&&i;if(this.$backdrop=r(document.createElement("div")).addClass("modal-backdrop "+i).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",r.proxy(function(t){this.ignoreBackdropClick?this.ignoreBackdropClick=!1:t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide())},this)),n&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!t)return;n?this.$backdrop.one("bsTransitionEnd",t).emulateTransitionEnd(s.BACKDROP_TRANSITION_DURATION):t()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var o=function(){e.removeBackdrop(),t&&t()};r.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",o).emulateTransitionEnd(s.BACKDROP_TRANSITION_DURATION):o()}else t&&t()},s.prototype.handleUpdate=function(){this.adjustDialog()},s.prototype.adjustDialog=function(){var t=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&t?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!t?this.scrollbarWidth:""})},s.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},s.prototype.checkScrollbar=function(){var t=window.innerWidth;if(!t){var e=document.documentElement.getBoundingClientRect();t=e.right-Math.abs(e.left)}this.bodyIsOverflowing=document.body.clientWidth<t,this.scrollbarWidth=this.measureScrollbar()},s.prototype.setScrollbar=function(){var t=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",t+this.scrollbarWidth)},s.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},s.prototype.measureScrollbar=function(){var t=document.createElement("div");t.className="modal-scrollbar-measure",this.$body.append(t);var e=t.offsetWidth-t.clientWidth;return this.$body[0].removeChild(t),e};var t=r.fn.modal;r.fn.modal=a,r.fn.modal.Constructor=s,r.fn.modal.noConflict=function(){return r.fn.modal=t,this},r(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(t){var e=r(this),i=e.attr("href"),n=r(e.attr("data-target")||i&&i.replace(/.*(?=#[^\s]+$)/,"")),o=n.data("bs.modal")?"toggle":r.extend({remote:!/#/.test(i)&&i},n.data(),e.data());e.is("a")&&t.preventDefault(),n.one("show.bs.modal",function(t){t.isDefaultPrevented()||n.one("hidden.bs.modal",function(){e.is(":visible")&&e.trigger("focus")})}),a.call(n,o,this)})}(jQuery),function(m){"use strict";var g=function(t,e){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",t,e)};g.VERSION="3.3.7",g.TRANSITION_DURATION=150,g.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},g.prototype.init=function(t,e,i){if(this.enabled=!0,this.type=t,this.$element=m(e),this.options=this.getOptions(i),this.$viewport=this.options.viewport&&m(m.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var n=this.options.trigger.split(" "),o=n.length;o--;){var r=n[o];if("click"==r)this.$element.on("click."+this.type,this.options.selector,m.proxy(this.toggle,this));else if("manual"!=r){var s="hover"==r?"mouseenter":"focusin",a="hover"==r?"mouseleave":"focusout";this.$element.on(s+"."+this.type,this.options.selector,m.proxy(this.enter,this)),this.$element.on(a+"."+this.type,this.options.selector,m.proxy(this.leave,this))}}this.options.selector?this._options=m.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},g.prototype.getDefaults=function(){return g.DEFAULTS},g.prototype.getOptions=function(t){return(t=m.extend({},this.getDefaults(),this.$element.data(),t)).delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t},g.prototype.getDelegateOptions=function(){var i={},n=this.getDefaults();return this._options&&m.each(this._options,function(t,e){n[t]!=e&&(i[t]=e)}),i},g.prototype.enter=function(t){var e=t instanceof this.constructor?t:m(t.currentTarget).data("bs."+this.type);if(e||(e=new this.constructor(t.currentTarget,this.getDelegateOptions()),m(t.currentTarget).data("bs."+this.type,e)),t instanceof m.Event&&(e.inState["focusin"==t.type?"focus":"hover"]=!0),e.tip().hasClass("in")||"in"==e.hoverState)e.hoverState="in";else{if(clearTimeout(e.timeout),e.hoverState="in",!e.options.delay||!e.options.delay.show)return e.show();e.timeout=setTimeout(function(){"in"==e.hoverState&&e.show()},e.options.delay.show)}},g.prototype.isInStateTrue=function(){for(var t in this.inState)if(this.inState[t])return!0;return!1},g.prototype.leave=function(t){var e=t instanceof this.constructor?t:m(t.currentTarget).data("bs."+this.type);if(e||(e=new this.constructor(t.currentTarget,this.getDelegateOptions()),m(t.currentTarget).data("bs."+this.type,e)),t instanceof m.Event&&(e.inState["focusout"==t.type?"focus":"hover"]=!1),!e.isInStateTrue()){if(clearTimeout(e.timeout),e.hoverState="out",!e.options.delay||!e.options.delay.hide)return e.hide();e.timeout=setTimeout(function(){"out"==e.hoverState&&e.hide()},e.options.delay.hide)}},g.prototype.show=function(){var t=m.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(t);var e=m.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(t.isDefaultPrevented()||!e)return;var i=this,n=this.tip(),o=this.getUID(this.type);this.setContent(),n.attr("id",o),this.$element.attr("aria-describedby",o),this.options.animation&&n.addClass("fade");var r="function"==typeof this.options.placement?this.options.placement.call(this,n[0],this.$element[0]):this.options.placement,s=/\s?auto?\s?/i,a=s.test(r);a&&(r=r.replace(s,"")||"top"),n.detach().css({top:0,left:0,display:"block"}).addClass(r).data("bs."+this.type,this),this.options.container?n.appendTo(this.options.container):n.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var l=this.getPosition(),u=n[0].offsetWidth,h=n[0].offsetHeight;if(a){var c=r,p=this.getPosition(this.$viewport);r="bottom"==r&&l.bottom+h>p.bottom?"top":"top"==r&&l.top-h<p.top?"bottom":"right"==r&&l.right+u>p.width?"left":"left"==r&&l.left-u<p.left?"right":r,n.removeClass(c).addClass(r)}var d=this.getCalculatedOffset(r,l,u,h);this.applyPlacement(d,r);var f=function(){var t=i.hoverState;i.$element.trigger("shown.bs."+i.type),i.hoverState=null,"out"==t&&i.leave(i)};m.support.transition&&this.$tip.hasClass("fade")?n.one("bsTransitionEnd",f).emulateTransitionEnd(g.TRANSITION_DURATION):f()}},g.prototype.applyPlacement=function(t,e){var i=this.tip(),n=i[0].offsetWidth,o=i[0].offsetHeight,r=parseInt(i.css("margin-top"),10),s=parseInt(i.css("margin-left"),10);isNaN(r)&&(r=0),isNaN(s)&&(s=0),t.top+=r,t.left+=s,m.offset.setOffset(i[0],m.extend({using:function(t){i.css({top:Math.round(t.top),left:Math.round(t.left)})}},t),0),i.addClass("in");var a=i[0].offsetWidth,l=i[0].offsetHeight;"top"==e&&l!=o&&(t.top=t.top+o-l);var u=this.getViewportAdjustedDelta(e,t,a,l);u.left?t.left+=u.left:t.top+=u.top;var h=/top|bottom/.test(e),c=h?2*u.left-n+a:2*u.top-o+l,p=h?"offsetWidth":"offsetHeight";i.offset(t),this.replaceArrow(c,i[0][p],h)},g.prototype.replaceArrow=function(t,e,i){this.arrow().css(i?"left":"top",50*(1-t/e)+"%").css(i?"top":"left","")},g.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},g.prototype.hide=function(t){var e=this,i=m(this.$tip),n=m.Event("hide.bs."+this.type);function o(){"in"!=e.hoverState&&i.detach(),e.$element&&e.$element.removeAttr("aria-describedby").trigger("hidden.bs."+e.type),t&&t()}if(this.$element.trigger(n),!n.isDefaultPrevented())return i.removeClass("in"),m.support.transition&&i.hasClass("fade")?i.one("bsTransitionEnd",o).emulateTransitionEnd(g.TRANSITION_DURATION):o(),this.hoverState=null,this},g.prototype.fixTitle=function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},g.prototype.hasContent=function(){return this.getTitle()},g.prototype.getPosition=function(t){var e=(t=t||this.$element)[0],i="BODY"==e.tagName,n=e.getBoundingClientRect();null==n.width&&(n=m.extend({},n,{width:n.right-n.left,height:n.bottom-n.top}));var o=window.SVGElement&&e instanceof window.SVGElement,r=i?{top:0,left:0}:o?null:t.offset(),s={scroll:i?document.documentElement.scrollTop||document.body.scrollTop:t.scrollTop()},a=i?{width:m(window).width(),height:m(window).height()}:null;return m.extend({},n,s,a,r)},g.prototype.getCalculatedOffset=function(t,e,i,n){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-i/2}:"top"==t?{top:e.top-n,left:e.left+e.width/2-i/2}:"left"==t?{top:e.top+e.height/2-n/2,left:e.left-i}:{top:e.top+e.height/2-n/2,left:e.left+e.width}},g.prototype.getViewportAdjustedDelta=function(t,e,i,n){var o={top:0,left:0};if(!this.$viewport)return o;var r=this.options.viewport&&this.options.viewport.padding||0,s=this.getPosition(this.$viewport);if(/right|left/.test(t)){var a=e.top-r-s.scroll,l=e.top+r-s.scroll+n;a<s.top?o.top=s.top-a:l>s.top+s.height&&(o.top=s.top+s.height-l)}else{var u=e.left-r,h=e.left+r+i;u<s.left?o.left=s.left-u:h>s.right&&(o.left=s.left+s.width-h)}return o},g.prototype.getTitle=function(){var t=this.$element,e=this.options;return t.attr("data-original-title")||("function"==typeof e.title?e.title.call(t[0]):e.title)},g.prototype.getUID=function(t){for(;t+=~~(1e6*Math.random()),document.getElementById(t););return t},g.prototype.tip=function(){if(!this.$tip&&(this.$tip=m(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},g.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},g.prototype.enable=function(){this.enabled=!0},g.prototype.disable=function(){this.enabled=!1},g.prototype.toggleEnabled=function(){this.enabled=!this.enabled},g.prototype.toggle=function(t){var e=this;t&&((e=m(t.currentTarget).data("bs."+this.type))||(e=new this.constructor(t.currentTarget,this.getDelegateOptions()),m(t.currentTarget).data("bs."+this.type,e))),t?(e.inState.click=!e.inState.click,e.isInStateTrue()?e.enter(e):e.leave(e)):e.tip().hasClass("in")?e.leave(e):e.enter(e)},g.prototype.destroy=function(){var t=this;clearTimeout(this.timeout),this.hide(function(){t.$element.off("."+t.type).removeData("bs."+t.type),t.$tip&&t.$tip.detach(),t.$tip=null,t.$arrow=null,t.$viewport=null,t.$element=null})};var t=m.fn.tooltip;m.fn.tooltip=function(n){return this.each(function(){var t=m(this),e=t.data("bs.tooltip"),i="object"==typeof n&&n;!e&&/destroy|hide/.test(n)||(e||t.data("bs.tooltip",e=new g(this,i)),"string"==typeof n&&e[n]())})},m.fn.tooltip.Constructor=g,m.fn.tooltip.noConflict=function(){return m.fn.tooltip=t,this}}(jQuery),function(o){"use strict";var r=function(t,e){this.init("popover",t,e)};if(!o.fn.tooltip)throw new Error("Popover requires tooltip.js");r.VERSION="3.3.7",r.DEFAULTS=o.extend({},o.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),((r.prototype=o.extend({},o.fn.tooltip.Constructor.prototype)).constructor=r).prototype.getDefaults=function(){return r.DEFAULTS},r.prototype.setContent=function(){var t=this.tip(),e=this.getTitle(),i=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof i?"html":"append":"text"](i),t.removeClass("fade top bottom left right in"),t.find(".popover-title").html()||t.find(".popover-title").hide()},r.prototype.hasContent=function(){return this.getTitle()||this.getContent()},r.prototype.getContent=function(){var t=this.$element,e=this.options;return t.attr("data-content")||("function"==typeof e.content?e.content.call(t[0]):e.content)},r.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var t=o.fn.popover;o.fn.popover=function(n){return this.each(function(){var t=o(this),e=t.data("bs.popover"),i="object"==typeof n&&n;!e&&/destroy|hide/.test(n)||(e||t.data("bs.popover",e=new r(this,i)),"string"==typeof n&&e[n]())})},o.fn.popover.Constructor=r,o.fn.popover.noConflict=function(){return o.fn.popover=t,this}}(jQuery),function(r){"use strict";function o(t,e){this.$body=r(document.body),this.$scrollElement=r(t).is(document.body)?r(window):r(t),this.options=r.extend({},o.DEFAULTS,e),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",r.proxy(this.process,this)),this.refresh(),this.process()}function e(n){return this.each(function(){var t=r(this),e=t.data("bs.scrollspy"),i="object"==typeof n&&n;e||t.data("bs.scrollspy",e=new o(this,i)),"string"==typeof n&&e[n]()})}o.VERSION="3.3.7",o.DEFAULTS={offset:10},o.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},o.prototype.refresh=function(){var t=this,n="offset",o=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),r.isWindow(this.$scrollElement[0])||(n="position",o=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var t=r(this),e=t.data("target")||t.attr("href"),i=/^#./.test(e)&&r(e);return i&&i.length&&i.is(":visible")&&[[i[n]().top+o,e]]||null}).sort(function(t,e){return t[0]-e[0]}).each(function(){t.offsets.push(this[0]),t.targets.push(this[1])})},o.prototype.process=function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,i=this.getScrollHeight(),n=this.options.offset+i-this.$scrollElement.height(),o=this.offsets,r=this.targets,s=this.activeTarget;if(this.scrollHeight!=i&&this.refresh(),n<=e)return s!=(t=r[r.length-1])&&this.activate(t);if(s&&e<o[0])return this.activeTarget=null,this.clear();for(t=o.length;t--;)s!=r[t]&&e>=o[t]&&(void 0===o[t+1]||e<o[t+1])&&this.activate(r[t])},o.prototype.activate=function(t){this.activeTarget=t,this.clear();var e=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',i=r(e).parents("li").addClass("active");i.parent(".dropdown-menu").length&&(i=i.closest("li.dropdown").addClass("active")),i.trigger("activate.bs.scrollspy")},o.prototype.clear=function(){r(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var t=r.fn.scrollspy;r.fn.scrollspy=e,r.fn.scrollspy.Constructor=o,r.fn.scrollspy.noConflict=function(){return r.fn.scrollspy=t,this},r(window).on("load.bs.scrollspy.data-api",function(){r('[data-spy="scroll"]').each(function(){var t=r(this);e.call(t,t.data())})})}(jQuery),function(a){"use strict";var s=function(t){this.element=a(t)};function e(i){return this.each(function(){var t=a(this),e=t.data("bs.tab");e||t.data("bs.tab",e=new s(this)),"string"==typeof i&&e[i]()})}s.VERSION="3.3.7",s.TRANSITION_DURATION=150,s.prototype.show=function(){var t=this.element,e=t.closest("ul:not(.dropdown-menu)"),i=t.data("target");if(i||(i=(i=t.attr("href"))&&i.replace(/.*(?=#[^\s]*$)/,"")),!t.parent("li").hasClass("active")){var n=e.find(".active:last a"),o=a.Event("hide.bs.tab",{relatedTarget:t[0]}),r=a.Event("show.bs.tab",{relatedTarget:n[0]});if(n.trigger(o),t.trigger(r),!r.isDefaultPrevented()&&!o.isDefaultPrevented()){var s=a(i);this.activate(t.closest("li"),e),this.activate(s,s.parent(),function(){n.trigger({type:"hidden.bs.tab",relatedTarget:t[0]}),t.trigger({type:"shown.bs.tab",relatedTarget:n[0]})})}}},s.prototype.activate=function(t,e,i){var n=e.find("> .active"),o=i&&a.support.transition&&(n.length&&n.hasClass("fade")||!!e.find("> .fade").length);function r(){n.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),t.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),o?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu").length&&t.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),i&&i()}n.length&&o?n.one("bsTransitionEnd",r).emulateTransitionEnd(s.TRANSITION_DURATION):r(),n.removeClass("in")};var t=a.fn.tab;a.fn.tab=e,a.fn.tab.Constructor=s,a.fn.tab.noConflict=function(){return a.fn.tab=t,this};var i=function(t){t.preventDefault(),e.call(a(this),"show")};a(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',i).on("click.bs.tab.data-api",'[data-toggle="pill"]',i)}(jQuery),function(l){"use strict";var u=function(t,e){this.options=l.extend({},u.DEFAULTS,e),this.$target=l(this.options.target).on("scroll.bs.affix.data-api",l.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",l.proxy(this.checkPositionWithEventLoop,this)),this.$element=l(t),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};function i(n){return this.each(function(){var t=l(this),e=t.data("bs.affix"),i="object"==typeof n&&n;e||t.data("bs.affix",e=new u(this,i)),"string"==typeof n&&e[n]()})}u.VERSION="3.3.7",u.RESET="affix affix-top affix-bottom",u.DEFAULTS={offset:0,target:window},u.prototype.getState=function(t,e,i,n){var o=this.$target.scrollTop(),r=this.$element.offset(),s=this.$target.height();if(null!=i&&"top"==this.affixed)return o<i&&"top";if("bottom"==this.affixed)return null!=i?!(o+this.unpin<=r.top)&&"bottom":!(o+s<=t-n)&&"bottom";var a=null==this.affixed,l=a?o:r.top;return null!=i&&o<=i?"top":null!=n&&t-n<=l+(a?s:e)&&"bottom"},u.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(u.RESET).addClass("affix");var t=this.$target.scrollTop(),e=this.$element.offset();return this.pinnedOffset=e.top-t},u.prototype.checkPositionWithEventLoop=function(){setTimeout(l.proxy(this.checkPosition,this),1)},u.prototype.checkPosition=function(){if(this.$element.is(":visible")){var t=this.$element.height(),e=this.options.offset,i=e.top,n=e.bottom,o=Math.max(l(document).height(),l(document.body).height());"object"!=typeof e&&(n=i=e),"function"==typeof i&&(i=e.top(this.$element)),"function"==typeof n&&(n=e.bottom(this.$element));var r=this.getState(o,t,i,n);if(this.affixed!=r){null!=this.unpin&&this.$element.css("top","");var s="affix"+(r?"-"+r:""),a=l.Event(s+".bs.affix");if(this.$element.trigger(a),a.isDefaultPrevented())return;this.affixed=r,this.unpin="bottom"==r?this.getPinnedOffset():null,this.$element.removeClass(u.RESET).addClass(s).trigger(s.replace("affix","affixed")+".bs.affix")}"bottom"==r&&this.$element.offset({top:o-t-n})}};var t=l.fn.affix;l.fn.affix=i,l.fn.affix.Constructor=u,l.fn.affix.noConflict=function(){return l.fn.affix=t,this},l(window).on("load",function(){l('[data-spy="affix"]').each(function(){var t=l(this),e=t.data();e.offset=e.offset||{},null!=e.offsetBottom&&(e.offset.bottom=e.offsetBottom),null!=e.offsetTop&&(e.offset.top=e.offsetTop),i.call(t,e)})})}(jQuery),function(t){"use strict";"object"==typeof module&&"object"==typeof module.exports?t(require("jquery"),window,document):t(jQuery,window,document)}(function(x,w,T,k){"use strict";if(!w.history.pushState)return x.fn.smoothState=function(){return this},void(x.fn.smoothState.options={});if(!x.fn.smoothState){var C=x("html, body"),S=w.console,E={isExternal:function(t){var e=t.match(/^([^:\/?#]+:)?(?:\/\/([^\/?#]*))?([^?#]+)?(\?[^#]*)?(#.*)?/);return"string"==typeof e[1]&&0<e[1].length&&e[1].toLowerCase()!==w.location.protocol||"string"==typeof e[2]&&0<e[2].length&&e[2].replace(new RegExp(":("+{"http:":80,"https:":443}[w.location.protocol]+")?$"),"")!==w.location.host},stripHash:function(t){return t.replace(/#.*/,"")},isHash:function(t,e){e=e||w.location.href;var i=-1<t.indexOf("#"),n=E.stripHash(t)===E.stripHash(e);return i&&n},translate:function(t){var e={dataType:"html",type:"GET"};return t="string"==typeof t?x.extend({},e,{url:t}):x.extend({},e,t)},shouldLoadAnchor:function(t,e,i){var n=t.prop("href");return!(E.isExternal(n)||E.isHash(n)||t.is(e)||t.prop("target")||typeof i!==k&&""!==i&&-1===t.prop("href").search(i))},clearIfOverCapacity:function(t,e){return Object.keys||(Object.keys=function(t){var e,i=[];for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&i.push(e);return i}),Object.keys(t).length>e&&(t={}),t},storePageIn:function(t,e,i,n,o,r){var s=x("<html></html>").append(x(i));return void 0===o&&(o={}),void 0===r&&(r=e),t[e]={status:"loaded",title:s.find("title").first().text(),html:s.find("#"+n),doc:i,state:o,destUrl:r},t},triggerAllAnimationEndEvent:function(e,t){t=" "+t||"";var i=0;e.on("animationstart webkitAnimationStart oanimationstart MSAnimationStart",function(t){x(t.delegateTarget).is(e)&&(t.stopPropagation(),i++)}),e.on("animationend webkitAnimationEnd oanimationend MSAnimationEnd",function(t){x(t.delegateTarget).is(e)&&(t.stopPropagation(),0==--i&&e.trigger("allanimationend"))}),e.on("allanimationend"+t,function(){i=0,E.redraw(e)})},redraw:function(t){t.height()}},i=function(t,a){var e,l=x(t),u=l.prop("id"),n=null,o=!1,h={},c={},i=w.location.href,p=function(t){(t=t||!1)&&h.hasOwnProperty(t)?delete h[t]:h={},l.data("smoothState").cache=h},d=function(t,e){e=e||x.noop;var o=E.translate(t);if(!(h=E.clearIfOverCapacity(h,a.cacheLength)).hasOwnProperty(o.url)||void 0!==o.data){h[o.url]={status:"fetching"};var i=x.ajax(o);i.done(function(t){E.storePageIn(h,o.url,t,u),l.data("smoothState").cache=h}),i.fail(function(){h[o.url].status="error"}),a.locationHeader&&i.always(function(t,e,i){var n=(t.statusCode?t:i).getResponseHeader(a.locationHeader);n&&(h[o.url].destUrl=n)}),e&&i.always(e)}},f=function(t){var e="#"+u,i=h[t]?x(h[t].html.html()):null;i.length?(T.title=h[t].title,l.data("smoothState").href=t,a.loadingClass&&C.removeClass(a.loadingClass),a.onReady.render(l,i),l.one("ss.onReadyEnd",function(){o=!1,a.onAfter(l,i),a.scroll&&function(){if(n){var t=x(n,l);if(t.length){var e=t.offset().top;C.scrollTop(e)}n=null}}(),b(l)}),w.setTimeout(function(){l.trigger("ss.onReadyEnd")},a.onReady.duration)):!i&&a.debug&&S?S.warn("No element with an id of "+e+" in response from "+t+" in "+h):w.location=t},r=function(t,i,n){var o=E.translate(t);void 0===i&&(i=!0),void 0===n&&(n=!0);var r=!1,s=!1,e={loaded:function(){var t=r?"ss.onProgressEnd":"ss.onStartEnd";if(s&&r?s&&f(o.url):l.one(t,function(){f(o.url),n||p(o.url)}),i){var e=h[o.url].destUrl;c=a.alterChangeState({id:u},h[o.url].title,e),h[o.url].state=c,w.history.pushState(c,h[o.url].title,e)}s&&!n&&p(o.url)},fetching:function(){r||(r=!0,l.one("ss.onStartEnd",function(){a.loadingClass&&C.addClass(a.loadingClass),a.onProgress.render(l),w.setTimeout(function(){l.trigger("ss.onProgressEnd"),s=!0},a.onProgress.duration)})),w.setTimeout(function(){h.hasOwnProperty(o.url)&&e[h[o.url].status]()},10)},error:function(){a.debug&&S?S.log("There was an error loading: "+o.url):w.location=o.url}};h.hasOwnProperty(o.url)||d(o),a.onStart.render(l),w.setTimeout(function(){a.scroll&&C.scrollTop(0),l.trigger("ss.onStartEnd")},a.onStart.duration),e[h[o.url].status]()},s=function(t){var e,i=x(t.currentTarget);E.shouldLoadAnchor(i,a.blacklist,a.hrefRegex)&&!o&&(t.stopPropagation(),e=E.translate(i.prop("href")),e=a.alterRequest(e),d(e))},m=function(t){var e=x(t.currentTarget);if(!t.metaKey&&!t.ctrlKey&&E.shouldLoadAnchor(e,a.blacklist,a.hrefRegex)&&(t.stopPropagation(),t.preventDefault(),!y())){_();var i=E.translate(e.prop("href"));o=!0,n=e.prop("hash"),i=a.alterRequest(i),a.onBefore(e,l),r(i)}},g=function(t){var e=x(t.currentTarget);if(!e.is(a.blacklist)&&(t.preventDefault(),t.stopPropagation(),!y())){_();var i={url:e.prop("action"),data:e.serialize(),type:e.prop("method")};o=!0,"get"===(i=a.alterRequest(i)).type.toLowerCase()&&(i.url=i.url+"?"+i.data),a.onBefore(e,l),r(i,k,a.allowFormCaching)}},v=0,y=function(){var t=null===a.repeatDelay,e=parseInt(Date.now())>v;return!(t||e)},_=function(){v=parseInt(Date.now())+parseInt(a.repeatDelay)},b=function(t){a.anchors&&a.prefetch&&t.find(a.anchors).not(a.prefetchBlacklist).on(a.prefetchOn,null,s)};return a=x.extend({},x.fn.smoothState.options,a),null===w.history.state?(c=a.alterChangeState({id:u},T.title,i),w.history.replaceState(c,T.title,i)):c={},E.storePageIn(h,i,T.documentElement.outerHTML,u,c),E.triggerAllAnimationEndEvent(l,"ss.onStartEnd ss.onProgressEnd ss.onEndEnd"),e=l,a.anchors&&(e.on("click",a.anchors,m),b(e)),a.forms&&e.on("submit",a.forms,g),{href:i,cache:h,clear:p,load:r,fetch:d,restartCSSAnimations:function(){var t=l.prop("class");l.removeClass(t),E.redraw(l),l.addClass(t)}}};w.onpopstate=function(t){if(null!==t.state){var e=w.location.href,i=x("#"+t.state.id).data("smoothState"),n=i.href!==e&&!E.isHash(e,i.href),o=t.state!==i.cache[i.href].state;(n||o)&&(o&&i.clear(i.href),i.load(e,!1))}},x.smoothStateUtility=E,x.fn.smoothState=function(e){return this.each(function(){var t=this.tagName.toLowerCase();this.id&&"body"!==t&&"html"!==t&&!x.data(this,"smoothState")?x.data(this,"smoothState",new i(this,e)):!this.id&&S?S.warn("Every smoothState container needs an id but the following one does not have one:",this):"body"!==t&&"html"!==t||!S||S.warn("The smoothstate container cannot be the "+this.tagName+" tag")})},x.fn.smoothState.options={debug:!1,anchors:"a",hrefRegex:"",forms:"form",allowFormCaching:!1,repeatDelay:500,blacklist:".no-smoothState",prefetch:!1,prefetchOn:"mouseover touchstart",prefetchBlacklist:".no-prefetch",locationHeader:"X-SmoothState-Location",cacheLength:0,loadingClass:"is-loading",scroll:!0,alterRequest:function(t){return t},alterChangeState:function(t,e,i){return t},onBefore:function(t,e){},onStart:{duration:0,render:function(t){}},onProgress:{duration:0,render:function(t){}},onReady:{duration:0,render:function(t,e){t.html(e)}},onAfter:function(t,e){}}}});var _slice=Array.prototype.slice,_slicedToArray=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var i=[],n=!0,o=!1,r=void 0;try{for(var s,a=t[Symbol.iterator]();!(n=(s=a.next()).done)&&(i.push(s.value),!e||i.length!==e);n=!0);}catch(t){o=!0,r=t}finally{try{!n&&a.return&&a.return()}finally{if(o)throw r}}return i}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},_extends=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t};!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],e):t.parsley=e(t.jQuery)}(this,function(c){"use strict";function n(e,i){return e.parsleyAdaptedCallback||(e.parsleyAdaptedCallback=function(){var t=Array.prototype.slice.call(arguments,0);t.unshift(this),e.apply(i||E,t)}),e.parsleyAdaptedCallback}function r(t){return 0===t.lastIndexOf("parsley:",0)?t.substr("parsley:".length):t}var i,t=1,e={},l={attr:function(t,e,i){var n,o,r,s=new RegExp("^"+e,"i");if(void 0===i)i={};else for(n in i)i.hasOwnProperty(n)&&delete i[n];if(!t)return i;for(n=(r=t.attributes).length;n--;)(o=r[n])&&o.specified&&s.test(o.name)&&(i[this.camelize(o.name.slice(e.length))]=this.deserializeValue(o.value));return i},checkAttr:function(t,e,i){return t.hasAttribute(e+i)},setAttr:function(t,e,i,n){t.setAttribute(this.dasherize(e+i),String(n))},getType:function(t){return t.getAttribute("type")||"text"},generateID:function(){return""+t++},deserializeValue:function(e){var t;try{return e?"true"==e||"false"!=e&&("null"==e?null:isNaN(t=Number(e))?/^[\[\{]/.test(e)?JSON.parse(e):e:t):e}catch(t){return e}},camelize:function(t){return t.replace(/-+(.)?/g,function(t,e){return e?e.toUpperCase():""})},dasherize:function(t){return t.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()},warn:function(){var t;window.console&&"function"==typeof window.console.warn&&(t=window.console).warn.apply(t,arguments)},warnOnce:function(t){e[t]||(e[t]=!0,this.warn.apply(this,arguments))},_resetWarnings:function(){e={}},trimString:function(t){return t.replace(/^\s+|\s+$/g,"")},parse:{date:function(t){var e=t.match(/^(\d{4,})-(\d\d)-(\d\d)$/);if(!e)return null;var i=e.map(function(t){return parseInt(t,10)}),n=_slicedToArray(i,4),o=(n[0],n[1]),r=n[2],s=n[3],a=new Date(o,r-1,s);return a.getFullYear()!==o||a.getMonth()+1!==r||a.getDate()!==s?null:a},string:function(t){return t},integer:function(t){return isNaN(t)?null:parseInt(t,10)},number:function(t){if(isNaN(t))throw null;return parseFloat(t)},boolean:function(t){return!/^\s*false\s*$/i.test(t)},object:function(t){return l.deserializeValue(t)},regexp:function(t){var e="";return t=/^\/.*\/(?:[gimy]*)$/.test(t)?(e=t.replace(/.*\/([gimy]*)$/,"$1"),t.replace(new RegExp("^/(.*?)/"+e+"$"),"$1")):"^"+t+"$",new RegExp(t,e)}},parseRequirement:function(t,e){var i=this.parse[t||"string"];if(!i)throw'Unknown requirement specification: "'+t+'"';var n=i(e);if(null===n)throw"Requirement is not a "+t+': "'+e+'"';return n},namespaceEvents:function(t,e){return(t=this.trimString(t||"").split(/\s+/))[0]?c.map(t,function(t){return t+"."+e}).join(" "):""},difference:function(t,i){var n=[];return c.each(t,function(t,e){-1==i.indexOf(e)&&n.push(e)}),n},all:function(t){return c.when.apply(c,_toConsumableArray(t).concat([42,42]))},objectCreate:Object.create||(i=function(){},function(t){if(1<arguments.length)throw Error("Second argument not supported");if("object"!=typeof t)throw TypeError("Argument must be an object");i.prototype=t;var e=new i;return i.prototype=null,e}),_SubmitSelector:'input[type="submit"], button:submit'},o={namespace:"data-parsley-",inputs:"input, textarea, select",excluded:"input[type=button], input[type=submit], input[type=reset], input[type=hidden]",priorityEnabled:!0,multiple:null,group:null,uiEnabled:!0,validationThreshold:3,focus:"first",trigger:!1,triggerAfterFailure:"input",errorClass:"parsley-error",successClass:"parsley-success",classHandler:function(t){},errorsContainer:function(t){},errorsWrapper:'<ul class="parsley-errors-list"></ul>',errorTemplate:"<li></li>"},s=function(){this.__id__=l.generateID()};s.prototype={asyncSupport:!0,_pipeAccordingToValidationResult:function(){var e=this,t=function(){var t=c.Deferred();return!0!==e.validationResult&&t.reject(),t.resolve().promise()};return[t,t]},actualizeOptions:function(){return l.attr(this.element,this.options.namespace,this.domOptions),this.parent&&this.parent.actualizeOptions&&this.parent.actualizeOptions(),this},_resetOptions:function(t){for(var e in this.domOptions=l.objectCreate(this.parent.options),this.options=l.objectCreate(this.domOptions),t)t.hasOwnProperty(e)&&(this.options[e]=t[e]);this.actualizeOptions()},_listeners:null,on:function(t,e){return this._listeners=this._listeners||{},(this._listeners[t]=this._listeners[t]||[]).push(e),this},subscribe:function(t,e){c.listenTo(this,t.toLowerCase(),e)},off:function(t,e){var i=this._listeners&&this._listeners[t];if(i)if(e)for(var n=i.length;n--;)i[n]===e&&i.splice(n,1);else delete this._listeners[t];return this},unsubscribe:function(t,e){c.unsubscribeTo(this,t.toLowerCase())},trigger:function(t,e,i){e=e||this;var n,o=this._listeners&&this._listeners[t];if(o)for(var r=o.length;r--;)if(!1===(n=o[r].call(e,e,i)))return n;return!this.parent||this.parent.trigger(t,e,i)},asyncIsValid:function(t,e){return l.warnOnce("asyncIsValid is deprecated; please use whenValid instead"),this.whenValid({group:t,force:e})},_findRelated:function(){return this.options.multiple?c(this.parent.element.querySelectorAll("["+this.options.namespace+'multiple="'+this.options.multiple+'"]')):this.$element}};var a=function(t){c.extend(!0,this,t)};a.prototype={validate:function(t,e){if(this.fn)return 3<arguments.length&&(e=[].slice.call(arguments,1,-1)),this.fn(t,e);if(Array.isArray(t)){if(!this.validateMultiple)throw"Validator `"+this.name+"` does not handle multiple values";return this.validateMultiple.apply(this,arguments)}var i=arguments[arguments.length-1];if(this.validateDate&&i._isDateInput())return null!==(t=l.parse.date(t))&&this.validateDate.apply(this,arguments);if(this.validateNumber)return!isNaN(t)&&(t=parseFloat(t),this.validateNumber.apply(this,arguments));if(this.validateString)return this.validateString.apply(this,arguments);throw"Validator `"+this.name+"` only handles multiple values"},parseRequirements:function(t,e){if("string"!=typeof t)return Array.isArray(t)?t:[t];var i=this.requirementType;if(Array.isArray(i)){for(var n=function(t,e){var i=t.match(/^\s*\[(.*)\]\s*$/);if(!i)throw'Requirement is not an array: "'+t+'"';var n=i[1].split(",").map(l.trimString);if(n.length!==e)throw"Requirement has "+n.length+" values when "+e+" are needed";return n}(t,i.length),o=0;o<n.length;o++)n[o]=l.parseRequirement(i[o],n[o]);return n}return c.isPlainObject(i)?function(t,e,i){var n=null,o={};for(var r in t)if(r){var s=i(r);"string"==typeof s&&(s=l.parseRequirement(t[r],s)),o[r]=s}else n=l.parseRequirement(t[r],e);return[n,o]}(i,t,e):[l.parseRequirement(i,t)]},requirementType:"string",priority:2};var u=function(t,e){this.__class__="ValidatorRegistry",this.locale="en",this.init(t||{},e||{})},p={email:/^((([a-zA-Z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-zA-Z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-zA-Z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-zA-Z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-zA-Z]|\d|-|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-zA-Z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-zA-Z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-zA-Z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-zA-Z]|\d|-|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-zA-Z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/,number:/^-?(\d*\.)?\d+(e[-+]?\d+)?$/i,integer:/^-?\d+$/,digits:/^\d+$/,alphanum:/^\w+$/i,date:{test:function(t){return null!==l.parse.date(t)}},url:new RegExp("^(?:(?:https?|ftp)://)?(?:\\S+(?::\\S*)?@)?(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-zA-Z\\u00a1-\\uffff0-9]-*)*[a-zA-Z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-zA-Z\\u00a1-\\uffff0-9]-*)*[a-zA-Z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-zA-Z\\u00a1-\\uffff]{2,})))(?::\\d{2,5})?(?:/\\S*)?$")};p.range=p.number;var d=function(t){var e=(""+t).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return e?Math.max(0,(e[1]?e[1].length:0)-(e[2]?+e[2]:0)):0},h=function(r,s){return function(t){for(var e=arguments.length,i=Array(1<e?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];return i.pop(),s.apply(void 0,[t].concat(_toConsumableArray((o=r,i.map(l.parse[o])))));var o}},f=function(t){return{validateDate:h("date",t),validateNumber:h("number",t),requirementType:t.length<=2?"string":["string","string"],priority:30}};u.prototype={init:function(t,e){for(var i in this.catalog=e,this.validators=_extends({},this.validators),t)this.addValidator(i,t[i].fn,t[i].priority);window.Parsley.trigger("parsley:validator:init")},setLocale:function(t){if(void 0===this.catalog[t])throw new Error(t+" is not available in the catalog");return this.locale=t,this},addCatalog:function(t,e,i){return"object"==typeof e&&(this.catalog[t]=e),!0===i?this.setLocale(t):this},addMessage:function(t,e,i){return void 0===this.catalog[t]&&(this.catalog[t]={}),this.catalog[t][e]=i,this},addMessages:function(t,e){for(var i in e)this.addMessage(t,i,e[i]);return this},addValidator:function(t,e,i){if(this.validators[t])l.warn('Validator "'+t+'" is already defined.');else if(o.hasOwnProperty(t))return void l.warn('"'+t+'" is a restricted keyword and is not a valid validator name.');return this._setValidator.apply(this,arguments)},hasValidator:function(t){return!!this.validators[t]},updateValidator:function(t,e,i){return this.validators[t]?this._setValidator.apply(this,arguments):(l.warn('Validator "'+t+'" is not already defined.'),this.addValidator.apply(this,arguments))},removeValidator:function(t){return this.validators[t]||l.warn('Validator "'+t+'" is not defined.'),delete this.validators[t],this},_setValidator:function(t,e,i){for(var n in"object"!=typeof e&&(e={fn:e,priority:i}),e.validate||(e=new a(e)),(this.validators[t]=e).messages||{})this.addMessage(n,t,e.messages[n]);return this},getErrorMessage:function(t){var e;"type"===t.name?e=(this.catalog[this.locale][t.name]||{})[t.requirements]:e=this.formatMessage(this.catalog[this.locale][t.name],t.requirements);return e||this.catalog[this.locale].defaultMessage||this.catalog.en.defaultMessage},formatMessage:function(t,e){if("object"!=typeof e)return"string"==typeof t?t.replace(/%s/i,e):"";for(var i in e)t=this.formatMessage(t,e[i]);return t},validators:{notblank:{validateString:function(t){return/\S/.test(t)},priority:2},required:{validateMultiple:function(t){return 0<t.length},validateString:function(t){return/\S/.test(t)},priority:512},type:{validateString:function(t,e){var i=arguments.length<=2||void 0===arguments[2]?{}:arguments[2],n=i.step,o=void 0===n?"any":n,r=i.base,s=void 0===r?0:r,a=p[e];if(!a)throw new Error("validator type `"+e+"` is not supported");if(!a.test(t))return!1;if("number"===e&&!/^any$/i.test(o||"")){var l=Number(t),u=Math.max(d(o),d(s));if(d(l)>u)return!1;var h=function(t){return Math.round(t*Math.pow(10,u))};if((h(l)-h(s))%h(o)!=0)return!1}return!0},requirementType:{"":"string",step:"string",base:"number"},priority:256},pattern:{validateString:function(t,e){return e.test(t)},requirementType:"regexp",priority:64},minlength:{validateString:function(t,e){return t.length>=e},requirementType:"integer",priority:30},maxlength:{validateString:function(t,e){return t.length<=e},requirementType:"integer",priority:30},length:{validateString:function(t,e,i){return t.length>=e&&t.length<=i},requirementType:["integer","integer"],priority:30},mincheck:{validateMultiple:function(t,e){return t.length>=e},requirementType:"integer",priority:30},maxcheck:{validateMultiple:function(t,e){return t.length<=e},requirementType:"integer",priority:30},check:{validateMultiple:function(t,e,i){return t.length>=e&&t.length<=i},requirementType:["integer","integer"],priority:30},min:f(function(t,e){return e<=t}),max:f(function(t,e){return t<=e}),range:f(function(t,e,i){return e<=t&&t<=i}),equalto:{validateString:function(t,e){var i=c(e);return i.length?t===i.val():t===e},priority:256}}};var m={};m.Form={_actualizeTriggers:function(){var e=this;this.$element.on("submit.Parsley",function(t){e.onSubmitValidate(t)}),this.$element.on("click.Parsley",l._SubmitSelector,function(t){e.onSubmitButton(t)}),!1!==this.options.uiEnabled&&this.element.setAttribute("novalidate","")},focus:function(){if(!(this._focusedField=null)===this.validationResult||"none"===this.options.focus)return null;for(var t=0;t<this.fields.length;t++){var e=this.fields[t];if(!0!==e.validationResult&&0<e.validationResult.length&&void 0===e.options.noFocus&&(this._focusedField=e.$element,"first"===this.options.focus))break}return null===this._focusedField?null:this._focusedField.focus()},_destroyUI:function(){this.$element.off(".Parsley")}},m.Field={_reflowUI:function(){if(this._buildUI(),this._ui){var t=function t(e,i,n){for(var o=[],r=[],s=0;s<e.length;s++){for(var a=!1,l=0;l<i.length;l++)if(e[s].assert.name===i[l].assert.name){a=!0;break}a?r.push(e[s]):o.push(e[s])}return{kept:r,added:o,removed:n?[]:t(i,e,!0).added}}(this.validationResult,this._ui.lastValidationResult);this._ui.lastValidationResult=this.validationResult,this._manageStatusClass(),this._manageErrorsMessages(t),this._actualizeTriggers(),!t.kept.length&&!t.added.length||this._failedOnce||(this._failedOnce=!0,this._actualizeTriggers())}},getErrorsMessages:function(){if(!0===this.validationResult)return[];for(var t=[],e=0;e<this.validationResult.length;e++)t.push(this.validationResult[e].errorMessage||this._getErrorMessage(this.validationResult[e].assert));return t},addError:function(t){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],i=e.message,n=e.assert,o=e.updateClass,r=void 0===o||o;this._buildUI(),this._addError(t,{message:i,assert:n}),r&&this._errorClass()},updateError:function(t){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],i=e.message,n=e.assert,o=e.updateClass,r=void 0===o||o;this._buildUI(),this._updateError(t,{message:i,assert:n}),r&&this._errorClass()},removeError:function(t){var e=(arguments.length<=1||void 0===arguments[1]?{}:arguments[1]).updateClass,i=void 0===e||e;this._buildUI(),this._removeError(t),i&&this._manageStatusClass()},_manageStatusClass:function(){this.hasConstraints()&&this.needsValidation()&&!0===this.validationResult?this._successClass():0<this.validationResult.length?this._errorClass():this._resetClass()},_manageErrorsMessages:function(t){if(void 0===this.options.errorsMessagesDisabled){if(void 0!==this.options.errorMessage)return t.added.length||t.kept.length?(this._insertErrorWrapper(),0===this._ui.$errorsWrapper.find(".parsley-custom-error-message").length&&this._ui.$errorsWrapper.append(c(this.options.errorTemplate).addClass("parsley-custom-error-message")),this._ui.$errorsWrapper.addClass("filled").find(".parsley-custom-error-message").html(this.options.errorMessage)):this._ui.$errorsWrapper.removeClass("filled").find(".parsley-custom-error-message").remove();for(var e=0;e<t.removed.length;e++)this._removeError(t.removed[e].assert.name);for(e=0;e<t.added.length;e++)this._addError(t.added[e].assert.name,{message:t.added[e].errorMessage,assert:t.added[e].assert});for(e=0;e<t.kept.length;e++)this._updateError(t.kept[e].assert.name,{message:t.kept[e].errorMessage,assert:t.kept[e].assert})}},_addError:function(t,e){var i=e.message,n=e.assert;this._insertErrorWrapper(),this._ui.$errorClassHandler.attr("aria-describedby",this._ui.errorsWrapperId),this._ui.$errorsWrapper.addClass("filled").append(c(this.options.errorTemplate).addClass("parsley-"+t).html(i||this._getErrorMessage(n)))},_updateError:function(t,e){var i=e.message,n=e.assert;this._ui.$errorsWrapper.addClass("filled").find(".parsley-"+t).html(i||this._getErrorMessage(n))},_removeError:function(t){this._ui.$errorClassHandler.removeAttr("aria-describedby"),this._ui.$errorsWrapper.removeClass("filled").find(".parsley-"+t).remove()},_getErrorMessage:function(t){var e=t.name+"Message";return void 0!==this.options[e]?window.Parsley.formatMessage(this.options[e],t.requirements):window.Parsley.getErrorMessage(t)},_buildUI:function(){if(!this._ui&&!1!==this.options.uiEnabled){var t={};this.element.setAttribute(this.options.namespace+"id",this.__id__),t.$errorClassHandler=this._manageClassHandler(),t.errorsWrapperId="parsley-id-"+(this.options.multiple?"multiple-"+this.options.multiple:this.__id__),t.$errorsWrapper=c(this.options.errorsWrapper).attr("id",t.errorsWrapperId),t.lastValidationResult=[],t.validationInformationVisible=!1,this._ui=t}},_manageClassHandler:function(){if("string"==typeof this.options.classHandler&&c(this.options.classHandler).length)return c(this.options.classHandler);var t=this.options.classHandler;if("string"==typeof this.options.classHandler&&"function"==typeof window[this.options.classHandler]&&(t=window[this.options.classHandler]),"function"==typeof t){var e=t.call(this,this);if(void 0!==e&&e.length)return e}else{if("object"==typeof t&&t instanceof jQuery&&t.length)return t;t&&l.warn("The class handler `"+t+"` does not exist in DOM nor as a global JS function")}return this._inputHolder()},_inputHolder:function(){return this.options.multiple&&"SELECT"!==this.element.nodeName?this.$element.parent():this.$element},_insertErrorWrapper:function(){var t=this.options.errorsContainer;if(0!==this._ui.$errorsWrapper.parent().length)return this._ui.$errorsWrapper.parent();if("string"==typeof t){if(c(t).length)return c(t).append(this._ui.$errorsWrapper);"function"==typeof window[t]?t=window[t]:l.warn("The errors container `"+t+"` does not exist in DOM nor as a global JS function")}return"function"==typeof t&&(t=t.call(this,this)),"object"==typeof t&&t.length?t.append(this._ui.$errorsWrapper):this._inputHolder().after(this._ui.$errorsWrapper)},_actualizeTriggers:function(){var t,e=this,i=this._findRelated();i.off(".Parsley"),this._failedOnce?i.on(l.namespaceEvents(this.options.triggerAfterFailure,"Parsley"),function(){e._validateIfNeeded()}):(t=l.namespaceEvents(this.options.trigger,"Parsley"))&&i.on(t,function(t){e._validateIfNeeded(t)})},_validateIfNeeded:function(t){var e=this;t&&/key|input/.test(t.type)&&(!this._ui||!this._ui.validationInformationVisible)&&this.getValue().length<=this.options.validationThreshold||(this.options.debounce?(window.clearTimeout(this._debounced),this._debounced=window.setTimeout(function(){return e.validate()},this.options.debounce)):this.validate())},_resetUI:function(){this._failedOnce=!1,this._actualizeTriggers(),void 0!==this._ui&&(this._ui.$errorsWrapper.removeClass("filled").children().remove(),this._resetClass(),this._ui.lastValidationResult=[],this._ui.validationInformationVisible=!1)},_destroyUI:function(){this._resetUI(),void 0!==this._ui&&this._ui.$errorsWrapper.remove(),delete this._ui},_successClass:function(){this._ui.validationInformationVisible=!0,this._ui.$errorClassHandler.removeClass(this.options.errorClass).addClass(this.options.successClass)},_errorClass:function(){this._ui.validationInformationVisible=!0,this._ui.$errorClassHandler.removeClass(this.options.successClass).addClass(this.options.errorClass)},_resetClass:function(){this._ui.$errorClassHandler.removeClass(this.options.successClass).removeClass(this.options.errorClass)}};var g=function(t,e,i){this.__class__="Form",this.element=t,this.$element=c(t),this.domOptions=e,this.options=i,this.parent=window.Parsley,this.fields=[],this.validationResult=null},v={pending:null,resolved:!0,rejected:!1};g.prototype={onSubmitValidate:function(t){var e=this;if(!0!==t.parsley){var i=this._submitSource||this.$element.find(l._SubmitSelector)[0];if(this._submitSource=null,this.$element.find(".parsley-synthetic-submit-button").prop("disabled",!0),!i||null===i.getAttribute("formnovalidate")){window.Parsley._remoteCache={};var n=this.whenValidate({event:t});"resolved"===n.state()&&!1!==this._trigger("submit")||(t.stopImmediatePropagation(),t.preventDefault(),"pending"===n.state()&&n.done(function(){e._submit(i)}))}}},onSubmitButton:function(t){this._submitSource=t.currentTarget},_submit:function(t){if(!1!==this._trigger("submit")){if(t){var e=this.$element.find(".parsley-synthetic-submit-button").prop("disabled",!1);0===e.length&&(e=c('<input class="parsley-synthetic-submit-button" type="hidden">').appendTo(this.$element)),e.attr({name:t.getAttribute("name"),value:t.getAttribute("value")})}this.$element.trigger(_extends(c.Event("submit"),{parsley:!0}))}},validate:function(t){if(1<=arguments.length&&!c.isPlainObject(t)){l.warnOnce("Calling validate on a parsley form without passing arguments as an object is deprecated.");var e=_slice.call(arguments);t={group:e[0],force:e[1],event:e[2]}}return v[this.whenValidate(t).state()]},whenValidate:function(){var t,e=this,i=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],n=i.group,o=i.force,r=i.event;(this.submitEvent=r)&&(this.submitEvent=_extends({},r,{preventDefault:function(){l.warnOnce("Using `this.submitEvent.preventDefault()` is deprecated; instead, call `this.validationResult = false`"),e.validationResult=!1}})),this.validationResult=!0,this._trigger("validate"),this._refreshFields();var s=this._withoutReactualizingFormOptions(function(){return c.map(e.fields,function(t){return t.whenValidate({force:o,group:n})})});return(t=l.all(s).done(function(){e._trigger("success")}).fail(function(){e.validationResult=!1,e.focus(),e._trigger("error")}).always(function(){e._trigger("validated")})).pipe.apply(t,_toConsumableArray(this._pipeAccordingToValidationResult()))},isValid:function(t){if(1<=arguments.length&&!c.isPlainObject(t)){l.warnOnce("Calling isValid on a parsley form without passing arguments as an object is deprecated.");var e=_slice.call(arguments);t={group:e[0],force:e[1]}}return v[this.whenValid(t).state()]},whenValid:function(){var t=this,e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],i=e.group,n=e.force;this._refreshFields();var o=this._withoutReactualizingFormOptions(function(){return c.map(t.fields,function(t){return t.whenValid({group:i,force:n})})});return l.all(o)},refresh:function(){return this._refreshFields(),this},reset:function(){for(var t=0;t<this.fields.length;t++)this.fields[t].reset();this._trigger("reset")},destroy:function(){this._destroyUI();for(var t=0;t<this.fields.length;t++)this.fields[t].destroy();this.$element.removeData("Parsley"),this._trigger("destroy")},_refreshFields:function(){return this.actualizeOptions()._bindFields()},_bindFields:function(){var o=this,t=this.fields;return this.fields=[],this.fieldsMappedById={},this._withoutReactualizingFormOptions(function(){o.$element.find(o.options.inputs).not(o.options.excluded).each(function(t,e){var i=new window.Parsley.Factory(e,{},o);if(("Field"===i.__class__||"FieldMultiple"===i.__class__)&&!0!==i.options.excluded){var n=i.__class__+"-"+i.__id__;void 0===o.fieldsMappedById[n]&&(o.fieldsMappedById[n]=i,o.fields.push(i))}}),c.each(l.difference(t,o.fields),function(t,e){e.reset()})}),this},_withoutReactualizingFormOptions:function(t){var e=this.actualizeOptions;this.actualizeOptions=function(){return this};var i=t();return this.actualizeOptions=e,i},_trigger:function(t){return this.trigger("form:"+t)}};var y=function(t,e,i,n,o){var r=window.Parsley._validatorRegistry.validators[e],s=new a(r);n=n||t.options[e+"Priority"]||s.priority,_extends(this,{validator:s,name:e,requirements:i,priority:n,isDomConstraint:o=!0===o}),this._parseRequirements(t.options)},_=function(t,e,i,n){this.__class__="Field",this.element=t,this.$element=c(t),void 0!==n&&(this.parent=n),this.options=i,this.domOptions=e,this.constraints=[],this.constraintsByName={},this.validationResult=!0,this._bindConstraints()},b={pending:null,resolved:!0,rejected:!(y.prototype={validate:function(t,e){var i;return(i=this.validator).validate.apply(i,[t].concat(_toConsumableArray(this.requirementList),[e]))},_parseRequirements:function(i){var n=this;this.requirementList=this.validator.parseRequirements(this.requirements,function(t){return i[n.name+(e=t,e[0].toUpperCase()+e.slice(1))];var e})}})};_.prototype={validate:function(t){1<=arguments.length&&!c.isPlainObject(t)&&(l.warnOnce("Calling validate on a parsley field without passing arguments as an object is deprecated."),t={options:t});var e=this.whenValidate(t);if(!e)return!0;switch(e.state()){case"pending":return null;case"resolved":return!0;case"rejected":return this.validationResult}},whenValidate:function(){var t,e=this,i=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],n=i.force,o=i.group;if(this.refresh(),!o||this._isInGroup(o))return this.value=this.getValue(),this._trigger("validate"),(t=this.whenValid({force:n,value:this.value,_refreshed:!0}).always(function(){e._reflowUI()}).done(function(){e._trigger("success")}).fail(function(){e._trigger("error")}).always(function(){e._trigger("validated")})).pipe.apply(t,_toConsumableArray(this._pipeAccordingToValidationResult()))},hasConstraints:function(){return 0!==this.constraints.length},needsValidation:function(t){return void 0===t&&(t=this.getValue()),!(!t.length&&!this._isRequired()&&void 0===this.options.validateIfEmpty)},_isInGroup:function(t){return Array.isArray(this.options.group)?-1!==c.inArray(t,this.options.group):this.options.group===t},isValid:function(t){if(1<=arguments.length&&!c.isPlainObject(t)){l.warnOnce("Calling isValid on a parsley field without passing arguments as an object is deprecated.");var e=_slice.call(arguments);t={force:e[0],value:e[1]}}var i=this.whenValid(t);return!i||b[i.state()]},whenValid:function(){var n=this,t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],e=t.force,i=void 0!==e&&e,o=t.value,r=t.group;if(t._refreshed||this.refresh(),!r||this._isInGroup(r)){if(this.validationResult=!0,!this.hasConstraints())return c.when();if(null!=o||(o=this.getValue()),!this.needsValidation(o)&&!0!==i)return c.when();var s=this._getGroupedConstraints(),a=[];return c.each(s,function(t,e){var i=l.all(c.map(e,function(t){return n._validateConstraint(o,t)}));if(a.push(i),"rejected"===i.state())return!1}),l.all(a)}},_validateConstraint:function(t,e){var i=this,n=e.validate(t,this);return!1===n&&(n=c.Deferred().reject()),l.all([n]).fail(function(t){i.validationResult instanceof Array||(i.validationResult=[]),i.validationResult.push({assert:e,errorMessage:"string"==typeof t&&t})})},getValue:function(){var t;return null==(t="function"==typeof this.options.value?this.options.value(this):void 0!==this.options.value?this.options.value:this.$element.val())?"":this._handleWhitespace(t)},reset:function(){return this._resetUI(),this._trigger("reset")},destroy:function(){this._destroyUI(),this.$element.removeData("Parsley"),this.$element.removeData("FieldMultiple"),this._trigger("destroy")},refresh:function(){return this._refreshConstraints(),this},_refreshConstraints:function(){return this.actualizeOptions()._bindConstraints()},refreshConstraints:function(){return l.warnOnce("Parsley's refreshConstraints is deprecated. Please use refresh"),this.refresh()},addConstraint:function(t,e,i,n){if(window.Parsley._validatorRegistry.validators[t]){var o=new y(this,t,e,i,n);"undefined"!==this.constraintsByName[o.name]&&this.removeConstraint(o.name),this.constraints.push(o),this.constraintsByName[o.name]=o}return this},removeConstraint:function(t){for(var e=0;e<this.constraints.length;e++)if(t===this.constraints[e].name){this.constraints.splice(e,1);break}return delete this.constraintsByName[t],this},updateConstraint:function(t,e,i){return this.removeConstraint(t).addConstraint(t,e,i)},_bindConstraints:function(){for(var t=[],e={},i=0;i<this.constraints.length;i++)!1===this.constraints[i].isDomConstraint&&(t.push(this.constraints[i]),e[this.constraints[i].name]=this.constraints[i]);for(var n in this.constraints=t,this.constraintsByName=e,this.options)this.addConstraint(n,this.options[n],void 0,!0);return this._bindHtml5Constraints()},_bindHtml5Constraints:function(){null!==this.element.getAttribute("required")&&this.addConstraint("required",!0,void 0,!0),null!==this.element.getAttribute("pattern")&&this.addConstraint("pattern",this.element.getAttribute("pattern"),void 0,!0);var t=this.element.getAttribute("min"),e=this.element.getAttribute("max");null!==t&&null!==e?this.addConstraint("range",[t,e],void 0,!0):null!==t?this.addConstraint("min",t,void 0,!0):null!==e&&this.addConstraint("max",e,void 0,!0),null!==this.element.getAttribute("minlength")&&null!==this.element.getAttribute("maxlength")?this.addConstraint("length",[this.element.getAttribute("minlength"),this.element.getAttribute("maxlength")],void 0,!0):null!==this.element.getAttribute("minlength")?this.addConstraint("minlength",this.element.getAttribute("minlength"),void 0,!0):null!==this.element.getAttribute("maxlength")&&this.addConstraint("maxlength",this.element.getAttribute("maxlength"),void 0,!0);var i=l.getType(this.element);return"number"===i?this.addConstraint("type",["number",{step:this.element.getAttribute("step")||"1",base:t||this.element.getAttribute("value")}],void 0,!0):/^(email|url|range|date)$/i.test(i)?this.addConstraint("type",i,void 0,!0):this},_isRequired:function(){return void 0!==this.constraintsByName.required&&!1!==this.constraintsByName.required.requirements},_trigger:function(t){return this.trigger("field:"+t)},_handleWhitespace:function(t){return!0===this.options.trimValue&&l.warnOnce('data-parsley-trim-value="true" is deprecated, please use data-parsley-whitespace="trim"'),"squish"===this.options.whitespace&&(t=t.replace(/\s{2,}/g," ")),"trim"!==this.options.whitespace&&"squish"!==this.options.whitespace&&!0!==this.options.trimValue||(t=l.trimString(t)),t},_isDateInput:function(){var t=this.constraintsByName.type;return t&&"date"===t.requirements},_getGroupedConstraints:function(){if(!1===this.options.priorityEnabled)return[this.constraints];for(var t=[],e={},i=0;i<this.constraints.length;i++){var n=this.constraints[i].priority;e[n]||t.push(e[n]=[]),e[n].push(this.constraints[i])}return t.sort(function(t,e){return e[0].priority-t[0].priority}),t}};var x=_,w=function(){this.__class__="FieldMultiple"};w.prototype={addElement:function(t){return this.$elements.push(t),this},_refreshConstraints:function(){var t;if(this.constraints=[],"SELECT"===this.element.nodeName)return this.actualizeOptions()._bindConstraints(),this;for(var e=0;e<this.$elements.length;e++)if(c("html").has(this.$elements[e]).length){t=this.$elements[e].data("FieldMultiple")._refreshConstraints().constraints;for(var i=0;i<t.length;i++)this.addConstraint(t[i].name,t[i].requirements,t[i].priority,t[i].isDomConstraint)}else this.$elements.splice(e,1);return this},getValue:function(){if("function"==typeof this.options.value)return this.options.value(this);if(void 0!==this.options.value)return this.options.value;if("INPUT"===this.element.nodeName){var t=l.getType(this.element);if("radio"===t)return this._findRelated().filter(":checked").val()||"";if("checkbox"===t){var e=[];return this._findRelated().filter(":checked").each(function(){e.push(c(this).val())}),e}}return"SELECT"===this.element.nodeName&&null===this.$element.val()?[]:this.$element.val()},_init:function(){return this.$elements=[this.$element],this}};var T=function(t,e,i){this.element=t,this.$element=c(t);var n=this.$element.data("Parsley");if(n)return void 0!==i&&n.parent===window.Parsley&&(n.parent=i,n._resetOptions(n.options)),"object"==typeof e&&_extends(n.options,e),n;if(!this.$element.length)throw new Error("You must bind Parsley on an existing element.");if(void 0!==i&&"Form"!==i.__class__)throw new Error("Parent instance must be a Form instance");return this.parent=i||window.Parsley,this.init(e)};T.prototype={init:function(t){return this.__class__="Parsley",this.__version__="2.8.1",this.__id__=l.generateID(),this._resetOptions(t),"FORM"===this.element.nodeName||l.checkAttr(this.element,this.options.namespace,"validate")&&!this.$element.is(this.options.inputs)?this.bind("parsleyForm"):this.isMultiple()?this.handleMultiple():this.bind("parsleyField")},isMultiple:function(){var t=l.getType(this.element);return"radio"===t||"checkbox"===t||"SELECT"===this.element.nodeName&&null!==this.element.getAttribute("multiple")},handleMultiple:function(){var t,e,n=this;if(this.options.multiple=this.options.multiple||(t=this.element.getAttribute("name"))||this.element.getAttribute("id"),"SELECT"===this.element.nodeName&&null!==this.element.getAttribute("multiple"))return this.options.multiple=this.options.multiple||this.__id__,this.bind("parsleyFieldMultiple");if(!this.options.multiple)return l.warn("To be bound by Parsley, a radio, a checkbox and a multiple select input must have either a name or a multiple option.",this.$element),this;this.options.multiple=this.options.multiple.replace(/(:|\.|\[|\]|\{|\}|\$)/g,""),t&&c('input[name="'+t+'"]').each(function(t,e){var i=l.getType(e);"radio"!==i&&"checkbox"!==i||e.setAttribute(n.options.namespace+"multiple",n.options.multiple)});for(var i=this._findRelated(),o=0;o<i.length;o++)if(void 0!==(e=c(i.get(o)).data("Parsley"))){this.$element.data("FieldMultiple")||e.addElement(this.$element);break}return this.bind("parsleyField",!0),e||this.bind("parsleyFieldMultiple")},bind:function(t,e){var i;switch(t){case"parsleyForm":i=c.extend(new g(this.element,this.domOptions,this.options),new s,window.ParsleyExtend)._bindFields();break;case"parsleyField":i=c.extend(new x(this.element,this.domOptions,this.options,this.parent),new s,window.ParsleyExtend);break;case"parsleyFieldMultiple":i=c.extend(new x(this.element,this.domOptions,this.options,this.parent),new w,new s,window.ParsleyExtend)._init();break;default:throw new Error(t+"is not a supported Parsley type")}return this.options.multiple&&l.setAttr(this.element,this.options.namespace,"multiple",this.options.multiple),void 0!==e?this.$element.data("FieldMultiple",i):(this.$element.data("Parsley",i),i._actualizeTriggers(),i._trigger("init")),i}};var k=c.fn.jquery.split(".");if(parseInt(k[0])<=1&&parseInt(k[1])<8)throw"The loaded version of jQuery is too old. Please upgrade to 1.8.x or better.";k.forEach||l.warn("Parsley requires ES5 to run properly. Please include https://github.com/es-shims/es5-shim");var C=_extends(new s,{element:document,$element:c(document),actualizeOptions:null,_resetOptions:null,Factory:T,version:"2.8.1"});_extends(x.prototype,m.Field,s.prototype),_extends(g.prototype,m.Form,s.prototype),_extends(T.prototype,s.prototype),c.fn.parsley=c.fn.psly=function(t){if(1<this.length){var e=[];return this.each(function(){e.push(c(this).parsley(t))}),e}if(0!=this.length)return new T(this[0],t)},void 0===window.ParsleyExtend&&(window.ParsleyExtend={}),C.options=_extends(l.objectCreate(o),window.ParsleyConfig),window.ParsleyConfig=C.options,window.Parsley=window.psly=C,C.Utils=l,window.ParsleyUtils={},c.each(l,function(t,e){"function"==typeof e&&(window.ParsleyUtils[t]=function(){return l.warnOnce("Accessing `window.ParsleyUtils` is deprecated. Use `window.Parsley.Utils` instead."),l[t].apply(l,arguments)})});var S=window.Parsley._validatorRegistry=new u(window.ParsleyConfig.validators,window.ParsleyConfig.i18n);window.ParsleyValidator={},c.each("setLocale addCatalog addMessage addMessages getErrorMessage formatMessage addValidator updateValidator removeValidator hasValidator".split(" "),function(t,e){window.Parsley[e]=function(){return S[e].apply(S,arguments)},window.ParsleyValidator[e]=function(){var t;return l.warnOnce("Accessing the method '"+e+"' through Validator is deprecated. Simply call 'window.Parsley."+e+"(...)'"),(t=window.Parsley)[e].apply(t,arguments)}}),window.Parsley.UI=m,window.ParsleyUI={removeError:function(t,e,i){var n=!0!==i;return l.warnOnce("Accessing UI is deprecated. Call 'removeError' on the instance directly. Please comment in issue 1073 as to your need to call this method."),t.removeError(e,{updateClass:n})},getErrorsMessages:function(t){return l.warnOnce("Accessing UI is deprecated. Call 'getErrorsMessages' on the instance directly."),t.getErrorsMessages()}},c.each("addError updateError".split(" "),function(t,s){window.ParsleyUI[s]=function(t,e,i,n,o){var r=!0!==o;return l.warnOnce("Accessing UI is deprecated. Call '"+s+"' on the instance directly. Please comment in issue 1073 as to your need to call this method."),t[s](e,{message:i,assert:n,updateClass:r})}}),!1!==window.ParsleyConfig.autoBind&&c(function(){c("[data-parsley-validate]").length&&c("[data-parsley-validate]").parsley()});var E=c({}),A=function(){l.warnOnce("Parsley's pubsub module is deprecated; use the 'on' and 'off' methods on parsley instances or window.Parsley")};return c.listen=function(t,e){var i;if(A(),"object"==typeof arguments[1]&&"function"==typeof arguments[2]&&(i=arguments[1],e=arguments[2]),"function"!=typeof e)throw new Error("Wrong parameters");window.Parsley.on(r(t),n(e,i))},c.listenTo=function(t,e,i){if(A(),!(t instanceof x||t instanceof g))throw new Error("Must give Parsley instance");if("string"!=typeof e||"function"!=typeof i)throw new Error("Wrong parameters");t.on(r(e),n(i))},c.unsubscribe=function(t,e){if(A(),"string"!=typeof t||"function"!=typeof e)throw new Error("Wrong arguments");window.Parsley.off(r(t),e.parsleyAdaptedCallback)},c.unsubscribeTo=function(t,e){if(A(),!(t instanceof x||t instanceof g))throw new Error("Must give Parsley instance");t.off(r(e))},c.unsubscribeAll=function(e){A(),window.Parsley.off(r(e)),c("form,input,textarea,select").each(function(){var t=c(this).data("Parsley");t&&t.off(r(e))})},c.emit=function(t,e){var i;A();var n=e instanceof x||e instanceof g,o=Array.prototype.slice.call(arguments,n?2:1);o.unshift(r(t)),n||(e=window.Parsley),(i=e).trigger.apply(i,_toConsumableArray(o))},c.extend(!0,C,{asyncValidators:{default:{fn:function(t){return 200<=t.status&&t.status<300},url:!1},reverse:{fn:function(t){return t.status<200||300<=t.status},url:!1}},addAsyncValidator:function(t,e,i,n){return C.asyncValidators[t]={fn:e,url:i||!1,options:n||{}},this}}),C.addValidator("remote",{requirementType:{"":"string",validator:"string",reverse:"boolean",options:"object"},validateString:function(t,e,i,n){var o,r,s={},a=i.validator||(!0===i.reverse?"reverse":"default");if(void 0===C.asyncValidators[a])throw new Error("Calling an undefined async validator: `"+a+"`");-1<(e=C.asyncValidators[a].url||e).indexOf("{value}")?e=e.replace("{value}",encodeURIComponent(t)):s[n.element.getAttribute("name")||n.element.getAttribute("id")]=t;var l=c.extend(!0,i.options||{},C.asyncValidators[a].options);o=c.extend(!0,{},{url:e,data:s,type:"GET"},l),n.trigger("field:ajaxoptions",n,o),r=c.param(o),void 0===C._remoteCache&&(C._remoteCache={});var u=C._remoteCache[r]=C._remoteCache[r]||c.ajax(o),h=function(){var t=C.asyncValidators[a].fn.call(n,u,e,i);return t||(t=c.Deferred().reject()),c.when(t)};return u.then(h,h)},priority:-1}),C.on("form:submit",function(){C._remoteCache={}}),s.prototype.addAsyncValidator=function(){return l.warnOnce("Accessing the method `addAsyncValidator` through an instance is deprecated. Simply call `Parsley.addAsyncValidator(...)`"),C.addAsyncValidator.apply(C,arguments)},C.addMessages("en",{defaultMessage:"This value seems to be invalid.",type:{email:"This value should be a valid email.",url:"This value should be a valid url.",number:"This value should be a valid number.",integer:"This value should be a valid integer.",digits:"This value should be digits.",alphanum:"This value should be alphanumeric."},notblank:"This value should not be blank.",required:"This value is required.",pattern:"This value seems to be invalid.",min:"This value should be greater than or equal to %s.",max:"This value should be lower than or equal to %s.",range:"This value should be between %s and %s.",minlength:"This value is too short. It should have %s characters or more.",maxlength:"This value is too long. It should have %s characters or fewer.",length:"This value length is invalid. It should be between %s and %s characters long.",mincheck:"You must select at least %s choices.",maxcheck:"You must select %s choices or fewer.",check:"You must select between %s and %s choices.",equalto:"This value should be the same."}),C.setLocale("en"),(new function(){var n=this,o=window||global;_extends(this,{isNativeEvent:function(t){return t.originalEvent&&!1!==t.originalEvent.isTrusted},fakeInputEvent:function(t){n.isNativeEvent(t)&&c(t.target).trigger("input")},misbehaves:function(t){n.isNativeEvent(t)&&(n.behavesOk(t),c(document).on("change.inputevent",t.data.selector,n.fakeInputEvent),n.fakeInputEvent(t))},behavesOk:function(t){n.isNativeEvent(t)&&c(document).off("input.inputevent",t.data.selector,n.behavesOk).off("change.inputevent",t.data.selector,n.misbehaves)},install:function(){if(!o.inputEventPatched){o.inputEventPatched="0.0.3";for(var t=["select",'input[type="checkbox"]','input[type="radio"]','input[type="file"]'],e=0;e<t.length;e++){var i=t[e];c(document).on("input.inputevent",i,{selector:i},n.behavesOk).on("change.inputevent",i,{selector:i},n.misbehaves)}}},uninstall:function(){delete o.inputEventPatched,c(document).off(".inputevent")}})}).install(),C}),function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):"undefined"!=typeof exports?module.exports=t(require("jquery")):t(jQuery)}(function(u){"use strict";var o,r=window.Slick||{};o=0,(r=function(t,e){var i,n=this;n.defaults={accessibility:!0,adaptiveHeight:!1,appendArrows:u(t),appendDots:u(t),arrows:!0,asNavFor:null,prevArrow:'<button class="slick-prev" aria-label="Previous" type="button">Previous</button>',nextArrow:'<button class="slick-next" aria-label="Next" type="button">Next</button>',autoplay:!1,autoplaySpeed:3e3,centerMode:!1,centerPadding:"50px",cssEase:"ease",customPaging:function(t,e){return u('<button type="button" />').text(e+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,focusOnChange:!1,infinite:!0,initialSlide:0,lazyLoad:"ondemand",mobileFirst:!1,pauseOnHover:!0,pauseOnFocus:!0,pauseOnDotsHover:!1,respondTo:"window",responsive:null,rows:1,rtl:!1,slide:"",slidesPerRow:1,slidesToShow:1,slidesToScroll:1,speed:500,swipe:!0,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,verticalSwiping:!1,waitForAnimate:!0,zIndex:1e3},n.initials={animating:!1,dragging:!1,autoPlayTimer:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,$dots:null,listWidth:null,listHeight:null,loadIndex:0,$nextArrow:null,$prevArrow:null,scrolling:!1,slideCount:null,slideWidth:null,$slideTrack:null,$slides:null,sliding:!1,slideOffset:0,swipeLeft:null,swiping:!1,$list:null,touchObject:{},transformsEnabled:!1,unslicked:!1},u.extend(n,n.initials),n.activeBreakpoint=null,n.animType=null,n.animProp=null,n.breakpoints=[],n.breakpointSettings=[],n.cssTransitions=!1,n.focussed=!1,n.interrupted=!1,n.hidden="hidden",n.paused=!0,n.positionProp=null,n.respondTo=null,n.rowCount=1,n.shouldClick=!0,n.$slider=u(t),n.$slidesCache=null,n.transformType=null,n.transitionType=null,n.visibilityChange="visibilitychange",n.windowWidth=0,n.windowTimer=null,i=u(t).data("slick")||{},n.options=u.extend({},n.defaults,e,i),n.currentSlide=n.options.initialSlide,n.originalSettings=n.options,void 0!==document.mozHidden?(n.hidden="mozHidden",n.visibilityChange="mozvisibilitychange"):void 0!==document.webkitHidden&&(n.hidden="webkitHidden",n.visibilityChange="webkitvisibilitychange"),n.autoPlay=u.proxy(n.autoPlay,n),n.autoPlayClear=u.proxy(n.autoPlayClear,n),n.autoPlayIterator=u.proxy(n.autoPlayIterator,n),n.changeSlide=u.proxy(n.changeSlide,n),n.clickHandler=u.proxy(n.clickHandler,n),n.selectHandler=u.proxy(n.selectHandler,n),n.setPosition=u.proxy(n.setPosition,n),n.swipeHandler=u.proxy(n.swipeHandler,n),n.dragHandler=u.proxy(n.dragHandler,n),n.keyHandler=u.proxy(n.keyHandler,n),n.instanceUid=o++,n.htmlExpr=/^(?:\s*(<[\w\W]+>)[^>]*)$/,n.registerBreakpoints(),n.init(!0)}).prototype.activateADA=function(){this.$slideTrack.find(".slick-active").attr({"aria-hidden":"false"}).find("a, input, button, select").attr({tabindex:"0"})},r.prototype.addSlide=r.prototype.slickAdd=function(t,e,i){var n=this;if("boolean"==typeof e)i=e,e=null;else if(e<0||e>=n.slideCount)return!1;n.unload(),"number"==typeof e?0===e&&0===n.$slides.length?u(t).appendTo(n.$slideTrack):i?u(t).insertBefore(n.$slides.eq(e)):u(t).insertAfter(n.$slides.eq(e)):!0===i?u(t).prependTo(n.$slideTrack):u(t).appendTo(n.$slideTrack),n.$slides=n.$slideTrack.children(this.options.slide),n.$slideTrack.children(this.options.slide).detach(),n.$slideTrack.append(n.$slides),n.$slides.each(function(t,e){u(e).attr("data-slick-index",t)}),n.$slidesCache=n.$slides,n.reinit()},r.prototype.animateHeight=function(){if(1===this.options.slidesToShow&&!0===this.options.adaptiveHeight&&!1===this.options.vertical){var t=this.$slides.eq(this.currentSlide).outerHeight(!0);this.$list.animate({height:t},this.options.speed)}},r.prototype.animateSlide=function(t,e){var i={},n=this;n.animateHeight(),!0===n.options.rtl&&!1===n.options.vertical&&(t=-t),!1===n.transformsEnabled?!1===n.options.vertical?n.$slideTrack.animate({left:t},n.options.speed,n.options.easing,e):n.$slideTrack.animate({top:t},n.options.speed,n.options.easing,e):!1===n.cssTransitions?(!0===n.options.rtl&&(n.currentLeft=-n.currentLeft),u({animStart:n.currentLeft}).animate({animStart:t},{duration:n.options.speed,easing:n.options.easing,step:function(t){t=Math.ceil(t),!1===n.options.vertical?i[n.animType]="translate("+t+"px, 0px)":i[n.animType]="translate(0px,"+t+"px)",n.$slideTrack.css(i)},complete:function(){e&&e.call()}})):(n.applyTransition(),t=Math.ceil(t),!1===n.options.vertical?i[n.animType]="translate3d("+t+"px, 0px, 0px)":i[n.animType]="translate3d(0px,"+t+"px, 0px)",n.$slideTrack.css(i),e&&setTimeout(function(){n.disableTransition(),e.call()},n.options.speed))},r.prototype.getNavTarget=function(){var t=this.options.asNavFor;return t&&null!==t&&(t=u(t).not(this.$slider)),t},r.prototype.asNavFor=function(e){var t=this.getNavTarget();null!==t&&"object"==typeof t&&t.each(function(){var t=u(this).slick("getSlick");t.unslicked||t.slideHandler(e,!0)})},r.prototype.applyTransition=function(t){var e=this,i={};!1===e.options.fade?i[e.transitionType]=e.transformType+" "+e.options.speed+"ms "+e.options.cssEase:i[e.transitionType]="opacity "+e.options.speed+"ms "+e.options.cssEase,!1===e.options.fade?e.$slideTrack.css(i):e.$slides.eq(t).css(i)},r.prototype.autoPlay=function(){this.autoPlayClear(),this.slideCount>this.options.slidesToShow&&(this.autoPlayTimer=setInterval(this.autoPlayIterator,this.options.autoplaySpeed))},r.prototype.autoPlayClear=function(){this.autoPlayTimer&&clearInterval(this.autoPlayTimer)},r.prototype.autoPlayIterator=function(){var t=this,e=t.currentSlide+t.options.slidesToScroll;t.paused||t.interrupted||t.focussed||(!1===t.options.infinite&&(1===t.direction&&t.currentSlide+1===t.slideCount-1?t.direction=0:0===t.direction&&(e=t.currentSlide-t.options.slidesToScroll,t.currentSlide-1==0&&(t.direction=1))),t.slideHandler(e))},r.prototype.buildArrows=function(){var t=this;!0===t.options.arrows&&(t.$prevArrow=u(t.options.prevArrow).addClass("slick-arrow"),t.$nextArrow=u(t.options.nextArrow).addClass("slick-arrow"),t.slideCount>t.options.slidesToShow?(t.$prevArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"),t.$nextArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"),t.htmlExpr.test(t.options.prevArrow)&&t.$prevArrow.prependTo(t.options.appendArrows),t.htmlExpr.test(t.options.nextArrow)&&t.$nextArrow.appendTo(t.options.appendArrows),!0!==t.options.infinite&&t.$prevArrow.addClass("slick-disabled").attr("aria-disabled","true")):t.$prevArrow.add(t.$nextArrow).addClass("slick-hidden").attr({"aria-disabled":"true",tabindex:"-1"}))},r.prototype.buildDots=function(){var t,e,i=this;if(!0===i.options.dots&&i.slideCount>i.options.slidesToShow){for(i.$slider.addClass("slick-dotted"),e=u("<ul />").addClass(i.options.dotsClass),t=0;t<=i.getDotCount();t+=1)e.append(u("<li />").append(i.options.customPaging.call(this,i,t)));i.$dots=e.appendTo(i.options.appendDots),i.$dots.find("li").first().addClass("slick-active")}},r.prototype.buildOut=function(){var t=this;t.$slides=t.$slider.children(t.options.slide+":not(.slick-cloned)").addClass("slick-slide"),t.slideCount=t.$slides.length,t.$slides.each(function(t,e){u(e).attr("data-slick-index",t).data("originalStyling",u(e).attr("style")||"")}),t.$slider.addClass("slick-slider"),t.$slideTrack=0===t.slideCount?u('<div class="slick-track"/>').appendTo(t.$slider):t.$slides.wrapAll('<div class="slick-track"/>').parent(),t.$list=t.$slideTrack.wrap('<div class="slick-list"/>').parent(),t.$slideTrack.css("opacity",0),!0!==t.options.centerMode&&!0!==t.options.swipeToSlide||(t.options.slidesToScroll=1),u("img[data-lazy]",t.$slider).not("[src]").addClass("slick-loading"),t.setupInfinite(),t.buildArrows(),t.buildDots(),t.updateDots(),t.setSlideClasses("number"==typeof t.currentSlide?t.currentSlide:0),!0===t.options.draggable&&t.$list.addClass("draggable")},r.prototype.buildRows=function(){var t,e,i,n,o,r,s,a=this;if(n=document.createDocumentFragment(),r=a.$slider.children(),0<a.options.rows){for(s=a.options.slidesPerRow*a.options.rows,o=Math.ceil(r.length/s),t=0;t<o;t++){var l=document.createElement("div");for(e=0;e<a.options.rows;e++){var u=document.createElement("div");for(i=0;i<a.options.slidesPerRow;i++){var h=t*s+(e*a.options.slidesPerRow+i);r.get(h)&&u.appendChild(r.get(h))}l.appendChild(u)}n.appendChild(l)}a.$slider.empty().append(n),a.$slider.children().children().children().css({width:100/a.options.slidesPerRow+"%",display:"inline-block"})}},r.prototype.checkResponsive=function(t,e){var i,n,o,r=this,s=!1,a=r.$slider.width(),l=window.innerWidth||u(window).width();if("window"===r.respondTo?o=l:"slider"===r.respondTo?o=a:"min"===r.respondTo&&(o=Math.min(l,a)),r.options.responsive&&r.options.responsive.length&&null!==r.options.responsive){for(i in n=null,r.breakpoints)r.breakpoints.hasOwnProperty(i)&&(!1===r.originalSettings.mobileFirst?o<r.breakpoints[i]&&(n=r.breakpoints[i]):o>r.breakpoints[i]&&(n=r.breakpoints[i]));null!==n?null!==r.activeBreakpoint?(n!==r.activeBreakpoint||e)&&(r.activeBreakpoint=n,"unslick"===r.breakpointSettings[n]?r.unslick(n):(r.options=u.extend({},r.originalSettings,r.breakpointSettings[n]),!0===t&&(r.currentSlide=r.options.initialSlide),r.refresh(t)),s=n):(r.activeBreakpoint=n,"unslick"===r.breakpointSettings[n]?r.unslick(n):(r.options=u.extend({},r.originalSettings,r.breakpointSettings[n]),!0===t&&(r.currentSlide=r.options.initialSlide),r.refresh(t)),s=n):null!==r.activeBreakpoint&&(r.activeBreakpoint=null,r.options=r.originalSettings,!0===t&&(r.currentSlide=r.options.initialSlide),r.refresh(t),s=n),t||!1===s||r.$slider.trigger("breakpoint",[r,s])}},r.prototype.changeSlide=function(t,e){var i,n,o=this,r=u(t.currentTarget);switch(r.is("a")&&t.preventDefault(),r.is("li")||(r=r.closest("li")),i=o.slideCount%o.options.slidesToScroll!=0?0:(o.slideCount-o.currentSlide)%o.options.slidesToScroll,t.data.message){case"previous":n=0===i?o.options.slidesToScroll:o.options.slidesToShow-i,o.slideCount>o.options.slidesToShow&&o.slideHandler(o.currentSlide-n,!1,e);break;case"next":n=0===i?o.options.slidesToScroll:i,o.slideCount>o.options.slidesToShow&&o.slideHandler(o.currentSlide+n,!1,e);break;case"index":var s=0===t.data.index?0:t.data.index||r.index()*o.options.slidesToScroll;o.slideHandler(o.checkNavigable(s),!1,e),r.children().trigger("focus");break;default:return}},r.prototype.checkNavigable=function(t){var e,i;if(i=0,t>(e=this.getNavigableIndexes())[e.length-1])t=e[e.length-1];else for(var n in e){if(t<e[n]){t=i;break}i=e[n]}return t},r.prototype.cleanUpEvents=function(){var t=this;t.options.dots&&null!==t.$dots&&(u("li",t.$dots).off("click.slick",t.changeSlide).off("mouseenter.slick",u.proxy(t.interrupt,t,!0)).off("mouseleave.slick",u.proxy(t.interrupt,t,!1)),!0===t.options.accessibility&&t.$dots.off("keydown.slick",t.keyHandler)),t.$slider.off("focus.slick blur.slick"),!0===t.options.arrows&&t.slideCount>t.options.slidesToShow&&(t.$prevArrow&&t.$prevArrow.off("click.slick",t.changeSlide),t.$nextArrow&&t.$nextArrow.off("click.slick",t.changeSlide),!0===t.options.accessibility&&(t.$prevArrow&&t.$prevArrow.off("keydown.slick",t.keyHandler),t.$nextArrow&&t.$nextArrow.off("keydown.slick",t.keyHandler))),t.$list.off("touchstart.slick mousedown.slick",t.swipeHandler),t.$list.off("touchmove.slick mousemove.slick",t.swipeHandler),t.$list.off("touchend.slick mouseup.slick",t.swipeHandler),t.$list.off("touchcancel.slick mouseleave.slick",t.swipeHandler),t.$list.off("click.slick",t.clickHandler),u(document).off(t.visibilityChange,t.visibility),t.cleanUpSlideEvents(),!0===t.options.accessibility&&t.$list.off("keydown.slick",t.keyHandler),!0===t.options.focusOnSelect&&u(t.$slideTrack).children().off("click.slick",t.selectHandler),u(window).off("orientationchange.slick.slick-"+t.instanceUid,t.orientationChange),u(window).off("resize.slick.slick-"+t.instanceUid,t.resize),u("[draggable!=true]",t.$slideTrack).off("dragstart",t.preventDefault),u(window).off("load.slick.slick-"+t.instanceUid,t.setPosition)},r.prototype.cleanUpSlideEvents=function(){this.$list.off("mouseenter.slick",u.proxy(this.interrupt,this,!0)),this.$list.off("mouseleave.slick",u.proxy(this.interrupt,this,!1))},r.prototype.cleanUpRows=function(){var t;0<this.options.rows&&((t=this.$slides.children().children()).removeAttr("style"),this.$slider.empty().append(t))},r.prototype.clickHandler=function(t){!1===this.shouldClick&&(t.stopImmediatePropagation(),t.stopPropagation(),t.preventDefault())},r.prototype.destroy=function(t){var e=this;e.autoPlayClear(),e.touchObject={},e.cleanUpEvents(),u(".slick-cloned",e.$slider).detach(),e.$dots&&e.$dots.remove(),e.$prevArrow&&e.$prevArrow.length&&(e.$prevArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display",""),e.htmlExpr.test(e.options.prevArrow)&&e.$prevArrow.remove()),e.$nextArrow&&e.$nextArrow.length&&(e.$nextArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display",""),e.htmlExpr.test(e.options.nextArrow)&&e.$nextArrow.remove()),e.$slides&&(e.$slides.removeClass("slick-slide slick-active slick-center slick-visible slick-current").removeAttr("aria-hidden").removeAttr("data-slick-index").each(function(){u(this).attr("style",u(this).data("originalStyling"))}),e.$slideTrack.children(this.options.slide).detach(),e.$slideTrack.detach(),e.$list.detach(),e.$slider.append(e.$slides)),e.cleanUpRows(),e.$slider.removeClass("slick-slider"),e.$slider.removeClass("slick-initialized"),e.$slider.removeClass("slick-dotted"),e.unslicked=!0,t||e.$slider.trigger("destroy",[e])},r.prototype.disableTransition=function(t){var e={};e[this.transitionType]="",!1===this.options.fade?this.$slideTrack.css(e):this.$slides.eq(t).css(e)},r.prototype.fadeSlide=function(t,e){var i=this;!1===i.cssTransitions?(i.$slides.eq(t).css({zIndex:i.options.zIndex}),i.$slides.eq(t).animate({opacity:1},i.options.speed,i.options.easing,e)):(i.applyTransition(t),i.$slides.eq(t).css({opacity:1,zIndex:i.options.zIndex}),e&&setTimeout(function(){i.disableTransition(t),e.call()},i.options.speed))},r.prototype.fadeSlideOut=function(t){!1===this.cssTransitions?this.$slides.eq(t).animate({opacity:0,zIndex:this.options.zIndex-2},this.options.speed,this.options.easing):(this.applyTransition(t),this.$slides.eq(t).css({opacity:0,zIndex:this.options.zIndex-2}))},r.prototype.filterSlides=r.prototype.slickFilter=function(t){null!==t&&(this.$slidesCache=this.$slides,this.unload(),this.$slideTrack.children(this.options.slide).detach(),this.$slidesCache.filter(t).appendTo(this.$slideTrack),this.reinit())},r.prototype.focusHandler=function(){var i=this;i.$slider.off("focus.slick blur.slick").on("focus.slick blur.slick","*",function(t){t.stopImmediatePropagation();var e=u(this);setTimeout(function(){i.options.pauseOnFocus&&(i.focussed=e.is(":focus"),i.autoPlay())},0)})},r.prototype.getCurrent=r.prototype.slickCurrentSlide=function(){return this.currentSlide},r.prototype.getDotCount=function(){var t=this,e=0,i=0,n=0;if(!0===t.options.infinite)if(t.slideCount<=t.options.slidesToShow)++n;else for(;e<t.slideCount;)++n,e=i+t.options.slidesToScroll,i+=t.options.slidesToScroll<=t.options.slidesToShow?t.options.slidesToScroll:t.options.slidesToShow;else if(!0===t.options.centerMode)n=t.slideCount;else if(t.options.asNavFor)for(;e<t.slideCount;)++n,e=i+t.options.slidesToScroll,i+=t.options.slidesToScroll<=t.options.slidesToShow?t.options.slidesToScroll:t.options.slidesToShow;else n=1+Math.ceil((t.slideCount-t.options.slidesToShow)/t.options.slidesToScroll);return n-1},r.prototype.getLeft=function(t){var e,i,n,o,r=this,s=0;return r.slideOffset=0,i=r.$slides.first().outerHeight(!0),!0===r.options.infinite?(r.slideCount>r.options.slidesToShow&&(r.slideOffset=r.slideWidth*r.options.slidesToShow*-1,o=-1,!0===r.options.vertical&&!0===r.options.centerMode&&(2===r.options.slidesToShow?o=-1.5:1===r.options.slidesToShow&&(o=-2)),s=i*r.options.slidesToShow*o),r.slideCount%r.options.slidesToScroll!=0&&t+r.options.slidesToScroll>r.slideCount&&r.slideCount>r.options.slidesToShow&&(s=t>r.slideCount?(r.slideOffset=(r.options.slidesToShow-(t-r.slideCount))*r.slideWidth*-1,(r.options.slidesToShow-(t-r.slideCount))*i*-1):(r.slideOffset=r.slideCount%r.options.slidesToScroll*r.slideWidth*-1,r.slideCount%r.options.slidesToScroll*i*-1))):t+r.options.slidesToShow>r.slideCount&&(r.slideOffset=(t+r.options.slidesToShow-r.slideCount)*r.slideWidth,s=(t+r.options.slidesToShow-r.slideCount)*i),r.slideCount<=r.options.slidesToShow&&(s=r.slideOffset=0),!0===r.options.centerMode&&r.slideCount<=r.options.slidesToShow?r.slideOffset=r.slideWidth*Math.floor(r.options.slidesToShow)/2-r.slideWidth*r.slideCount/2:!0===r.options.centerMode&&!0===r.options.infinite?r.slideOffset+=r.slideWidth*Math.floor(r.options.slidesToShow/2)-r.slideWidth:!0===r.options.centerMode&&(r.slideOffset=0,r.slideOffset+=r.slideWidth*Math.floor(r.options.slidesToShow/2)),e=!1===r.options.vertical?t*r.slideWidth*-1+r.slideOffset:t*i*-1+s,!0===r.options.variableWidth&&(n=r.slideCount<=r.options.slidesToShow||!1===r.options.infinite?r.$slideTrack.children(".slick-slide").eq(t):r.$slideTrack.children(".slick-slide").eq(t+r.options.slidesToShow),e=!0===r.options.rtl?n[0]?-1*(r.$slideTrack.width()-n[0].offsetLeft-n.width()):0:n[0]?-1*n[0].offsetLeft:0,!0===r.options.centerMode&&(n=r.slideCount<=r.options.slidesToShow||!1===r.options.infinite?r.$slideTrack.children(".slick-slide").eq(t):r.$slideTrack.children(".slick-slide").eq(t+r.options.slidesToShow+1),e=!0===r.options.rtl?n[0]?-1*(r.$slideTrack.width()-n[0].offsetLeft-n.width()):0:n[0]?-1*n[0].offsetLeft:0,e+=(r.$list.width()-n.outerWidth())/2)),e},r.prototype.getOption=r.prototype.slickGetOption=function(t){return this.options[t]},r.prototype.getNavigableIndexes=function(){var t,e=this,i=0,n=0,o=[];for(t=!1===e.options.infinite?e.slideCount:(i=-1*e.options.slidesToScroll,n=-1*e.options.slidesToScroll,2*e.slideCount);i<t;)o.push(i),i=n+e.options.slidesToScroll,n+=e.options.slidesToScroll<=e.options.slidesToShow?e.options.slidesToScroll:e.options.slidesToShow;return o},r.prototype.getSlick=function(){return this},r.prototype.getSlideCount=function(){var i,n,o=this;return n=!0===o.options.centerMode?o.slideWidth*Math.floor(o.options.slidesToShow/2):0,!0===o.options.swipeToSlide?(o.$slideTrack.find(".slick-slide").each(function(t,e){if(e.offsetLeft-n+u(e).outerWidth()/2>-1*o.swipeLeft)return i=e,!1}),Math.abs(u(i).attr("data-slick-index")-o.currentSlide)||1):o.options.slidesToScroll},r.prototype.goTo=r.prototype.slickGoTo=function(t,e){this.changeSlide({data:{message:"index",index:parseInt(t)}},e)},r.prototype.init=function(t){var e=this;u(e.$slider).hasClass("slick-initialized")||(u(e.$slider).addClass("slick-initialized"),e.buildRows(),e.buildOut(),e.setProps(),e.startLoad(),e.loadSlider(),e.initializeEvents(),e.updateArrows(),e.updateDots(),e.checkResponsive(!0),e.focusHandler()),t&&e.$slider.trigger("init",[e]),!0===e.options.accessibility&&e.initADA(),e.options.autoplay&&(e.paused=!1,e.autoPlay())},r.prototype.initADA=function(){var n=this,i=Math.ceil(n.slideCount/n.options.slidesToShow),o=n.getNavigableIndexes().filter(function(t){return 0<=t&&t<n.slideCount});n.$slides.add(n.$slideTrack.find(".slick-cloned")).attr({"aria-hidden":"true",tabindex:"-1"}).find("a, input, button, select").attr({tabindex:"-1"}),null!==n.$dots&&(n.$slides.not(n.$slideTrack.find(".slick-cloned")).each(function(t){var e=o.indexOf(t);if(u(this).attr({role:"tabpanel",id:"slick-slide"+n.instanceUid+t,tabindex:-1}),-1!==e){var i="slick-slide-control"+n.instanceUid+e;u("#"+i).length&&u(this).attr({"aria-describedby":i})}}),n.$dots.attr("role","tablist").find("li").each(function(t){var e=o[t];u(this).attr({role:"presentation"}),u(this).find("button").first().attr({role:"tab",id:"slick-slide-control"+n.instanceUid+t,"aria-controls":"slick-slide"+n.instanceUid+e,"aria-label":t+1+" of "+i,"aria-selected":null,tabindex:"-1"})}).eq(n.currentSlide).find("button").attr({"aria-selected":"true",tabindex:"0"}).end());for(var t=n.currentSlide,e=t+n.options.slidesToShow;t<e;t++)n.options.focusOnChange?n.$slides.eq(t).attr({tabindex:"0"}):n.$slides.eq(t).removeAttr("tabindex");n.activateADA()},r.prototype.initArrowEvents=function(){var t=this;!0===t.options.arrows&&t.slideCount>t.options.slidesToShow&&(t.$prevArrow.off("click.slick").on("click.slick",{message:"previous"},t.changeSlide),t.$nextArrow.off("click.slick").on("click.slick",{message:"next"},t.changeSlide),!0===t.options.accessibility&&(t.$prevArrow.on("keydown.slick",t.keyHandler),t.$nextArrow.on("keydown.slick",t.keyHandler)))},r.prototype.initDotEvents=function(){var t=this;!0===t.options.dots&&t.slideCount>t.options.slidesToShow&&(u("li",t.$dots).on("click.slick",{message:"index"},t.changeSlide),!0===t.options.accessibility&&t.$dots.on("keydown.slick",t.keyHandler)),!0===t.options.dots&&!0===t.options.pauseOnDotsHover&&t.slideCount>t.options.slidesToShow&&u("li",t.$dots).on("mouseenter.slick",u.proxy(t.interrupt,t,!0)).on("mouseleave.slick",u.proxy(t.interrupt,t,!1))},r.prototype.initSlideEvents=function(){this.options.pauseOnHover&&(this.$list.on("mouseenter.slick",u.proxy(this.interrupt,this,!0)),this.$list.on("mouseleave.slick",u.proxy(this.interrupt,this,!1)))},r.prototype.initializeEvents=function(){var t=this;t.initArrowEvents(),t.initDotEvents(),t.initSlideEvents(),t.$list.on("touchstart.slick mousedown.slick",{action:"start"},t.swipeHandler),t.$list.on("touchmove.slick mousemove.slick",{action:"move"},t.swipeHandler),t.$list.on("touchend.slick mouseup.slick",{action:"end"},t.swipeHandler),t.$list.on("touchcancel.slick mouseleave.slick",{action:"end"},t.swipeHandler),t.$list.on("click.slick",t.clickHandler),u(document).on(t.visibilityChange,u.proxy(t.visibility,t)),!0===t.options.accessibility&&t.$list.on("keydown.slick",t.keyHandler),!0===t.options.focusOnSelect&&u(t.$slideTrack).children().on("click.slick",t.selectHandler),u(window).on("orientationchange.slick.slick-"+t.instanceUid,u.proxy(t.orientationChange,t)),u(window).on("resize.slick.slick-"+t.instanceUid,u.proxy(t.resize,t)),u("[draggable!=true]",t.$slideTrack).on("dragstart",t.preventDefault),u(window).on("load.slick.slick-"+t.instanceUid,t.setPosition),u(t.setPosition)},r.prototype.initUI=function(){!0===this.options.arrows&&this.slideCount>this.options.slidesToShow&&(this.$prevArrow.show(),this.$nextArrow.show()),!0===this.options.dots&&this.slideCount>this.options.slidesToShow&&this.$dots.show()},r.prototype.keyHandler=function(t){t.target.tagName.match("TEXTAREA|INPUT|SELECT")||(37===t.keyCode&&!0===this.options.accessibility?this.changeSlide({data:{message:!0===this.options.rtl?"next":"previous"}}):39===t.keyCode&&!0===this.options.accessibility&&this.changeSlide({data:{message:!0===this.options.rtl?"previous":"next"}}))},r.prototype.lazyLoad=function(){var t,e,i,r=this;function n(t){u("img[data-lazy]",t).each(function(){var t=u(this),e=u(this).attr("data-lazy"),i=u(this).attr("data-srcset"),n=u(this).attr("data-sizes")||r.$slider.attr("data-sizes"),o=document.createElement("img");o.onload=function(){t.animate({opacity:0},100,function(){i&&(t.attr("srcset",i),n&&t.attr("sizes",n)),t.attr("src",e).animate({opacity:1},200,function(){t.removeAttr("data-lazy data-srcset data-sizes").removeClass("slick-loading")}),r.$slider.trigger("lazyLoaded",[r,t,e])})},o.onerror=function(){t.removeAttr("data-lazy").removeClass("slick-loading").addClass("slick-lazyload-error"),r.$slider.trigger("lazyLoadError",[r,t,e])},o.src=e})}if(!0===r.options.centerMode?i=!0===r.options.infinite?(e=r.currentSlide+(r.options.slidesToShow/2+1))+r.options.slidesToShow+2:(e=Math.max(0,r.currentSlide-(r.options.slidesToShow/2+1)),r.options.slidesToShow/2+1+2+r.currentSlide):(e=r.options.infinite?r.options.slidesToShow+r.currentSlide:r.currentSlide,i=Math.ceil(e+r.options.slidesToShow),!0===r.options.fade&&(0<e&&e--,i<=r.slideCount&&i++)),t=r.$slider.find(".slick-slide").slice(e,i),"anticipated"===r.options.lazyLoad)for(var o=e-1,s=i,a=r.$slider.find(".slick-slide"),l=0;l<r.options.slidesToScroll;l++)o<0&&(o=r.slideCount-1),t=(t=t.add(a.eq(o))).add(a.eq(s)),o--,s++;n(t),r.slideCount<=r.options.slidesToShow?n(r.$slider.find(".slick-slide")):r.currentSlide>=r.slideCount-r.options.slidesToShow?n(r.$slider.find(".slick-cloned").slice(0,r.options.slidesToShow)):0===r.currentSlide&&n(r.$slider.find(".slick-cloned").slice(-1*r.options.slidesToShow))},r.prototype.loadSlider=function(){this.setPosition(),this.$slideTrack.css({opacity:1}),this.$slider.removeClass("slick-loading"),this.initUI(),"progressive"===this.options.lazyLoad&&this.progressiveLazyLoad()},r.prototype.next=r.prototype.slickNext=function(){this.changeSlide({data:{message:"next"}})},r.prototype.orientationChange=function(){this.checkResponsive(),this.setPosition()},r.prototype.pause=r.prototype.slickPause=function(){this.autoPlayClear(),this.paused=!0},r.prototype.play=r.prototype.slickPlay=function(){this.autoPlay(),this.options.autoplay=!0,this.paused=!1,this.focussed=!1,this.interrupted=!1},r.prototype.postSlide=function(t){var e=this;e.unslicked||(e.$slider.trigger("afterChange",[e,t]),e.animating=!1,e.slideCount>e.options.slidesToShow&&e.setPosition(),e.swipeLeft=null,e.options.autoplay&&e.autoPlay(),!0===e.options.accessibility&&(e.initADA(),e.options.focusOnChange&&u(e.$slides.get(e.currentSlide)).attr("tabindex",0).focus()))},r.prototype.prev=r.prototype.slickPrev=function(){this.changeSlide({data:{message:"previous"}})},r.prototype.preventDefault=function(t){t.preventDefault()},r.prototype.progressiveLazyLoad=function(t){t=t||1;var e,i,n,o,r,s=this,a=u("img[data-lazy]",s.$slider);a.length?(e=a.first(),i=e.attr("data-lazy"),n=e.attr("data-srcset"),o=e.attr("data-sizes")||s.$slider.attr("data-sizes"),(r=document.createElement("img")).onload=function(){n&&(e.attr("srcset",n),o&&e.attr("sizes",o)),e.attr("src",i).removeAttr("data-lazy data-srcset data-sizes").removeClass("slick-loading"),!0===s.options.adaptiveHeight&&s.setPosition(),s.$slider.trigger("lazyLoaded",[s,e,i]),s.progressiveLazyLoad()},r.onerror=function(){t<3?setTimeout(function(){s.progressiveLazyLoad(t+1)},500):(e.removeAttr("data-lazy").removeClass("slick-loading").addClass("slick-lazyload-error"),s.$slider.trigger("lazyLoadError",[s,e,i]),s.progressiveLazyLoad())},r.src=i):s.$slider.trigger("allImagesLoaded",[s])},r.prototype.refresh=function(t){var e,i,n=this;i=n.slideCount-n.options.slidesToShow,!n.options.infinite&&n.currentSlide>i&&(n.currentSlide=i),n.slideCount<=n.options.slidesToShow&&(n.currentSlide=0),e=n.currentSlide,n.destroy(!0),u.extend(n,n.initials,{currentSlide:e}),n.init(),t||n.changeSlide({data:{message:"index",index:e}},!1)},r.prototype.registerBreakpoints=function(){var t,e,i,n=this,o=n.options.responsive||null;if("array"===u.type(o)&&o.length){for(t in n.respondTo=n.options.respondTo||"window",o)if(i=n.breakpoints.length-1,o.hasOwnProperty(t)){for(e=o[t].breakpoint;0<=i;)n.breakpoints[i]&&n.breakpoints[i]===e&&n.breakpoints.splice(i,1),i--;n.breakpoints.push(e),n.breakpointSettings[e]=o[t].settings}n.breakpoints.sort(function(t,e){return n.options.mobileFirst?t-e:e-t})}},r.prototype.reinit=function(){var t=this;t.$slides=t.$slideTrack.children(t.options.slide).addClass("slick-slide"),t.slideCount=t.$slides.length,t.currentSlide>=t.slideCount&&0!==t.currentSlide&&(t.currentSlide=t.currentSlide-t.options.slidesToScroll),t.slideCount<=t.options.slidesToShow&&(t.currentSlide=0),t.registerBreakpoints(),t.setProps(),t.setupInfinite(),t.buildArrows(),t.updateArrows(),t.initArrowEvents(),t.buildDots(),t.updateDots(),t.initDotEvents(),t.cleanUpSlideEvents(),t.initSlideEvents(),t.checkResponsive(!1,!0),!0===t.options.focusOnSelect&&u(t.$slideTrack).children().on("click.slick",t.selectHandler),t.setSlideClasses("number"==typeof t.currentSlide?t.currentSlide:0),t.setPosition(),t.focusHandler(),t.paused=!t.options.autoplay,t.autoPlay(),t.$slider.trigger("reInit",[t])},r.prototype.resize=function(){var t=this;u(window).width()!==t.windowWidth&&(clearTimeout(t.windowDelay),t.windowDelay=window.setTimeout(function(){t.windowWidth=u(window).width(),t.checkResponsive(),t.unslicked||t.setPosition()},50))},r.prototype.removeSlide=r.prototype.slickRemove=function(t,e,i){var n=this;if(t="boolean"==typeof t?!0===(e=t)?0:n.slideCount-1:!0===e?--t:t,n.slideCount<1||t<0||t>n.slideCount-1)return!1;n.unload(),!0===i?n.$slideTrack.children().remove():n.$slideTrack.children(this.options.slide).eq(t).remove(),n.$slides=n.$slideTrack.children(this.options.slide),n.$slideTrack.children(this.options.slide).detach(),n.$slideTrack.append(n.$slides),n.$slidesCache=n.$slides,n.reinit()},r.prototype.setCSS=function(t){var e,i,n=this,o={};!0===n.options.rtl&&(t=-t),e="left"==n.positionProp?Math.ceil(t)+"px":"0px",i="top"==n.positionProp?Math.ceil(t)+"px":"0px",o[n.positionProp]=t,!1===n.transformsEnabled||(!(o={})===n.cssTransitions?o[n.animType]="translate("+e+", "+i+")":o[n.animType]="translate3d("+e+", "+i+", 0px)"),n.$slideTrack.css(o)},r.prototype.setDimensions=function(){var t=this;!1===t.options.vertical?!0===t.options.centerMode&&t.$list.css({padding:"0px "+t.options.centerPadding}):(t.$list.height(t.$slides.first().outerHeight(!0)*t.options.slidesToShow),!0===t.options.centerMode&&t.$list.css({padding:t.options.centerPadding+" 0px"})),t.listWidth=t.$list.width(),t.listHeight=t.$list.height(),!1===t.options.vertical&&!1===t.options.variableWidth?(t.slideWidth=Math.ceil(t.listWidth/t.options.slidesToShow),t.$slideTrack.width(Math.ceil(t.slideWidth*t.$slideTrack.children(".slick-slide").length))):!0===t.options.variableWidth?t.$slideTrack.width(5e3*t.slideCount):(t.slideWidth=Math.ceil(t.listWidth),t.$slideTrack.height(Math.ceil(t.$slides.first().outerHeight(!0)*t.$slideTrack.children(".slick-slide").length)));var e=t.$slides.first().outerWidth(!0)-t.$slides.first().width();!1===t.options.variableWidth&&t.$slideTrack.children(".slick-slide").width(t.slideWidth-e)},r.prototype.setFade=function(){var i,n=this;n.$slides.each(function(t,e){i=n.slideWidth*t*-1,!0===n.options.rtl?u(e).css({position:"relative",right:i,top:0,zIndex:n.options.zIndex-2,opacity:0}):u(e).css({position:"relative",left:i,top:0,zIndex:n.options.zIndex-2,opacity:0})}),n.$slides.eq(n.currentSlide).css({zIndex:n.options.zIndex-1,opacity:1})},r.prototype.setHeight=function(){if(1===this.options.slidesToShow&&!0===this.options.adaptiveHeight&&!1===this.options.vertical){var t=this.$slides.eq(this.currentSlide).outerHeight(!0);this.$list.css("height",t)}},r.prototype.setOption=r.prototype.slickSetOption=function(){var t,e,i,n,o,r=this,s=!1;if("object"===u.type(arguments[0])?(i=arguments[0],s=arguments[1],o="multiple"):"string"===u.type(arguments[0])&&(i=arguments[0],n=arguments[1],s=arguments[2],"responsive"===arguments[0]&&"array"===u.type(arguments[1])?o="responsive":void 0!==arguments[1]&&(o="single")),"single"===o)r.options[i]=n;else if("multiple"===o)u.each(i,function(t,e){r.options[t]=e});else if("responsive"===o)for(e in n)if("array"!==u.type(r.options.responsive))r.options.responsive=[n[e]];else{for(t=r.options.responsive.length-1;0<=t;)r.options.responsive[t].breakpoint===n[e].breakpoint&&r.options.responsive.splice(t,1),t--;r.options.responsive.push(n[e])}s&&(r.unload(),r.reinit())},r.prototype.setPosition=function(){this.setDimensions(),this.setHeight(),!1===this.options.fade?this.setCSS(this.getLeft(this.currentSlide)):this.setFade(),this.$slider.trigger("setPosition",[this])},r.prototype.setProps=function(){var t=this,e=document.body.style;t.positionProp=!0===t.options.vertical?"top":"left","top"===t.positionProp?t.$slider.addClass("slick-vertical"):t.$slider.removeClass("slick-vertical"),void 0===e.WebkitTransition&&void 0===e.MozTransition&&void 0===e.msTransition||!0===t.options.useCSS&&(t.cssTransitions=!0),t.options.fade&&("number"==typeof t.options.zIndex?t.options.zIndex<3&&(t.options.zIndex=3):t.options.zIndex=t.defaults.zIndex),void 0!==e.OTransform&&(t.animType="OTransform",t.transformType="-o-transform",t.transitionType="OTransition",void 0===e.perspectiveProperty&&void 0===e.webkitPerspective&&(t.animType=!1)),void 0!==e.MozTransform&&(t.animType="MozTransform",t.transformType="-moz-transform",t.transitionType="MozTransition",void 0===e.perspectiveProperty&&void 0===e.MozPerspective&&(t.animType=!1)),void 0!==e.webkitTransform&&(t.animType="webkitTransform",t.transformType="-webkit-transform",t.transitionType="webkitTransition",void 0===e.perspectiveProperty&&void 0===e.webkitPerspective&&(t.animType=!1)),void 0!==e.msTransform&&(t.animType="msTransform",t.transformType="-ms-transform",t.transitionType="msTransition",void 0===e.msTransform&&(t.animType=!1)),void 0!==e.transform&&!1!==t.animType&&(t.animType="transform",t.transformType="transform",t.transitionType="transition"),t.transformsEnabled=t.options.useTransform&&null!==t.animType&&!1!==t.animType},r.prototype.setSlideClasses=function(t){var e,i,n,o,r=this;if(i=r.$slider.find(".slick-slide").removeClass("slick-active slick-center slick-current").attr("aria-hidden","true"),r.$slides.eq(t).addClass("slick-current"),!0===r.options.centerMode){var s=r.options.slidesToShow%2==0?1:0;e=Math.floor(r.options.slidesToShow/2),!0===r.options.infinite&&(e<=t&&t<=r.slideCount-1-e?r.$slides.slice(t-e+s,t+e+1).addClass("slick-active").attr("aria-hidden","false"):(n=r.options.slidesToShow+t,i.slice(n-e+1+s,n+e+2).addClass("slick-active").attr("aria-hidden","false")),0===t?i.eq(i.length-1-r.options.slidesToShow).addClass("slick-center"):t===r.slideCount-1&&i.eq(r.options.slidesToShow).addClass("slick-center")),r.$slides.eq(t).addClass("slick-center")}else 0<=t&&t<=r.slideCount-r.options.slidesToShow?r.$slides.slice(t,t+r.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false"):i.length<=r.options.slidesToShow?i.addClass("slick-active").attr("aria-hidden","false"):(o=r.slideCount%r.options.slidesToShow,n=!0===r.options.infinite?r.options.slidesToShow+t:t,r.options.slidesToShow==r.options.slidesToScroll&&r.slideCount-t<r.options.slidesToShow?i.slice(n-(r.options.slidesToShow-o),n+o).addClass("slick-active").attr("aria-hidden","false"):i.slice(n,n+r.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false"));"ondemand"!==r.options.lazyLoad&&"anticipated"!==r.options.lazyLoad||r.lazyLoad()},r.prototype.setupInfinite=function(){var t,e,i,n=this;if(!0===n.options.fade&&(n.options.centerMode=!1),!0===n.options.infinite&&!1===n.options.fade&&(e=null,n.slideCount>n.options.slidesToShow)){for(i=!0===n.options.centerMode?n.options.slidesToShow+1:n.options.slidesToShow,t=n.slideCount;t>n.slideCount-i;t-=1)e=t-1,u(n.$slides[e]).clone(!0).attr("id","").attr("data-slick-index",e-n.slideCount).prependTo(n.$slideTrack).addClass("slick-cloned");for(t=0;t<i+n.slideCount;t+=1)e=t,u(n.$slides[e]).clone(!0).attr("id","").attr("data-slick-index",e+n.slideCount).appendTo(n.$slideTrack).addClass("slick-cloned");n.$slideTrack.find(".slick-cloned").find("[id]").each(function(){u(this).attr("id","")})}},r.prototype.interrupt=function(t){t||this.autoPlay(),this.interrupted=t},r.prototype.selectHandler=function(t){var e=u(t.target).is(".slick-slide")?u(t.target):u(t.target).parents(".slick-slide"),i=parseInt(e.attr("data-slick-index"));i||(i=0),this.slideCount<=this.options.slidesToShow?this.slideHandler(i,!1,!0):this.slideHandler(i)},r.prototype.slideHandler=function(t,e,i){var n,o,r,s,a,l,u=this;if(e=e||!1,!(!0===u.animating&&!0===u.options.waitForAnimate||!0===u.options.fade&&u.currentSlide===t))if(!1===e&&u.asNavFor(t),n=t,a=u.getLeft(n),s=u.getLeft(u.currentSlide),u.currentLeft=null===u.swipeLeft?s:u.swipeLeft,!1===u.options.infinite&&!1===u.options.centerMode&&(t<0||t>u.getDotCount()*u.options.slidesToScroll))!1===u.options.fade&&(n=u.currentSlide,!0!==i&&u.slideCount>u.options.slidesToShow?u.animateSlide(s,function(){u.postSlide(n)}):u.postSlide(n));else if(!1===u.options.infinite&&!0===u.options.centerMode&&(t<0||t>u.slideCount-u.options.slidesToScroll))!1===u.options.fade&&(n=u.currentSlide,!0!==i&&u.slideCount>u.options.slidesToShow?u.animateSlide(s,function(){u.postSlide(n)}):u.postSlide(n));else{if(u.options.autoplay&&clearInterval(u.autoPlayTimer),o=n<0?u.slideCount%u.options.slidesToScroll!=0?u.slideCount-u.slideCount%u.options.slidesToScroll:u.slideCount+n:n>=u.slideCount?u.slideCount%u.options.slidesToScroll!=0?0:n-u.slideCount:n,u.animating=!0,u.$slider.trigger("beforeChange",[u,u.currentSlide,o]),r=u.currentSlide,u.currentSlide=o,u.setSlideClasses(u.currentSlide),u.options.asNavFor&&(l=(l=u.getNavTarget()).slick("getSlick")).slideCount<=l.options.slidesToShow&&l.setSlideClasses(u.currentSlide),u.updateDots(),u.updateArrows(),!0===u.options.fade)return!0!==i?(u.fadeSlideOut(r),u.fadeSlide(o,function(){u.postSlide(o)})):u.postSlide(o),void u.animateHeight();!0!==i&&u.slideCount>u.options.slidesToShow?u.animateSlide(a,function(){u.postSlide(o)}):u.postSlide(o)}},r.prototype.startLoad=function(){var t=this;!0===t.options.arrows&&t.slideCount>t.options.slidesToShow&&(t.$prevArrow.hide(),t.$nextArrow.hide()),!0===t.options.dots&&t.slideCount>t.options.slidesToShow&&t.$dots.hide(),t.$slider.addClass("slick-loading")},r.prototype.swipeDirection=function(){var t,e,i,n;return t=this.touchObject.startX-this.touchObject.curX,e=this.touchObject.startY-this.touchObject.curY,i=Math.atan2(e,t),(n=Math.round(180*i/Math.PI))<0&&(n=360-Math.abs(n)),n<=45&&0<=n?!1===this.options.rtl?"left":"right":n<=360&&315<=n?!1===this.options.rtl?"left":"right":135<=n&&n<=225?!1===this.options.rtl?"right":"left":!0===this.options.verticalSwiping?35<=n&&n<=135?"down":"up":"vertical"},r.prototype.swipeEnd=function(t){var e,i,n=this;if(n.dragging=!1,n.swiping=!1,n.scrolling)return n.scrolling=!1;if(n.interrupted=!1,n.shouldClick=!(10<n.touchObject.swipeLength),void 0===n.touchObject.curX)return!1;if(!0===n.touchObject.edgeHit&&n.$slider.trigger("edge",[n,n.swipeDirection()]),n.touchObject.swipeLength>=n.touchObject.minSwipe){switch(i=n.swipeDirection()){case"left":case"down":e=n.options.swipeToSlide?n.checkNavigable(n.currentSlide+n.getSlideCount()):n.currentSlide+n.getSlideCount(),n.currentDirection=0;break;case"right":case"up":e=n.options.swipeToSlide?n.checkNavigable(n.currentSlide-n.getSlideCount()):n.currentSlide-n.getSlideCount(),n.currentDirection=1}"vertical"!=i&&(n.slideHandler(e),n.touchObject={},n.$slider.trigger("swipe",[n,i]))}else n.touchObject.startX!==n.touchObject.curX&&(n.slideHandler(n.currentSlide),n.touchObject={})},r.prototype.swipeHandler=function(t){var e=this;if(!(!1===e.options.swipe||"ontouchend"in document&&!1===e.options.swipe||!1===e.options.draggable&&-1!==t.type.indexOf("mouse")))switch(e.touchObject.fingerCount=t.originalEvent&&void 0!==t.originalEvent.touches?t.originalEvent.touches.length:1,e.touchObject.minSwipe=e.listWidth/e.options.touchThreshold,!0===e.options.verticalSwiping&&(e.touchObject.minSwipe=e.listHeight/e.options.touchThreshold),t.data.action){case"start":e.swipeStart(t);break;case"move":e.swipeMove(t);break;case"end":e.swipeEnd(t)}},r.prototype.swipeMove=function(t){var e,i,n,o,r,s,a=this;return r=void 0!==t.originalEvent?t.originalEvent.touches:null,!(!a.dragging||a.scrolling||r&&1!==r.length)&&(e=a.getLeft(a.currentSlide),a.touchObject.curX=void 0!==r?r[0].pageX:t.clientX,a.touchObject.curY=void 0!==r?r[0].pageY:t.clientY,a.touchObject.swipeLength=Math.round(Math.sqrt(Math.pow(a.touchObject.curX-a.touchObject.startX,2))),s=Math.round(Math.sqrt(Math.pow(a.touchObject.curY-a.touchObject.startY,2))),!a.options.verticalSwiping&&!a.swiping&&4<s?!(a.scrolling=!0):(!0===a.options.verticalSwiping&&(a.touchObject.swipeLength=s),i=a.swipeDirection(),void 0!==t.originalEvent&&4<a.touchObject.swipeLength&&(a.swiping=!0,t.preventDefault()),o=(!1===a.options.rtl?1:-1)*(a.touchObject.curX>a.touchObject.startX?1:-1),!0===a.options.verticalSwiping&&(o=a.touchObject.curY>a.touchObject.startY?1:-1),n=a.touchObject.swipeLength,(a.touchObject.edgeHit=!1)===a.options.infinite&&(0===a.currentSlide&&"right"===i||a.currentSlide>=a.getDotCount()&&"left"===i)&&(n=a.touchObject.swipeLength*a.options.edgeFriction,a.touchObject.edgeHit=!0),!1===a.options.vertical?a.swipeLeft=e+n*o:a.swipeLeft=e+n*(a.$list.height()/a.listWidth)*o,!0===a.options.verticalSwiping&&(a.swipeLeft=e+n*o),!0!==a.options.fade&&!1!==a.options.touchMove&&(!0===a.animating?(a.swipeLeft=null,!1):void a.setCSS(a.swipeLeft))))},r.prototype.swipeStart=function(t){var e,i=this;if(i.interrupted=!0,1!==i.touchObject.fingerCount||i.slideCount<=i.options.slidesToShow)return!(i.touchObject={});void 0!==t.originalEvent&&void 0!==t.originalEvent.touches&&(e=t.originalEvent.touches[0]),i.touchObject.startX=i.touchObject.curX=void 0!==e?e.pageX:t.clientX,i.touchObject.startY=i.touchObject.curY=void 0!==e?e.pageY:t.clientY,i.dragging=!0},r.prototype.unfilterSlides=r.prototype.slickUnfilter=function(){null!==this.$slidesCache&&(this.unload(),this.$slideTrack.children(this.options.slide).detach(),this.$slidesCache.appendTo(this.$slideTrack),this.reinit())},r.prototype.unload=function(){var t=this;u(".slick-cloned",t.$slider).remove(),t.$dots&&t.$dots.remove(),t.$prevArrow&&t.htmlExpr.test(t.options.prevArrow)&&t.$prevArrow.remove(),t.$nextArrow&&t.htmlExpr.test(t.options.nextArrow)&&t.$nextArrow.remove(),t.$slides.removeClass("slick-slide slick-active slick-visible slick-current").attr("aria-hidden","true").css("width","")},r.prototype.unslick=function(t){this.$slider.trigger("unslick",[this,t]),this.destroy()},r.prototype.updateArrows=function(){var t=this;Math.floor(t.options.slidesToShow/2),!0===t.options.arrows&&t.slideCount>t.options.slidesToShow&&!t.options.infinite&&(t.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false"),t.$nextArrow.removeClass("slick-disabled").attr("aria-disabled","false"),0===t.currentSlide?(t.$prevArrow.addClass("slick-disabled").attr("aria-disabled","true"),t.$nextArrow.removeClass("slick-disabled").attr("aria-disabled","false")):t.currentSlide>=t.slideCount-t.options.slidesToShow&&!1===t.options.centerMode?(t.$nextArrow.addClass("slick-disabled").attr("aria-disabled","true"),t.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false")):t.currentSlide>=t.slideCount-1&&!0===t.options.centerMode&&(t.$nextArrow.addClass("slick-disabled").attr("aria-disabled","true"),t.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false")))},r.prototype.updateDots=function(){null!==this.$dots&&(this.$dots.find("li").removeClass("slick-active").end(),this.$dots.find("li").eq(Math.floor(this.currentSlide/this.options.slidesToScroll)).addClass("slick-active"))},r.prototype.visibility=function(){this.options.autoplay&&(document[this.hidden]?this.interrupted=!0:this.interrupted=!1)},u.fn.slick=function(){var t,e,i=arguments[0],n=Array.prototype.slice.call(arguments,1),o=this.length;for(t=0;t<o;t++)if("object"==typeof i||void 0===i?this[t].slick=new r(this[t],i):e=this[t].slick[i].apply(this[t].slick,n),void 0!==e)return e;return this}}),function(e,i){"function"==typeof define&&define.amd?define("jquery-bridget/jquery-bridget",["jquery"],function(t){return i(e,t)}):"object"==typeof module&&module.exports?module.exports=i(e,require("jquery")):e.jQueryBridget=i(e,e.jQuery)}(window,function(t,e){"use strict";var c=Array.prototype.slice,i=t.console,p=void 0===i?function(){}:function(t){i.error(t)};function n(u,o,h){(h=h||e||t.jQuery)&&(o.prototype.option||(o.prototype.option=function(t){h.isPlainObject(t)&&(this.options=h.extend(!0,this.options,t))}),h.fn[u]=function(t){if("string"!=typeof t)return n=t,this.each(function(t,e){var i=h.data(e,u);i?(i.option(n),i._init()):(i=new o(e,n),h.data(e,u,i))}),this;var e,r,s,a,l,n,i=c.call(arguments,1);return s=i,l="$()."+u+'("'+(r=t)+'")',(e=this).each(function(t,e){var i=h.data(e,u);if(i){var n=i[r];if(n&&"_"!=r.charAt(0)){var o=n.apply(i,s);a=void 0===a?o:a}else p(l+" is not a valid method")}else p(u+" not initialized. Cannot call methods, i.e. "+l)}),void 0!==a?a:e},r(h))}function r(t){!t||t&&t.bridget||(t.bridget=n)}return r(e||t.jQuery),n}),function(t,e){"function"==typeof define&&define.amd?define("ev-emitter/ev-emitter",e):"object"==typeof module&&module.exports?module.exports=e():t.EvEmitter=e()}("undefined"!=typeof window?window:this,function(){function t(){}var e=t.prototype;return e.on=function(t,e){if(t&&e){var i=this._events=this._events||{},n=i[t]=i[t]||[];return-1==n.indexOf(e)&&n.push(e),this}},e.once=function(t,e){if(t&&e){this.on(t,e);var i=this._onceEvents=this._onceEvents||{};return(i[t]=i[t]||{})[e]=!0,this}},e.off=function(t,e){var i=this._events&&this._events[t];if(i&&i.length){var n=i.indexOf(e);return-1!=n&&i.splice(n,1),this}},e.emitEvent=function(t,e){var i=this._events&&this._events[t];if(i&&i.length){i=i.slice(0),e=e||[];for(var n=this._onceEvents&&this._onceEvents[t],o=0;o<i.length;o++){var r=i[o];n&&n[r]&&(this.off(t,r),delete n[r]),r.apply(this,e)}return this}},e.allOff=function(){delete this._events,delete this._onceEvents},t}),function(t,e){"function"==typeof define&&define.amd?define("get-size/get-size",e):"object"==typeof module&&module.exports?module.exports=e():t.getSize=e()}(window,function(){"use strict";function v(t){var e=parseFloat(t);return-1==t.indexOf("%")&&!isNaN(e)&&e}var i="undefined"==typeof console?function(){}:function(t){console.error(t)},y=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],_=y.length;function b(t){var e=getComputedStyle(t);return e||i("Style returned "+e+". Are you running this code in a hidden iframe on Firefox? See https://bit.ly/getsizebug1"),e}var x,w=!1;function T(t){if(function(){if(!w){w=!0;var t=document.createElement("div");t.style.width="200px",t.style.padding="1px 2px 3px 4px",t.style.borderStyle="solid",t.style.borderWidth="1px 2px 3px 4px",t.style.boxSizing="border-box";var e=document.body||document.documentElement;e.appendChild(t);var i=b(t);x=200==Math.round(v(i.width)),T.isBoxSizeOuter=x,e.removeChild(t)}}(),"string"==typeof t&&(t=document.querySelector(t)),t&&"object"==typeof t&&t.nodeType){var e=b(t);if("none"==e.display)return function(){for(var t={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},e=0;e<_;e++)t[y[e]]=0;return t}();var i={};i.width=t.offsetWidth,i.height=t.offsetHeight;for(var n=i.isBorderBox="border-box"==e.boxSizing,o=0;o<_;o++){var r=y[o],s=e[r],a=parseFloat(s);i[r]=isNaN(a)?0:a}var l=i.paddingLeft+i.paddingRight,u=i.paddingTop+i.paddingBottom,h=i.marginLeft+i.marginRight,c=i.marginTop+i.marginBottom,p=i.borderLeftWidth+i.borderRightWidth,d=i.borderTopWidth+i.borderBottomWidth,f=n&&x,m=v(e.width);!1!==m&&(i.width=m+(f?0:l+p));var g=v(e.height);return!1!==g&&(i.height=g+(f?0:u+d)),i.innerWidth=i.width-(l+p),i.innerHeight=i.height-(u+d),i.outerWidth=i.width+h,i.outerHeight=i.height+c,i}}return T}),function(t,e){"use strict";"function"==typeof define&&define.amd?define("desandro-matches-selector/matches-selector",e):"object"==typeof module&&module.exports?module.exports=e():t.matchesSelector=e()}(window,function(){"use strict";var i=function(){var t=window.Element.prototype;if(t.matches)return"matches";if(t.matchesSelector)return"matchesSelector";for(var e=["webkit","moz","ms","o"],i=0;i<e.length;i++){var n=e[i]+"MatchesSelector";if(t[n])return n}}();return function(t,e){return t[i](e)}}),function(e,i){"function"==typeof define&&define.amd?define("fizzy-ui-utils/utils",["desandro-matches-selector/matches-selector"],function(t){return i(e,t)}):"object"==typeof module&&module.exports?module.exports=i(e,require("desandro-matches-selector")):e.fizzyUIUtils=i(e,e.matchesSelector)}(window,function(u,r){var h={extend:function(t,e){for(var i in e)t[i]=e[i];return t},modulo:function(t,e){return(t%e+e)%e}},e=Array.prototype.slice;h.makeArray=function(t){return Array.isArray(t)?t:null==t?[]:"object"==typeof t&&"number"==typeof t.length?e.call(t):[t]},h.removeFrom=function(t,e){var i=t.indexOf(e);-1!=i&&t.splice(i,1)},h.getParent=function(t,e){for(;t.parentNode&&t!=document.body;)if(t=t.parentNode,r(t,e))return t},h.getQueryElement=function(t){return"string"==typeof t?document.querySelector(t):t},h.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},h.filterFindElements=function(t,n){t=h.makeArray(t);var o=[];return t.forEach(function(t){if(t instanceof HTMLElement)if(n){r(t,n)&&o.push(t);for(var e=t.querySelectorAll(n),i=0;i<e.length;i++)o.push(e[i])}else o.push(t)}),o},h.debounceMethod=function(t,e,n){n=n||100;var o=t.prototype[e],r=e+"Timeout";t.prototype[e]=function(){var t=this[r];clearTimeout(t);var e=arguments,i=this;this[r]=setTimeout(function(){o.apply(i,e),delete i[r]},n)}},h.docReady=function(t){var e=document.readyState;"complete"==e||"interactive"==e?setTimeout(t):document.addEventListener("DOMContentLoaded",t)},h.toDashed=function(t){return t.replace(/(.)([A-Z])/g,function(t,e,i){return e+"-"+i}).toLowerCase()};var c=u.console;return h.htmlInit=function(a,l){h.docReady(function(){var t=h.toDashed(l),o="data-"+t,e=document.querySelectorAll("["+o+"]"),i=document.querySelectorAll(".js-"+t),n=h.makeArray(e).concat(h.makeArray(i)),r=o+"-options",s=u.jQuery;n.forEach(function(e){var t,i=e.getAttribute(o)||e.getAttribute(r);try{t=i&&JSON.parse(i)}catch(t){return void(c&&c.error("Error parsing "+o+" on "+e.className+": "+t))}var n=new a(e,t);s&&s.data(e,l,n)})})},h}),function(e,i){"function"==typeof define&&define.amd?define("flickity/js/cell",["get-size/get-size"],function(t){return i(e,t)}):"object"==typeof module&&module.exports?module.exports=i(e,require("get-size")):(e.Flickity=e.Flickity||{},e.Flickity.Cell=i(e,e.getSize))}(window,function(t,e){function i(t,e){this.element=t,this.parent=e,this.create()}var n=i.prototype;return n.create=function(){this.element.style.position="absolute",this.element.setAttribute("aria-selected","false"),this.x=0,this.shift=0},n.destroy=function(){this.element.style.position="";var t=this.parent.originSide;this.element.removeAttribute("aria-selected"),this.element.style[t]=""},n.getSize=function(){this.size=e(this.element)},n.setPosition=function(t){this.x=t,this.updateTarget(),this.renderPosition(t)},n.updateTarget=n.setDefaultTarget=function(){var t="left"==this.parent.originSide?"marginLeft":"marginRight";this.target=this.x+this.size[t]+this.size.width*this.parent.cellAlign},n.renderPosition=function(t){var e=this.parent.originSide;this.element.style[e]=this.parent.getPositionValue(t)},n.wrapShift=function(t){this.shift=t,this.renderPosition(this.x+this.parent.slideableWidth*t)},n.remove=function(){this.element.parentNode.removeChild(this.element)},i}),function(t,e){"function"==typeof define&&define.amd?define("flickity/js/slide",e):"object"==typeof module&&module.exports?module.exports=e():(t.Flickity=t.Flickity||{},t.Flickity.Slide=e())}(window,function(){"use strict";function t(t){this.parent=t,this.isOriginLeft="left"==t.originSide,this.cells=[],this.outerWidth=0,this.height=0}var e=t.prototype;return e.addCell=function(t){if(this.cells.push(t),this.outerWidth+=t.size.outerWidth,this.height=Math.max(t.size.outerHeight,this.height),1==this.cells.length){this.x=t.x;var e=this.isOriginLeft?"marginLeft":"marginRight";this.firstMargin=t.size[e]}},e.updateTarget=function(){var t=this.isOriginLeft?"marginRight":"marginLeft",e=this.getLastCell(),i=e?e.size[t]:0,n=this.outerWidth-(this.firstMargin+i);this.target=this.x+this.firstMargin+n*this.parent.cellAlign},e.getLastCell=function(){return this.cells[this.cells.length-1]},e.select=function(){this.changeSelected(!0)},e.unselect=function(){this.changeSelected(!1)},e.changeSelected=function(e){var i=e?"add":"remove";this.cells.forEach(function(t){t.element.classList[i]("is-selected"),t.element.setAttribute("aria-selected",e.toString())})},e.getCellElements=function(){return this.cells.map(function(t){return t.element})},t}),function(e,i){"function"==typeof define&&define.amd?define("flickity/js/animate",["fizzy-ui-utils/utils"],function(t){return i(e,t)}):"object"==typeof module&&module.exports?module.exports=i(e,require("fizzy-ui-utils")):(e.Flickity=e.Flickity||{},e.Flickity.animatePrototype=i(e,e.fizzyUIUtils))}(window,function(t,r){var e={startAnimation:function(){this.isAnimating||(this.isAnimating=!0,this.restingFrames=0,this.animate())},animate:function(){this.applyDragForce(),this.applySelectedAttraction();var t=this.x;if(this.integratePhysics(),this.positionSlider(),this.settle(t),this.isAnimating){var e=this;requestAnimationFrame(function(){e.animate()})}},positionSlider:function(){var t=this.x;this.options.wrapAround&&1<this.cells.length&&(t=r.modulo(t,this.slideableWidth),t-=this.slideableWidth,this.shiftWrapCells(t)),t+=this.cursorPosition,t=this.options.rightToLeft?-t:t;var e=this.getPositionValue(t);this.slider.style.transform=this.isAnimating?"translate3d("+e+",0,0)":"translateX("+e+")";var i=this.slides[0];if(i){var n=-this.x-i.target,o=n/this.slidesWidth;this.dispatchEvent("scroll",null,[o,n])}},positionSliderAtSelected:function(){this.cells.length&&(this.x=-this.selectedSlide.target,this.velocity=0,this.positionSlider())},getPositionValue:function(t){return this.options.percentPosition?.01*Math.round(t/this.size.innerWidth*1e4)+"%":Math.round(t)+"px"},settle:function(t){this.isPointerDown||Math.round(100*this.x)!=Math.round(100*t)||this.restingFrames++,2<this.restingFrames&&(this.isAnimating=!1,delete this.isFreeScrolling,this.positionSlider(),this.dispatchEvent("settle",null,[this.selectedIndex]))},shiftWrapCells:function(t){var e=this.cursorPosition+t;this._shiftCells(this.beforeShiftCells,e,-1);var i=this.size.innerWidth-(t+this.slideableWidth+this.cursorPosition);this._shiftCells(this.afterShiftCells,i,1)},_shiftCells:function(t,e,i){for(var n=0;n<t.length;n++){var o=t[n],r=0<e?i:0;o.wrapShift(r),e-=o.size.outerWidth}},_unshiftCells:function(t){if(t&&t.length)for(var e=0;e<t.length;e++)t[e].wrapShift(0)},integratePhysics:function(){this.x+=this.velocity,this.velocity*=this.getFrictionFactor()},applyForce:function(t){this.velocity+=t},getFrictionFactor:function(){return 1-this.options[this.isFreeScrolling?"freeScrollFriction":"friction"]},getRestingPosition:function(){return this.x+this.velocity/(1-this.getFrictionFactor())},applyDragForce:function(){if(this.isDraggable&&this.isPointerDown){var t=this.dragX-this.x-this.velocity;this.applyForce(t)}},applySelectedAttraction:function(){if(!(this.isDraggable&&this.isPointerDown)&&!this.isFreeScrolling&&this.slides.length){var t=(-1*this.selectedSlide.target-this.x)*this.options.selectedAttraction;this.applyForce(t)}}};return e}),function(s,a){if("function"==typeof define&&define.amd)define("flickity/js/flickity",["ev-emitter/ev-emitter","get-size/get-size","fizzy-ui-utils/utils","./cell","./slide","./animate"],function(t,e,i,n,o,r){return a(s,t,e,i,n,o,r)});else if("object"==typeof module&&module.exports)module.exports=a(s,require("ev-emitter"),require("get-size"),require("fizzy-ui-utils"),require("./cell"),require("./slide"),require("./animate"));else{var t=s.Flickity;s.Flickity=a(s,s.EvEmitter,s.getSize,s.fizzyUIUtils,t.Cell,t.Slide,t.animatePrototype)}}(window,function(n,t,e,a,i,s,o){var l=n.jQuery,r=n.getComputedStyle,u=n.console;function h(t,e){for(t=a.makeArray(t);t.length;)e.appendChild(t.shift())}var c=0,p={};function d(t,e){var i=a.getQueryElement(t);if(i){if(this.element=i,this.element.flickityGUID){var n=p[this.element.flickityGUID];return n.option(e),n}l&&(this.$element=l(this.element)),this.options=a.extend({},this.constructor.defaults),this.option(e),this._create()}else u&&u.error("Bad element for Flickity: "+(i||t))}d.defaults={accessibility:!0,cellAlign:"center",freeScrollFriction:.075,friction:.28,namespaceJQueryEvents:!0,percentPosition:!0,resize:!0,selectedAttraction:.025,setGallerySize:!0},d.createMethods=[];var f=d.prototype;a.extend(f,t.prototype),f._create=function(){var t=this.guid=++c;for(var e in this.element.flickityGUID=t,(p[t]=this).selectedIndex=0,this.restingFrames=0,this.x=0,this.velocity=0,this.originSide=this.options.rightToLeft?"right":"left",this.viewport=document.createElement("div"),this.viewport.className="flickity-viewport",this._createSlider(),(this.options.resize||this.options.watchCSS)&&n.addEventListener("resize",this),this.options.on){var i=this.options.on[e];this.on(e,i)}d.createMethods.forEach(function(t){this[t]()},this),this.options.watchCSS?this.watchCSS():this.activate()},f.option=function(t){a.extend(this.options,t)},f.activate=function(){if(!this.isActive){var t;this.isActive=!0,this.element.classList.add("flickity-enabled"),this.options.rightToLeft&&this.element.classList.add("flickity-rtl"),this.getSize(),h(this._filterFindCellElements(this.element.children),this.slider),this.viewport.appendChild(this.slider),this.element.appendChild(this.viewport),this.reloadCells(),this.options.accessibility&&(this.element.tabIndex=0,this.element.addEventListener("keydown",this)),this.emitEvent("activate");var e=this.options.initialIndex;t=this.isInitActivated?this.selectedIndex:void 0!==e&&this.cells[e]?e:0,this.select(t,!1,!0),this.isInitActivated=!0,this.dispatchEvent("ready")}},f._createSlider=function(){var t=document.createElement("div");t.className="flickity-slider",t.style[this.originSide]=0,this.slider=t},f._filterFindCellElements=function(t){return a.filterFindElements(t,this.options.cellSelector)},f.reloadCells=function(){this.cells=this._makeCells(this.slider.children),this.positionCells(),this._getWrapShiftCells(),this.setGallerySize()},f._makeCells=function(t){return this._filterFindCellElements(t).map(function(t){return new i(t,this)},this)},f.getLastCell=function(){return this.cells[this.cells.length-1]},f.getLastSlide=function(){return this.slides[this.slides.length-1]},f.positionCells=function(){this._sizeCells(this.cells),this._positionCells(0)},f._positionCells=function(t){t=t||0,this.maxCellHeight=t&&this.maxCellHeight||0;var e=0;if(0<t){var i=this.cells[t-1];e=i.x+i.size.outerWidth}for(var n=this.cells.length,o=t;o<n;o++){var r=this.cells[o];r.setPosition(e),e+=r.size.outerWidth,this.maxCellHeight=Math.max(r.size.outerHeight,this.maxCellHeight)}this.slideableWidth=e,this.updateSlides(),this._containSlides(),this.slidesWidth=n?this.getLastSlide().target-this.slides[0].target:0},f._sizeCells=function(t){t.forEach(function(t){t.getSize()})},f.updateSlides=function(){if(this.slides=[],this.cells.length){var n=new s(this);this.slides.push(n);var o="left"==this.originSide?"marginRight":"marginLeft",r=this._getCanCellFit();this.cells.forEach(function(t,e){if(n.cells.length){var i=n.outerWidth-n.firstMargin+(t.size.outerWidth-t.size[o]);r.call(this,e,i)||(n.updateTarget(),n=new s(this),this.slides.push(n)),n.addCell(t)}else n.addCell(t)},this),n.updateTarget(),this.updateSelectedSlide()}},f._getCanCellFit=function(){var t=this.options.groupCells;if(!t)return function(){return!1};if("number"==typeof t){var e=parseInt(t,10);return function(t){return t%e!=0}}var i="string"==typeof t&&t.match(/^(\d+)%$/),n=i?parseInt(i[1],10)/100:1;return function(t,e){return e<=(this.size.innerWidth+1)*n}},f._init=f.reposition=function(){this.positionCells(),this.positionSliderAtSelected()},f.getSize=function(){this.size=e(this.element),this.setCellAlign(),this.cursorPosition=this.size.innerWidth*this.cellAlign};var m={center:{left:.5,right:.5},left:{left:0,right:1},right:{right:0,left:1}};return f.setCellAlign=function(){var t=m[this.options.cellAlign];this.cellAlign=t?t[this.originSide]:this.options.cellAlign},f.setGallerySize=function(){if(this.options.setGallerySize){var t=this.options.adaptiveHeight&&this.selectedSlide?this.selectedSlide.height:this.maxCellHeight;this.viewport.style.height=t+"px"}},f._getWrapShiftCells=function(){if(this.options.wrapAround){this._unshiftCells(this.beforeShiftCells),this._unshiftCells(this.afterShiftCells);var t=this.cursorPosition,e=this.cells.length-1;this.beforeShiftCells=this._getGapCells(t,e,-1),t=this.size.innerWidth-this.cursorPosition,this.afterShiftCells=this._getGapCells(t,0,1)}},f._getGapCells=function(t,e,i){for(var n=[];0<t;){var o=this.cells[e];if(!o)break;n.push(o),e+=i,t-=o.size.outerWidth}return n},f._containSlides=function(){if(this.options.contain&&!this.options.wrapAround&&this.cells.length){var t=this.options.rightToLeft,e=t?"marginRight":"marginLeft",i=t?"marginLeft":"marginRight",n=this.slideableWidth-this.getLastCell().size[i],o=n<this.size.innerWidth,r=this.cursorPosition+this.cells[0].size[e],s=n-this.size.innerWidth*(1-this.cellAlign);this.slides.forEach(function(t){t.target=o?n*this.cellAlign:(t.target=Math.max(t.target,r),Math.min(t.target,s))},this)}},f.dispatchEvent=function(t,e,i){var n=e?[e].concat(i):i;if(this.emitEvent(t,n),l&&this.$element){var o=t+=this.options.namespaceJQueryEvents?".flickity":"";if(e){var r=l.Event(e);r.type=t,o=r}this.$element.trigger(o,i)}},f.select=function(t,e,i){if(this.isActive&&(t=parseInt(t,10),this._wrapSelect(t),(this.options.wrapAround||e)&&(t=a.modulo(t,this.slides.length)),this.slides[t])){var n=this.selectedIndex;this.selectedIndex=t,this.updateSelectedSlide(),i?this.positionSliderAtSelected():this.startAnimation(),this.options.adaptiveHeight&&this.setGallerySize(),this.dispatchEvent("select",null,[t]),t!=n&&this.dispatchEvent("change",null,[t]),this.dispatchEvent("cellSelect")}},f._wrapSelect=function(t){var e=this.slides.length;if(!(this.options.wrapAround&&1<e))return t;var i=a.modulo(t,e),n=Math.abs(i-this.selectedIndex),o=Math.abs(i+e-this.selectedIndex),r=Math.abs(i-e-this.selectedIndex);!this.isDragSelect&&o<n?t+=e:!this.isDragSelect&&r<n&&(t-=e),t<0?this.x-=this.slideableWidth:e<=t&&(this.x+=this.slideableWidth)},f.previous=function(t,e){this.select(this.selectedIndex-1,t,e)},f.next=function(t,e){this.select(this.selectedIndex+1,t,e)},f.updateSelectedSlide=function(){var t=this.slides[this.selectedIndex];t&&(this.unselectSelectedSlide(),(this.selectedSlide=t).select(),this.selectedCells=t.cells,this.selectedElements=t.getCellElements(),this.selectedCell=t.cells[0],this.selectedElement=this.selectedElements[0])},f.unselectSelectedSlide=function(){this.selectedSlide&&this.selectedSlide.unselect()},f.selectCell=function(t,e,i){var n=this.queryCell(t);if(n){var o=this.getCellSlideIndex(n);this.select(o,e,i)}},f.getCellSlideIndex=function(t){for(var e=0;e<this.slides.length;e++){if(-1!=this.slides[e].cells.indexOf(t))return e}},f.getCell=function(t){for(var e=0;e<this.cells.length;e++){var i=this.cells[e];if(i.element==t)return i}},f.getCells=function(t){t=a.makeArray(t);var i=[];return t.forEach(function(t){var e=this.getCell(t);e&&i.push(e)},this),i},f.getCellElements=function(){return this.cells.map(function(t){return t.element})},f.getParentCell=function(t){var e=this.getCell(t);return e||(t=a.getParent(t,".flickity-slider > *"),this.getCell(t))},f.getAdjacentCellElements=function(t,e){if(!t)return this.selectedSlide.getCellElements();e=void 0===e?this.selectedIndex:e;var i=this.slides.length;if(i<=1+2*t)return this.getCellElements();for(var n=[],o=e-t;o<=e+t;o++){var r=this.options.wrapAround?a.modulo(o,i):o,s=this.slides[r];s&&(n=n.concat(s.getCellElements()))}return n},f.queryCell=function(t){return"number"==typeof t?this.cells[t]:("string"==typeof t&&(t=this.element.querySelector(t)),this.getCell(t))},f.uiChange=function(){this.emitEvent("uiChange")},f.childUIPointerDown=function(t){this.emitEvent("childUIPointerDown",[t])},f.onresize=function(){this.watchCSS(),this.resize()},a.debounceMethod(d,"onresize",150),f.resize=function(){if(this.isActive){this.getSize(),this.options.wrapAround&&(this.x=a.modulo(this.x,this.slideableWidth)),this.positionCells(),this._getWrapShiftCells(),this.setGallerySize(),this.emitEvent("resize");var t=this.selectedElements&&this.selectedElements[0];this.selectCell(t,!1,!0)}},f.watchCSS=function(){this.options.watchCSS&&(-1!=r(this.element,":after").content.indexOf("flickity")?this.activate():this.deactivate())},f.onkeydown=function(t){var e=document.activeElement&&document.activeElement!=this.element;if(this.options.accessibility&&!e){var i=d.keyboardHandlers[t.keyCode];i&&i.call(this)}},d.keyboardHandlers={37:function(){var t=this.options.rightToLeft?"next":"previous";this.uiChange(),this[t]()},39:function(){var t=this.options.rightToLeft?"previous":"next";this.uiChange(),this[t]()}},f.focus=function(){var t=n.pageYOffset;this.element.focus({preventScroll:!0}),n.pageYOffset!=t&&n.scrollTo(n.pageXOffset,t)},f.deactivate=function(){this.isActive&&(this.element.classList.remove("flickity-enabled"),this.element.classList.remove("flickity-rtl"),this.unselectSelectedSlide(),this.cells.forEach(function(t){t.destroy()}),this.element.removeChild(this.viewport),h(this.slider.children,this.element),this.options.accessibility&&(this.element.removeAttribute("tabIndex"),this.element.removeEventListener("keydown",this)),this.isActive=!1,this.emitEvent("deactivate"))},f.destroy=function(){this.deactivate(),n.removeEventListener("resize",this),this.emitEvent("destroy"),l&&this.$element&&l.removeData(this.element,"flickity"),delete this.element.flickityGUID,delete p[this.guid]},a.extend(f,o),d.data=function(t){var e=(t=a.getQueryElement(t))&&t.flickityGUID;return e&&p[e]},a.htmlInit(d,"flickity"),l&&l.bridget&&l.bridget("flickity",d),d.setJQuery=function(t){l=t},d.Cell=i,d}),function(e,i){"function"==typeof define&&define.amd?define("unipointer/unipointer",["ev-emitter/ev-emitter"],function(t){return i(e,t)}):"object"==typeof module&&module.exports?module.exports=i(e,require("ev-emitter")):e.Unipointer=i(e,e.EvEmitter)}(window,function(o,t){function e(){}var i=e.prototype=Object.create(t.prototype);i.bindStartEvent=function(t){this._bindStartEvent(t,!0)},i.unbindStartEvent=function(t){this._bindStartEvent(t,!1)},i._bindStartEvent=function(t,e){var i=(e=void 0===e||e)?"addEventListener":"removeEventListener",n="mousedown";o.PointerEvent?n="pointerdown":"ontouchstart"in o&&(n="touchstart"),t[i](n,this)},i.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},i.getTouch=function(t){for(var e=0;e<t.length;e++){var i=t[e];if(i.identifier==this.pointerIdentifier)return i}},i.onmousedown=function(t){var e=t.button;e&&0!==e&&1!==e||this._pointerDown(t,t)},i.ontouchstart=function(t){this._pointerDown(t,t.changedTouches[0])},i.onpointerdown=function(t){this._pointerDown(t,t)},i._pointerDown=function(t,e){t.button||this.isPointerDown||(this.isPointerDown=!0,this.pointerIdentifier=void 0!==e.pointerId?e.pointerId:e.identifier,this.pointerDown(t,e))},i.pointerDown=function(t,e){this._bindPostStartEvents(t),this.emitEvent("pointerDown",[t,e])};var n={mousedown:["mousemove","mouseup"],touchstart:["touchmove","touchend","touchcancel"],pointerdown:["pointermove","pointerup","pointercancel"]};return i._bindPostStartEvents=function(t){if(t){var e=n[t.type];e.forEach(function(t){o.addEventListener(t,this)},this),this._boundPointerEvents=e}},i._unbindPostStartEvents=function(){this._boundPointerEvents&&(this._boundPointerEvents.forEach(function(t){o.removeEventListener(t,this)},this),delete this._boundPointerEvents)},i.onmousemove=function(t){this._pointerMove(t,t)},i.onpointermove=function(t){t.pointerId==this.pointerIdentifier&&this._pointerMove(t,t)},i.ontouchmove=function(t){var e=this.getTouch(t.changedTouches);e&&this._pointerMove(t,e)},i._pointerMove=function(t,e){this.pointerMove(t,e)},i.pointerMove=function(t,e){this.emitEvent("pointerMove",[t,e])},i.onmouseup=function(t){this._pointerUp(t,t)},i.onpointerup=function(t){t.pointerId==this.pointerIdentifier&&this._pointerUp(t,t)},i.ontouchend=function(t){var e=this.getTouch(t.changedTouches);e&&this._pointerUp(t,e)},i._pointerUp=function(t,e){this._pointerDone(),this.pointerUp(t,e)},i.pointerUp=function(t,e){this.emitEvent("pointerUp",[t,e])},i._pointerDone=function(){this._pointerReset(),this._unbindPostStartEvents(),this.pointerDone()},i._pointerReset=function(){this.isPointerDown=!1,delete this.pointerIdentifier},i.pointerDone=function(){},i.onpointercancel=function(t){t.pointerId==this.pointerIdentifier&&this._pointerCancel(t,t)},i.ontouchcancel=function(t){var e=this.getTouch(t.changedTouches);e&&this._pointerCancel(t,e)},i._pointerCancel=function(t,e){this._pointerDone(),this.pointerCancel(t,e)},i.pointerCancel=function(t,e){this.emitEvent("pointerCancel",[t,e])},e.getPointerPoint=function(t){return{x:t.pageX,y:t.pageY}},e}),function(e,i){"function"==typeof define&&define.amd?define("unidragger/unidragger",["unipointer/unipointer"],function(t){return i(e,t)}):"object"==typeof module&&module.exports?module.exports=i(e,require("unipointer")):e.Unidragger=i(e,e.Unipointer)}(window,function(r,t){function e(){}var i=e.prototype=Object.create(t.prototype);i.bindHandles=function(){this._bindHandles(!0)},i.unbindHandles=function(){this._bindHandles(!1)},i._bindHandles=function(t){for(var e=(t=void 0===t||t)?"addEventListener":"removeEventListener",i=t?this._touchActionValue:"",n=0;n<this.handles.length;n++){var o=this.handles[n];this._bindStartEvent(o,t),o[e]("click",this),r.PointerEvent&&(o.style.touchAction=i)}},i._touchActionValue="none",i.pointerDown=function(t,e){this.okayPointerDown(t)&&(this.pointerDownPointer=e,t.preventDefault(),this.pointerDownBlur(),this._bindPostStartEvents(t),this.emitEvent("pointerDown",[t,e]))};var o={TEXTAREA:!0,INPUT:!0,SELECT:!0,OPTION:!0},s={radio:!0,checkbox:!0,button:!0,submit:!0,image:!0,file:!0};return i.okayPointerDown=function(t){var e=o[t.target.nodeName],i=s[t.target.type],n=!e||i;return n||this._pointerReset(),n},i.pointerDownBlur=function(){var t=document.activeElement;t&&t.blur&&t!=document.body&&t.blur()},i.pointerMove=function(t,e){var i=this._dragPointerMove(t,e);this.emitEvent("pointerMove",[t,e,i]),this._dragMove(t,e,i)},i._dragPointerMove=function(t,e){var i={x:e.pageX-this.pointerDownPointer.pageX,y:e.pageY-this.pointerDownPointer.pageY};return!this.isDragging&&this.hasDragStarted(i)&&this._dragStart(t,e),i},i.hasDragStarted=function(t){return 3<Math.abs(t.x)||3<Math.abs(t.y)},i.pointerUp=function(t,e){this.emitEvent("pointerUp",[t,e]),this._dragPointerUp(t,e)},i._dragPointerUp=function(t,e){this.isDragging?this._dragEnd(t,e):this._staticClick(t,e)},i._dragStart=function(t,e){this.isDragging=!0,this.isPreventingClicks=!0,this.dragStart(t,e)},i.dragStart=function(t,e){this.emitEvent("dragStart",[t,e])},i._dragMove=function(t,e,i){this.isDragging&&this.dragMove(t,e,i)},i.dragMove=function(t,e,i){t.preventDefault(),this.emitEvent("dragMove",[t,e,i])},i._dragEnd=function(t,e){this.isDragging=!1,setTimeout(function(){delete this.isPreventingClicks}.bind(this)),this.dragEnd(t,e)},i.dragEnd=function(t,e){this.emitEvent("dragEnd",[t,e])},i.onclick=function(t){this.isPreventingClicks&&t.preventDefault()},i._staticClick=function(t,e){this.isIgnoringMouseUp&&"mouseup"==t.type||(this.staticClick(t,e),"mouseup"!=t.type&&(this.isIgnoringMouseUp=!0,setTimeout(function(){delete this.isIgnoringMouseUp}.bind(this),400)))},i.staticClick=function(t,e){this.emitEvent("staticClick",[t,e])},e.getPointerPoint=t.getPointerPoint,e}),function(n,o){"function"==typeof define&&define.amd?define("flickity/js/drag",["./flickity","unidragger/unidragger","fizzy-ui-utils/utils"],function(t,e,i){return o(n,t,e,i)}):"object"==typeof module&&module.exports?module.exports=o(n,require("./flickity"),require("unidragger"),require("fizzy-ui-utils")):n.Flickity=o(n,n.Flickity,n.Unidragger,n.fizzyUIUtils)}(window,function(i,t,e,a){a.extend(t.defaults,{draggable:">1",dragThreshold:3}),t.createMethods.push("_createDrag");var n=t.prototype;a.extend(n,e.prototype),n._touchActionValue="pan-y";var o="createTouch"in document,r=!1;n._createDrag=function(){this.on("activate",this.onActivateDrag),this.on("uiChange",this._uiChangeDrag),this.on("childUIPointerDown",this._childUIPointerDownDrag),this.on("deactivate",this.onDeactivateDrag),this.on("cellChange",this.updateDraggable),o&&!r&&(i.addEventListener("touchmove",function(){}),r=!0)},n.onActivateDrag=function(){this.handles=[this.viewport],this.bindHandles(),this.updateDraggable()},n.onDeactivateDrag=function(){this.unbindHandles(),this.element.classList.remove("is-draggable")},n.updateDraggable=function(){">1"==this.options.draggable?this.isDraggable=1<this.slides.length:this.isDraggable=this.options.draggable,this.isDraggable?this.element.classList.add("is-draggable"):this.element.classList.remove("is-draggable")},n.bindDrag=function(){this.options.draggable=!0,this.updateDraggable()},n.unbindDrag=function(){this.options.draggable=!1,this.updateDraggable()},n._uiChangeDrag=function(){delete this.isFreeScrolling},n._childUIPointerDownDrag=function(t){t.preventDefault(),this.pointerDownFocus(t)},n.pointerDown=function(t,e){this.isDraggable?this.okayPointerDown(t)&&(this._pointerDownPreventDefault(t),this.pointerDownFocus(t),document.activeElement!=this.element&&this.pointerDownBlur(),this.dragX=this.x,this.viewport.classList.add("is-pointer-down"),this.pointerDownScroll=l(),i.addEventListener("scroll",this),this._pointerDownDefault(t,e)):this._pointerDownDefault(t,e)},n._pointerDownDefault=function(t,e){this.pointerDownPointer=e,this._bindPostStartEvents(t),this.dispatchEvent("pointerDown",t,[e])};var s={INPUT:!0,TEXTAREA:!0,SELECT:!0};function l(){return{x:i.pageXOffset,y:i.pageYOffset}}return n.pointerDownFocus=function(t){s[t.target.nodeName]||this.focus()},n._pointerDownPreventDefault=function(t){var e="touchstart"==t.type,i="touch"==t.pointerType,n=s[t.target.nodeName];e||i||n||t.preventDefault()},n.hasDragStarted=function(t){return Math.abs(t.x)>this.options.dragThreshold},n.pointerUp=function(t,e){delete this.isTouchScrolling,this.viewport.classList.remove("is-pointer-down"),this.dispatchEvent("pointerUp",t,[e]),this._dragPointerUp(t,e)},n.pointerDone=function(){i.removeEventListener("scroll",this),delete this.pointerDownScroll},n.dragStart=function(t,e){this.isDraggable&&(this.dragStartPosition=this.x,this.startAnimation(),i.removeEventListener("scroll",this),this.dispatchEvent("dragStart",t,[e]))},n.pointerMove=function(t,e){var i=this._dragPointerMove(t,e);this.dispatchEvent("pointerMove",t,[e,i]),this._dragMove(t,e,i)},n.dragMove=function(t,e,i){if(this.isDraggable){t.preventDefault(),this.previousDragX=this.dragX;var n=this.options.rightToLeft?-1:1;this.options.wrapAround&&(i.x=i.x%this.slideableWidth);var o=this.dragStartPosition+i.x*n;if(!this.options.wrapAround&&this.slides.length){var r=Math.max(-this.slides[0].target,this.dragStartPosition);o=r<o?.5*(o+r):o;var s=Math.min(-this.getLastSlide().target,this.dragStartPosition);o=o<s?.5*(o+s):o}this.dragX=o,this.dragMoveTime=new Date,this.dispatchEvent("dragMove",t,[e,i])}},n.dragEnd=function(t,e){if(this.isDraggable){this.options.freeScroll&&(this.isFreeScrolling=!0);var i=this.dragEndRestingSelect();if(this.options.freeScroll&&!this.options.wrapAround){var n=this.getRestingPosition();this.isFreeScrolling=-n>this.slides[0].target&&-n<this.getLastSlide().target}else this.options.freeScroll||i!=this.selectedIndex||(i+=this.dragEndBoostSelect());delete this.previousDragX,this.isDragSelect=this.options.wrapAround,this.select(i),delete this.isDragSelect,this.dispatchEvent("dragEnd",t,[e])}},n.dragEndRestingSelect=function(){var t=this.getRestingPosition(),e=Math.abs(this.getSlideDistance(-t,this.selectedIndex)),i=this._getClosestResting(t,e,1),n=this._getClosestResting(t,e,-1);return i.distance<n.distance?i.index:n.index},n._getClosestResting=function(t,e,i){for(var n=this.selectedIndex,o=1/0,r=this.options.contain&&!this.options.wrapAround?function(t,e){return t<=e}:function(t,e){return t<e};r(e,o)&&(n+=i,o=e,null!==(e=this.getSlideDistance(-t,n)));)e=Math.abs(e);return{distance:o,index:n-i}},n.getSlideDistance=function(t,e){var i=this.slides.length,n=this.options.wrapAround&&1<i,o=n?a.modulo(e,i):e,r=this.slides[o];if(!r)return null;var s=n?this.slideableWidth*Math.floor(e/i):0;return t-(r.target+s)},n.dragEndBoostSelect=function(){if(void 0===this.previousDragX||!this.dragMoveTime||100<new Date-this.dragMoveTime)return 0;var t=this.getSlideDistance(-this.dragX,this.selectedIndex),e=this.previousDragX-this.dragX;return 0<t&&0<e?1:t<0&&e<0?-1:0},n.staticClick=function(t,e){var i=this.getParentCell(t.target),n=i&&i.element,o=i&&this.cells.indexOf(i);this.dispatchEvent("staticClick",t,[e,n,o])},n.onscroll=function(){var t=l(),e=this.pointerDownScroll.x-t.x,i=this.pointerDownScroll.y-t.y;(3<Math.abs(e)||3<Math.abs(i))&&this._pointerDone()},t}),function(e,i){"function"==typeof define&&define.amd?define("tap-listener/tap-listener",["unipointer/unipointer"],function(t){return i(e,t)}):"object"==typeof module&&module.exports?module.exports=i(e,require("unipointer")):e.TapListener=i(e,e.Unipointer)}(window,function(a,l){function t(t){this.bindTap(t)}var e=t.prototype=Object.create(l.prototype);return e.bindTap=function(t){t&&(this.unbindTap(),this.tapElement=t,this._bindStartEvent(t,!0))},e.unbindTap=function(){this.tapElement&&(this._bindStartEvent(this.tapElement,!0),delete this.tapElement)},e.pointerUp=function(t,e){if(!this.isIgnoringMouseUp||"mouseup"!=t.type){var i=l.getPointerPoint(e),n=this.tapElement.getBoundingClientRect(),o=a.pageXOffset,r=a.pageYOffset;if(i.x>=n.left+o&&i.x<=n.right+o&&i.y>=n.top+r&&i.y<=n.bottom+r&&this.emitEvent("tap",[t,e]),"mouseup"!=t.type){this.isIgnoringMouseUp=!0;var s=this;setTimeout(function(){delete s.isIgnoringMouseUp},400)}}},e.destroy=function(){this.pointerDone(),this.unbindTap()},t}),function(n,o){"function"==typeof define&&define.amd?define("flickity/js/prev-next-button",["./flickity","tap-listener/tap-listener","fizzy-ui-utils/utils"],function(t,e,i){return o(n,t,e,i)}):"object"==typeof module&&module.exports?module.exports=o(n,require("./flickity"),require("tap-listener"),require("fizzy-ui-utils")):o(n,n.Flickity,n.TapListener,n.fizzyUIUtils)}(window,function(t,e,i,n){"use strict";var o="http://www.w3.org/2000/svg";function r(t,e){this.direction=t,this.parent=e,this._create()}(r.prototype=Object.create(i.prototype))._create=function(){this.isEnabled=!0,this.isPrevious=-1==this.direction;var t=this.parent.options.rightToLeft?1:-1;this.isLeft=this.direction==t;var e=this.element=document.createElement("button");e.className="flickity-button flickity-prev-next-button",e.className+=this.isPrevious?" previous":" next",e.setAttribute("type","button"),this.disable(),e.setAttribute("aria-label",this.isPrevious?"Previous":"Next");var i=this.createSVG();e.appendChild(i),this.on("tap",this.onTap),this.parent.on("select",this.update.bind(this)),this.on("pointerDown",this.parent.childUIPointerDown.bind(this.parent))},r.prototype.activate=function(){this.bindTap(this.element),this.element.addEventListener("click",this),this.parent.element.appendChild(this.element)},r.prototype.deactivate=function(){this.parent.element.removeChild(this.element),i.prototype.destroy.call(this),this.element.removeEventListener("click",this)},r.prototype.createSVG=function(){var t=document.createElementNS(o,"svg");t.setAttribute("class","flickity-button-icon"),t.setAttribute("viewBox","0 0 100 100");var e,i=document.createElementNS(o,"path"),n="string"!=typeof(e=this.parent.options.arrowShape)?"M "+e.x0+",50 L "+e.x1+","+(e.y1+50)+" L "+e.x2+","+(e.y2+50)+" L "+e.x3+",50  L "+e.x2+","+(50-e.y2)+" L "+e.x1+","+(50-e.y1)+" Z":e;return i.setAttribute("d",n),i.setAttribute("class","arrow"),this.isLeft||i.setAttribute("transform","translate(100, 100) rotate(180) "),t.appendChild(i),t},r.prototype.onTap=function(){if(this.isEnabled){this.parent.uiChange();var t=this.isPrevious?"previous":"next";this.parent[t]()}},r.prototype.handleEvent=n.handleEvent,r.prototype.onclick=function(t){var e=document.activeElement;e&&e==this.element&&this.onTap(t,t)},r.prototype.enable=function(){this.isEnabled||(this.element.disabled=!1,this.isEnabled=!0)},r.prototype.disable=function(){this.isEnabled&&(this.element.disabled=!0,this.isEnabled=!1)},r.prototype.update=function(){var t=this.parent.slides;if(this.parent.options.wrapAround&&1<t.length)this.enable();else{var e=t.length?t.length-1:0,i=this.isPrevious?0:e;this[this.parent.selectedIndex==i?"disable":"enable"]()}},r.prototype.destroy=function(){this.deactivate()},n.extend(e.defaults,{prevNextButtons:!0,arrowShape:{x0:10,x1:60,y1:50,x2:70,y2:40,x3:30}}),e.createMethods.push("_createPrevNextButtons");var s=e.prototype;return s._createPrevNextButtons=function(){this.options.prevNextButtons&&(this.prevButton=new r(-1,this),this.nextButton=new r(1,this),this.on("activate",this.activatePrevNextButtons))},s.activatePrevNextButtons=function(){this.prevButton.activate(),this.nextButton.activate(),this.on("deactivate",this.deactivatePrevNextButtons)},s.deactivatePrevNextButtons=function(){this.prevButton.deactivate(),this.nextButton.deactivate(),this.off("deactivate",this.deactivatePrevNextButtons)},e.PrevNextButton=r,e}),function(n,o){"function"==typeof define&&define.amd?define("flickity/js/page-dots",["./flickity","tap-listener/tap-listener","fizzy-ui-utils/utils"],function(t,e,i){return o(n,t,e,i)}):"object"==typeof module&&module.exports?module.exports=o(n,require("./flickity"),require("tap-listener"),require("fizzy-ui-utils")):o(n,n.Flickity,n.TapListener,n.fizzyUIUtils)}(window,function(t,e,i,n){function o(t){this.parent=t,this._create()}(o.prototype=new i)._create=function(){this.holder=document.createElement("ol"),this.holder.className="flickity-page-dots",this.dots=[],this.on("tap",this.onTap),this.on("pointerDown",this.parent.childUIPointerDown.bind(this.parent))},o.prototype.activate=function(){this.setDots(),this.bindTap(this.holder),this.parent.element.appendChild(this.holder)},o.prototype.deactivate=function(){this.parent.element.removeChild(this.holder),i.prototype.destroy.call(this)},o.prototype.setDots=function(){var t=this.parent.slides.length-this.dots.length;0<t?this.addDots(t):t<0&&this.removeDots(-t)},o.prototype.addDots=function(t){for(var e=document.createDocumentFragment(),i=[],n=this.dots.length,o=n+t,r=n;r<o;r++){var s=document.createElement("li");s.className="dot",s.setAttribute("aria-label","Page dot "+(r+1)),e.appendChild(s),i.push(s)}this.holder.appendChild(e),this.dots=this.dots.concat(i)},o.prototype.removeDots=function(t){this.dots.splice(this.dots.length-t,t).forEach(function(t){this.holder.removeChild(t)},this)},o.prototype.updateSelected=function(){this.selectedDot&&(this.selectedDot.className="dot",this.selectedDot.removeAttribute("aria-current")),this.dots.length&&(this.selectedDot=this.dots[this.parent.selectedIndex],this.selectedDot.className="dot is-selected",this.selectedDot.setAttribute("aria-current","step"))},o.prototype.onTap=function(t){var e=t.target;if("LI"==e.nodeName){this.parent.uiChange();var i=this.dots.indexOf(e);this.parent.select(i)}},o.prototype.destroy=function(){this.deactivate()},e.PageDots=o,n.extend(e.defaults,{pageDots:!0}),e.createMethods.push("_createPageDots");var r=e.prototype;return r._createPageDots=function(){this.options.pageDots&&(this.pageDots=new o(this),this.on("activate",this.activatePageDots),this.on("select",this.updateSelectedPageDots),this.on("cellChange",this.updatePageDots),this.on("resize",this.updatePageDots),this.on("deactivate",this.deactivatePageDots))},r.activatePageDots=function(){this.pageDots.activate()},r.updateSelectedPageDots=function(){this.pageDots.updateSelected()},r.updatePageDots=function(){this.pageDots.setDots()},r.deactivatePageDots=function(){this.pageDots.deactivate()},e.PageDots=o,e}),function(t,n){"function"==typeof define&&define.amd?define("flickity/js/player",["ev-emitter/ev-emitter","fizzy-ui-utils/utils","./flickity"],function(t,e,i){return n(t,e,i)}):"object"==typeof module&&module.exports?module.exports=n(require("ev-emitter"),require("fizzy-ui-utils"),require("./flickity")):n(t.EvEmitter,t.fizzyUIUtils,t.Flickity)}(window,function(t,e,i){function n(t){this.parent=t,this.state="stopped",this.onVisibilityChange=this.visibilityChange.bind(this),this.onVisibilityPlay=this.visibilityPlay.bind(this)}(n.prototype=Object.create(t.prototype)).play=function(){"playing"!=this.state&&(document.hidden?document.addEventListener("visibilitychange",this.onVisibilityPlay):(this.state="playing",document.addEventListener("visibilitychange",this.onVisibilityChange),this.tick()))},n.prototype.tick=function(){if("playing"==this.state){var t=this.parent.options.autoPlay;t="number"==typeof t?t:3e3;var e=this;this.clear(),this.timeout=setTimeout(function(){e.parent.next(!0),e.tick()},t)}},n.prototype.stop=function(){this.state="stopped",this.clear(),document.removeEventListener("visibilitychange",this.onVisibilityChange)},n.prototype.clear=function(){clearTimeout(this.timeout)},n.prototype.pause=function(){"playing"==this.state&&(this.state="paused",this.clear())},n.prototype.unpause=function(){"paused"==this.state&&this.play()},n.prototype.visibilityChange=function(){this[document.hidden?"pause":"unpause"]()},n.prototype.visibilityPlay=function(){this.play(),document.removeEventListener("visibilitychange",this.onVisibilityPlay)},e.extend(i.defaults,{pauseAutoPlayOnHover:!0}),i.createMethods.push("_createPlayer");var o=i.prototype;return o._createPlayer=function(){this.player=new n(this),this.on("activate",this.activatePlayer),this.on("uiChange",this.stopPlayer),this.on("pointerDown",this.stopPlayer),this.on("deactivate",this.deactivatePlayer)},o.activatePlayer=function(){this.options.autoPlay&&(this.player.play(),this.element.addEventListener("mouseenter",this))},o.playPlayer=function(){this.player.play()},o.stopPlayer=function(){this.player.stop()},o.pausePlayer=function(){this.player.pause()},o.unpausePlayer=function(){this.player.unpause()},o.deactivatePlayer=function(){this.player.stop(),this.element.removeEventListener("mouseenter",this)},o.onmouseenter=function(){this.options.pauseAutoPlayOnHover&&(this.player.pause(),this.element.addEventListener("mouseleave",this))},o.onmouseleave=function(){this.player.unpause(),this.element.removeEventListener("mouseleave",this)},i.Player=n,i}),function(i,n){"function"==typeof define&&define.amd?define("flickity/js/add-remove-cell",["./flickity","fizzy-ui-utils/utils"],function(t,e){return n(i,t,e)}):"object"==typeof module&&module.exports?module.exports=n(i,require("./flickity"),require("fizzy-ui-utils")):n(i,i.Flickity,i.fizzyUIUtils)}(window,function(t,e,n){var i=e.prototype;return i.insert=function(t,e){var i=this._makeCells(t);if(i&&i.length){var n=this.cells.length;e=void 0===e?n:e;var o,r,s=(o=i,r=document.createDocumentFragment(),o.forEach(function(t){r.appendChild(t.element)}),r),a=e==n;if(a)this.slider.appendChild(s);else{var l=this.cells[e].element;this.slider.insertBefore(s,l)}if(0===e)this.cells=i.concat(this.cells);else if(a)this.cells=this.cells.concat(i);else{var u=this.cells.splice(e,n-e);this.cells=this.cells.concat(i).concat(u)}this._sizeCells(i),this.cellChange(e,!0)}},i.append=function(t){this.insert(t,this.cells.length)},i.prepend=function(t){this.insert(t,0)},i.remove=function(t){var e=this.getCells(t);if(e&&e.length){var i=this.cells.length-1;e.forEach(function(t){t.remove();var e=this.cells.indexOf(t);i=Math.min(e,i),n.removeFrom(this.cells,t)},this),this.cellChange(i,!0)}},i.cellSizeChange=function(t){var e=this.getCell(t);if(e){e.getSize();var i=this.cells.indexOf(e);this.cellChange(i)}},i.cellChange=function(t,e){var i=this.selectedElement;this._positionCells(t),this._getWrapShiftCells(),this.setGallerySize();var n=this.getCell(i);n&&(this.selectedIndex=this.getCellSlideIndex(n)),this.selectedIndex=Math.min(this.slides.length-1,this.selectedIndex),this.emitEvent("cellChange",[t]),this.select(this.selectedIndex),e&&this.positionSliderAtSelected()},e}),function(i,n){"function"==typeof define&&define.amd?define("flickity/js/lazyload",["./flickity","fizzy-ui-utils/utils"],function(t,e){return n(i,t,e)}):"object"==typeof module&&module.exports?module.exports=n(i,require("./flickity"),require("fizzy-ui-utils")):n(i,i.Flickity,i.fizzyUIUtils)}(window,function(t,e,r){"use strict";e.createMethods.push("_createLazyload");var i=e.prototype;function o(t,e){this.img=t,this.flickity=e,this.load()}return i._createLazyload=function(){this.on("select",this.lazyLoad)},i.lazyLoad=function(){var t=this.options.lazyLoad;if(t){var e="number"==typeof t?t:0,i=this.getAdjacentCellElements(e),n=[];i.forEach(function(t){var e=function(t){if("IMG"==t.nodeName){var e=t.getAttribute("data-flickity-lazyload"),i=t.getAttribute("data-flickity-lazyload-src"),n=t.getAttribute("data-flickity-lazyload-srcset");if(e||i||n)return[t]}var o=t.querySelectorAll("img[data-flickity-lazyload], img[data-flickity-lazyload-src], img[data-flickity-lazyload-srcset]");return r.makeArray(o)}(t);n=n.concat(e)}),n.forEach(function(t){new o(t,this)},this)}},o.prototype.handleEvent=r.handleEvent,o.prototype.load=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this);var t=this.img.getAttribute("data-flickity-lazyload")||this.img.getAttribute("data-flickity-lazyload-src"),e=this.img.getAttribute("data-flickity-lazyload-srcset");this.img.src=t,e&&this.img.setAttribute("srcset",e),this.img.removeAttribute("data-flickity-lazyload"),this.img.removeAttribute("data-flickity-lazyload-src"),this.img.removeAttribute("data-flickity-lazyload-srcset")},o.prototype.onload=function(t){this.complete(t,"flickity-lazyloaded")},o.prototype.onerror=function(t){this.complete(t,"flickity-lazyerror")},o.prototype.complete=function(t,e){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this);var i=this.flickity.getParentCell(this.img),n=i&&i.element;this.flickity.cellSizeChange(n),this.img.classList.add(e),this.flickity.dispatchEvent("lazyLoad",t,n)},e.LazyLoader=o,e}),function(t,e){"function"==typeof define&&define.amd?define("flickity/js/index",["./flickity","./drag","./prev-next-button","./page-dots","./player","./add-remove-cell","./lazyload"],e):"object"==typeof module&&module.exports&&(module.exports=e(require("./flickity"),require("./drag"),require("./prev-next-button"),require("./page-dots"),require("./player"),require("./add-remove-cell"),require("./lazyload")))}(window,function(t){return t}),function(t,e){"function"==typeof define&&define.amd?define("flickity-as-nav-for/as-nav-for",["flickity/js/index","fizzy-ui-utils/utils"],e):"object"==typeof module&&module.exports?module.exports=e(require("flickity"),require("fizzy-ui-utils")):t.Flickity=e(t.Flickity,t.fizzyUIUtils)}(window,function(n,o){n.createMethods.push("_createAsNavFor");var t=n.prototype;return t._createAsNavFor=function(){this.on("activate",this.activateAsNavFor),this.on("deactivate",this.deactivateAsNavFor),this.on("destroy",this.destroyAsNavFor);var t=this.options.asNavFor;if(t){var e=this;setTimeout(function(){e.setNavCompanion(t)})}},t.setNavCompanion=function(t){t=o.getQueryElement(t);var e=n.data(t);if(e&&e!=this){this.navCompanion=e;var i=this;this.onNavCompanionSelect=function(){i.navCompanionSelect()},e.on("select",this.onNavCompanionSelect),this.on("staticClick",this.onNavStaticClick),this.navCompanionSelect(!0)}},t.navCompanionSelect=function(t){if(this.navCompanion){var e,i,n,o=this.navCompanion.selectedCells[0],r=this.navCompanion.cells.indexOf(o),s=r+this.navCompanion.selectedCells.length-1,a=Math.floor((e=r,i=s,n=this.navCompanion.cellAlign,(i-e)*n+e));if(this.selectCell(a,!1,t),this.removeNavSelectedElements(),!(a>=this.cells.length)){var l=this.cells.slice(r,s+1);this.navSelectedElements=l.map(function(t){return t.element}),this.changeNavSelectedClass("add")}}},t.changeNavSelectedClass=function(e){this.navSelectedElements.forEach(function(t){t.classList[e]("is-nav-selected")})},t.activateAsNavFor=function(){this.navCompanionSelect(!0)},t.removeNavSelectedElements=function(){this.navSelectedElements&&(this.changeNavSelectedClass("remove"),delete this.navSelectedElements)},t.onNavStaticClick=function(t,e,i,n){"number"==typeof n&&this.navCompanion.selectCell(n)},t.deactivateAsNavFor=function(){this.removeNavSelectedElements()},t.destroyAsNavFor=function(){this.navCompanion&&(this.navCompanion.off("select",this.onNavCompanionSelect),this.off("staticClick",this.onNavStaticClick),delete this.navCompanion)},n}),function(e,i){"use strict";"function"==typeof define&&define.amd?define("imagesloaded/imagesloaded",["ev-emitter/ev-emitter"],function(t){return i(e,t)}):"object"==typeof module&&module.exports?module.exports=i(e,require("ev-emitter")):e.imagesLoaded=i(e,e.EvEmitter)}("undefined"!=typeof window?window:this,function(e,t){var r=e.jQuery,s=e.console;function a(t,e){for(var i in e)t[i]=e[i];return t}var l=Array.prototype.slice;function u(t,e,i){if(!(this instanceof u))return new u(t,e,i);var n,o=t;("string"==typeof t&&(o=document.querySelectorAll(t)),o)?(this.elements=(n=o,Array.isArray(n)?n:"object"==typeof n&&"number"==typeof n.length?l.call(n):[n]),this.options=a({},this.options),"function"==typeof e?i=e:a(this.options,e),i&&this.on("always",i),this.getImages(),r&&(this.jqDeferred=new r.Deferred),setTimeout(this.check.bind(this))):s.error("Bad element for imagesLoaded "+(o||t))}(u.prototype=Object.create(t.prototype)).options={},u.prototype.getImages=function(){this.images=[],this.elements.forEach(this.addElementImages,this)},u.prototype.addElementImages=function(t){"IMG"==t.nodeName&&this.addImage(t),!0===this.options.background&&this.addElementBackgroundImages(t);var e=t.nodeType;if(e&&h[e]){for(var i=t.querySelectorAll("img"),n=0;n<i.length;n++){var o=i[n];this.addImage(o)}if("string"==typeof this.options.background){var r=t.querySelectorAll(this.options.background);for(n=0;n<r.length;n++){var s=r[n];this.addElementBackgroundImages(s)}}}};var h={1:!0,9:!0,11:!0};function i(t){this.img=t}function n(t,e){this.url=t,this.element=e,this.img=new Image}return u.prototype.addElementBackgroundImages=function(t){var e=getComputedStyle(t);if(e)for(var i=/url\((['"])?(.*?)\1\)/gi,n=i.exec(e.backgroundImage);null!==n;){var o=n&&n[2];o&&this.addBackground(o,t),n=i.exec(e.backgroundImage)}},u.prototype.addImage=function(t){var e=new i(t);this.images.push(e)},u.prototype.addBackground=function(t,e){var i=new n(t,e);this.images.push(i)},u.prototype.check=function(){var n=this;function e(t,e,i){setTimeout(function(){n.progress(t,e,i)})}this.progressedCount=0,this.hasAnyBroken=!1,this.images.length?this.images.forEach(function(t){t.once("progress",e),t.check()}):this.complete()},u.prototype.progress=function(t,e,i){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!t.isLoaded,this.emitEvent("progress",[this,t,e]),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,t),this.progressedCount==this.images.length&&this.complete(),this.options.debug&&s&&s.log("progress: "+i,t,e)},u.prototype.complete=function(){var t=this.hasAnyBroken?"fail":"done";if(this.isComplete=!0,this.emitEvent(t,[this]),this.emitEvent("always",[this]),this.jqDeferred){var e=this.hasAnyBroken?"reject":"resolve";this.jqDeferred[e](this)}},(i.prototype=Object.create(t.prototype)).check=function(){this.getIsImageComplete()?this.confirm(0!==this.img.naturalWidth,"naturalWidth"):(this.proxyImage=new Image,this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.proxyImage.src=this.img.src)},i.prototype.getIsImageComplete=function(){return this.img.complete&&this.img.naturalWidth},i.prototype.confirm=function(t,e){this.isLoaded=t,this.emitEvent("progress",[this,this.img,e])},i.prototype.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},i.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},i.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},i.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this),this.proxyImage.removeEventListener("error",this),this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},(n.prototype=Object.create(i.prototype)).check=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.url,this.getIsImageComplete()&&(this.confirm(0!==this.img.naturalWidth,"naturalWidth"),this.unbindEvents())},n.prototype.unbindEvents=function(){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},n.prototype.confirm=function(t,e){this.isLoaded=t,this.emitEvent("progress",[this,this.element,e])},u.makeJQueryPlugin=function(t){(t=t||e.jQuery)&&((r=t).fn.imagesLoaded=function(t,e){return new u(this,t,e).jqDeferred.promise(r(this))})},u.makeJQueryPlugin(),u}),function(i,n){"function"==typeof define&&define.amd?define(["flickity/js/index","imagesloaded/imagesloaded"],function(t,e){return n(i,t,e)}):"object"==typeof module&&module.exports?module.exports=n(i,require("flickity"),require("imagesloaded")):i.Flickity=n(i,i.Flickity,i.imagesLoaded)}(window,function(t,e,i){"use strict";e.createMethods.push("_createImagesLoaded");var n=e.prototype;return n._createImagesLoaded=function(){this.on("activate",this.imagesLoaded)},n.imagesLoaded=function(){if(this.options.imagesLoaded){var n=this;i(this.slider).on("progress",function(t,e){var i=n.getParentCell(e.img);n.cellSizeChange(i&&i.element),n.options.freeScroll||n.positionSliderAtSelected()})}},e}),function(a,n,o,l){var u=a(n);a.fn.lazyload=function(t){var e,r=this,s={threshold:0,failure_limit:0,event:"scroll",effect:"show",container:n,data_attribute:"original",skip_invisible:!1,appear:null,load:null,placeholder:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAANSURBVBhXYzh8+PB/AAffA0nNPuCLAAAAAElFTkSuQmCC"};function i(){var e=0;r.each(function(){var t=a(this);if(!s.skip_invisible||t.is(":visible"))if(a.abovethetop(this,s)||a.leftofbegin(this,s));else if(a.belowthefold(this,s)||a.rightoffold(this,s)){if(++e>s.failure_limit)return!1}else t.trigger("appear"),e=0})}return t&&(l!==t.failurelimit&&(t.failure_limit=t.failurelimit,delete t.failurelimit),l!==t.effectspeed&&(t.effect_speed=t.effectspeed,delete t.effectspeed),a.extend(s,t)),e=s.container===l||s.container===n?u:a(s.container),0===s.event.indexOf("scroll")&&e.bind(s.event,function(){return i()}),this.each(function(){var n=this,o=a(n);n.loaded=!1,o.attr("src")!==l&&!1!==o.attr("src")||o.is("img")&&o.attr("src",s.placeholder),o.one("appear",function(){if(!this.loaded){if(s.appear){var t=r.length;s.appear.call(n,t,s)}a("<img />").bind("load",function(){var t=o.attr("data-"+s.data_attribute);o.hide(),o.is("img")?o.attr("src",t):o.css("background-image","url('"+t+"')"),o[s.effect](s.effect_speed),n.loaded=!0;var e=a.grep(r,function(t){return!t.loaded});if(r=a(e),s.load){var i=r.length;s.load.call(n,i,s)}}).attr("src",o.attr("data-"+s.data_attribute))}}),0!==s.event.indexOf("scroll")&&o.bind(s.event,function(){n.loaded||o.trigger("appear")})}),u.bind("resize",function(){i()}),/(?:iphone|ipod|ipad).*os 5/gi.test(navigator.appVersion)&&u.bind("pageshow",function(t){t.originalEvent&&t.originalEvent.persisted&&r.each(function(){a(this).trigger("appear")})}),a(o).ready(function(){i()}),this},a.belowthefold=function(t,e){return(e.container===l||e.container===n?(n.innerHeight?n.innerHeight:u.height())+u.scrollTop():a(e.container).offset().top+a(e.container).height())<=a(t).offset().top-e.threshold},a.rightoffold=function(t,e){return(e.container===l||e.container===n?u.width()+u.scrollLeft():a(e.container).offset().left+a(e.container).width())<=a(t).offset().left-e.threshold},a.abovethetop=function(t,e){return(e.container===l||e.container===n?u.scrollTop():a(e.container).offset().top)>=a(t).offset().top+e.threshold+a(t).height()},a.leftofbegin=function(t,e){return(e.container===l||e.container===n?u.scrollLeft():a(e.container).offset().left)>=a(t).offset().left+e.threshold+a(t).width()},a.inviewport=function(t,e){return!(a.rightoffold(t,e)||a.leftofbegin(t,e)||a.belowthefold(t,e)||a.abovethetop(t,e))},a.extend(a.expr[":"],{"below-the-fold":function(t){return a.belowthefold(t,{threshold:0})},"above-the-top":function(t){return!a.belowthefold(t,{threshold:0})},"right-of-screen":function(t){return a.rightoffold(t,{threshold:0})},"left-of-screen":function(t){return!a.rightoffold(t,{threshold:0})},"in-viewport":function(t){return a.inviewport(t,{threshold:0})},"above-the-fold":function(t){return!a.belowthefold(t,{threshold:0})},"right-of-fold":function(t){return a.rightoffold(t,{threshold:0})},"left-of-fold":function(t){return!a.rightoffold(t,{threshold:0})}})}(jQuery,window,document);var _gsScope="undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window;(_gsScope._gsQueue||(_gsScope._gsQueue=[])).push(function(){"use strict";var t,l,u,e,T,x,w,k,v,i,y,C,_,b,d,f,g,n;_gsScope._gsDefine("TweenMax",["core.Animation","core.SimpleTimeline","TweenLite"],function(n,h,y){var g=function(t){var e,i=[],n=t.length;for(e=0;e!==n;i.push(t[e++]));return i},v=function(t,e,i){var n,o,r=t.cycle;for(n in r)o=r[n],t[n]="function"==typeof o?o(i,e[i]):o[i%o.length];delete t.cycle},_=function(t,e,i){y.call(this,t,e,i),this._cycle=0,this._yoyo=!0===this.vars.yoyo||!!this.vars.yoyoEase,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._repeat&&this._uncache(!0),this.render=_.prototype.render},b=1e-10,x=y._internals,w=x.isSelector,T=x.isArray,t=_.prototype=y.to({},.1,{}),k=[];_.version="2.0.2",t.constructor=_,t.kill()._gc=!1,_.killTweensOf=_.killDelayedCallsTo=y.killTweensOf,_.getTweensOf=y.getTweensOf,_.lagSmoothing=y.lagSmoothing,_.ticker=y.ticker,_.render=y.render,t.invalidate=function(){return this._yoyo=!0===this.vars.yoyo||!!this.vars.yoyoEase,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._yoyoEase=null,this._uncache(!0),y.prototype.invalidate.call(this)},t.updateTo=function(t,e){var i,n=this.ratio,o=this.vars.immediateRender||t.immediateRender;for(i in e&&this._startTime<this._timeline._time&&(this._startTime=this._timeline._time,this._uncache(!1),this._gc?this._enabled(!0,!1):this._timeline.insert(this,this._startTime-this._delay)),t)this.vars[i]=t[i];if(this._initted||o)if(e)this._initted=!1,o&&this.render(0,!0,!0);else if(this._gc&&this._enabled(!0,!1),this._notifyPluginsOfEnabled&&this._firstPT&&y._onPluginEvent("_onDisable",this),.998<this._time/this._duration){var r=this._totalTime;this.render(0,!0,!1),this._initted=!1,this.render(r,!0,!1)}else if(this._initted=!1,this._init(),0<this._time||o)for(var s,a=1/(1-n),l=this._firstPT;l;)s=l.s+l.c,l.c*=a,l.s=s-l.c,l=l._next;return this},t.render=function(t,e,i){this._initted||0===this._duration&&this.vars.repeat&&this.invalidate();var n,o,r,s,a,l,u,h,c,p=this._dirty?this.totalDuration():this._totalDuration,d=this._time,f=this._totalTime,m=this._cycle,g=this._duration,v=this._rawPrevTime;if(p-1e-7<=t&&0<=t?(this._totalTime=p,this._cycle=this._repeat,this._yoyo&&0!=(1&this._cycle)?(this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0):(this._time=g,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1),this._reversed||(n=!0,o="onComplete",i=i||this._timeline.autoRemoveChildren),0===g&&(this._initted||!this.vars.lazy||i)&&(this._startTime===this._timeline._duration&&(t=0),(v<0||t<=0&&-1e-7<=t||v===b&&"isPause"!==this.data)&&v!==t&&(i=!0,b<v&&(o="onReverseComplete")),this._rawPrevTime=h=!e||t||v===t?t:b)):t<1e-7?(this._totalTime=this._time=this._cycle=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==f||0===g&&0<v)&&(o="onReverseComplete",n=this._reversed),t<0&&(this._active=!1,0===g&&(this._initted||!this.vars.lazy||i)&&(0<=v&&(i=!0),this._rawPrevTime=h=!e||t||v===t?t:b)),this._initted||(i=!0)):(this._totalTime=this._time=t,0!==this._repeat&&(s=g+this._repeatDelay,this._cycle=this._totalTime/s>>0,0!==this._cycle&&this._cycle===this._totalTime/s&&f<=t&&this._cycle--,this._time=this._totalTime-this._cycle*s,this._yoyo&&0!=(1&this._cycle)&&(this._time=g-this._time,(c=this._yoyoEase||this.vars.yoyoEase)&&(this._yoyoEase||(!0!==c||this._initted?this._yoyoEase=c=!0===c?this._ease:c instanceof Ease?c:Ease.map[c]:(c=this.vars.ease,this._yoyoEase=c=c?c instanceof Ease?c:"function"==typeof c?new Ease(c,this.vars.easeParams):Ease.map[c]||y.defaultEase:y.defaultEase)),this.ratio=c?1-c.getRatio((g-this._time)/g):0)),this._time>g?this._time=g:this._time<0&&(this._time=0)),this._easeType&&!c?(a=this._time/g,(1===(l=this._easeType)||3===l&&.5<=a)&&(a=1-a),3===l&&(a*=2),1===(u=this._easePower)?a*=a:2===u?a*=a*a:3===u?a*=a*a*a:4===u&&(a*=a*a*a*a),1===l?this.ratio=1-a:2===l?this.ratio=a:this._time/g<.5?this.ratio=a/2:this.ratio=1-a/2):c||(this.ratio=this._ease.getRatio(this._time/g))),d!==this._time||i||m!==this._cycle){if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!i&&this._firstPT&&(!1!==this.vars.lazy&&this._duration||this.vars.lazy&&!this._duration))return this._time=d,this._totalTime=f,this._rawPrevTime=v,this._cycle=m,x.lazyTweens.push(this),void(this._lazy=[t,e]);!this._time||n||c?n&&this._ease._calcEnd&&!c&&(this.ratio=this._ease.getRatio(0===this._time?0:1)):this.ratio=this._ease.getRatio(this._time/g)}for(!1!==this._lazy&&(this._lazy=!1),this._active||!this._paused&&this._time!==d&&0<=t&&(this._active=!0),0===f&&(2===this._initted&&0<t&&this._init(),this._startAt&&(0<=t?this._startAt.render(t,!0,i):o||(o="_dummyGS")),this.vars.onStart&&(0!==this._totalTime||0===g)&&(e||this._callback("onStart"))),r=this._firstPT;r;)r.f?r.t[r.p](r.c*this.ratio+r.s):r.t[r.p]=r.c*this.ratio+r.s,r=r._next;this._onUpdate&&(t<0&&this._startAt&&this._startTime&&this._startAt.render(t,!0,i),e||(this._totalTime!==f||o)&&this._callback("onUpdate")),this._cycle!==m&&(e||this._gc||this.vars.onRepeat&&this._callback("onRepeat")),o&&(!this._gc||i)&&(t<0&&this._startAt&&!this._onUpdate&&this._startTime&&this._startAt.render(t,!0,i),n&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[o]&&this._callback(o),0===g&&this._rawPrevTime===b&&h!==b&&(this._rawPrevTime=0))}else f!==this._totalTime&&this._onUpdate&&(e||this._callback("onUpdate"))},_.to=function(t,e,i){return new _(t,e,i)},_.from=function(t,e,i){return i.runBackwards=!0,i.immediateRender=0!=i.immediateRender,new _(t,e,i)},_.fromTo=function(t,e,i,n){return n.startAt=i,n.immediateRender=0!=n.immediateRender&&0!=i.immediateRender,new _(t,e,n)},_.staggerTo=_.allTo=function(t,e,i,n,o,r,s){n=n||0;var a,l,u,h,c=0,p=[],d=function(){i.onComplete&&i.onComplete.apply(i.onCompleteScope||this,arguments),o.apply(s||i.callbackScope||this,r||k)},f=i.cycle,m=i.startAt&&i.startAt.cycle;for(T(t)||("string"==typeof t&&(t=y.selector(t)||t),w(t)&&(t=g(t))),t=t||[],n<0&&((t=g(t)).reverse(),n*=-1),a=t.length-1,u=0;u<=a;u++){for(h in l={},i)l[h]=i[h];if(f&&(v(l,t,u),null!=l.duration&&(e=l.duration,delete l.duration)),m){for(h in m=l.startAt={},i.startAt)m[h]=i.startAt[h];v(l.startAt,t,u)}l.delay=c+(l.delay||0),u===a&&o&&(l.onComplete=d),p[u]=new _(t[u],e,l),c+=n}return p},_.staggerFrom=_.allFrom=function(t,e,i,n,o,r,s){return i.runBackwards=!0,i.immediateRender=0!=i.immediateRender,_.staggerTo(t,e,i,n,o,r,s)},_.staggerFromTo=_.allFromTo=function(t,e,i,n,o,r,s,a){return n.startAt=i,n.immediateRender=0!=n.immediateRender&&0!=i.immediateRender,_.staggerTo(t,e,n,o,r,s,a)},_.delayedCall=function(t,e,i,n,o){return new _(e,0,{delay:t,onComplete:e,onCompleteParams:i,callbackScope:n,onReverseComplete:e,onReverseCompleteParams:i,immediateRender:!1,useFrames:o,overwrite:0})},_.set=function(t,e){return new _(t,0,e)},_.isTweening=function(t){return 0<y.getTweensOf(t,!0).length};var r=function(t,e){for(var i=[],n=0,o=t._first;o;)o instanceof y?i[n++]=o:(e&&(i[n++]=o),n=(i=i.concat(r(o,e))).length),o=o._next;return i},c=_.getAllTweens=function(t){return r(n._rootTimeline,t).concat(r(n._rootFramesTimeline,t))};_.killAll=function(t,e,i,n){null==e&&(e=!0),null==i&&(i=!0);var o,r,s,a=c(0!=n),l=a.length,u=e&&i&&n;for(s=0;s<l;s++)r=a[s],(u||r instanceof h||(o=r.target===r.vars.onComplete)&&i||e&&!o)&&(t?r.totalTime(r._reversed?0:r.totalDuration()):r._enabled(!1,!1))},_.killChildTweensOf=function(t,e){if(null!=t){var i,n,o,r,s,a=x.tweenLookup;if("string"==typeof t&&(t=y.selector(t)||t),w(t)&&(t=g(t)),T(t))for(r=t.length;-1<--r;)_.killChildTweensOf(t[r],e);else{for(o in i=[],a)for(n=a[o].target.parentNode;n;)n===t&&(i=i.concat(a[o].tweens)),n=n.parentNode;for(s=i.length,r=0;r<s;r++)e&&i[r].totalTime(i[r].totalDuration()),i[r]._enabled(!1,!1)}}};var o=function(t,e,i,n){e=!1!==e,i=!1!==i;for(var o,r,s=c(n=!1!==n),a=e&&i&&n,l=s.length;-1<--l;)r=s[l],(a||r instanceof h||(o=r.target===r.vars.onComplete)&&i||e&&!o)&&r.paused(t)};return _.pauseAll=function(t,e,i){o(!0,t,e,i)},_.resumeAll=function(t,e,i){o(!1,t,e,i)},_.globalTimeScale=function(t){var e=n._rootTimeline,i=y.ticker.time;return arguments.length?(t=t||b,e._startTime=i-(i-e._startTime)*e._timeScale/t,e=n._rootFramesTimeline,i=y.ticker.frame,e._startTime=i-(i-e._startTime)*e._timeScale/t,e._timeScale=n._rootTimeline._timeScale=t,t):e._timeScale},t.progress=function(t,e){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&0!=(1&this._cycle)?1-t:t)+this._cycle*(this._duration+this._repeatDelay),e):this._time/this.duration()},t.totalProgress=function(t,e){return arguments.length?this.totalTime(this.totalDuration()*t,e):this._totalTime/this.totalDuration()},t.time=function(t,e){return arguments.length?(this._dirty&&this.totalDuration(),t>this._duration&&(t=this._duration),this._yoyo&&0!=(1&this._cycle)?t=this._duration-t+this._cycle*(this._duration+this._repeatDelay):0!==this._repeat&&(t+=this._cycle*(this._duration+this._repeatDelay)),this.totalTime(t,e)):this._time},t.duration=function(t){return arguments.length?n.prototype.duration.call(this,t):this._duration},t.totalDuration=function(t){return arguments.length?-1===this._repeat?this:this.duration((t-this._repeat*this._repeatDelay)/(this._repeat+1)):(this._dirty&&(this._totalDuration=-1===this._repeat?999999999999:this._duration*(this._repeat+1)+this._repeatDelay*this._repeat,this._dirty=!1),this._totalDuration)},t.repeat=function(t){return arguments.length?(this._repeat=t,this._uncache(!0)):this._repeat},t.repeatDelay=function(t){return arguments.length?(this._repeatDelay=t,this._uncache(!0)):this._repeatDelay},t.yoyo=function(t){return arguments.length?(this._yoyo=t,this):this._yoyo},_},!0),_gsScope._gsDefine("TimelineLite",["core.Animation","core.SimpleTimeline","TweenLite"],function(h,c,p){var d=function(t){c.call(this,t),this._labels={},this.autoRemoveChildren=!0===this.vars.autoRemoveChildren,this.smoothChildTiming=!0===this.vars.smoothChildTiming,this._sortChildren=!0,this._onUpdate=this.vars.onUpdate;var e,i,n=this.vars;for(i in n)e=n[i],m(e)&&-1!==e.join("").indexOf("{self}")&&(n[i]=this._swapSelfInParams(e));m(n.tweens)&&this.add(n.tweens,0,n.align,n.stagger)},t=p._internals,e=d._internals={},f=t.isSelector,m=t.isArray,g=t.lazyTweens,v=t.lazyRender,s=_gsScope._gsDefine.globals,y=function(t){var e,i={};for(e in t)i[e]=t[e];return i},_=function(t,e,i){var n,o,r=t.cycle;for(n in r)o=r[n],t[n]="function"==typeof o?o(i,e[i]):o[i%o.length];delete t.cycle},r=e.pauseCallback=function(){},b=function(t){var e,i=[],n=t.length;for(e=0;e!==n;i.push(t[e++]));return i},i=d.prototype=new c;return d.version="2.0.2",i.constructor=d,i.kill()._gc=i._forcingPlayhead=i._hasPause=!1,i.to=function(t,e,i,n){var o=i.repeat&&s.TweenMax||p;return e?this.add(new o(t,e,i),n):this.set(t,i,n)},i.from=function(t,e,i,n){return this.add((i.repeat&&s.TweenMax||p).from(t,e,i),n)},i.fromTo=function(t,e,i,n,o){var r=n.repeat&&s.TweenMax||p;return e?this.add(r.fromTo(t,e,i,n),o):this.set(t,n,o)},i.staggerTo=function(t,e,i,n,o,r,s,a){var l,u,h=new d({onComplete:r,onCompleteParams:s,callbackScope:a,smoothChildTiming:this.smoothChildTiming}),c=i.cycle;for("string"==typeof t&&(t=p.selector(t)||t),f(t=t||[])&&(t=b(t)),(n=n||0)<0&&((t=b(t)).reverse(),n*=-1),u=0;u<t.length;u++)(l=y(i)).startAt&&(l.startAt=y(l.startAt),l.startAt.cycle&&_(l.startAt,t,u)),c&&(_(l,t,u),null!=l.duration&&(e=l.duration,delete l.duration)),h.to(t[u],e,l,u*n);return this.add(h,o)},i.staggerFrom=function(t,e,i,n,o,r,s,a){return i.immediateRender=0!=i.immediateRender,i.runBackwards=!0,this.staggerTo(t,e,i,n,o,r,s,a)},i.staggerFromTo=function(t,e,i,n,o,r,s,a,l){return n.startAt=i,n.immediateRender=0!=n.immediateRender&&0!=i.immediateRender,this.staggerTo(t,e,n,o,r,s,a,l)},i.call=function(t,e,i,n){return this.add(p.delayedCall(0,t,e,i),n)},i.set=function(t,e,i){return i=this._parseTimeOrLabel(i,0,!0),null==e.immediateRender&&(e.immediateRender=i===this._time&&!this._paused),this.add(new p(t,0,e),i)},d.exportRoot=function(t,e){null==(t=t||{}).smoothChildTiming&&(t.smoothChildTiming=!0);var i,n,o,r,s=new d(t),a=s._timeline;for(null==e&&(e=!0),a._remove(s,!0),s._startTime=0,s._rawPrevTime=s._time=s._totalTime=a._time,o=a._first;o;)r=o._next,e&&o instanceof p&&o.target===o.vars.onComplete||((n=o._startTime-o._delay)<0&&(i=1),s.add(o,n)),o=r;return a.add(s,0),i&&s.totalDuration(),s},i.add=function(t,e,i,n){var o,r,s,a,l,u;if("number"!=typeof e&&(e=this._parseTimeOrLabel(e,0,!0,t)),!(t instanceof h)){if(t instanceof Array||t&&t.push&&m(t)){for(i=i||"normal",n=n||0,o=e,r=t.length,s=0;s<r;s++)m(a=t[s])&&(a=new d({tweens:a})),this.add(a,o),"string"!=typeof a&&"function"!=typeof a&&("sequence"===i?o=a._startTime+a.totalDuration()/a._timeScale:"start"===i&&(a._startTime-=a.delay())),o+=n;return this._uncache(!0)}if("string"==typeof t)return this.addLabel(t,e);if("function"!=typeof t)throw"Cannot add "+t+" into the timeline; it is not a tween, timeline, function, or string.";t=p.delayedCall(0,t)}if(c.prototype.add.call(this,t,e),t._time&&(o=Math.max(0,Math.min(t.totalDuration(),(this.rawTime()-t._startTime)*t._timeScale)),1e-5<Math.abs(o-t._totalTime)&&t.render(o,!1,!1)),(this._gc||this._time===this._duration)&&!this._paused&&this._duration<this.duration())for(u=(l=this).rawTime()>t._startTime;l._timeline;)u&&l._timeline.smoothChildTiming?l.totalTime(l._totalTime,!0):l._gc&&l._enabled(!0,!1),l=l._timeline;return this},i.remove=function(t){if(t instanceof h){this._remove(t,!1);var e=t._timeline=t.vars.useFrames?h._rootFramesTimeline:h._rootTimeline;return t._startTime=(t._paused?t._pauseTime:e._time)-(t._reversed?t.totalDuration()-t._totalTime:t._totalTime)/t._timeScale,this}if(t instanceof Array||t&&t.push&&m(t)){for(var i=t.length;-1<--i;)this.remove(t[i]);return this}return"string"==typeof t?this.removeLabel(t):this.kill(null,t)},i._remove=function(t,e){return c.prototype._remove.call(this,t,e),this._last?this._time>this.duration()&&(this._time=this._duration,this._totalTime=this._totalDuration):this._time=this._totalTime=this._duration=this._totalDuration=0,this},i.append=function(t,e){return this.add(t,this._parseTimeOrLabel(null,e,!0,t))},i.insert=i.insertMultiple=function(t,e,i,n){return this.add(t,e||0,i,n)},i.appendMultiple=function(t,e,i,n){return this.add(t,this._parseTimeOrLabel(null,e,!0,t),i,n)},i.addLabel=function(t,e){return this._labels[t]=this._parseTimeOrLabel(e),this},i.addPause=function(t,e,i,n){var o=p.delayedCall(0,r,i,n||this);return o.vars.onComplete=o.vars.onReverseComplete=e,o.data="isPause",this._hasPause=!0,this.add(o,t)},i.removeLabel=function(t){return delete this._labels[t],this},i.getLabelTime=function(t){return null!=this._labels[t]?this._labels[t]:-1},i._parseTimeOrLabel=function(t,e,i,n){var o,r;if(n instanceof h&&n.timeline===this)this.remove(n);else if(n&&(n instanceof Array||n.push&&m(n)))for(r=n.length;-1<--r;)n[r]instanceof h&&n[r].timeline===this&&this.remove(n[r]);if(o="number"!=typeof t||e?99999999999<this.duration()?this.recent().endTime(!1):this._duration:0,"string"==typeof e)return this._parseTimeOrLabel(e,i&&"number"==typeof t&&null==this._labels[e]?t-o:0,i);if(e=e||0,"string"!=typeof t||!isNaN(t)&&null==this._labels[t])null==t&&(t=o);else{if(-1===(r=t.indexOf("=")))return null==this._labels[t]?i?this._labels[t]=o+e:e:this._labels[t]+e;e=parseInt(t.charAt(r-1)+"1",10)*Number(t.substr(r+1)),t=1<r?this._parseTimeOrLabel(t.substr(0,r-1),0,i):o}return Number(t)+e},i.seek=function(t,e){return this.totalTime("number"==typeof t?t:this._parseTimeOrLabel(t),!1!==e)},i.stop=function(){return this.paused(!0)},i.gotoAndPlay=function(t,e){return this.play(t,e)},i.gotoAndStop=function(t,e){return this.pause(t,e)},i.render=function(t,e,i){this._gc&&this._enabled(!0,!1);var n,o,r,s,a,l,u,h=this._time,c=this._dirty?this.totalDuration():this._totalDuration,p=this._startTime,d=this._timeScale,f=this._paused;if(h!==this._time&&(t+=this._time-h),c-1e-7<=t&&0<=t)this._totalTime=this._time=c,this._reversed||this._hasPausedChild()||(o=!0,s="onComplete",a=!!this._timeline.autoRemoveChildren,0===this._duration&&(t<=0&&-1e-7<=t||this._rawPrevTime<0||1e-10===this._rawPrevTime)&&this._rawPrevTime!==t&&this._first&&(a=!0,1e-10<this._rawPrevTime&&(s="onReverseComplete"))),this._rawPrevTime=this._duration||!e||t||this._rawPrevTime===t?t:1e-10,t=c+1e-4;else if(t<1e-7)if(this._totalTime=this._time=0,(0!==h||0===this._duration&&1e-10!==this._rawPrevTime&&(0<this._rawPrevTime||t<0&&0<=this._rawPrevTime))&&(s="onReverseComplete",o=this._reversed),t<0)this._active=!1,this._timeline.autoRemoveChildren&&this._reversed?(a=o=!0,s="onReverseComplete"):0<=this._rawPrevTime&&this._first&&(a=!0),this._rawPrevTime=t;else{if(this._rawPrevTime=this._duration||!e||t||this._rawPrevTime===t?t:1e-10,0===t&&o)for(n=this._first;n&&0===n._startTime;)n._duration||(o=!1),n=n._next;t=0,this._initted||(a=!0)}else{if(this._hasPause&&!this._forcingPlayhead&&!e){if(h<=t)for(n=this._first;n&&n._startTime<=t&&!l;)n._duration||"isPause"!==n.data||n.ratio||0===n._startTime&&0===this._rawPrevTime||(l=n),n=n._next;else for(n=this._last;n&&n._startTime>=t&&!l;)n._duration||"isPause"===n.data&&0<n._rawPrevTime&&(l=n),n=n._prev;l&&(this._time=t=l._startTime,this._totalTime=t+this._cycle*(this._totalDuration+this._repeatDelay))}this._totalTime=this._time=this._rawPrevTime=t}if(this._time!==h&&this._first||i||a||l){if(this._initted||(this._initted=!0),this._active||!this._paused&&this._time!==h&&0<t&&(this._active=!0),0===h&&this.vars.onStart&&(0===this._time&&this._duration||e||this._callback("onStart")),h<=(u=this._time))for(n=this._first;n&&(r=n._next,u===this._time&&(!this._paused||f));)(n._active||n._startTime<=u&&!n._paused&&!n._gc)&&(l===n&&this.pause(),n._reversed?n.render((n._dirty?n.totalDuration():n._totalDuration)-(t-n._startTime)*n._timeScale,e,i):n.render((t-n._startTime)*n._timeScale,e,i)),n=r;else for(n=this._last;n&&(r=n._prev,u===this._time&&(!this._paused||f));){if(n._active||n._startTime<=h&&!n._paused&&!n._gc){if(l===n){for(l=n._prev;l&&l.endTime()>this._time;)l.render(l._reversed?l.totalDuration()-(t-l._startTime)*l._timeScale:(t-l._startTime)*l._timeScale,e,i),l=l._prev;l=null,this.pause()}n._reversed?n.render((n._dirty?n.totalDuration():n._totalDuration)-(t-n._startTime)*n._timeScale,e,i):n.render((t-n._startTime)*n._timeScale,e,i)}n=r}this._onUpdate&&(e||(g.length&&v(),this._callback("onUpdate"))),s&&(this._gc||(p===this._startTime||d!==this._timeScale)&&(0===this._time||c>=this.totalDuration())&&(o&&(g.length&&v(),this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[s]&&this._callback(s)))}},i._hasPausedChild=function(){for(var t=this._first;t;){if(t._paused||t instanceof d&&t._hasPausedChild())return!0;t=t._next}return!1},i.getChildren=function(t,e,i,n){n=n||-9999999999;for(var o=[],r=this._first,s=0;r;)r._startTime<n||(r instanceof p?!1!==e&&(o[s++]=r):(!1!==i&&(o[s++]=r),!1!==t&&(s=(o=o.concat(r.getChildren(!0,e,i))).length))),r=r._next;return o},i.getTweensOf=function(t,e){var i,n,o=this._gc,r=[],s=0;for(o&&this._enabled(!0,!0),n=(i=p.getTweensOf(t)).length;-1<--n;)(i[n].timeline===this||e&&this._contains(i[n]))&&(r[s++]=i[n]);return o&&this._enabled(!1,!0),r},i.recent=function(){return this._recent},i._contains=function(t){for(var e=t.timeline;e;){if(e===this)return!0;e=e.timeline}return!1},i.shiftChildren=function(t,e,i){i=i||0;for(var n,o=this._first,r=this._labels;o;)o._startTime>=i&&(o._startTime+=t),o=o._next;if(e)for(n in r)r[n]>=i&&(r[n]+=t);return this._uncache(!0)},i._kill=function(t,e){if(!t&&!e)return this._enabled(!1,!1);for(var i=e?this.getTweensOf(e):this.getChildren(!0,!0,!1),n=i.length,o=!1;-1<--n;)i[n]._kill(t,e)&&(o=!0);return o},i.clear=function(t){var e=this.getChildren(!1,!0,!0),i=e.length;for(this._time=this._totalTime=0;-1<--i;)e[i]._enabled(!1,!1);return!1!==t&&(this._labels={}),this._uncache(!0)},i.invalidate=function(){for(var t=this._first;t;)t.invalidate(),t=t._next;return h.prototype.invalidate.call(this)},i._enabled=function(t,e){if(t===this._gc)for(var i=this._first;i;)i._enabled(t,!0),i=i._next;return c.prototype._enabled.call(this,t,e)},i.totalTime=function(t,e,i){this._forcingPlayhead=!0;var n=h.prototype.totalTime.apply(this,arguments);return this._forcingPlayhead=!1,n},i.duration=function(t){return arguments.length?(0!==this.duration()&&0!==t&&this.timeScale(this._duration/t),this):(this._dirty&&this.totalDuration(),this._duration)},i.totalDuration=function(t){if(arguments.length)return t&&this.totalDuration()?this.timeScale(this._totalDuration/t):this;if(this._dirty){for(var e,i,n=0,o=this._last,r=999999999999;o;)e=o._prev,o._dirty&&o.totalDuration(),o._startTime>r&&this._sortChildren&&!o._paused&&!this._calculatingDuration?(this._calculatingDuration=1,this.add(o,o._startTime-o._delay),this._calculatingDuration=0):r=o._startTime,o._startTime<0&&!o._paused&&(n-=o._startTime,this._timeline.smoothChildTiming&&(this._startTime+=o._startTime/this._timeScale,this._time-=o._startTime,this._totalTime-=o._startTime,this._rawPrevTime-=o._startTime),this.shiftChildren(-o._startTime,!1,-9999999999),r=0),n<(i=o._startTime+o._totalDuration/o._timeScale)&&(n=i),o=e;this._duration=this._totalDuration=n,this._dirty=!1}return this._totalDuration},i.paused=function(t){if(!t)for(var e=this._first,i=this._time;e;)e._startTime===i&&"isPause"===e.data&&(e._rawPrevTime=0),e=e._next;return h.prototype.paused.apply(this,arguments)},i.usesFrames=function(){for(var t=this._timeline;t._timeline;)t=t._timeline;return t===h._rootFramesTimeline},i.rawTime=function(t){return t&&(this._paused||this._repeat&&0<this.time()&&this.totalProgress()<1)?this._totalTime%(this._duration+this._repeatDelay):this._paused?this._totalTime:(this._timeline.rawTime(t)-this._startTime)*this._timeScale},d},!0),_gsScope._gsDefine("TimelineMax",["TimelineLite","TweenLite","easing.Ease"],function(e,a,t){var i=function(t){e.call(this,t),this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._cycle=0,this._yoyo=!0===this.vars.yoyo,this._dirty=!0},n=a._internals,S=n.lazyTweens,E=n.lazyRender,l=_gsScope._gsDefine.globals,u=new t(null,null,1,0),o=i.prototype=new e;return o.constructor=i,o.kill()._gc=!1,i.version="2.0.2",o.invalidate=function(){return this._yoyo=!0===this.vars.yoyo,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._uncache(!0),e.prototype.invalidate.call(this)},o.addCallback=function(t,e,i,n){return this.add(a.delayedCall(0,t,i,n),e)},o.removeCallback=function(t,e){if(t)if(null==e)this._kill(null,t);else for(var i=this.getTweensOf(t,!1),n=i.length,o=this._parseTimeOrLabel(e);-1<--n;)i[n]._startTime===o&&i[n]._enabled(!1,!1);return this},o.removePause=function(t){return this.removeCallback(e._internals.pauseCallback,t)},o.tweenTo=function(t,e){e=e||{};var i,n,o,r={ease:u,useFrames:this.usesFrames(),immediateRender:!1,lazy:!1},s=e.repeat&&l.TweenMax||a;for(n in e)r[n]=e[n];return r.time=this._parseTimeOrLabel(t),i=Math.abs(Number(r.time)-this._time)/this._timeScale||.001,o=new s(this,i,r),r.onStart=function(){o.target.paused(!0),o.vars.time===o.target.time()||i!==o.duration()||o.isFromTo||o.duration(Math.abs(o.vars.time-o.target.time())/o.target._timeScale).render(o.time(),!0,!0),e.onStart&&e.onStart.apply(e.onStartScope||e.callbackScope||o,e.onStartParams||[])},o},o.tweenFromTo=function(t,e,i){i=i||{},t=this._parseTimeOrLabel(t),i.startAt={onComplete:this.seek,onCompleteParams:[t],callbackScope:this},i.immediateRender=!1!==i.immediateRender;var n=this.tweenTo(e,i);return n.isFromTo=1,n.duration(Math.abs(n.vars.time-t)/this._timeScale||.001)},o.render=function(t,e,i){this._gc&&this._enabled(!0,!1);var n,o,r,s,a,l,u,h,c=this._time,p=this._dirty?this.totalDuration():this._totalDuration,d=this._duration,f=this._totalTime,m=this._startTime,g=this._timeScale,v=this._rawPrevTime,y=this._paused,_=this._cycle;if(c!==this._time&&(t+=this._time-c),p-1e-7<=t&&0<=t)this._locked||(this._totalTime=p,this._cycle=this._repeat),this._reversed||this._hasPausedChild()||(o=!0,s="onComplete",a=!!this._timeline.autoRemoveChildren,0===this._duration&&(t<=0&&-1e-7<=t||v<0||1e-10===v)&&v!==t&&this._first&&(a=!0,1e-10<v&&(s="onReverseComplete"))),this._rawPrevTime=this._duration||!e||t||this._rawPrevTime===t?t:1e-10,this._yoyo&&0!=(1&this._cycle)?this._time=t=0:t=(this._time=d)+1e-4;else if(t<1e-7)if(this._locked||(this._totalTime=this._cycle=0),((this._time=0)!==c||0===d&&1e-10!==v&&(0<v||t<0&&0<=v)&&!this._locked)&&(s="onReverseComplete",o=this._reversed),t<0)this._active=!1,this._timeline.autoRemoveChildren&&this._reversed?(a=o=!0,s="onReverseComplete"):0<=v&&this._first&&(a=!0),this._rawPrevTime=t;else{if(this._rawPrevTime=d||!e||t||this._rawPrevTime===t?t:1e-10,0===t&&o)for(n=this._first;n&&0===n._startTime;)n._duration||(o=!1),n=n._next;t=0,this._initted||(a=!0)}else if(0===d&&v<0&&(a=!0),this._time=this._rawPrevTime=t,this._locked||(this._totalTime=t,0!==this._repeat&&(l=d+this._repeatDelay,this._cycle=this._totalTime/l>>0,0!==this._cycle&&this._cycle===this._totalTime/l&&f<=t&&this._cycle--,this._time=this._totalTime-this._cycle*l,this._yoyo&&0!=(1&this._cycle)&&(this._time=d-this._time),this._time>d?t=(this._time=d)+1e-4:this._time<0?this._time=t=0:t=this._time)),this._hasPause&&!this._forcingPlayhead&&!e){if(c<=(t=this._time)||this._repeat&&_!==this._cycle)for(n=this._first;n&&n._startTime<=t&&!u;)n._duration||"isPause"!==n.data||n.ratio||0===n._startTime&&0===this._rawPrevTime||(u=n),n=n._next;else for(n=this._last;n&&n._startTime>=t&&!u;)n._duration||"isPause"===n.data&&0<n._rawPrevTime&&(u=n),n=n._prev;u&&u._startTime<d&&(this._time=t=u._startTime,this._totalTime=t+this._cycle*(this._totalDuration+this._repeatDelay))}if(this._cycle!==_&&!this._locked){var b=this._yoyo&&0!=(1&_),x=b===(this._yoyo&&0!=(1&this._cycle)),w=this._totalTime,T=this._cycle,k=this._rawPrevTime,C=this._time;if(this._totalTime=_*d,this._cycle<_?b=!b:this._totalTime+=d,this._time=c,this._rawPrevTime=0===d?v-1e-4:v,this._cycle=_,this._locked=!0,c=b?0:d,this.render(c,e,0===d),e||this._gc||this.vars.onRepeat&&(this._cycle=T,this._locked=!1,this._callback("onRepeat")),c!==this._time)return;if(x&&(this._cycle=_,this._locked=!0,c=b?d+1e-4:-1e-4,this.render(c,!0,!1)),this._locked=!1,this._paused&&!y)return;this._time=C,this._totalTime=w,this._cycle=T,this._rawPrevTime=k}if(this._time!==c&&this._first||i||a||u){if(this._initted||(this._initted=!0),this._active||!this._paused&&this._totalTime!==f&&0<t&&(this._active=!0),0===f&&this.vars.onStart&&(0===this._totalTime&&this._totalDuration||e||this._callback("onStart")),c<=(h=this._time))for(n=this._first;n&&(r=n._next,h===this._time&&(!this._paused||y));)(n._active||n._startTime<=this._time&&!n._paused&&!n._gc)&&(u===n&&this.pause(),n._reversed?n.render((n._dirty?n.totalDuration():n._totalDuration)-(t-n._startTime)*n._timeScale,e,i):n.render((t-n._startTime)*n._timeScale,e,i)),n=r;else for(n=this._last;n&&(r=n._prev,h===this._time&&(!this._paused||y));){if(n._active||n._startTime<=c&&!n._paused&&!n._gc){if(u===n){for(u=n._prev;u&&u.endTime()>this._time;)u.render(u._reversed?u.totalDuration()-(t-u._startTime)*u._timeScale:(t-u._startTime)*u._timeScale,e,i),u=u._prev;u=null,this.pause()}n._reversed?n.render((n._dirty?n.totalDuration():n._totalDuration)-(t-n._startTime)*n._timeScale,e,i):n.render((t-n._startTime)*n._timeScale,e,i)}n=r}this._onUpdate&&(e||(S.length&&E(),this._callback("onUpdate"))),s&&(this._locked||this._gc||(m===this._startTime||g!==this._timeScale)&&(0===this._time||p>=this.totalDuration())&&(o&&(S.length&&E(),this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[s]&&this._callback(s)))}else f!==this._totalTime&&this._onUpdate&&(e||this._callback("onUpdate"))},o.getActive=function(t,e,i){null==t&&(t=!0),null==e&&(e=!0),null==i&&(i=!1);var n,o,r=[],s=this.getChildren(t,e,i),a=0,l=s.length;for(n=0;n<l;n++)(o=s[n]).isActive()&&(r[a++]=o);return r},o.getLabelAfter=function(t){t||0!==t&&(t=this._time);var e,i=this.getLabelsArray(),n=i.length;for(e=0;e<n;e++)if(i[e].time>t)return i[e].name;return null},o.getLabelBefore=function(t){null==t&&(t=this._time);for(var e=this.getLabelsArray(),i=e.length;-1<--i;)if(e[i].time<t)return e[i].name;return null},o.getLabelsArray=function(){var t,e=[],i=0;for(t in this._labels)e[i++]={time:this._labels[t],name:t};return e.sort(function(t,e){return t.time-e.time}),e},o.invalidate=function(){return this._locked=!1,e.prototype.invalidate.call(this)},o.progress=function(t,e){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&0!=(1&this._cycle)?1-t:t)+this._cycle*(this._duration+this._repeatDelay),e):this._time/this.duration()||0},o.totalProgress=function(t,e){return arguments.length?this.totalTime(this.totalDuration()*t,e):this._totalTime/this.totalDuration()||0},o.totalDuration=function(t){return arguments.length?-1!==this._repeat&&t?this.timeScale(this.totalDuration()/t):this:(this._dirty&&(e.prototype.totalDuration.call(this),this._totalDuration=-1===this._repeat?999999999999:this._duration*(this._repeat+1)+this._repeatDelay*this._repeat),this._totalDuration)},o.time=function(t,e){return arguments.length?(this._dirty&&this.totalDuration(),t>this._duration&&(t=this._duration),this._yoyo&&0!=(1&this._cycle)?t=this._duration-t+this._cycle*(this._duration+this._repeatDelay):0!==this._repeat&&(t+=this._cycle*(this._duration+this._repeatDelay)),this.totalTime(t,e)):this._time},o.repeat=function(t){return arguments.length?(this._repeat=t,this._uncache(!0)):this._repeat},o.repeatDelay=function(t){return arguments.length?(this._repeatDelay=t,this._uncache(!0)):this._repeatDelay},o.yoyo=function(t){return arguments.length?(this._yoyo=t,this):this._yoyo},o.currentLabel=function(t){return arguments.length?this.seek(t,!0):this.getLabelBefore(this._time+1e-8)},i},!0),T=180/Math.PI,x=[],w=[],k=[],v={},i=_gsScope._gsDefine.globals,y=function(t,e,i,n){i===n&&(i=n-(n-e)/1e6),t===e&&(e=t+(i-t)/1e6),this.a=t,this.b=e,this.c=i,this.d=n,this.da=n-t,this.ca=i-t,this.ba=e-t},C=function(t,e,i,n){var o={a:t},r={},s={},a={c:n},l=(t+e)/2,u=(e+i)/2,h=(i+n)/2,c=(l+u)/2,p=(u+h)/2,d=(p-c)/8;return o.b=l+(t-l)/4,r.b=c+d,o.c=r.a=(o.b+r.b)/2,r.c=s.a=(c+p)/2,s.b=p-d,a.b=h+(n-h)/4,s.c=a.a=(s.b+a.b)/2,[o,r,s,a]},_=function(t,e,i,n,o){var r,s,a,l,u,h,c,p,d,f,m,g,v,y=t.length-1,_=0,b=t[0].a;for(r=0;r<y;r++)s=(u=t[_]).a,a=u.d,l=t[_+1].d,p=o?(m=x[r],v=((g=w[r])+m)*e*.25/(n?.5:k[r]||.5),a-((h=a-(a-s)*(n?.5*e:0!==m?v/m:0))+(((c=a+(l-a)*(n?.5*e:0!==g?v/g:0))-h)*(3*m/(m+g)+.5)/4||0))):a-((h=a-(a-s)*e*.5)+(c=a+(l-a)*e*.5))/2,h+=p,c+=p,u.c=d=h,u.b=0!==r?b:b=u.a+.6*(u.c-u.a),u.da=a-s,u.ca=d-s,u.ba=b-s,i?(f=C(s,b,d,a),t.splice(_,1,f[0],f[1],f[2],f[3]),_+=4):_++,b=c;(u=t[_]).b=b,u.c=b+.4*(u.d-b),u.da=u.d-u.a,u.ca=u.c-u.a,u.ba=b-u.a,i&&(f=C(u.a,b,u.c,u.d),t.splice(_,1,f[0],f[1],f[2],f[3]))},b=function(t,e,i,n){var o,r,s,a,l,u,h=[];if(n)for(r=(t=[n].concat(t)).length;-1<--r;)"string"==typeof(u=t[r][e])&&"="===u.charAt(1)&&(t[r][e]=n[e]+Number(u.charAt(0)+u.substr(2)));if((o=t.length-2)<0)return h[0]=new y(t[0][e],0,0,t[0][e]),h;for(r=0;r<o;r++)s=t[r][e],a=t[r+1][e],h[r]=new y(s,0,0,a),i&&(l=t[r+2][e],x[r]=(x[r]||0)+(a-s)*(a-s),w[r]=(w[r]||0)+(l-a)*(l-a));return h[r]=new y(t[r][e],0,0,t[r+1][e]),h},d=function(t,e,i,n,o,r){var s,a,l,u,h,c,p,d,f={},m=[],g=r||t[0];for(a in o="string"==typeof o?","+o+",":",x,y,z,left,top,right,bottom,marginTop,marginLeft,marginRight,marginBottom,paddingLeft,paddingTop,paddingRight,paddingBottom,backgroundPosition,backgroundPosition_y,",null==e&&(e=1),t[0])m.push(a);if(1<t.length){for(d=t[t.length-1],p=!0,s=m.length;-1<--s;)if(a=m[s],.05<Math.abs(g[a]-d[a])){p=!1;break}p&&(t=t.concat(),r&&t.unshift(r),t.push(t[1]),r=t[t.length-3])}for(x.length=w.length=k.length=0,s=m.length;-1<--s;)a=m[s],v[a]=-1!==o.indexOf(","+a+","),f[a]=b(t,a,v[a],r);for(s=x.length;-1<--s;)x[s]=Math.sqrt(x[s]),w[s]=Math.sqrt(w[s]);if(!n){for(s=m.length;-1<--s;)if(v[a])for(c=(l=f[m[s]]).length-1,u=0;u<c;u++)h=l[u+1].da/w[u]+l[u].da/x[u]||0,k[u]=(k[u]||0)+h*h;for(s=k.length;-1<--s;)k[s]=Math.sqrt(k[s])}for(s=m.length,u=i?4:1;-1<--s;)l=f[a=m[s]],_(l,e,i,n,v[a]),p&&(l.splice(0,u),l.splice(l.length-u,u));return f},f=function(t,e,i){for(var n,o,r,s,a,l,u,h,c,p,d,f=1/i,m=t.length;-1<--m;)for(r=(p=t[m]).a,s=p.d-r,a=p.c-r,l=p.b-r,n=o=0,h=1;h<=i;h++)n=o-(o=((u=f*h)*u*s+3*(c=1-u)*(u*a+c*l))*u),e[d=m*i+h-1]=(e[d]||0)+n*n},g=_gsScope._gsDefine.plugin({propName:"bezier",priority:-1,version:"1.3.8",API:2,global:!0,init:function(t,e,i){this._target=t,e instanceof Array&&(e={values:e}),this._func={},this._mod={},this._props=[],this._timeRes=null==e.timeResolution?6:parseInt(e.timeResolution,10);var n,o,r,s,a,l=e.values||[],u={},h=l[0],c=e.autoRotate||i.vars.orientToBezier;for(n in this._autoRotate=c?c instanceof Array?c:[["x","y","rotation",!0===c?0:Number(c)||0]]:null,h)this._props.push(n);for(r=this._props.length;-1<--r;)n=this._props[r],this._overwriteProps.push(n),o=this._func[n]="function"==typeof t[n],u[n]=o?t[n.indexOf("set")||"function"!=typeof t["get"+n.substr(3)]?n:"get"+n.substr(3)]():parseFloat(t[n]),a||u[n]!==l[0][n]&&(a=u);if(this._beziers="cubic"!==e.type&&"quadratic"!==e.type&&"soft"!==e.type?d(l,isNaN(e.curviness)?1:e.curviness,!1,"thruBasic"===e.type,e.correlate,a):function(t,e,i){var n,o,r,s,a,l,u,h,c,p,d,f={},m="cubic"===(e=e||"soft")?3:2,g="soft"===e,v=[];if(g&&i&&(t=[i].concat(t)),null==t||t.length<m+1)throw"invalid Bezier data";for(c in t[0])v.push(c);for(l=v.length;-1<--l;){for(f[c=v[l]]=a=[],p=0,h=t.length,u=0;u<h;u++)n=null==i?t[u][c]:"string"==typeof(d=t[u][c])&&"="===d.charAt(1)?i[c]+Number(d.charAt(0)+d.substr(2)):Number(d),g&&1<u&&u<h-1&&(a[p++]=(n+a[p-2])/2),a[p++]=n;for(h=p-m+1,u=p=0;u<h;u+=m)n=a[u],o=a[u+1],r=a[u+2],s=2===m?0:a[u+3],a[p++]=d=3===m?new y(n,o,r,s):new y(n,(2*o+n)/3,(2*o+r)/3,r);a.length=p}return f}(l,e.type,u),this._segCount=this._beziers[n].length,this._timeRes){var p=function(t,e){var i,n,o,r,s=[],a=[],l=0,u=0,h=(e=e>>0||6)-1,c=[],p=[];for(i in t)f(t[i],s,e);for(o=s.length,n=0;n<o;n++)l+=Math.sqrt(s[n]),p[r=n%e]=l,r===h&&(u+=l,c[r=n/e>>0]=p,a[r]=u,l=0,p=[]);return{length:u,lengths:a,segments:c}}(this._beziers,this._timeRes);this._length=p.length,this._lengths=p.lengths,this._segments=p.segments,this._l1=this._li=this._s1=this._si=0,this._l2=this._lengths[0],this._curSeg=this._segments[0],this._s2=this._curSeg[0],this._prec=1/this._curSeg.length}if(c=this._autoRotate)for(this._initialRotations=[],c[0]instanceof Array||(this._autoRotate=c=[c]),r=c.length;-1<--r;){for(s=0;s<3;s++)n=c[r][s],this._func[n]="function"==typeof t[n]&&t[n.indexOf("set")||"function"!=typeof t["get"+n.substr(3)]?n:"get"+n.substr(3)];n=c[r][2],this._initialRotations[r]=(this._func[n]?this._func[n].call(this._target):this._target[n])||0,this._overwriteProps.push(n)}return this._startRatio=i.vars.runBackwards?1:0,!0},set:function(t){var e,i,n,o,r,s,a,l,u,h,c=this._segCount,p=this._func,d=this._target,f=t!==this._startRatio;if(this._timeRes){if(u=this._lengths,h=this._curSeg,t*=this._length,n=this._li,t>this._l2&&n<c-1){for(l=c-1;n<l&&(this._l2=u[++n])<=t;);this._l1=u[n-1],this._li=n,this._curSeg=h=this._segments[n],this._s2=h[this._s1=this._si=0]}else if(t<this._l1&&0<n){for(;0<n&&(this._l1=u[--n])>=t;);0===n&&t<this._l1?this._l1=0:n++,this._l2=u[n],this._li=n,this._curSeg=h=this._segments[n],this._s1=h[(this._si=h.length-1)-1]||0,this._s2=h[this._si]}if(e=n,t-=this._l1,n=this._si,t>this._s2&&n<h.length-1){for(l=h.length-1;n<l&&(this._s2=h[++n])<=t;);this._s1=h[n-1],this._si=n}else if(t<this._s1&&0<n){for(;0<n&&(this._s1=h[--n])>=t;);0===n&&t<this._s1?this._s1=0:n++,this._s2=h[n],this._si=n}s=(n+(t-this._s1)/(this._s2-this._s1))*this._prec||0}else s=(t-(e=t<0?0:1<=t?c-1:c*t>>0)*(1/c))*c;for(i=1-s,n=this._props.length;-1<--n;)o=this._props[n],a=(s*s*(r=this._beziers[o][e]).da+3*i*(s*r.ca+i*r.ba))*s+r.a,this._mod[o]&&(a=this._mod[o](a,d)),p[o]?d[o](a):d[o]=a;if(this._autoRotate){var m,g,v,y,_,b,x,w=this._autoRotate;for(n=w.length;-1<--n;)o=w[n][2],b=w[n][3]||0,x=!0===w[n][4]?1:T,r=this._beziers[w[n][0]],m=this._beziers[w[n][1]],r&&m&&(r=r[e],m=m[e],g=r.a+(r.b-r.a)*s,g+=((y=r.b+(r.c-r.b)*s)-g)*s,y+=(r.c+(r.d-r.c)*s-y)*s,v=m.a+(m.b-m.a)*s,v+=((_=m.b+(m.c-m.b)*s)-v)*s,_+=(m.c+(m.d-m.c)*s-_)*s,a=f?Math.atan2(_-v,y-g)*x+b:this._initialRotations[n],this._mod[o]&&(a=this._mod[o](a,d)),p[o]?d[o](a):d[o]=a)}}}),n=g.prototype,g.bezierThrough=d,g.cubicToQuadratic=C,g._autoCSS=!0,g.quadraticToCubic=function(t,e,i){return new y(t,(2*e+t)/3,(2*e+i)/3,i)},g._cssRegister=function(){var t=i.CSSPlugin;if(t){var e=t._internals,d=e._parseToProxy,f=e._setPluginRatio,m=e.CSSPropTween;e._registerComplexSpecialProp("bezier",{parser:function(t,e,i,n,o,r){e instanceof Array&&(e={values:e}),r=new g;var s,a,l,u=e.values,h=u.length-1,c=[],p={};if(h<0)return o;for(s=0;s<=h;s++)l=d(t,u[s],n,o,r,h!==s),c[s]=l.end;for(a in e)p[a]=e[a];return p.values=c,(o=new m(t,"bezier",0,0,l.pt,2)).data=l,o.plugin=r,o.setRatio=f,0===p.autoRotate&&(p.autoRotate=!0),!p.autoRotate||p.autoRotate instanceof Array||(s=!0===p.autoRotate?0:Number(p.autoRotate),p.autoRotate=null!=l.end.left?[["left","top","rotation",s,!1]]:null!=l.end.x&&[["x","y","rotation",s,!1]]),p.autoRotate&&(n._transform||n._enableTransforms(!1),l.autoRotate=n._target._gsTransform,l.proxy.rotation=l.autoRotate.rotation||0,n._overwriteProps.push("rotation")),r._onInitTween(l.proxy,p,n._tween),o}})}},n._mod=function(t){for(var e,i=this._overwriteProps,n=i.length;-1<--n;)(e=t[i[n]])&&"function"==typeof e&&(this._mod[i[n]]=e)},n._kill=function(t){var e,i,n=this._props;for(e in this._beziers)if(e in t)for(delete this._beziers[e],delete this._func[e],i=n.length;-1<--i;)n[i]===e&&n.splice(i,1);if(n=this._autoRotate)for(i=n.length;-1<--i;)t[n[i][2]]&&n.splice(i,1);return this._super._kill.call(this,t)},_gsScope._gsDefine("plugins.CSSPlugin",["plugins.TweenPlugin","TweenLite"],function(r,B){var f,k,S,m,V=function(){r.call(this,"css"),this._overwriteProps.length=0,this.setRatio=V.prototype.setRatio},u=_gsScope._gsDefine.globals,g={},t=V.prototype=new r("css");(t.constructor=V).version="2.0.2",V.API=2,V.defaultTransformPerspective=0,V.defaultSkewType="compensated",V.defaultSmoothOrigin=!0,t="px",V.suffixMap={top:t,right:t,bottom:t,left:t,width:t,height:t,fontSize:t,padding:t,margin:t,perspective:t,lineHeight:""};var E,v,y,F,_,C,A,P,e,i,z=/(?:\-|\.|\b)(\d|\.|e\-)+/g,D=/(?:\d|\-\d|\.\d|\-\.\d|\+=\d|\-=\d|\+=.\d|\-=\.\d)+/g,b=/(?:\+=|\-=|\-|\b)[\d\-\.]+[a-zA-Z0-9]*(?:%|\b)/gi,h=/(?![+-]?\d*\.?\d+|[+-]|e[+-]\d+)[^0-9]/g,M=/(?:\d|\-|\+|=|#|\.)*/g,I=/opacity *= *([^)]*)/i,x=/opacity:([^;]*)/i,s=/alpha\(opacity *=.+?\)/i,w=/^(rgb|hsl)/,a=/([A-Z])/g,l=/-([a-z])/gi,T=/(^(?:url\(\"|url\())|(?:(\"\))$|\)$)/gi,c=function(t,e){return e.toUpperCase()},d=/(?:Left|Right|Width)/i,p=/(M11|M12|M21|M22)=[\d\-\.e]+/gi,O=/progid\:DXImageTransform\.Microsoft\.Matrix\(.+?\)/i,L=/,(?=[^\)]*(?:\(|$))/gi,R=/[\s,\(]/i,N=Math.PI/180,H=180/Math.PI,j={},n={style:{}},q=_gsScope.document||{createElement:function(){return n}},$=function(t,e){return q.createElementNS?q.createElementNS(e||"http://www.w3.org/1999/xhtml",t):q.createElement(t)},W=$("div"),U=$("img"),o=V._internals={_specialProps:g},Z=(_gsScope.navigator||{}).userAgent||"",X=(e=Z.indexOf("Android"),i=$("a"),y=-1!==Z.indexOf("Safari")&&-1===Z.indexOf("Chrome")&&(-1===e||3<parseFloat(Z.substr(e+8,2))),_=y&&parseFloat(Z.substr(Z.indexOf("Version/")+8,2))<6,F=-1!==Z.indexOf("Firefox"),(/MSIE ([0-9]{1,}[\.0-9]{0,})/.exec(Z)||/Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/.exec(Z))&&(C=parseFloat(RegExp.$1)),!!i&&(i.style.cssText="top:1px;opacity:.55;",/^0.55/.test(i.style.opacity))),G=function(t){return I.test("string"==typeof t?t:(t.currentStyle?t.currentStyle.filter:t.style.filter)||"")?parseFloat(RegExp.$1)/100:1},Y=function(t){_gsScope.console&&console.log(t)},K="",J="",Q=function(t,e){var i,n,o=(e=e||W).style;if(void 0!==o[t])return t;for(t=t.charAt(0).toUpperCase()+t.substr(1),i=["O","Moz","ms","Ms","Webkit"],n=5;-1<--n&&void 0===o[i[n]+t];);return 0<=n?(K="-"+(J=3===n?"ms":i[n]).toLowerCase()+"-",J+t):null},tt=("undefined"!=typeof window?window:q.defaultView||{getComputedStyle:function(){}}).getComputedStyle,et=V.getStyle=function(t,e,i,n,o){var r;return X||"opacity"!==e?(!n&&t.style[e]?r=t.style[e]:(i=i||tt(t))?r=i[e]||i.getPropertyValue(e)||i.getPropertyValue(e.replace(a,"-$1").toLowerCase()):t.currentStyle&&(r=t.currentStyle[e]),null==o||r&&"none"!==r&&"auto"!==r&&"auto auto"!==r?r:o):G(t)},it=o.convertToPixels=function(t,e,i,n,o){if("px"===n||!n&&"lineHeight"!==e)return i;if("auto"===n||!i)return 0;var r,s,a,l=d.test(e),u=t,h=W.style,c=i<0,p=1===i;if(c&&(i=-i),p&&(i*=100),"lineHeight"!==e||n)if("%"===n&&-1!==e.indexOf("border"))r=i/100*(l?t.clientWidth:t.clientHeight);else{if(h.cssText="border:0 solid red;position:"+et(t,"position")+";line-height:0;","%"!==n&&u.appendChild&&"v"!==n.charAt(0)&&"rem"!==n)h[l?"borderLeftWidth":"borderTopWidth"]=i+n;else{if(u=t.parentNode||q.body,-1!==et(u,"display").indexOf("flex")&&(h.position="absolute"),s=u._gsCache,a=B.ticker.frame,s&&l&&s.time===a)return s.width*i/100;h[l?"width":"height"]=i+n}u.appendChild(W),r=parseFloat(W[l?"offsetWidth":"offsetHeight"]),u.removeChild(W),l&&"%"===n&&!1!==V.cacheWidths&&((s=u._gsCache=u._gsCache||{}).time=a,s.width=r/i*100),0!==r||o||(r=it(t,e,i,n,!0))}else s=tt(t).lineHeight,t.style.lineHeight=i,r=parseFloat(tt(t).lineHeight),t.style.lineHeight=s;return p&&(r/=100),c?-r:r},nt=o.calculateOffset=function(t,e,i){if("absolute"!==et(t,"position",i))return 0;var n="left"===e?"Left":"Top",o=et(t,"margin"+n,i);return t["offset"+n]-(it(t,e,parseFloat(o),o.replace(M,""))||0)},ot=function(t,e){var i,n,o,r={};if(e=e||tt(t,null))if(i=e.length)for(;-1<--i;)(-1===(o=e[i]).indexOf("-transform")||Lt===o)&&(r[o.replace(l,c)]=e.getPropertyValue(o));else for(i in e)(-1===i.indexOf("Transform")||Ot===i)&&(r[i]=e[i]);else if(e=t.currentStyle||t.style)for(i in e)"string"==typeof i&&void 0===r[i]&&(r[i.replace(l,c)]=e[i]);return X||(r.opacity=G(t)),n=Xt(t,e,!1),r.rotation=n.rotation,r.skewX=n.skewX,r.scaleX=n.scaleX,r.scaleY=n.scaleY,r.x=n.x,r.y=n.y,Ft&&(r.z=n.z,r.rotationX=n.rotationX,r.rotationY=n.rotationY,r.scaleZ=n.scaleZ),r.filters&&delete r.filters,r},rt=function(t,e,i,n,o){var r,s,a,l={},u=t.style;for(s in i)"cssText"!==s&&"length"!==s&&isNaN(s)&&(e[s]!==(r=i[s])||o&&o[s])&&-1===s.indexOf("Origin")&&("number"==typeof r||"string"==typeof r)&&(l[s]="auto"!==r||"left"!==s&&"top"!==s?""!==r&&"auto"!==r&&"none"!==r||"string"!=typeof e[s]||""===e[s].replace(h,"")?r:0:nt(t,s),void 0!==u[s]&&(a=new bt(u,s,u[s],a)));if(n)for(s in n)"className"!==s&&(l[s]=n[s]);return{difs:l,firstMPT:a}},st={width:["Left","Right"],height:["Top","Bottom"]},at=["marginLeft","marginRight","marginTop","marginBottom"],lt=function(t,e,i){if("svg"===(t.nodeName+"").toLowerCase())return(i||tt(t))[e]||0;if(t.getCTM&&Wt(t))return t.getBBox()[e]||0;var n=parseFloat("width"===e?t.offsetWidth:t.offsetHeight),o=st[e],r=o.length;for(i=i||tt(t,null);-1<--r;)n-=parseFloat(et(t,"padding"+o[r],i,!0))||0,n-=parseFloat(et(t,"border"+o[r]+"Width",i,!0))||0;return n},ut=function(t,e){if("contain"===t||"auto"===t||"auto auto"===t)return t+" ";(null==t||""===t)&&(t="0 0");var i,n=t.split(" "),o=-1!==t.indexOf("left")?"0%":-1!==t.indexOf("right")?"100%":n[0],r=-1!==t.indexOf("top")?"0%":-1!==t.indexOf("bottom")?"100%":n[1];if(3<n.length&&!e){for(n=t.split(", ").join(",").split(","),t=[],i=0;i<n.length;i++)t.push(ut(n[i]));return t.join(",")}return null==r?r="center"===o?"50%":"0":"center"===r&&(r="50%"),("center"===o||isNaN(parseFloat(o))&&-1===(o+"").indexOf("="))&&(o="50%"),t=o+" "+r+(2<n.length?" "+n[2]:""),e&&(e.oxp=-1!==o.indexOf("%"),e.oyp=-1!==r.indexOf("%"),e.oxr="="===o.charAt(1),e.oyr="="===r.charAt(1),e.ox=parseFloat(o.replace(h,"")),e.oy=parseFloat(r.replace(h,"")),e.v=t),e||t},ht=function(t,e){return"function"==typeof t&&(t=t(P,A)),"string"==typeof t&&"="===t.charAt(1)?parseInt(t.charAt(0)+"1",10)*parseFloat(t.substr(2)):parseFloat(t)-parseFloat(e)||0},ct=function(t,e){"function"==typeof t&&(t=t(P,A));var i="string"==typeof t&&"="===t.charAt(1);return"string"==typeof t&&"v"===t.charAt(t.length-2)&&(t=(i?t.substr(0,2):0)+window["inner"+("vh"===t.substr(-2)?"Height":"Width")]*(parseFloat(i?t.substr(2):t)/100)),null==t?e:i?parseInt(t.charAt(0)+"1",10)*parseFloat(t.substr(2))+e:parseFloat(t)||0},pt=function(t,e,i,n){var o,r,s,a;return"function"==typeof t&&(t=t(P,A)),(s=null==t?e:"number"==typeof t?t:(360,o=t.split("_"),r=((a="="===t.charAt(1))?parseInt(t.charAt(0)+"1",10)*parseFloat(o[0].substr(2)):parseFloat(o[0]))*(-1===t.indexOf("rad")?1:H)-(a?0:e),o.length&&(n&&(n[i]=e+r),-1!==t.indexOf("short")&&((r%=360)!==r%180&&(r=r<0?r+360:r-360)),-1!==t.indexOf("_cw")&&r<0?r=(r+3599999999640)%360-360*(r/360|0):-1!==t.indexOf("ccw")&&0<r&&(r=(r-3599999999640)%360-360*(r/360|0))),e+r))<1e-6&&-1e-6<s&&(s=0),s},dt={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],fuchsia:[255,0,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},ft=function(t,e,i){return 255*(6*(t=t<0?t+1:1<t?t-1:t)<1?e+(i-e)*t*6:t<.5?i:3*t<2?e+(i-e)*(2/3-t)*6:e)+.5|0},mt=V.parseColor=function(t,e){var i,n,o,r,s,a,l,u,h,c,p;if(t)if("number"==typeof t)i=[t>>16,t>>8&255,255&t];else{if(","===t.charAt(t.length-1)&&(t=t.substr(0,t.length-1)),dt[t])i=dt[t];else if("#"===t.charAt(0))4===t.length&&(t="#"+(n=t.charAt(1))+n+(o=t.charAt(2))+o+(r=t.charAt(3))+r),i=[(t=parseInt(t.substr(1),16))>>16,t>>8&255,255&t];else if("hsl"===t.substr(0,3))if(i=p=t.match(z),e){if(-1!==t.indexOf("="))return t.match(D)}else s=Number(i[0])%360/360,a=Number(i[1])/100,n=2*(l=Number(i[2])/100)-(o=l<=.5?l*(a+1):l+a-l*a),3<i.length&&(i[3]=Number(i[3])),i[0]=ft(s+1/3,n,o),i[1]=ft(s,n,o),i[2]=ft(s-1/3,n,o);else i=t.match(z)||dt.transparent;i[0]=Number(i[0]),i[1]=Number(i[1]),i[2]=Number(i[2]),3<i.length&&(i[3]=Number(i[3]))}else i=dt.black;return e&&!p&&(n=i[0]/255,o=i[1]/255,r=i[2]/255,l=((u=Math.max(n,o,r))+(h=Math.min(n,o,r)))/2,u===h?s=a=0:(c=u-h,a=.5<l?c/(2-u-h):c/(u+h),s=u===n?(o-r)/c+(o<r?6:0):u===o?(r-n)/c+2:(n-o)/c+4,s*=60),i[0]=s+.5|0,i[1]=100*a+.5|0,i[2]=100*l+.5|0),i},gt=function(t,e){var i,n,o,r=t.match(vt)||[],s=0,a="";if(!r.length)return t;for(i=0;i<r.length;i++)n=r[i],s+=(o=t.substr(s,t.indexOf(n,s)-s)).length+n.length,3===(n=mt(n,e)).length&&n.push(1),a+=o+(e?"hsla("+n[0]+","+n[1]+"%,"+n[2]+"%,"+n[3]:"rgba("+n.join(","))+")";return a+t.substr(s)},vt="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3}){1,2}\\b";for(t in dt)vt+="|"+t+"\\b";vt=new RegExp(vt+")","gi"),V.colorStringFilter=function(t){var e,i=t[0]+" "+t[1];vt.test(i)&&(e=-1!==i.indexOf("hsl(")||-1!==i.indexOf("hsla("),t[0]=gt(t[0],e),t[1]=gt(t[1],e)),vt.lastIndex=0},B.defaultStringFilter||(B.defaultStringFilter=V.colorStringFilter);var yt=function(t,e,r,s){if(null==t)return function(t){return t};var a,l=e?(t.match(vt)||[""])[0]:"",u=t.split(l).join("").match(b)||[],h=t.substr(0,t.indexOf(u[0])),c=")"===t.charAt(t.length-1)?")":"",p=-1!==t.indexOf(" ")?" ":",",d=u.length,f=0<d?u[0].replace(z,""):"";return d?a=e?function(t){var e,i,n,o;if("number"==typeof t)t+=f;else if(s&&L.test(t)){for(o=t.replace(L,"|").split("|"),n=0;n<o.length;n++)o[n]=a(o[n]);return o.join(",")}if(e=(t.match(vt)||[l])[0],n=(i=t.split(e).join("").match(b)||[]).length,d>n--)for(;++n<d;)i[n]=r?i[(n-1)/2|0]:u[n];return h+i.join(p)+p+e+c+(-1!==t.indexOf("inset")?" inset":"")}:function(t){var e,i,n;if("number"==typeof t)t+=f;else if(s&&L.test(t)){for(i=t.replace(L,"|").split("|"),n=0;n<i.length;n++)i[n]=a(i[n]);return i.join(",")}if(n=(e=t.match(b)||[]).length,d>n--)for(;++n<d;)e[n]=r?e[(n-1)/2|0]:u[n];return h+e.join(p)+c}:function(t){return t}},_t=function(u){return u=u.split(","),function(t,e,i,n,o,r,s){var a,l=(e+"").split(" ");for(s={},a=0;a<4;a++)s[u[a]]=l[a]=l[a]||l[(a-1)/2>>0];return n.parse(t,s,o,r)}},bt=(o._setPluginRatio=function(t){this.plugin.setRatio(t);for(var e,i,n,o,r,s=this.data,a=s.proxy,l=s.firstMPT;l;)e=a[l.v],l.r?e=l.r(e):e<1e-6&&-1e-6<e&&(e=0),l.t[l.p]=e,l=l._next;if(s.autoRotate&&(s.autoRotate.rotation=s.mod?s.mod.call(this._tween,a.rotation,this.t,this._tween):a.rotation),1===t||0===t)for(l=s.firstMPT,r=1===t?"e":"b";l;){if((i=l.t).type){if(1===i.type){for(o=i.xs0+i.s+i.xs1,n=1;n<i.l;n++)o+=i["xn"+n]+i["xs"+(n+1)];i[r]=o}}else i[r]=i.s+i.xs0;l=l._next}},function(t,e,i,n,o){this.t=t,this.p=e,this.v=i,this.r=o,n&&((n._prev=this)._next=n)}),xt=(o._parseToProxy=function(t,e,i,n,o,r){var s,a,l,u,h,c=n,p={},d={},f=i._transform,m=j;for(i._transform=null,j=e,n=h=i.parse(t,e,n,o),j=m,r&&(i._transform=f,c&&(c._prev=null,c._prev&&(c._prev._next=null)));n&&n!==c;){if(n.type<=1&&(d[a=n.p]=n.s+n.c,p[a]=n.s,r||(u=new bt(n,"s",a,u,n.r),n.c=0),1===n.type))for(s=n.l;0<--s;)l="xn"+s,d[a=n.p+"_"+l]=n.data[l],p[a]=n[l],r||(u=new bt(n,l,a,u,n.rxp[l]));n=n._next}return{proxy:p,end:d,firstMPT:u,pt:h}},o.CSSPropTween=function(t,e,i,n,o,r,s,a,l,u,h){this.t=t,this.p=e,this.s=i,this.c=n,this.n=s||e,t instanceof xt||m.push(this.n),this.r=a?"function"==typeof a?a:Math.round:a,this.type=r||0,l&&(this.pr=l,f=!0),this.b=void 0===u?i:u,this.e=void 0===h?i+n:h,o&&((this._next=o)._prev=this)}),wt=function(t,e,i,n,o,r){var s=new xt(t,e,i,n-i,o,-1,r);return s.b=i,s.e=s.xs0=n,s},Tt=V.parseComplex=function(t,e,i,n,o,r,s,a,l,u){i=i||r||"","function"==typeof n&&(n=n(P,A)),s=new xt(t,e,0,0,s,u?2:1,null,!1,a,i,n),n+="",o&&vt.test(n+i)&&(n=[i,n],V.colorStringFilter(n),i=n[0],n=n[1]);var h,c,p,d,f,m,g,v,y,_,b,x,w,T=i.split(", ").join(",").split(" "),k=n.split(", ").join(",").split(" "),C=T.length,S=!1!==E;for((-1!==n.indexOf(",")||-1!==i.indexOf(","))&&(k=-1!==(n+i).indexOf("rgb")||-1!==(n+i).indexOf("hsl")?(T=T.join(" ").replace(L,", ").split(" "),k.join(" ").replace(L,", ").split(" ")):(T=T.join(" ").split(",").join(", ").split(" "),k.join(" ").split(",").join(", ").split(" ")),C=T.length),C!==k.length&&(C=(T=(r||"").split(" ")).length),s.plugin=l,s.setRatio=u,h=vt.lastIndex=0;h<C;h++)if(d=T[h],f=k[h]+"",(v=parseFloat(d))||0===v)s.appendXtra("",v,ht(f,v),f.replace(D,""),!(!S||-1===f.indexOf("px"))&&Math.round,!0);else if(o&&vt.test(d))x=")"+((x=f.indexOf(")")+1)?f.substr(x):""),w=-1!==f.indexOf("hsl")&&X,_=f,d=mt(d,w),f=mt(f,w),(y=6<d.length+f.length)&&!X&&0===f[3]?(s["xs"+s.l]+=s.l?" transparent":"transparent",s.e=s.e.split(k[h]).join("transparent")):(X||(y=!1),w?s.appendXtra(_.substr(0,_.indexOf("hsl"))+(y?"hsla(":"hsl("),d[0],ht(f[0],d[0]),",",!1,!0).appendXtra("",d[1],ht(f[1],d[1]),"%,",!1).appendXtra("",d[2],ht(f[2],d[2]),y?"%,":"%"+x,!1):s.appendXtra(_.substr(0,_.indexOf("rgb"))+(y?"rgba(":"rgb("),d[0],f[0]-d[0],",",Math.round,!0).appendXtra("",d[1],f[1]-d[1],",",Math.round).appendXtra("",d[2],f[2]-d[2],y?",":x,Math.round),y&&(d=d.length<4?1:d[3],s.appendXtra("",d,(f.length<4?1:f[3])-d,x,!1))),vt.lastIndex=0;else if(m=d.match(z)){if(!(g=f.match(D))||g.length!==m.length)return s;for(c=p=0;c<m.length;c++)b=m[c],_=d.indexOf(b,p),s.appendXtra(d.substr(p,_-p),Number(b),ht(g[c],b),"",!(!S||"px"!==d.substr(_+b.length,2))&&Math.round,0===c),p=_+b.length;s["xs"+s.l]+=d.substr(p)}else s["xs"+s.l]+=s.l||s["xs"+s.l]?" "+f:f;if(-1!==n.indexOf("=")&&s.data){for(x=s.xs0+s.data.s,h=1;h<s.l;h++)x+=s["xs"+h]+s.data["xn"+h];s.e=x+s["xs"+h]}return s.l||(s.type=-1,s.xs0=s.e),s.xfirst||s},kt=9;for((t=xt.prototype).l=t.pr=0;0<--kt;)t["xn"+kt]=0,t["xs"+kt]="";t.xs0="",t._next=t._prev=t.xfirst=t.data=t.plugin=t.setRatio=t.rxp=null,t.appendXtra=function(t,e,i,n,o,r){var s=this,a=s.l;return s["xs"+a]+=r&&(a||s["xs"+a])?" "+t:t||"",i||0===a||s.plugin?(s.l++,s.type=s.setRatio?2:1,s["xs"+s.l]=n||"",0<a?(s.data["xn"+a]=e+i,s.rxp["xn"+a]=o,s["xn"+a]=e,s.plugin||(s.xfirst=new xt(s,"xn"+a,e,i,s.xfirst||s,0,s.n,o,s.pr),s.xfirst.xs0=0)):(s.data={s:e+i},s.rxp={},s.s=e,s.c=i,s.r=o)):s["xs"+a]+=e+(n||""),s};var Ct=function(t,e){e=e||{},this.p=e.prefix&&Q(t)||t,g[t]=g[this.p]=this,this.format=e.formatter||yt(e.defaultValue,e.color,e.collapsible,e.multi),e.parser&&(this.parse=e.parser),this.clrs=e.color,this.multi=e.multi,this.keyword=e.keyword,this.dflt=e.defaultValue,this.pr=e.priority||0},St=o._registerComplexSpecialProp=function(t,e,i){"object"!=typeof e&&(e={parser:i});var n,o=t.split(","),r=e.defaultValue;for(i=i||[r],n=0;n<o.length;n++)e.prefix=0===n&&e.prefix,e.defaultValue=i[n]||r,new Ct(o[n],e)},Et=o._registerPluginProp=function(t){if(!g[t]){var l=t.charAt(0).toUpperCase()+t.substr(1)+"Plugin";St(t,{parser:function(t,e,i,n,o,r,s){var a=u.com.greensock.plugins[l];return a?(a._cssRegister(),g[i].parse(t,e,i,n,o,r,s)):(Y("Error: "+l+" js file not loaded."),o)}})}};(t=Ct.prototype).parseComplex=function(t,e,i,n,o,r){var s,a,l,u,h,c,p=this.keyword;if(this.multi&&(L.test(i)||L.test(e)?(a=e.replace(L,"|").split("|"),l=i.replace(L,"|").split("|")):p&&(a=[e],l=[i])),l){for(u=l.length>a.length?l.length:a.length,s=0;s<u;s++)e=a[s]=a[s]||this.dflt,i=l[s]=l[s]||this.dflt,p&&((h=e.indexOf(p))!==(c=i.indexOf(p))&&(-1===c?a[s]=a[s].split(p).join(""):-1===h&&(a[s]+=" "+p)));e=a.join(", "),i=l.join(", ")}return Tt(t,this.p,e,i,this.clrs,this.dflt,n,this.pr,o,r)},t.parse=function(t,e,i,n,o,r,s){return this.parseComplex(t.style,this.format(et(t,this.p,S,!1,this.dflt)),this.format(e),o,r)},V.registerSpecialProp=function(t,l,u){St(t,{parser:function(t,e,i,n,o,r,s){var a=new xt(t,i,0,0,o,2,i,!1,u);return a.plugin=r,a.setRatio=l(t,e,n._tween,i),a},priority:u})},V.useSVGTransformAttr=!0;var At,Pt,zt,Dt,Mt,It="scaleX,scaleY,scaleZ,x,y,z,skewX,skewY,rotation,rotationX,rotationY,perspective,xPercent,yPercent".split(","),Ot=Q("transform"),Lt=K+"transform",Rt=Q("transformOrigin"),Ft=null!==Q("perspective"),Nt=o.Transform=function(){this.perspective=parseFloat(V.defaultTransformPerspective)||0,this.force3D=!(!1===V.defaultForce3D||!Ft)&&(V.defaultForce3D||"auto")},jt=_gsScope.SVGElement,Bt=function(t,e,i){var n,o=q.createElementNS("http://www.w3.org/2000/svg",t),r=/([a-z])([A-Z])/g;for(n in i)o.setAttributeNS(null,n.replace(r,"$1-$2").toLowerCase(),i[n]);return e.appendChild(o),o},Vt=q.documentElement||{},Ht=(Mt=C||/Android/i.test(Z)&&!_gsScope.chrome,q.createElementNS&&!Mt&&(Pt=Bt("svg",Vt),Dt=(zt=Bt("rect",Pt,{width:100,height:50,x:100})).getBoundingClientRect().width,zt.style[Rt]="50% 50%",zt.style[Ot]="scaleX(0.5)",Mt=Dt===zt.getBoundingClientRect().width&&!(F&&Ft),Vt.removeChild(Pt)),Mt),qt=function(t,e,i,n,o,r){var s,a,l,u,h,c,p,d,f,m,g,v,y,_,b=t._gsTransform,x=Zt(t,!0);b&&(y=b.xOrigin,_=b.yOrigin),(!n||(s=n.split(" ")).length<2)&&(0===(p=t.getBBox()).x&&0===p.y&&p.width+p.height===0&&(p={x:parseFloat(t.hasAttribute("x")?t.getAttribute("x"):t.hasAttribute("cx")?t.getAttribute("cx"):0)||0,y:parseFloat(t.hasAttribute("y")?t.getAttribute("y"):t.hasAttribute("cy")?t.getAttribute("cy"):0)||0,width:0,height:0}),s=[(-1!==(e=ut(e).split(" "))[0].indexOf("%")?parseFloat(e[0])/100*p.width:parseFloat(e[0]))+p.x,(-1!==e[1].indexOf("%")?parseFloat(e[1])/100*p.height:parseFloat(e[1]))+p.y]),i.xOrigin=u=parseFloat(s[0]),i.yOrigin=h=parseFloat(s[1]),n&&x!==Ut&&(c=x[0],p=x[1],d=x[2],f=x[3],m=x[4],g=x[5],(v=c*f-p*d)&&(a=u*(f/v)+h*(-d/v)+(d*g-f*m)/v,l=u*(-p/v)+h*(c/v)-(c*g-p*m)/v,u=i.xOrigin=s[0]=a,h=i.yOrigin=s[1]=l)),b&&(r&&(i.xOffset=b.xOffset,i.yOffset=b.yOffset,b=i),o||!1!==o&&!1!==V.defaultSmoothOrigin?(a=u-y,l=h-_,b.xOffset+=a*x[0]+l*x[2]-a,b.yOffset+=a*x[1]+l*x[3]-l):b.xOffset=b.yOffset=0),r||t.setAttribute("data-svg-origin",s.join(" "))},$t=function(t){var e,i=$("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),n=this.parentNode,o=this.nextSibling,r=this.style.cssText;if(Vt.appendChild(i),i.appendChild(this),this.style.display="block",t)try{e=this.getBBox(),this._originalGetBBox=this.getBBox,this.getBBox=$t}catch(t){}else this._originalGetBBox&&(e=this._originalGetBBox());return o?n.insertBefore(this,o):n.appendChild(this),Vt.removeChild(i),this.style.cssText=r,e},Wt=function(t){return!(!jt||!t.getCTM||t.parentNode&&!t.ownerSVGElement||!function(e){try{return e.getBBox()}catch(t){return $t.call(e,!0)}}(t))},Ut=[1,0,0,1,0,0],Zt=function(t,e){var i,n,o,r,s,a,l=t._gsTransform||new Nt,u=t.style;if(Ot?n=et(t,Lt,null,!0):t.currentStyle&&(n=(n=t.currentStyle.filter.match(p))&&4===n.length?[n[0].substr(4),Number(n[2].substr(4)),Number(n[1].substr(4)),n[3].substr(4),l.x||0,l.y||0].join(","):""),i=!n||"none"===n||"matrix(1, 0, 0, 1, 0, 0)"===n,!Ot||!(a=!tt(t)||"none"===tt(t).display)&&t.parentNode||(a&&(r=u.display,u.display="block"),t.parentNode||(s=1,Vt.appendChild(t)),i=!(n=et(t,Lt,null,!0))||"none"===n||"matrix(1, 0, 0, 1, 0, 0)"===n,r?u.display=r:a&&Jt(u,"display"),s&&Vt.removeChild(t)),(l.svg||t.getCTM&&Wt(t))&&(i&&-1!==(u[Ot]+"").indexOf("matrix")&&(n=u[Ot],i=0),o=t.getAttribute("transform"),i&&o&&(n="matrix("+(o=t.transform.baseVal.consolidate().matrix).a+","+o.b+","+o.c+","+o.d+","+o.e+","+o.f+")",i=0)),i)return Ut;for(o=(n||"").match(z)||[],kt=o.length;-1<--kt;)r=Number(o[kt]),o[kt]=(s=r-(r|=0))?(1e5*s+(s<0?-.5:.5)|0)/1e5+r:r;return e&&6<o.length?[o[0],o[1],o[4],o[5],o[12],o[13]]:o},Xt=o.getTransform=function(t,e,i,n){if(t._gsTransform&&i&&!n)return t._gsTransform;var o,r,s,a,l,u,h=i&&t._gsTransform||new Nt,c=h.scaleX<0,p=Ft&&(parseFloat(et(t,Rt,e,!1,"0 0 0").split(" ")[2])||h.zOrigin)||0,d=parseFloat(V.defaultTransformPerspective)||0;if(h.svg=!(!t.getCTM||!Wt(t)),h.svg&&(qt(t,et(t,Rt,e,!1,"50% 50%")+"",h,t.getAttribute("data-svg-origin")),At=V.useSVGTransformAttr||Ht),(o=Zt(t))!==Ut){if(16===o.length){var f,m,g,v,y,_=o[0],b=o[1],x=o[2],w=o[3],T=o[4],k=o[5],C=o[6],S=o[7],E=o[8],A=o[9],P=o[10],z=o[12],D=o[13],M=o[14],I=o[11],O=Math.atan2(C,P);h.zOrigin&&(z=E*(M=-h.zOrigin)-o[12],D=A*M-o[13],M=P*M+h.zOrigin-o[14]),h.rotationX=O*H,O&&(f=T*(v=Math.cos(-O))+E*(y=Math.sin(-O)),m=k*v+A*y,g=C*v+P*y,E=T*-y+E*v,A=k*-y+A*v,P=C*-y+P*v,I=S*-y+I*v,T=f,k=m,C=g),O=Math.atan2(-x,P),h.rotationY=O*H,O&&(m=b*(v=Math.cos(-O))-A*(y=Math.sin(-O)),g=x*v-P*y,A=b*y+A*v,P=x*y+P*v,I=w*y+I*v,_=f=_*v-E*y,b=m,x=g),O=Math.atan2(b,_),h.rotation=O*H,O&&(f=_*(v=Math.cos(O))+b*(y=Math.sin(O)),m=T*v+k*y,g=E*v+A*y,b=b*v-_*y,k=k*v-T*y,A=A*v-E*y,_=f,T=m,E=g),h.rotationX&&359.9<Math.abs(h.rotationX)+Math.abs(h.rotation)&&(h.rotationX=h.rotation=0,h.rotationY=180-h.rotationY),O=Math.atan2(T,k),h.scaleX=(1e5*Math.sqrt(_*_+b*b+x*x)+.5|0)/1e5,h.scaleY=(1e5*Math.sqrt(k*k+C*C)+.5|0)/1e5,h.scaleZ=(1e5*Math.sqrt(E*E+A*A+P*P)+.5|0)/1e5,_/=h.scaleX,T/=h.scaleY,b/=h.scaleX,k/=h.scaleY,2e-5<Math.abs(O)?(h.skewX=O*H,T=0,"simple"!==h.skewType&&(h.scaleY*=1/Math.cos(O))):h.skewX=0,h.perspective=I?1/(I<0?-I:I):0,h.x=z,h.y=D,h.z=M,h.svg&&(h.x-=h.xOrigin-(h.xOrigin*_-h.yOrigin*T),h.y-=h.yOrigin-(h.yOrigin*b-h.xOrigin*k))}else if(!Ft||n||!o.length||h.x!==o[4]||h.y!==o[5]||!h.rotationX&&!h.rotationY){var L=6<=o.length,R=L?o[0]:1,F=o[1]||0,N=o[2]||0,j=L?o[3]:1;h.x=o[4]||0,h.y=o[5]||0,s=Math.sqrt(R*R+F*F),a=Math.sqrt(j*j+N*N),l=R||F?Math.atan2(F,R)*H:h.rotation||0,u=N||j?Math.atan2(N,j)*H+l:h.skewX||0,h.scaleX=s,h.scaleY=a,h.rotation=l,h.skewX=u,Ft&&(h.rotationX=h.rotationY=h.z=0,h.perspective=d,h.scaleZ=1),h.svg&&(h.x-=h.xOrigin-(h.xOrigin*R+h.yOrigin*N),h.y-=h.yOrigin-(h.xOrigin*F+h.yOrigin*j))}for(r in 90<Math.abs(h.skewX)&&Math.abs(h.skewX)<270&&(c?(h.scaleX*=-1,h.skewX+=h.rotation<=0?180:-180,h.rotation+=h.rotation<=0?180:-180):(h.scaleY*=-1,h.skewX+=h.skewX<=0?180:-180)),h.zOrigin=p,h)h[r]<2e-5&&-2e-5<h[r]&&(h[r]=0)}return i&&((t._gsTransform=h).svg&&(At&&t.style[Ot]?B.delayedCall(.001,function(){Jt(t.style,Ot)}):!At&&t.getAttribute("transform")&&B.delayedCall(.001,function(){t.removeAttribute("transform")}))),h},Gt=function(t){var e,i,n=this.data,o=-n.rotation*N,r=o+n.skewX*N,s=(Math.cos(o)*n.scaleX*1e5|0)/1e5,a=(Math.sin(o)*n.scaleX*1e5|0)/1e5,l=(Math.sin(r)*-n.scaleY*1e5|0)/1e5,u=(Math.cos(r)*n.scaleY*1e5|0)/1e5,h=this.t.style,c=this.t.currentStyle;if(c){i=a,a=-l,l=-i,e=c.filter,h.filter="";var p,d,f=this.t.offsetWidth,m=this.t.offsetHeight,g="absolute"!==c.position,v="progid:DXImageTransform.Microsoft.Matrix(M11="+s+", M12="+a+", M21="+l+", M22="+u,y=n.x+f*n.xPercent/100,_=n.y+m*n.yPercent/100;if(null!=n.ox&&(y+=(p=(n.oxp?f*n.ox*.01:n.ox)-f/2)-(p*s+(d=(n.oyp?m*n.oy*.01:n.oy)-m/2)*a),_+=d-(p*l+d*u)),g?v+=", Dx="+((p=f/2)-(p*s+(d=m/2)*a)+y)+", Dy="+(d-(p*l+d*u)+_)+")":v+=", sizingMethod='auto expand')",-1!==e.indexOf("DXImageTransform.Microsoft.Matrix(")?h.filter=e.replace(O,v):h.filter=v+" "+e,(0===t||1===t)&&1===s&&0===a&&0===l&&1===u&&(g&&-1===v.indexOf("Dx=0, Dy=0")||I.test(e)&&100!==parseFloat(RegExp.$1)||-1===e.indexOf(e.indexOf("Alpha"))&&h.removeAttribute("filter")),!g){var b,x,w,T=C<8?1:-1;for(p=n.ieOffsetX||0,d=n.ieOffsetY||0,n.ieOffsetX=Math.round((f-((s<0?-s:s)*f+(a<0?-a:a)*m))/2+y),n.ieOffsetY=Math.round((m-((u<0?-u:u)*m+(l<0?-l:l)*f))/2+_),kt=0;kt<4;kt++)w=(i=-1!==(b=c[x=at[kt]]).indexOf("px")?parseFloat(b):it(this.t,x,parseFloat(b),b.replace(M,""))||0)!==n[x]?kt<2?-n.ieOffsetX:-n.ieOffsetY:kt<2?p-n.ieOffsetX:d-n.ieOffsetY,h[x]=(n[x]=Math.round(i-w*(0===kt||2===kt?1:T)))+"px"}}},Yt=o.set3DTransformRatio=o.setTransformRatio=function(t){var e,i,n,o,r,s,a,l,u,h,c,p,d,f,m,g,v,y,_,b,x=this.data,w=this.t.style,T=x.rotation,k=x.rotationX,C=x.rotationY,S=x.scaleX,E=x.scaleY,A=x.scaleZ,P=x.x,z=x.y,D=x.z,M=x.svg,I=x.perspective,O=x.force3D,L=x.skewY,R=x.skewX;if(L&&(R+=L,T+=L),!((1!==t&&0!==t||"auto"!==O||this.tween._totalTime!==this.tween._totalDuration&&this.tween._totalTime)&&O||D||I||C||k||1!==A)||At&&M||!Ft)T||R||M?(T*=N,b=R*N,1e5,i=Math.cos(T)*S,r=Math.sin(T)*S,n=Math.sin(T-b)*-E,s=Math.cos(T-b)*E,b&&"simple"===x.skewType&&(e=Math.tan(b-L*N),n*=e=Math.sqrt(1+e*e),s*=e,L&&(e=Math.tan(L*N),i*=e=Math.sqrt(1+e*e),r*=e)),M&&(P+=x.xOrigin-(x.xOrigin*i+x.yOrigin*n)+x.xOffset,z+=x.yOrigin-(x.xOrigin*r+x.yOrigin*s)+x.yOffset,At&&(x.xPercent||x.yPercent)&&(m=this.t.getBBox(),P+=.01*x.xPercent*m.width,z+=.01*x.yPercent*m.height),P<(m=1e-6)&&-m<P&&(P=0),z<m&&-m<z&&(z=0)),_=(1e5*i|0)/1e5+","+(1e5*r|0)/1e5+","+(1e5*n|0)/1e5+","+(1e5*s|0)/1e5+","+P+","+z+")",M&&At?this.t.setAttribute("transform","matrix("+_):w[Ot]=(x.xPercent||x.yPercent?"translate("+x.xPercent+"%,"+x.yPercent+"%) matrix(":"matrix(")+_):w[Ot]=(x.xPercent||x.yPercent?"translate("+x.xPercent+"%,"+x.yPercent+"%) matrix(":"matrix(")+S+",0,0,"+E+","+P+","+z+")";else{if(F&&(S<(m=1e-4)&&-m<S&&(S=A=2e-5),E<m&&-m<E&&(E=A=2e-5),!I||x.z||x.rotationX||x.rotationY||(I=0)),T||R)T*=N,g=i=Math.cos(T),v=r=Math.sin(T),R&&(T-=R*N,g=Math.cos(T),v=Math.sin(T),"simple"===x.skewType&&(e=Math.tan((R-L)*N),g*=e=Math.sqrt(1+e*e),v*=e,x.skewY&&(e=Math.tan(L*N),i*=e=Math.sqrt(1+e*e),r*=e))),n=-v,s=g;else{if(!(C||k||1!==A||I||M))return void(w[Ot]=(x.xPercent||x.yPercent?"translate("+x.xPercent+"%,"+x.yPercent+"%) translate3d(":"translate3d(")+P+"px,"+z+"px,"+D+"px)"+(1!==S||1!==E?" scale("+S+","+E+")":""));i=s=1,n=r=0}h=1,o=a=l=u=c=p=0,d=I?-1/I:0,f=x.zOrigin,m=1e-6,",","0",(T=C*N)&&(g=Math.cos(T),c=d*(l=-(v=Math.sin(T))),o=i*v,a=r*v,d*=h=g,i*=g,r*=g),(T=k*N)&&(e=n*(g=Math.cos(T))+o*(v=Math.sin(T)),y=s*g+a*v,u=h*v,p=d*v,o=n*-v+o*g,a=s*-v+a*g,h*=g,d*=g,n=e,s=y),1!==A&&(o*=A,a*=A,h*=A,d*=A),1!==E&&(n*=E,s*=E,u*=E,p*=E),1!==S&&(i*=S,r*=S,l*=S,c*=S),(f||M)&&(f&&(P+=o*-f,z+=a*-f,D+=h*-f+f),M&&(P+=x.xOrigin-(x.xOrigin*i+x.yOrigin*n)+x.xOffset,z+=x.yOrigin-(x.xOrigin*r+x.yOrigin*s)+x.yOffset),P<m&&-m<P&&(P="0"),z<m&&-m<z&&(z="0"),D<m&&-m<D&&(D=0)),_=x.xPercent||x.yPercent?"translate("+x.xPercent+"%,"+x.yPercent+"%) matrix3d(":"matrix3d(",_+=(i<m&&-m<i?"0":i)+","+(r<m&&-m<r?"0":r)+","+(l<m&&-m<l?"0":l),_+=","+(c<m&&-m<c?"0":c)+","+(n<m&&-m<n?"0":n)+","+(s<m&&-m<s?"0":s),k||C||1!==A?(_+=","+(u<m&&-m<u?"0":u)+","+(p<m&&-m<p?"0":p)+","+(o<m&&-m<o?"0":o),_+=","+(a<m&&-m<a?"0":a)+","+(h<m&&-m<h?"0":h)+","+(d<m&&-m<d?"0":d)+","):_+=",0,0,0,0,1,0,",_+=P+","+z+","+D+","+(I?1+-D/I:1)+")",w[Ot]=_}};(t=Nt.prototype).x=t.y=t.z=t.skewX=t.skewY=t.rotation=t.rotationX=t.rotationY=t.zOrigin=t.xPercent=t.yPercent=t.xOffset=t.yOffset=0,t.scaleX=t.scaleY=t.scaleZ=1,St("transform,scale,scaleX,scaleY,scaleZ,x,y,z,rotation,rotationX,rotationY,rotationZ,skewX,skewY,shortRotation,shortRotationX,shortRotationY,shortRotationZ,transformOrigin,svgOrigin,transformPerspective,directionalRotation,parseTransform,force3D,skewType,xPercent,yPercent,smoothOrigin",{parser:function(t,e,i,n,o,r,s){if(n._lastParsedTransform===s)return o;var a,l=(n._lastParsedTransform=s).scale&&"function"==typeof s.scale?s.scale:0;"function"==typeof s[i]&&(a=s[i],s[i]=e),l&&(s.scale=l(P,t));var u,h,c,p,d,f,m,g,v,y=t._gsTransform,_=t.style,b=It.length,x=s,w={},T="transformOrigin",k=Xt(t,S,!0,x.parseTransform),C=x.transform&&("function"==typeof x.transform?x.transform(P,A):x.transform);if(k.skewType=x.skewType||k.skewType||V.defaultSkewType,n._transform=k,"rotationZ"in x&&(x.rotation=x.rotationZ),C&&"string"==typeof C&&Ot)(h=W.style)[Ot]=C,h.display="block",h.position="absolute",-1!==C.indexOf("%")&&(h.width=et(t,"width"),h.height=et(t,"height")),q.body.appendChild(W),u=Xt(W,null,!1),"simple"===k.skewType&&(u.scaleY*=Math.cos(u.skewX*N)),k.svg&&(f=k.xOrigin,m=k.yOrigin,u.x-=k.xOffset,u.y-=k.yOffset,(x.transformOrigin||x.svgOrigin)&&(C={},qt(t,ut(x.transformOrigin),C,x.svgOrigin,x.smoothOrigin,!0),f=C.xOrigin,m=C.yOrigin,u.x-=C.xOffset-k.xOffset,u.y-=C.yOffset-k.yOffset),(f||m)&&(g=Zt(W,!0),u.x-=f-(f*g[0]+m*g[2]),u.y-=m-(f*g[1]+m*g[3]))),q.body.removeChild(W),u.perspective||(u.perspective=k.perspective),null!=x.xPercent&&(u.xPercent=ct(x.xPercent,k.xPercent)),null!=x.yPercent&&(u.yPercent=ct(x.yPercent,k.yPercent));else if("object"==typeof x){if(u={scaleX:ct(null!=x.scaleX?x.scaleX:x.scale,k.scaleX),scaleY:ct(null!=x.scaleY?x.scaleY:x.scale,k.scaleY),scaleZ:ct(x.scaleZ,k.scaleZ),x:ct(x.x,k.x),y:ct(x.y,k.y),z:ct(x.z,k.z),xPercent:ct(x.xPercent,k.xPercent),yPercent:ct(x.yPercent,k.yPercent),perspective:ct(x.transformPerspective,k.perspective)},null!=(d=x.directionalRotation))if("object"==typeof d)for(h in d)x[h]=d[h];else x.rotation=d;"string"==typeof x.x&&-1!==x.x.indexOf("%")&&(u.x=0,u.xPercent=ct(x.x,k.xPercent)),"string"==typeof x.y&&-1!==x.y.indexOf("%")&&(u.y=0,u.yPercent=ct(x.y,k.yPercent)),u.rotation=pt("rotation"in x?x.rotation:"shortRotation"in x?x.shortRotation+"_short":k.rotation,k.rotation,"rotation",w),Ft&&(u.rotationX=pt("rotationX"in x?x.rotationX:"shortRotationX"in x?x.shortRotationX+"_short":k.rotationX||0,k.rotationX,"rotationX",w),u.rotationY=pt("rotationY"in x?x.rotationY:"shortRotationY"in x?x.shortRotationY+"_short":k.rotationY||0,k.rotationY,"rotationY",w)),u.skewX=pt(x.skewX,k.skewX),u.skewY=pt(x.skewY,k.skewY)}for(Ft&&null!=x.force3D&&(k.force3D=x.force3D,p=!0),(c=k.force3D||k.z||k.rotationX||k.rotationY||u.z||u.rotationX||u.rotationY||u.perspective)||null==x.scale||(u.scaleZ=1);-1<--b;)(1e-6<(C=u[v=It[b]]-k[v])||C<-1e-6||null!=x[v]||null!=j[v])&&(p=!0,o=new xt(k,v,k[v],C,o),v in w&&(o.e=w[v]),o.xs0=0,o.plugin=r,n._overwriteProps.push(o.n));return C=x.transformOrigin,k.svg&&(C||x.svgOrigin)&&(f=k.xOffset,m=k.yOffset,qt(t,ut(C),u,x.svgOrigin,x.smoothOrigin),o=wt(k,"xOrigin",(y?k:u).xOrigin,u.xOrigin,o,T),o=wt(k,"yOrigin",(y?k:u).yOrigin,u.yOrigin,o,T),(f!==k.xOffset||m!==k.yOffset)&&(o=wt(k,"xOffset",y?f:k.xOffset,k.xOffset,o,T),o=wt(k,"yOffset",y?m:k.yOffset,k.yOffset,o,T)),C="0px 0px"),(C||Ft&&c&&k.zOrigin)&&(Ot?(p=!0,v=Rt,C=(C||et(t,v,S,!1,"50% 50%"))+"",(o=new xt(_,v,0,0,o,-1,T)).b=_[v],o.plugin=r,o.xs0=o.e=Ft?(h=k.zOrigin,C=C.split(" "),k.zOrigin=(2<C.length&&(0===h||"0px"!==C[2])?parseFloat(C[2]):h)||0,o.xs0=o.e=C[0]+" "+(C[1]||"50%")+" 0px",(o=new xt(k,"zOrigin",0,0,o,-1,o.n)).b=h,k.zOrigin):C):ut(C+"",k)),p&&(n._transformType=k.svg&&At||!c&&3!==this._transformType?2:3),a&&(s[i]=a),l&&(s.scale=l),o},prefix:!0}),St("boxShadow",{defaultValue:"0px 0px 0px 0px #999",prefix:!0,color:!0,multi:!0,keyword:"inset"}),St("borderRadius",{defaultValue:"0px",parser:function(t,e,i,n,o,r){e=this.format(e);var s,a,l,u,h,c,p,d,f,m,g,v,y,_,b,x,w=["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],T=t.style;for(f=parseFloat(t.offsetWidth),m=parseFloat(t.offsetHeight),s=e.split(" "),a=0;a<w.length;a++)this.p.indexOf("border")&&(w[a]=Q(w[a])),-1!==(h=u=et(t,w[a],S,!1,"0px")).indexOf(" ")&&(h=(u=h.split(" "))[0],u=u[1]),c=l=s[a],p=parseFloat(h),v=h.substr((p+"").length),""===(g=(y="="===c.charAt(1))?(d=parseInt(c.charAt(0)+"1",10),c=c.substr(2),d*=parseFloat(c),c.substr((d+"").length-(d<0?1:0))||""):(d=parseFloat(c),c.substr((d+"").length)))&&(g=k[i]||v),g!==v&&(_=it(t,"borderLeft",p,v),b=it(t,"borderTop",p,v),u="%"===g?(h=_/f*100+"%",b/m*100+"%"):"em"===g?(h=_/(x=it(t,"borderLeft",1,"em"))+"em",b/x+"em"):(h=_+"px",b+"px"),y&&(c=parseFloat(h)+d+g,l=parseFloat(u)+d+g)),o=Tt(T,w[a],h+" "+u,c+" "+l,!1,"0px",o);return o},prefix:!0,formatter:yt("0px 0px 0px 0px",!1,!0)}),St("borderBottomLeftRadius,borderBottomRightRadius,borderTopLeftRadius,borderTopRightRadius",{defaultValue:"0px",parser:function(t,e,i,n,o,r){return Tt(t.style,i,this.format(et(t,i,S,!1,"0px 0px")),this.format(e),!1,"0px",o)},prefix:!0,formatter:yt("0px 0px",!1,!0)}),St("backgroundPosition",{defaultValue:"0 0",parser:function(t,e,i,n,o,r){var s,a,l,u,h,c,p="background-position",d=S||tt(t,null),f=this.format((d?C?d.getPropertyValue(p+"-x")+" "+d.getPropertyValue(p+"-y"):d.getPropertyValue(p):t.currentStyle.backgroundPositionX+" "+t.currentStyle.backgroundPositionY)||"0 0"),m=this.format(e);if(-1!==f.indexOf("%")!=(-1!==m.indexOf("%"))&&m.split(",").length<2&&((c=et(t,"backgroundImage").replace(T,""))&&"none"!==c)){for(s=f.split(" "),a=m.split(" "),U.setAttribute("src",c),l=2;-1<--l;)(u=-1!==(f=s[l]).indexOf("%"))!==(-1!==a[l].indexOf("%"))&&(h=0===l?t.offsetWidth-U.width:t.offsetHeight-U.height,s[l]=u?parseFloat(f)/100*h+"px":parseFloat(f)/h*100+"%");f=s.join(" ")}return this.parseComplex(t.style,f,m,o,r)},formatter:ut}),St("backgroundSize",{defaultValue:"0 0",formatter:function(t){return"co"===(t+="").substr(0,2)?t:ut(-1===t.indexOf(" ")?t+" "+t:t)}}),St("perspective",{defaultValue:"0px",prefix:!0}),St("perspectiveOrigin",{defaultValue:"50% 50%",prefix:!0}),St("transformStyle",{prefix:!0}),St("backfaceVisibility",{prefix:!0}),St("userSelect",{prefix:!0}),St("margin",{parser:_t("marginTop,marginRight,marginBottom,marginLeft")}),St("padding",{parser:_t("paddingTop,paddingRight,paddingBottom,paddingLeft")}),St("clip",{defaultValue:"rect(0px,0px,0px,0px)",parser:function(t,e,i,n,o,r){var s,a,l;return e=C<9?(a=t.currentStyle,l=C<8?" ":",",s="rect("+a.clipTop+l+a.clipRight+l+a.clipBottom+l+a.clipLeft+")",this.format(e).split(",").join(l)):(s=this.format(et(t,this.p,S,!1,this.dflt)),this.format(e)),this.parseComplex(t.style,s,e,o,r)}}),St("textShadow",{defaultValue:"0px 0px 0px #999",color:!0,multi:!0}),St("autoRound,strictUnits",{parser:function(t,e,i,n,o){return o}}),St("border",{defaultValue:"0px solid #000",parser:function(t,e,i,n,o,r){var s=et(t,"borderTopWidth",S,!1,"0px"),a=this.format(e).split(" "),l=a[0].replace(M,"");return"px"!==l&&(s=parseFloat(s)/it(t,"borderTopWidth",1,l)+l),this.parseComplex(t.style,this.format(s+" "+et(t,"borderTopStyle",S,!1,"solid")+" "+et(t,"borderTopColor",S,!1,"#000")),a.join(" "),o,r)},color:!0,formatter:function(t){var e=t.split(" ");return e[0]+" "+(e[1]||"solid")+" "+(t.match(vt)||["#000"])[0]}}),St("borderWidth",{parser:_t("borderTopWidth,borderRightWidth,borderBottomWidth,borderLeftWidth")}),St("float,cssFloat,styleFloat",{parser:function(t,e,i,n,o,r){var s=t.style,a="cssFloat"in s?"cssFloat":"styleFloat";return new xt(s,a,0,0,o,-1,i,!1,0,s[a],e)}});var Kt=function(t){var e,i=this.t,n=i.filter||et(this.data,"filter")||"",o=this.s+this.c*t|0;100===o&&(e=-1===n.indexOf("atrix(")&&-1===n.indexOf("radient(")&&-1===n.indexOf("oader(")?(i.removeAttribute("filter"),!et(this.data,"filter")):(i.filter=n.replace(s,""),!0)),e||(this.xn1&&(i.filter=n=n||"alpha(opacity="+o+")"),-1===n.indexOf("pacity")?0===o&&this.xn1||(i.filter=n+" alpha(opacity="+o+")"):i.filter=n.replace(I,"opacity="+o))};St("opacity,alpha,autoAlpha",{defaultValue:"1",parser:function(t,e,i,n,o,r){var s=parseFloat(et(t,"opacity",S,!1,"1")),a=t.style,l="autoAlpha"===i;return"string"==typeof e&&"="===e.charAt(1)&&(e=("-"===e.charAt(0)?-1:1)*parseFloat(e.substr(2))+s),l&&1===s&&"hidden"===et(t,"visibility",S)&&0!==e&&(s=0),X?o=new xt(a,"opacity",s,e-s,o):((o=new xt(a,"opacity",100*s,100*(e-s),o)).xn1=l?1:0,a.zoom=1,o.type=2,o.b="alpha(opacity="+o.s+")",o.e="alpha(opacity="+(o.s+o.c)+")",o.data=t,o.plugin=r,o.setRatio=Kt),l&&((o=new xt(a,"visibility",0,0,o,-1,null,!1,0,0!==s?"inherit":"hidden",0===e?"hidden":"inherit")).xs0="inherit",n._overwriteProps.push(o.n),n._overwriteProps.push(i)),o}});var Jt=function(t,e){e&&(t.removeProperty?(("ms"===e.substr(0,2)||"webkit"===e.substr(0,6))&&(e="-"+e),t.removeProperty(e.replace(a,"-$1").toLowerCase())):t.removeAttribute(e))},Qt=function(t){if(this.t._gsClassPT=this,1===t||0===t){this.t.setAttribute("class",0===t?this.b:this.e);for(var e=this.data,i=this.t.style;e;)e.v?i[e.p]=e.v:Jt(i,e.p),e=e._next;1===t&&this.t._gsClassPT===this&&(this.t._gsClassPT=null)}else this.t.getAttribute("class")!==this.e&&this.t.setAttribute("class",this.e)};St("className",{parser:function(t,e,i,n,o,r,s){var a,l,u,h,c,p=t.getAttribute("class")||"",d=t.style.cssText;if((o=n._classNamePT=new xt(t,i,0,0,o,2)).setRatio=Qt,o.pr=-11,f=!0,o.b=p,l=ot(t,S),u=t._gsClassPT){for(h={},c=u.data;c;)h[c.p]=1,c=c._next;u.setRatio(1)}return(t._gsClassPT=o).e="="!==e.charAt(1)?e:p.replace(new RegExp("(?:\\s|^)"+e.substr(2)+"(?![\\w-])"),"")+("+"===e.charAt(0)?" "+e.substr(2):""),t.setAttribute("class",o.e),a=rt(t,l,ot(t),s,h),t.setAttribute("class",p),o.data=a.firstMPT,t.style.cssText=d,o.xfirst=n.parse(t,a.difs,o,r)}});var te=function(t){if((1===t||0===t)&&this.data._totalTime===this.data._totalDuration&&"isFromStart"!==this.data.data){var e,i,n,o,r,s=this.t.style,a=g.transform.parse;if("all"===this.e)o=!(s.cssText="");else for(n=(e=this.e.split(" ").join("").split(",")).length;-1<--n;)i=e[n],g[i]&&(g[i].parse===a?o=!0:i="transformOrigin"===i?Rt:g[i].p),Jt(s,i);o&&(Jt(s,Ot),(r=this.t._gsTransform)&&(r.svg&&(this.t.removeAttribute("data-svg-origin"),this.t.removeAttribute("transform")),delete this.t._gsTransform))}};for(St("clearProps",{parser:function(t,e,i,n,o){return(o=new xt(t,i,0,0,o,2)).setRatio=te,o.e=e,o.pr=-10,o.data=n._tween,f=!0,o}}),t="bezier,throwProps,physicsProps,physics2D".split(","),kt=t.length;kt--;)Et(t[kt]);(t=V.prototype)._firstPT=t._lastParsedTransform=t._transform=null,t._onInitTween=function(t,e,i,n){if(!t.nodeType)return!1;this._target=A=t,this._tween=i,this._vars=e,P=n,E=e.autoRound,f=!1,k=e.suffixMap||V.suffixMap,S=tt(t,""),m=this._overwriteProps;var o,r,s,a,l,u,h,c,p,d=t.style;if(v&&""===d.zIndex&&(("auto"===(o=et(t,"zIndex",S))||""===o)&&this._addLazySet(d,"zIndex",0)),"string"==typeof e&&(a=d.cssText,o=ot(t,S),d.cssText=a+";"+e,o=rt(t,o,ot(t)).difs,!X&&x.test(e)&&(o.opacity=parseFloat(RegExp.$1)),e=o,d.cssText=a),e.className?this._firstPT=r=g.className.parse(t,e.className,"className",this,null,null,e):this._firstPT=r=this.parse(t,e,null),this._transformType){for(p=3===this._transformType,Ot?y&&(v=!0,""===d.zIndex&&(("auto"===(h=et(t,"zIndex",S))||""===h)&&this._addLazySet(d,"zIndex",0)),_&&this._addLazySet(d,"WebkitBackfaceVisibility",this._vars.WebkitBackfaceVisibility||(p?"visible":"hidden"))):d.zoom=1,s=r;s&&s._next;)s=s._next;c=new xt(t,"transform",0,0,null,2),this._linkCSSP(c,null,s),c.setRatio=Ot?Yt:Gt,c.data=this._transform||Xt(t,S,!0),c.tween=i,c.pr=-1,m.pop()}if(f){for(;r;){for(u=r._next,s=a;s&&s.pr>r.pr;)s=s._next;(r._prev=s?s._prev:l)?r._prev._next=r:a=r,(r._next=s)?s._prev=r:l=r,r=u}this._firstPT=a}return!0},t.parse=function(t,e,i,n){var o,r,s,a,l,u,h,c,p,d,f=t.style;for(o in e){if("function"==typeof(u=e[o])&&(u=u(P,A)),r=g[o])i=r.parse(t,u,o,this,i,n,e);else{if("--"===o.substr(0,2)){this._tween._propLookup[o]=this._addTween.call(this._tween,t.style,"setProperty",tt(t).getPropertyValue(o)+"",u+"",o,!1,o);continue}l=et(t,o,S)+"",p="string"==typeof u,"color"===o||"fill"===o||"stroke"===o||-1!==o.indexOf("Color")||p&&w.test(u)?(p||(u=(3<(u=mt(u)).length?"rgba(":"rgb(")+u.join(",")+")"),i=Tt(f,o,l,u,!0,"transparent",i,0,n)):p&&R.test(u)?i=Tt(f,o,l,u,!0,null,i,0,n):(h=(s=parseFloat(l))||0===s?l.substr((s+"").length):"",(""===l||"auto"===l)&&(h="width"===o||"height"===o?(s=lt(t,o,S),"px"):"left"===o||"top"===o?(s=nt(t,o,S),"px"):(s="opacity"!==o?0:1,"")),""===(c=(d=p&&"="===u.charAt(1))?(a=parseInt(u.charAt(0)+"1",10),u=u.substr(2),a*=parseFloat(u),u.replace(M,"")):(a=parseFloat(u),p?u.replace(M,""):""))&&(c=o in k?k[o]:h),u=a||0===a?(d?a+s:a)+c:e[o],h!==c&&(""!==c||"lineHeight"===o)&&(a||0===a)&&s&&(s=it(t,o,s,h),"%"===c?(s/=it(t,o,100,"%")/100,!0!==e.strictUnits&&(l=s+"%")):"em"===c||"rem"===c||"vw"===c||"vh"===c?s/=it(t,o,1,c):"px"!==c&&(a=it(t,o,a,c),c="px"),d&&(a||0===a)&&(u=a+s+c)),d&&(a+=s),!s&&0!==s||!a&&0!==a?void 0!==f[o]&&(u||u+""!="NaN"&&null!=u)?(i=new xt(f,o,a||s||0,0,i,-1,o,!1,0,l,u)).xs0="none"!==u||"display"!==o&&-1===o.indexOf("Style")?u:l:Y("invalid "+o+" tween value: "+e[o]):(i=new xt(f,o,s,a-s,i,0,o,!1!==E&&("px"===c||"zIndex"===o),0,l,u)).xs0=c)}n&&i&&!i.plugin&&(i.plugin=n)}return i},t.setRatio=function(t){var e,i,n,o=this._firstPT;if(1!==t||this._tween._time!==this._tween._duration&&0!==this._tween._time)if(t||this._tween._time!==this._tween._duration&&0!==this._tween._time||-1e-6===this._tween._rawPrevTime)for(;o;){if(e=o.c*t+o.s,o.r?e=o.r(e):e<1e-6&&-1e-6<e&&(e=0),o.type)if(1===o.type)if(2===(n=o.l))o.t[o.p]=o.xs0+e+o.xs1+o.xn1+o.xs2;else if(3===n)o.t[o.p]=o.xs0+e+o.xs1+o.xn1+o.xs2+o.xn2+o.xs3;else if(4===n)o.t[o.p]=o.xs0+e+o.xs1+o.xn1+o.xs2+o.xn2+o.xs3+o.xn3+o.xs4;else if(5===n)o.t[o.p]=o.xs0+e+o.xs1+o.xn1+o.xs2+o.xn2+o.xs3+o.xn3+o.xs4+o.xn4+o.xs5;else{for(i=o.xs0+e+o.xs1,n=1;n<o.l;n++)i+=o["xn"+n]+o["xs"+(n+1)];o.t[o.p]=i}else-1===o.type?o.t[o.p]=o.xs0:o.setRatio&&o.setRatio(t);else o.t[o.p]=e+o.xs0;o=o._next}else for(;o;)2!==o.type?o.t[o.p]=o.b:o.setRatio(t),o=o._next;else for(;o;){if(2!==o.type)if(o.r&&-1!==o.type)if(e=o.r(o.s+o.c),o.type){if(1===o.type){for(n=o.l,i=o.xs0+e+o.xs1,n=1;n<o.l;n++)i+=o["xn"+n]+o["xs"+(n+1)];o.t[o.p]=i}}else o.t[o.p]=e+o.xs0;else o.t[o.p]=o.e;else o.setRatio(t);o=o._next}},t._enableTransforms=function(t){this._transform=this._transform||Xt(this._target,S,!0),this._transformType=this._transform.svg&&At||!t&&3!==this._transformType?2:3};var ee=function(t){this.t[this.p]=this.e,this.data._linkCSSP(this,this._next,null,!0)};t._addLazySet=function(t,e,i){var n=this._firstPT=new xt(t,e,0,0,this._firstPT,2);n.e=i,n.setRatio=ee,n.data=this},t._linkCSSP=function(t,e,i,n){return t&&(e&&(e._prev=t),t._next&&(t._next._prev=t._prev),t._prev?t._prev._next=t._next:this._firstPT===t&&(this._firstPT=t._next,n=!0),i?i._next=t:n||null!==this._firstPT||(this._firstPT=t),t._next=e,t._prev=i),t},t._mod=function(t){for(var e=this._firstPT;e;)"function"==typeof t[e.p]&&(e.r=t[e.p]),e=e._next},t._kill=function(t){var e,i,n,o=t;if(t.autoAlpha||t.alpha){for(i in o={},t)o[i]=t[i];o.opacity=1,o.autoAlpha&&(o.visibility=1)}for(t.className&&(e=this._classNamePT)&&((n=e.xfirst)&&n._prev?this._linkCSSP(n._prev,e._next,n._prev._prev):n===this._firstPT&&(this._firstPT=e._next),e._next&&this._linkCSSP(e._next,e._next._next,n._prev),this._classNamePT=null),e=this._firstPT;e;)e.plugin&&e.plugin!==i&&e.plugin._kill&&(e.plugin._kill(t),i=e.plugin),e=e._next;return r.prototype._kill.call(this,o)};var ie=function(t,e,i){var n,o,r,s;if(t.slice)for(o=t.length;-1<--o;)ie(t[o],e,i);else for(o=(n=t.childNodes).length;-1<--o;)s=(r=n[o]).type,r.style&&(e.push(ot(r)),i&&i.push(r)),1!==s&&9!==s&&11!==s||!r.childNodes.length||ie(r,e,i)};return V.cascadeTo=function(t,e,i){var n,o,r,s,a=B.to(t,e,i),l=[a],u=[],h=[],c=[],p=B._internals.reservedProps;for(t=a._targets||a.target,ie(t,u,c),a.render(e,!0,!0),ie(t,h),a.render(0,!0,!0),a._enabled(!0),n=c.length;-1<--n;)if((o=rt(c[n],u[n],h[n])).firstMPT){for(r in o=o.difs,i)p[r]&&(o[r]=i[r]);for(r in s={},o)s[r]=u[n][r];l.push(B.fromTo(c[n],e,s,o))}return l},r.activate([V]),V},!0),t=_gsScope._gsDefine.plugin({propName:"roundProps",version:"1.7.0",priority:-1,API:2,init:function(t,e,i){return this._tween=i,!0}}),l=function(e){var i=e<1?Math.pow(10,(e+"").length-2):1;return function(t){return(Math.round(t/e)*e*i|0)/i}},u=function(t,e){for(;t;)t.f||t.blob||(t.m=e||Math.round),t=t._next},(e=t.prototype)._onInitAllProps=function(){var t,e,i,n,o=this._tween,r=o.vars.roundProps,s={},a=o._propLookup.roundProps;if("object"!=typeof r||r.push)for("string"==typeof r&&(r=r.split(",")),i=r.length;-1<--i;)s[r[i]]=Math.round;else for(n in r)s[n]=l(r[n]);for(n in s)for(t=o._firstPT;t;)e=t._next,t.pg?t.t._mod(s):t.n===n&&(2===t.f&&t.t?u(t.t._firstPT,s[n]):(this._add(t.t,n,t.s,t.c,s[n]),e&&(e._prev=t._prev),t._prev?t._prev._next=e:o._firstPT===t&&(o._firstPT=e),t._next=t._prev=null,o._propLookup[n]=a)),t=e;return!1},e._add=function(t,e,i,n,o){this._addTween(t,e,i,i+n,e,o||Math.round),this._overwriteProps.push(e)},_gsScope._gsDefine.plugin({propName:"attr",API:2,version:"0.6.1",init:function(t,e,i,n){var o,r;if("function"!=typeof t.setAttribute)return!1;for(o in e)"function"==typeof(r=e[o])&&(r=r(n,t)),this._addTween(t,"setAttribute",t.getAttribute(o)+"",r+"",o,!1,o),this._overwriteProps.push(o);return!0}}),_gsScope._gsDefine.plugin({propName:"directionalRotation",version:"0.3.1",API:2,init:function(t,e,i,n){"object"!=typeof e&&(e={rotation:e}),this.finals={};var o,r,s,a,l,u,h=!0===e.useRadians?2*Math.PI:360;for(o in e)"useRadians"!==o&&("function"==typeof(a=e[o])&&(a=a(n,t)),r=(u=(a+"").split("_"))[0],s=parseFloat("function"!=typeof t[o]?t[o]:t[o.indexOf("set")||"function"!=typeof t["get"+o.substr(3)]?o:"get"+o.substr(3)]()),l=(a=this.finals[o]="string"==typeof r&&"="===r.charAt(1)?s+parseInt(r.charAt(0)+"1",10)*Number(r.substr(2)):Number(r)||0)-s,u.length&&(-1!==(r=u.join("_")).indexOf("short")&&((l%=h)!==l%(h/2)&&(l=l<0?l+h:l-h)),-1!==r.indexOf("_cw")&&l<0?l=(l+9999999999*h)%h-(l/h|0)*h:-1!==r.indexOf("ccw")&&0<l&&(l=(l-9999999999*h)%h-(l/h|0)*h)),(1e-6<l||l<-1e-6)&&(this._addTween(t,o,s,s+l,o),this._overwriteProps.push(o)));return!0},set:function(t){var e;if(1!==t)this._super.setRatio.call(this,t);else for(e=this._firstPT;e;)e.f?e.t[e.p](this.finals[e.p]):e.t[e.p]=this.finals[e.p],e=e._next}})._autoCSS=!0,_gsScope._gsDefine("easing.Back",["easing.Ease"],function(g){var i,n,e,t,o=_gsScope.GreenSockGlobals||_gsScope,r=o.com.greensock,s=2*Math.PI,a=Math.PI/2,l=r._class,u=function(t,e){var i=l("easing."+t,function(){},!0),n=i.prototype=new g;return n.constructor=i,n.getRatio=e,i},h=g.register||function(){},c=function(t,e,i,n,o){var r=l("easing."+t,{easeOut:new e,easeIn:new i,easeInOut:new n},!0);return h(r,t),r},v=function(t,e,i){this.t=t,this.v=e,i&&(((this.next=i).prev=this).c=i.v-e,this.gap=i.t-t)},p=function(t,e){var i=l("easing."+t,function(t){this._p1=t||0===t?t:1.70158,this._p2=1.525*this._p1},!0),n=i.prototype=new g;return n.constructor=i,n.getRatio=e,n.config=function(t){return new i(t)},i},d=c("Back",p("BackOut",function(t){return(t-=1)*t*((this._p1+1)*t+this._p1)+1}),p("BackIn",function(t){return t*t*((this._p1+1)*t-this._p1)}),p("BackInOut",function(t){return(t*=2)<1?.5*t*t*((this._p2+1)*t-this._p2):.5*((t-=2)*t*((this._p2+1)*t+this._p2)+2)})),f=l("easing.SlowMo",function(t,e,i){e=e||0===e?e:.7,null==t?t=.7:1<t&&(t=1),this._p=1!==t?e:0,this._p1=(1-t)/2,this._p2=t,this._p3=this._p1+this._p2,this._calcEnd=!0===i},!0),m=f.prototype=new g;return m.constructor=f,m.getRatio=function(t){var e=t+(.5-t)*this._p;return t<this._p1?this._calcEnd?1-(t=1-t/this._p1)*t:e-(t=1-t/this._p1)*t*t*t*e:t>this._p3?this._calcEnd?1===t?0:1-(t=(t-this._p3)/this._p1)*t:e+(t-e)*(t=(t-this._p3)/this._p1)*t*t*t:this._calcEnd?1:e},f.ease=new f(.7,.7),m.config=f.config=function(t,e,i){return new f(t,e,i)},(m=(i=l("easing.SteppedEase",function(t,e){t=t||1,this._p1=1/t,this._p2=t+(e?0:1),this._p3=e?1:0},!0)).prototype=new g).constructor=i,m.getRatio=function(t){return t<0?t=0:1<=t&&(t=.999999999),((this._p2*t|0)+this._p3)*this._p1},m.config=i.config=function(t,e){return new i(t,e)},(m=(n=l("easing.ExpoScaleEase",function(t,e,i){this._p1=Math.log(e/t),this._p2=e-t,this._p3=t,this._ease=i},!0)).prototype=new g).constructor=n,m.getRatio=function(t){return this._ease&&(t=this._ease.getRatio(t)),(this._p3*Math.exp(this._p1*t)-this._p3)/this._p2},m.config=n.config=function(t,e,i){return new n(t,e,i)},(m=(e=l("easing.RoughEase",function(t){for(var e,i,n,o,r,s,a=(t=t||{}).taper||"none",l=[],u=0,h=0|(t.points||20),c=h,p=!1!==t.randomize,d=!0===t.clamp,f=t.template instanceof g?t.template:null,m="number"==typeof t.strength?.4*t.strength:.4;-1<--c;)e=p?Math.random():1/h*c,i=f?f.getRatio(e):e,n="none"===a?m:"out"===a?(o=1-e)*o*m:"in"===a?e*e*m:(o=e<.5?2*e:2*(1-e))*o*.5*m,p?i+=Math.random()*n-.5*n:c%2?i+=.5*n:i-=.5*n,d&&(1<i?i=1:i<0&&(i=0)),l[u++]={x:e,y:i};for(l.sort(function(t,e){return t.x-e.x}),s=new v(1,1,null),c=h;-1<--c;)r=l[c],s=new v(r.x,r.y,s);this._prev=new v(0,0,0!==s.t?s:s.next)},!0)).prototype=new g).constructor=e,m.getRatio=function(t){var e=this._prev;if(t>e.t){for(;e.next&&t>=e.t;)e=e.next;e=e.prev}else for(;e.prev&&t<=e.t;)e=e.prev;return(this._prev=e).v+(t-e.t)/e.gap*e.c},m.config=function(t){return new e(t)},e.ease=new e,c("Bounce",u("BounceOut",function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}),u("BounceIn",function(t){return(t=1-t)<1/2.75?1-7.5625*t*t:t<2/2.75?1-(7.5625*(t-=1.5/2.75)*t+.75):t<2.5/2.75?1-(7.5625*(t-=2.25/2.75)*t+.9375):1-(7.5625*(t-=2.625/2.75)*t+.984375)}),u("BounceInOut",function(t){var e=t<.5;return t=(t=e?1-2*t:2*t-1)<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375,e?.5*(1-t):.5*t+.5})),c("Circ",u("CircOut",function(t){return Math.sqrt(1-(t-=1)*t)}),u("CircIn",function(t){return-(Math.sqrt(1-t*t)-1)}),u("CircInOut",function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)})),c("Elastic",(t=function(t,e,i){var n=l("easing."+t,function(t,e){this._p1=1<=t?t:1,this._p2=(e||i)/(t<1?t:1),this._p3=this._p2/s*(Math.asin(1/this._p1)||0),this._p2=s/this._p2},!0),o=n.prototype=new g;return o.constructor=n,o.getRatio=e,o.config=function(t,e){return new n(t,e)},n})("ElasticOut",function(t){return this._p1*Math.pow(2,-10*t)*Math.sin((t-this._p3)*this._p2)+1},.3),t("ElasticIn",function(t){return-this._p1*Math.pow(2,10*(t-=1))*Math.sin((t-this._p3)*this._p2)},.3),t("ElasticInOut",function(t){return(t*=2)<1?this._p1*Math.pow(2,10*(t-=1))*Math.sin((t-this._p3)*this._p2)*-.5:this._p1*Math.pow(2,-10*(t-=1))*Math.sin((t-this._p3)*this._p2)*.5+1},.45)),c("Expo",u("ExpoOut",function(t){return 1-Math.pow(2,-10*t)}),u("ExpoIn",function(t){return Math.pow(2,10*(t-1))-.001}),u("ExpoInOut",function(t){return(t*=2)<1?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*(t-1)))})),c("Sine",u("SineOut",function(t){return Math.sin(t*a)}),u("SineIn",function(t){return 1-Math.cos(t*a)}),u("SineInOut",function(t){return-.5*(Math.cos(Math.PI*t)-1)})),l("easing.EaseLookup",{find:function(t){return g.map[t]}},!0),h(o.SlowMo,"SlowMo","ease,"),h(e,"RoughEase","ease,"),h(i,"SteppedEase","ease,"),d},!0)}),_gsScope._gsDefine&&_gsScope._gsQueue.pop()(),function(p,d){"use strict";var f={},n=p.document,m=p.GreenSockGlobals=p.GreenSockGlobals||p,t=m[d];if(t)return"undefined"!=typeof module&&module.exports&&(module.exports=t);var e,i,o,g,v,r,s,y=function(t){var e,i=t.split("."),n=m;for(e=0;e<i.length;e++)n[i[e]]=n=n[i[e]]||{};return n},c=y("com.greensock"),_=1e-10,l=function(t){var e,i=[],n=t.length;for(e=0;e!==n;i.push(t[e++]));return i},b=function(){},x=(r=Object.prototype.toString,s=r.call([]),function(t){return null!=t&&(t instanceof Array||"object"==typeof t&&!!t.push&&r.call(t)===s)}),w={},T=function(a,l,u,h){this.sc=w[a]?w[a].sc:[],(w[a]=this).gsClass=null,this.func=u;var c=[];this.check=function(t){for(var e,i,n,o,r=l.length,s=r;-1<--r;)(e=w[l[r]]||new T(l[r],[])).gsClass?(c[r]=e.gsClass,s--):t&&e.sc.push(this);if(0===s&&u){if(n=(i=("com.greensock."+a).split(".")).pop(),o=y(i.join("."))[n]=this.gsClass=u.apply(u,c),h)if(m[n]=f[n]=o,"undefined"!=typeof module&&module.exports)if(a===d)for(r in module.exports=f[d]=o,f)o[r]=f[r];else f[d]&&(f[d][n]=o);else"function"==typeof define&&define.amd&&define((p.GreenSockAMDPath?p.GreenSockAMDPath+"/":"")+a.split(".").pop(),[],function(){return o});for(r=0;r<this.sc.length;r++)this.sc[r].check()}},this.check(!0)},a=p._gsDefine=function(t,e,i,n){return new T(t,e,i,n)},k=c._class=function(t,e,i){return e=e||function(){},a(t,[],function(){return e},i),e};a.globals=m;var u=[0,0,1,1],C=k("easing.Ease",function(t,e,i,n){this._func=t,this._type=i||0,this._power=n||0,this._params=e?u.concat(e):u},!0),S=C.map={},h=C.register=function(t,e,i,n){for(var o,r,s,a,l=e.split(","),u=l.length,h=(i||"easeIn,easeOut,easeInOut").split(",");-1<--u;)for(r=l[u],o=n?k("easing."+r,null,!0):c.easing[r]||{},s=h.length;-1<--s;)a=h[s],S[r+"."+a]=S[a+r]=o[a]=t.getRatio?t:t[a]||new t};for((o=C.prototype)._calcEnd=!1,o.getRatio=function(t){if(this._func)return this._params[0]=t,this._func.apply(null,this._params);var e=this._type,i=this._power,n=1===e?1-t:2===e?t:t<.5?2*t:2*(1-t);return 1===i?n*=n:2===i?n*=n*n:3===i?n*=n*n*n:4===i&&(n*=n*n*n*n),1===e?1-n:2===e?n:t<.5?n/2:1-n/2},i=(e=["Linear","Quad","Cubic","Quart","Quint,Strong"]).length;-1<--i;)o=e[i]+",Power"+i,h(new C(null,null,1,i),o,"easeOut",!0),h(new C(null,null,2,i),o,"easeIn"+(0===i?",easeNone":"")),h(new C(null,null,3,i),o,"easeInOut");S.linear=c.easing.Linear.easeIn,S.swing=c.easing.Quad.easeInOut;var E=k("events.EventDispatcher",function(t){this._listeners={},this._eventTarget=t||this});(o=E.prototype).addEventListener=function(t,e,i,n,o){o=o||0;var r,s,a=this._listeners[t],l=0;for(this!==g||v||g.wake(),null==a&&(this._listeners[t]=a=[]),s=a.length;-1<--s;)(r=a[s]).c===e&&r.s===i?a.splice(s,1):0===l&&r.pr<o&&(l=s+1);a.splice(l,0,{c:e,s:i,up:n,pr:o})},o.removeEventListener=function(t,e){var i,n=this._listeners[t];if(n)for(i=n.length;-1<--i;)if(n[i].c===e)return void n.splice(i,1)},o.dispatchEvent=function(t){var e,i,n,o=this._listeners[t];if(o)for(1<(e=o.length)&&(o=o.slice(0)),i=this._eventTarget;-1<--e;)(n=o[e])&&(n.up?n.c.call(n.s||i,{type:t,target:i}):n.c.call(n.s||i))};var A=p.requestAnimationFrame,P=p.cancelAnimationFrame,z=Date.now||function(){return(new Date).getTime()},D=z();for(i=(e=["ms","moz","webkit","o"]).length;-1<--i&&!A;)A=p[e[i]+"RequestAnimationFrame"],P=p[e[i]+"CancelAnimationFrame"]||p[e[i]+"CancelRequestAnimationFrame"];k("Ticker",function(t,e){var o,r,s,a,l,u=this,h=z(),i=!(!1===e||!A)&&"auto",c=500,p=33,d=function(t){var e,i,n=z()-D;c<n&&(h+=n-p),D+=n,u.time=(D-h)/1e3,e=u.time-l,(!o||0<e||!0===t)&&(u.frame++,l+=e+(a<=e?.004:a-e),i=!0),!0!==t&&(s=r(d)),i&&u.dispatchEvent("tick")};E.call(u),u.time=u.frame=0,u.tick=function(){d(!0)},u.lagSmoothing=function(t,e){return arguments.length?(c=t||1e10,void(p=Math.min(e,c,0))):c<1e10},u.sleep=function(){null!=s&&(i&&P?P(s):clearTimeout(s),r=b,s=null,u===g&&(v=!1))},u.wake=function(t){null!==s?u.sleep():t?h+=-D+(D=z()):10<u.frame&&(D=z()-c+5),r=0===o?b:i&&A?A:function(t){return setTimeout(t,1e3*(l-u.time)+1|0)},u===g&&(v=!0),d(2)},u.fps=function(t){return arguments.length?(a=1/((o=t)||60),l=this.time+a,void u.wake()):o},u.useRAF=function(t){return arguments.length?(u.sleep(),i=t,void u.fps(o)):i},u.fps(t),setTimeout(function(){"auto"===i&&u.frame<5&&"hidden"!==(n||{}).visibilityState&&u.useRAF(!1)},1500)}),(o=c.Ticker.prototype=new c.events.EventDispatcher).constructor=c.Ticker;var M=k("core.Animation",function(t,e){if(this.vars=e=e||{},this._duration=this._totalDuration=t||0,this._delay=Number(e.delay)||0,this._timeScale=1,this._active=!0===e.immediateRender,this.data=e.data,this._reversed=!0===e.reversed,K){v||g.wake();var i=this.vars.useFrames?Y:K;i.add(this,i._time),this.vars.paused&&this.paused(!0)}});g=M.ticker=new c.Ticker,(o=M.prototype)._dirty=o._gc=o._initted=o._paused=!1,o._totalTime=o._time=0,o._rawPrevTime=-1,o._next=o._last=o._onUpdate=o._timeline=o.timeline=null,o._paused=!1;var I=function(){v&&2e3<z()-D&&("hidden"!==(n||{}).visibilityState||!g.lagSmoothing())&&g.wake();var t=setTimeout(I,2e3);t.unref&&t.unref()};I(),o.play=function(t,e){return null!=t&&this.seek(t,e),this.reversed(!1).paused(!1)},o.pause=function(t,e){return null!=t&&this.seek(t,e),this.paused(!0)},o.resume=function(t,e){return null!=t&&this.seek(t,e),this.paused(!1)},o.seek=function(t,e){return this.totalTime(Number(t),!1!==e)},o.restart=function(t,e){return this.reversed(!1).paused(!1).totalTime(t?-this._delay:0,!1!==e,!0)},o.reverse=function(t,e){return null!=t&&this.seek(t||this.totalDuration(),e),this.reversed(!0).paused(!1)},o.render=function(t,e,i){},o.invalidate=function(){return this._time=this._totalTime=0,this._initted=this._gc=!1,this._rawPrevTime=-1,(this._gc||!this.timeline)&&this._enabled(!0),this},o.isActive=function(){var t,e=this._timeline,i=this._startTime;return!e||!this._gc&&!this._paused&&e.isActive()&&(t=e.rawTime(!0))>=i&&t<i+this.totalDuration()/this._timeScale-1e-7},o._enabled=function(t,e){return v||g.wake(),this._gc=!t,this._active=this.isActive(),!0!==e&&(t&&!this.timeline?this._timeline.add(this,this._startTime-this._delay):!t&&this.timeline&&this._timeline._remove(this,!0)),!1},o._kill=function(t,e){return this._enabled(!1,!1)},o.kill=function(t,e){return this._kill(t,e),this},o._uncache=function(t){for(var e=t?this:this.timeline;e;)e._dirty=!0,e=e.timeline;return this},o._swapSelfInParams=function(t){for(var e=t.length,i=t.concat();-1<--e;)"{self}"===t[e]&&(i[e]=this);return i},o._callback=function(t){var e=this.vars,i=e[t],n=e[t+"Params"],o=e[t+"Scope"]||e.callbackScope||this;switch(n?n.length:0){case 0:i.call(o);break;case 1:i.call(o,n[0]);break;case 2:i.call(o,n[0],n[1]);break;default:i.apply(o,n)}},o.eventCallback=function(t,e,i,n){if("on"===(t||"").substr(0,2)){var o=this.vars;if(1===arguments.length)return o[t];null==e?delete o[t]:(o[t]=e,o[t+"Params"]=x(i)&&-1!==i.join("").indexOf("{self}")?this._swapSelfInParams(i):i,o[t+"Scope"]=n),"onUpdate"===t&&(this._onUpdate=e)}return this},o.delay=function(t){return arguments.length?(this._timeline.smoothChildTiming&&this.startTime(this._startTime+t-this._delay),this._delay=t,this):this._delay},o.duration=function(t){return arguments.length?(this._duration=this._totalDuration=t,this._uncache(!0),this._timeline.smoothChildTiming&&0<this._time&&this._time<this._duration&&0!==t&&this.totalTime(this._totalTime*(t/this._duration),!0),this):(this._dirty=!1,this._duration)},o.totalDuration=function(t){return this._dirty=!1,arguments.length?this.duration(t):this._totalDuration},o.time=function(t,e){return arguments.length?(this._dirty&&this.totalDuration(),this.totalTime(t>this._duration?this._duration:t,e)):this._time},o.totalTime=function(t,e,i){if(v||g.wake(),!arguments.length)return this._totalTime;if(this._timeline){if(t<0&&!i&&(t+=this.totalDuration()),this._timeline.smoothChildTiming){this._dirty&&this.totalDuration();var n=this._totalDuration,o=this._timeline;if(n<t&&!i&&(t=n),this._startTime=(this._paused?this._pauseTime:o._time)-(this._reversed?n-t:t)/this._timeScale,o._dirty||this._uncache(!1),o._timeline)for(;o._timeline;)o._timeline._time!==(o._startTime+o._totalTime)/o._timeScale&&o.totalTime(o._totalTime,!0),o=o._timeline}this._gc&&this._enabled(!0,!1),(this._totalTime!==t||0===this._duration)&&(F.length&&Q(),this.render(t,e,!1),F.length&&Q())}return this},o.progress=o.totalProgress=function(t,e){var i=this.duration();return arguments.length?this.totalTime(i*t,e):i?this._time/i:this.ratio},o.startTime=function(t){return arguments.length?(t!==this._startTime&&(this._startTime=t,this.timeline&&this.timeline._sortChildren&&this.timeline.add(this,t-this._delay)),this):this._startTime},o.endTime=function(t){return this._startTime+(0!=t?this.totalDuration():this.duration())/this._timeScale},o.timeScale=function(t){if(!arguments.length)return this._timeScale;var e,i;for(t=t||_,this._timeline&&this._timeline.smoothChildTiming&&(i=(e=this._pauseTime)||0===e?e:this._timeline.totalTime(),this._startTime=i-(i-this._startTime)*this._timeScale/t),this._timeScale=t,i=this.timeline;i&&i.timeline;)i._dirty=!0,i.totalDuration(),i=i.timeline;return this},o.reversed=function(t){return arguments.length?(t!=this._reversed&&(this._reversed=t,this.totalTime(this._timeline&&!this._timeline.smoothChildTiming?this.totalDuration()-this._totalTime:this._totalTime,!0)),this):this._reversed},o.paused=function(t){if(!arguments.length)return this._paused;var e,i,n=this._timeline;return t!=this._paused&&n&&(v||t||g.wake(),i=(e=n.rawTime())-this._pauseTime,!t&&n.smoothChildTiming&&(this._startTime+=i,this._uncache(!1)),this._pauseTime=t?e:null,this._paused=t,this._active=this.isActive(),!t&&0!==i&&this._initted&&this.duration()&&(e=n.smoothChildTiming?this._totalTime:(e-this._startTime)/this._timeScale,this.render(e,e===this._totalTime,!0))),this._gc&&!t&&this._enabled(!0,!1),this};var O=k("core.SimpleTimeline",function(t){M.call(this,0,t),this.autoRemoveChildren=this.smoothChildTiming=!0});(o=O.prototype=new M).constructor=O,o.kill()._gc=!1,o._first=o._last=o._recent=null,o._sortChildren=!1,o.add=o.insert=function(t,e,i,n){var o,r;if(t._startTime=Number(e||0)+t._delay,t._paused&&this!==t._timeline&&(t._pauseTime=this.rawTime()-(t._timeline.rawTime()-t._pauseTime)),t.timeline&&t.timeline._remove(t,!0),t.timeline=t._timeline=this,t._gc&&t._enabled(!0,!0),o=this._last,this._sortChildren)for(r=t._startTime;o&&o._startTime>r;)o=o._prev;return o?(t._next=o._next,o._next=t):(t._next=this._first,this._first=t),t._next?t._next._prev=t:this._last=t,t._prev=o,this._recent=t,this._timeline&&this._uncache(!0),this},o._remove=function(t,e){return t.timeline===this&&(e||t._enabled(!1,!0),t._prev?t._prev._next=t._next:this._first===t&&(this._first=t._next),t._next?t._next._prev=t._prev:this._last===t&&(this._last=t._prev),t._next=t._prev=t.timeline=null,t===this._recent&&(this._recent=this._last),this._timeline&&this._uncache(!0)),this},o.render=function(t,e,i){var n,o=this._first;for(this._totalTime=this._time=this._rawPrevTime=t;o;)n=o._next,(o._active||t>=o._startTime&&!o._paused&&!o._gc)&&(o._reversed?o.render((o._dirty?o.totalDuration():o._totalDuration)-(t-o._startTime)*o._timeScale,e,i):o.render((t-o._startTime)*o._timeScale,e,i)),o=n},o.rawTime=function(){return v||g.wake(),this._totalTime};var L=k("TweenLite",function(t,e,i){if(M.call(this,e,i),this.render=L.prototype.render,null==t)throw"Cannot tween a null target.";this.target=t="string"!=typeof t?t:L.selector(t)||t;var n,o,r,s=t.jquery||t.length&&t!==p&&t[0]&&(t[0]===p||t[0].nodeType&&t[0].style&&!t.nodeType),a=this.vars.overwrite;if(this._overwrite=a=null==a?G[L.defaultOverwrite]:"number"==typeof a?a>>0:G[a],(s||t instanceof Array||t.push&&x(t))&&"number"!=typeof t[0])for(this._targets=r=l(t),this._propLookup=[],this._siblings=[],n=0;n<r.length;n++)(o=r[n])?"string"!=typeof o?o.length&&o!==p&&o[0]&&(o[0]===p||o[0].nodeType&&o[0].style&&!o.nodeType)?(r.splice(n--,1),this._targets=r=r.concat(l(o))):(this._siblings[n]=tt(o,this,!1),1===a&&1<this._siblings[n].length&&it(o,this,null,1,this._siblings[n])):"string"==typeof(o=r[n--]=L.selector(o))&&r.splice(n+1,1):r.splice(n--,1);else this._propLookup={},this._siblings=tt(t,this,!1),1===a&&1<this._siblings.length&&it(t,this,null,1,this._siblings);(this.vars.immediateRender||0===e&&0===this._delay&&!1!==this.vars.immediateRender)&&(this._time=-_,this.render(Math.min(0,-this._delay)))},!0),R=function(t){return t&&t.length&&t!==p&&t[0]&&(t[0]===p||t[0].nodeType&&t[0].style&&!t.nodeType)};(o=L.prototype=new M).constructor=L,o.kill()._gc=!1,o.ratio=0,o._firstPT=o._targets=o._overwrittenProps=o._startAt=null,o._notifyPluginsOfEnabled=o._lazy=!1,L.version="2.0.2",L.defaultEase=o._ease=new C(null,null,1,1),L.defaultOverwrite="auto",L.ticker=g,L.autoSleep=120,L.lagSmoothing=function(t,e){g.lagSmoothing(t,e)},L.selector=p.$||p.jQuery||function(t){var e=p.$||p.jQuery;return e?(L.selector=e)(t):(n||(n=p.document),n?n.querySelectorAll?n.querySelectorAll(t):n.getElementById("#"===t.charAt(0)?t.substr(1):t):t)};var F=[],N={},j=/(?:(-|-=|\+=)?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/gi,B=/[\+-]=-?[\.\d]/,V=function(t){for(var e,i=this._firstPT;i;)e=i.blob?1===t&&null!=this.end?this.end:t?this.join(""):this.start:i.c*t+i.s,i.m?e=i.m.call(this._tween,e,this._target||i.t,this._tween):e<1e-6&&-1e-6<e&&!i.blob&&(e=0),i.f?i.fp?i.t[i.p](i.fp,e):i.t[i.p](e):i.t[i.p]=e,i=i._next},H=function(t,e,i,n){var o,r,s,a,l,u,h,c=[],p=0,d="",f=0;for(c.start=t,c.end=e,t=c[0]=t+"",e=c[1]=e+"",i&&(i(c),t=c[0],e=c[1]),c.length=0,o=t.match(j)||[],r=e.match(j)||[],n&&(n._next=null,n.blob=1,c._firstPT=c._applyPT=n),l=r.length,a=0;a<l;a++)h=r[a],d+=(u=e.substr(p,e.indexOf(h,p)-p))||!a?u:",",p+=u.length,f?f=(f+1)%5:"rgba("===u.substr(-5)&&(f=1),h===o[a]||o.length<=a?d+=h:(d&&(c.push(d),d=""),s=parseFloat(o[a]),c.push(s),c._firstPT={_next:c._firstPT,t:c,p:c.length-1,s:s,c:("="===h.charAt(1)?parseInt(h.charAt(0)+"1",10)*parseFloat(h.substr(2)):parseFloat(h)-s)||0,f:0,m:f&&f<4?Math.round:0}),p+=h.length;return(d+=e.substr(p))&&c.push(d),c.setRatio=V,B.test(e)&&(c.end=null),c},q=function(t,e,i,n,o,r,s,a,l){"function"==typeof n&&(n=n(l||0,t));var u=typeof t[e],h="function"!==u?"":e.indexOf("set")||"function"!=typeof t["get"+e.substr(3)]?e:"get"+e.substr(3),c="get"!==i?i:h?s?t[h](s):t[h]():t[e],p="string"==typeof n&&"="===n.charAt(1),d={t:t,p:e,s:c,f:"function"===u,pg:0,n:o||e,m:r?"function"==typeof r?r:Math.round:0,pr:0,c:p?parseInt(n.charAt(0)+"1",10)*parseFloat(n.substr(2)):parseFloat(n)-c||0};return("number"!=typeof c||"number"!=typeof n&&!p)&&(s||isNaN(c)||!p&&isNaN(n)||"boolean"==typeof c||"boolean"==typeof n?(d.fp=s,d={t:H(c,p?parseFloat(d.s)+d.c+(d.s+"").replace(/[0-9\-\.]/g,""):n,a||L.defaultStringFilter,d),p:"setRatio",s:0,c:1,f:2,pg:0,n:o||e,pr:0,m:0}):(d.s=parseFloat(c),p||(d.c=parseFloat(n)-d.s||0))),d.c?((d._next=this._firstPT)&&(d._next._prev=d),this._firstPT=d):void 0},$=L._internals={isArray:x,isSelector:R,lazyTweens:F,blobDif:H},W=L._plugins={},U=$.tweenLookup={},Z=0,X=$.reservedProps={ease:1,delay:1,overwrite:1,onComplete:1,onCompleteParams:1,onCompleteScope:1,useFrames:1,runBackwards:1,startAt:1,onUpdate:1,onUpdateParams:1,onUpdateScope:1,onStart:1,onStartParams:1,onStartScope:1,onReverseComplete:1,onReverseCompleteParams:1,onReverseCompleteScope:1,onRepeat:1,onRepeatParams:1,onRepeatScope:1,easeParams:1,yoyo:1,immediateRender:1,repeat:1,repeatDelay:1,data:1,paused:1,reversed:1,autoCSS:1,lazy:1,onOverwrite:1,callbackScope:1,stringFilter:1,id:1,yoyoEase:1},G={none:0,all:1,auto:2,concurrent:3,allOnStart:4,preexisting:5,true:1,false:0},Y=M._rootFramesTimeline=new O,K=M._rootTimeline=new O,J=30,Q=$.lazyRender=function(){var t,e=F.length;for(N={};-1<--e;)(t=F[e])&&!1!==t._lazy&&(t.render(t._lazy[0],t._lazy[1],!0),t._lazy=!1);F.length=0};K._startTime=g.time,Y._startTime=g.frame,K._active=Y._active=!0,setTimeout(Q,1),M._updateRoot=L.render=function(){var t,e,i;if(F.length&&Q(),K.render((g.time-K._startTime)*K._timeScale,!1,!1),Y.render((g.frame-Y._startTime)*Y._timeScale,!1,!1),F.length&&Q(),g.frame>=J){for(i in J=g.frame+(parseInt(L.autoSleep,10)||120),U){for(t=(e=U[i].tweens).length;-1<--t;)e[t]._gc&&e.splice(t,1);0===e.length&&delete U[i]}if((!(i=K._first)||i._paused)&&L.autoSleep&&!Y._first&&1===g._listeners.tick.length){for(;i&&i._paused;)i=i._next;i||g.sleep()}}},g.addEventListener("tick",M._updateRoot);var tt=function(t,e,i){var n,o,r=t._gsTweenID;if(U[r||(t._gsTweenID=r="t"+Z++)]||(U[r]={target:t,tweens:[]}),e&&((n=U[r].tweens)[o=n.length]=e,i))for(;-1<--o;)n[o]===e&&n.splice(o,1);return U[r].tweens},et=function(t,e,i,n){var o,r,s=t.vars.onOverwrite;return s&&(o=s(t,e,i,n)),(s=L.onOverwrite)&&(r=s(t,e,i,n)),!1!==o&&!1!==r},it=function(t,e,i,n,o){var r,s,a,l;if(1===n||4<=n){for(l=o.length,r=0;r<l;r++)if((a=o[r])!==e)a._gc||a._kill(null,t,e)&&(s=!0);else if(5===n)break;return s}var u,h=e._startTime+_,c=[],p=0,d=0===e._duration;for(r=o.length;-1<--r;)(a=o[r])===e||a._gc||a._paused||(a._timeline!==e._timeline?(u=u||nt(e,0,d),0===nt(a,u,d)&&(c[p++]=a)):a._startTime<=h&&a._startTime+a.totalDuration()/a._timeScale>h&&((d||!a._initted)&&h-a._startTime<=2e-10||(c[p++]=a)));for(r=p;-1<--r;)if(l=(a=c[r])._firstPT,2===n&&a._kill(i,t,e)&&(s=!0),2!==n||!a._firstPT&&a._initted&&l){if(2!==n&&!et(a,e))continue;a._enabled(!1,!1)&&(s=!0)}return s},nt=function(t,e,i){for(var n=t._timeline,o=n._timeScale,r=t._startTime;n._timeline;){if(r+=n._startTime,o*=n._timeScale,n._paused)return-100;n=n._timeline}return e<(r/=o)?r-e:i&&r===e||!t._initted&&r-e<2e-10?_:(r+=t.totalDuration()/t._timeScale/o)>e+_?0:r-e-_};o._init=function(){var t,e,i,n,o,r,s=this.vars,a=this._overwrittenProps,l=this._duration,u=!!s.immediateRender,h=s.ease;if(s.startAt){for(n in this._startAt&&(this._startAt.render(-1,!0),this._startAt.kill()),o={},s.startAt)o[n]=s.startAt[n];if(o.data="isStart",o.overwrite=!1,o.immediateRender=!0,o.lazy=u&&!1!==s.lazy,o.startAt=o.delay=null,o.onUpdate=s.onUpdate,o.onUpdateParams=s.onUpdateParams,o.onUpdateScope=s.onUpdateScope||s.callbackScope||this,this._startAt=L.to(this.target||{},0,o),u)if(0<this._time)this._startAt=null;else if(0!==l)return}else if(s.runBackwards&&0!==l)if(this._startAt)this._startAt.render(-1,!0),this._startAt.kill(),this._startAt=null;else{for(n in 0!==this._time&&(u=!1),i={},s)X[n]&&"autoCSS"!==n||(i[n]=s[n]);if(i.overwrite=0,i.data="isFromStart",i.lazy=u&&!1!==s.lazy,i.immediateRender=u,this._startAt=L.to(this.target,0,i),u){if(0===this._time)return}else this._startAt._init(),this._startAt._enabled(!1),this.vars.immediateRender&&(this._startAt=null)}if(this._ease=h=h?h instanceof C?h:"function"==typeof h?new C(h,s.easeParams):S[h]||L.defaultEase:L.defaultEase,s.easeParams instanceof Array&&h.config&&(this._ease=h.config.apply(h,s.easeParams)),this._easeType=this._ease._type,this._easePower=this._ease._power,this._firstPT=null,this._targets)for(r=this._targets.length,t=0;t<r;t++)this._initProps(this._targets[t],this._propLookup[t]={},this._siblings[t],a?a[t]:null,t)&&(e=!0);else e=this._initProps(this.target,this._propLookup,this._siblings,a,0);if(e&&L._onPluginEvent("_onInitAllProps",this),a&&(this._firstPT||"function"!=typeof this.target&&this._enabled(!1,!1)),s.runBackwards)for(i=this._firstPT;i;)i.s+=i.c,i.c=-i.c,i=i._next;this._onUpdate=s.onUpdate,this._initted=!0},o._initProps=function(t,e,i,n,o){var r,s,a,l,u,h;if(null==t)return!1;for(r in N[t._gsTweenID]&&Q(),this.vars.css||t.style&&t!==p&&t.nodeType&&W.css&&!1!==this.vars.autoCSS&&function(t,e){var i,n={};for(i in t)X[i]||i in e&&"transform"!==i&&"x"!==i&&"y"!==i&&"width"!==i&&"height"!==i&&"className"!==i&&"border"!==i||!(!W[i]||W[i]&&W[i]._autoCSS)||(n[i]=t[i],delete t[i]);t.css=n}(this.vars,t),this.vars)if(h=this.vars[r],X[r])h&&(h instanceof Array||h.push&&x(h))&&-1!==h.join("").indexOf("{self}")&&(this.vars[r]=h=this._swapSelfInParams(h,this));else if(W[r]&&(l=new W[r])._onInitTween(t,this.vars[r],this,o)){for(this._firstPT=u={_next:this._firstPT,t:l,p:"setRatio",s:0,c:1,f:1,n:r,pg:1,pr:l._priority,m:0},s=l._overwriteProps.length;-1<--s;)e[l._overwriteProps[s]]=this._firstPT;(l._priority||l._onInitAllProps)&&(a=!0),(l._onDisable||l._onEnable)&&(this._notifyPluginsOfEnabled=!0),u._next&&(u._next._prev=u)}else e[r]=q.call(this,t,r,"get",h,r,0,null,this.vars.stringFilter,o);return n&&this._kill(n,t)?this._initProps(t,e,i,n,o):1<this._overwrite&&this._firstPT&&1<i.length&&it(t,this,e,this._overwrite,i)?(this._kill(e,t),this._initProps(t,e,i,n,o)):(this._firstPT&&(!1!==this.vars.lazy&&this._duration||this.vars.lazy&&!this._duration)&&(N[t._gsTweenID]=!0),a)},o.render=function(t,e,i){var n,o,r,s,a=this._time,l=this._duration,u=this._rawPrevTime;if(l-1e-7<=t&&0<=t)this._totalTime=this._time=l,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1,this._reversed||(n=!0,o="onComplete",i=i||this._timeline.autoRemoveChildren),0===l&&(this._initted||!this.vars.lazy||i)&&(this._startTime===this._timeline._duration&&(t=0),(u<0||t<=0&&-1e-7<=t||u===_&&"isPause"!==this.data)&&u!==t&&(i=!0,_<u&&(o="onReverseComplete")),this._rawPrevTime=s=!e||t||u===t?t:_);else if(t<1e-7)this._totalTime=this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==a||0===l&&0<u)&&(o="onReverseComplete",n=this._reversed),t<0&&(this._active=!1,0===l&&(this._initted||!this.vars.lazy||i)&&(0<=u&&(u!==_||"isPause"!==this.data)&&(i=!0),this._rawPrevTime=s=!e||t||u===t?t:_)),(!this._initted||this._startAt&&this._startAt.progress())&&(i=!0);else if(this._totalTime=this._time=t,this._easeType){var h=t/l,c=this._easeType,p=this._easePower;(1===c||3===c&&.5<=h)&&(h=1-h),3===c&&(h*=2),1===p?h*=h:2===p?h*=h*h:3===p?h*=h*h*h:4===p&&(h*=h*h*h*h),this.ratio=1===c?1-h:2===c?h:t/l<.5?h/2:1-h/2}else this.ratio=this._ease.getRatio(t/l);if(this._time!==a||i){if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!i&&this._firstPT&&(!1!==this.vars.lazy&&this._duration||this.vars.lazy&&!this._duration))return this._time=this._totalTime=a,this._rawPrevTime=u,F.push(this),void(this._lazy=[t,e]);this._time&&!n?this.ratio=this._ease.getRatio(this._time/l):n&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}for(!1!==this._lazy&&(this._lazy=!1),this._active||!this._paused&&this._time!==a&&0<=t&&(this._active=!0),0===a&&(this._startAt&&(0<=t?this._startAt.render(t,!0,i):o||(o="_dummyGS")),this.vars.onStart&&(0!==this._time||0===l)&&(e||this._callback("onStart"))),r=this._firstPT;r;)r.f?r.t[r.p](r.c*this.ratio+r.s):r.t[r.p]=r.c*this.ratio+r.s,r=r._next;this._onUpdate&&(t<0&&this._startAt&&-1e-4!==t&&this._startAt.render(t,!0,i),e||(this._time!==a||n||i)&&this._callback("onUpdate")),o&&(!this._gc||i)&&(t<0&&this._startAt&&!this._onUpdate&&-1e-4!==t&&this._startAt.render(t,!0,i),n&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[o]&&this._callback(o),0===l&&this._rawPrevTime===_&&s!==_&&(this._rawPrevTime=0))}},o._kill=function(t,e,i){if("all"===t&&(t=null),null==t&&(null==e||e===this.target))return this._lazy=!1,this._enabled(!1,!1);e="string"!=typeof e?e||this._targets||this.target:L.selector(e)||e;var n,o,r,s,a,l,u,h,c,p=i&&this._time&&i._startTime===this._startTime&&this._timeline===i._timeline,d=this._firstPT;if((x(e)||R(e))&&"number"!=typeof e[0])for(n=e.length;-1<--n;)this._kill(t,e[n],i)&&(l=!0);else{if(this._targets){for(n=this._targets.length;-1<--n;)if(e===this._targets[n]){a=this._propLookup[n]||{},this._overwrittenProps=this._overwrittenProps||[],o=this._overwrittenProps[n]=t?this._overwrittenProps[n]||{}:"all";break}}else{if(e!==this.target)return!1;a=this._propLookup,o=this._overwrittenProps=t?this._overwrittenProps||{}:"all"}if(a){if(u=t||a,h=t!==o&&"all"!==o&&t!==a&&("object"!=typeof t||!t._tempKill),i&&(L.onOverwrite||this.vars.onOverwrite)){for(r in u)a[r]&&(c||(c=[]),c.push(r));if((c||!t)&&!et(this,i,e,c))return!1}for(r in u)(s=a[r])&&(p&&(s.f?s.t[s.p](s.s):s.t[s.p]=s.s,l=!0),s.pg&&s.t._kill(u)&&(l=!0),s.pg&&0!==s.t._overwriteProps.length||(s._prev?s._prev._next=s._next:s===this._firstPT&&(this._firstPT=s._next),s._next&&(s._next._prev=s._prev),s._next=s._prev=null),delete a[r]),h&&(o[r]=1);!this._firstPT&&this._initted&&d&&this._enabled(!1,!1)}}return l},o.invalidate=function(){return this._notifyPluginsOfEnabled&&L._onPluginEvent("_onDisable",this),this._firstPT=this._overwrittenProps=this._startAt=this._onUpdate=null,this._notifyPluginsOfEnabled=this._active=this._lazy=!1,this._propLookup=this._targets?{}:[],M.prototype.invalidate.call(this),this.vars.immediateRender&&(this._time=-_,this.render(Math.min(0,-this._delay))),this},o._enabled=function(t,e){if(v||g.wake(),t&&this._gc){var i,n=this._targets;if(n)for(i=n.length;-1<--i;)this._siblings[i]=tt(n[i],this,!0);else this._siblings=tt(this.target,this,!0)}return M.prototype._enabled.call(this,t,e),!(!this._notifyPluginsOfEnabled||!this._firstPT)&&L._onPluginEvent(t?"_onEnable":"_onDisable",this)},L.to=function(t,e,i){return new L(t,e,i)},L.from=function(t,e,i){return i.runBackwards=!0,i.immediateRender=0!=i.immediateRender,new L(t,e,i)},L.fromTo=function(t,e,i,n){return n.startAt=i,n.immediateRender=0!=n.immediateRender&&0!=i.immediateRender,new L(t,e,n)},L.delayedCall=function(t,e,i,n,o){return new L(e,0,{delay:t,onComplete:e,onCompleteParams:i,callbackScope:n,onReverseComplete:e,onReverseCompleteParams:i,immediateRender:!1,lazy:!1,useFrames:o,overwrite:0})},L.set=function(t,e){return new L(t,0,e)},L.getTweensOf=function(t,e){if(null==t)return[];var i,n,o,r;if(t="string"!=typeof t?t:L.selector(t)||t,(x(t)||R(t))&&"number"!=typeof t[0]){for(i=t.length,n=[];-1<--i;)n=n.concat(L.getTweensOf(t[i],e));for(i=n.length;-1<--i;)for(r=n[i],o=i;-1<--o;)r===n[o]&&n.splice(i,1)}else if(t._gsTweenID)for(i=(n=tt(t).concat()).length;-1<--i;)(n[i]._gc||e&&!n[i].isActive())&&n.splice(i,1);return n||[]},L.killTweensOf=L.killDelayedCallsTo=function(t,e,i){"object"==typeof e&&(i=e,e=!1);for(var n=L.getTweensOf(t,e),o=n.length;-1<--o;)n[o]._kill(i,t)};var ot=k("plugins.TweenPlugin",function(t,e){this._overwriteProps=(t||"").split(","),this._propName=this._overwriteProps[0],this._priority=e||0,this._super=ot.prototype},!0);if(o=ot.prototype,ot.version="1.19.0",ot.API=2,o._firstPT=null,o._addTween=q,o.setRatio=V,o._kill=function(t){var e,i=this._overwriteProps,n=this._firstPT;if(null!=t[this._propName])this._overwriteProps=[];else for(e=i.length;-1<--e;)null!=t[i[e]]&&i.splice(e,1);for(;n;)null!=t[n.n]&&(n._next&&(n._next._prev=n._prev),n._prev?(n._prev._next=n._next,n._prev=null):this._firstPT===n&&(this._firstPT=n._next)),n=n._next;return!1},o._mod=o._roundProps=function(t){for(var e,i=this._firstPT;i;)(e=t[this._propName]||null!=i.n&&t[i.n.split(this._propName+"_").join("")])&&"function"==typeof e&&(2===i.f?i.t._applyPT.m=e:i.m=e),i=i._next},L._onPluginEvent=function(t,e){var i,n,o,r,s,a=e._firstPT;if("_onInitAllProps"===t){for(;a;){for(s=a._next,n=o;n&&n.pr>a.pr;)n=n._next;(a._prev=n?n._prev:r)?a._prev._next=a:o=a,(a._next=n)?n._prev=a:r=a,a=s}a=e._firstPT=o}for(;a;)a.pg&&"function"==typeof a.t[t]&&a.t[t]()&&(i=!0),a=a._next;return i},ot.activate=function(t){for(var e=t.length;-1<--e;)t[e].API===ot.API&&(W[(new t[e])._propName]=t[e]);return!0},a.plugin=function(t){if(!(t&&t.propName&&t.init&&t.API))throw"illegal plugin definition.";var e,i=t.propName,n=t.priority||0,o=t.overwriteProps,r={init:"_onInitTween",set:"setRatio",kill:"_kill",round:"_mod",mod:"_mod",initAll:"_onInitAllProps"},s=k("plugins."+i.charAt(0).toUpperCase()+i.substr(1)+"Plugin",function(){ot.call(this,i,n),this._overwriteProps=o||[]},!0===t.global),a=s.prototype=new ot(i);for(e in(a.constructor=s).API=t.API,r)"function"==typeof t[e]&&(a[r[e]]=t[e]);return s.version=t.version,ot.activate([s]),s},e=p._gsQueue){for(i=0;i<e.length;i++)e[i]();for(o in w)w[o].func||p.console.log("GSAP encountered missing dependency: "+o)}v=!1}("undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window,"TweenMax"),function(){"use strict";function e(t){if(!t)throw new Error("No options passed to Waypoint constructor");if(!t.element)throw new Error("No element option passed to Waypoint constructor");if(!t.handler)throw new Error("No handler option passed to Waypoint constructor");this.key="waypoint-"+i,this.options=e.Adapter.extend({},e.defaults,t),this.element=this.options.element,this.adapter=new e.Adapter(this.element),this.callback=t.handler,this.axis=this.options.horizontal?"horizontal":"vertical",this.enabled=this.options.enabled,this.triggerPoint=null,this.group=e.Group.findOrCreate({name:this.options.group,axis:this.axis}),this.context=e.Context.findOrCreateByElement(this.options.context),e.offsetAliases[this.options.offset]&&(this.options.offset=e.offsetAliases[this.options.offset]),this.group.add(this),this.context.add(this),r[this.key]=this,i+=1}var i=0,r={};e.prototype.queueTrigger=function(t){this.group.queueTrigger(this,t)},e.prototype.trigger=function(t){this.enabled&&this.callback&&this.callback.apply(this,t)},e.prototype.destroy=function(){this.context.remove(this),this.group.remove(this),delete r[this.key]},e.prototype.disable=function(){return this.enabled=!1,this},e.prototype.enable=function(){return this.context.refresh(),this.enabled=!0,this},e.prototype.next=function(){return this.group.next(this)},e.prototype.previous=function(){return this.group.previous(this)},e.invokeAll=function(t){var e=[];for(var i in r)e.push(r[i]);for(var n=0,o=e.length;n<o;n++)e[n][t]()},e.destroyAll=function(){e.invokeAll("destroy")},e.disableAll=function(){e.invokeAll("disable")},e.enableAll=function(){e.invokeAll("enable")},e.refreshAll=function(){e.Context.refreshAll()},e.viewportHeight=function(){return window.innerHeight||document.documentElement.clientHeight},e.viewportWidth=function(){return document.documentElement.clientWidth},e.adapters=[],e.defaults={context:window,continuous:!0,enabled:!0,group:"default",horizontal:!1,offset:0},e.offsetAliases={"bottom-in-view":function(){return this.context.innerHeight()-this.adapter.outerHeight()},"right-in-view":function(){return this.context.innerWidth()-this.adapter.outerWidth()}},window.Waypoint=e}(),function(){"use strict";function e(t){window.setTimeout(t,1e3/60)}function i(t){this.element=t,this.Adapter=g.Adapter,this.adapter=new this.Adapter(t),this.key="waypoint-context-"+n,this.didScroll=!1,this.didResize=!1,this.oldScroll={x:this.adapter.scrollLeft(),y:this.adapter.scrollTop()},this.waypoints={vertical:{},horizontal:{}},t.waypointContextKey=this.key,o[t.waypointContextKey]=this,n+=1,this.createThrottledScrollHandler(),this.createThrottledResizeHandler()}var n=0,o={},g=window.Waypoint,t=window.onload;i.prototype.add=function(t){var e=t.options.horizontal?"horizontal":"vertical";this.waypoints[e][t.key]=t,this.refresh()},i.prototype.checkEmpty=function(){var t=this.Adapter.isEmptyObject(this.waypoints.horizontal),e=this.Adapter.isEmptyObject(this.waypoints.vertical);t&&e&&(this.adapter.off(".waypoints"),delete o[this.key])},i.prototype.createThrottledResizeHandler=function(){function t(){e.handleResize(),e.didResize=!1}var e=this;this.adapter.on("resize.waypoints",function(){e.didResize||(e.didResize=!0,g.requestAnimationFrame(t))})},i.prototype.createThrottledScrollHandler=function(){function t(){e.handleScroll(),e.didScroll=!1}var e=this;this.adapter.on("scroll.waypoints",function(){(!e.didScroll||g.isTouch)&&(e.didScroll=!0,g.requestAnimationFrame(t))})},i.prototype.handleResize=function(){g.Context.refreshAll()},i.prototype.handleScroll=function(){var t={},e={horizontal:{newScroll:this.adapter.scrollLeft(),oldScroll:this.oldScroll.x,forward:"right",backward:"left"},vertical:{newScroll:this.adapter.scrollTop(),oldScroll:this.oldScroll.y,forward:"down",backward:"up"}};for(var i in e){var n=e[i],o=n.newScroll>n.oldScroll?n.forward:n.backward;for(var r in this.waypoints[i]){var s=this.waypoints[i][r],a=n.oldScroll<s.triggerPoint,l=n.newScroll>=s.triggerPoint;(a&&l||!a&&!l)&&(s.queueTrigger(o),t[s.group.id]=s.group)}}for(var u in t)t[u].flushTriggers();this.oldScroll={x:e.horizontal.newScroll,y:e.vertical.newScroll}},i.prototype.innerHeight=function(){return this.element==this.element.window?g.viewportHeight():this.adapter.innerHeight()},i.prototype.remove=function(t){delete this.waypoints[t.axis][t.key],this.checkEmpty()},i.prototype.innerWidth=function(){return this.element==this.element.window?g.viewportWidth():this.adapter.innerWidth()},i.prototype.destroy=function(){var t=[];for(var e in this.waypoints)for(var i in this.waypoints[e])t.push(this.waypoints[e][i]);for(var n=0,o=t.length;n<o;n++)t[n].destroy()},i.prototype.refresh=function(){var t,e=this.element==this.element.window,i=e?void 0:this.adapter.offset(),n={};for(var o in this.handleScroll(),t={horizontal:{contextOffset:e?0:i.left,contextScroll:e?0:this.oldScroll.x,contextDimension:this.innerWidth(),oldScroll:this.oldScroll.x,forward:"right",backward:"left",offsetProp:"left"},vertical:{contextOffset:e?0:i.top,contextScroll:e?0:this.oldScroll.y,contextDimension:this.innerHeight(),oldScroll:this.oldScroll.y,forward:"down",backward:"up",offsetProp:"top"}}){var r=t[o];for(var s in this.waypoints[o]){var a,l,u,h,c=this.waypoints[o][s],p=c.options.offset,d=c.triggerPoint,f=0,m=null==d;c.element!==c.element.window&&(f=c.adapter.offset()[r.offsetProp]),"function"==typeof p?p=p.apply(c):"string"==typeof p&&(p=parseFloat(p),-1<c.options.offset.indexOf("%")&&(p=Math.ceil(r.contextDimension*p/100))),a=r.contextScroll-r.contextOffset,c.triggerPoint=f+a-p,l=d<r.oldScroll,u=c.triggerPoint>=r.oldScroll,h=!l&&!u,!m&&(l&&u)?(c.queueTrigger(r.backward),n[c.group.id]=c.group):!m&&h?(c.queueTrigger(r.forward),n[c.group.id]=c.group):m&&r.oldScroll>=c.triggerPoint&&(c.queueTrigger(r.forward),n[c.group.id]=c.group)}}return g.requestAnimationFrame(function(){for(var t in n)n[t].flushTriggers()}),this},i.findOrCreateByElement=function(t){return i.findByElement(t)||new i(t)},i.refreshAll=function(){for(var t in o)o[t].refresh()},i.findByElement=function(t){return o[t.waypointContextKey]},window.onload=function(){t&&t(),i.refreshAll()},g.requestAnimationFrame=function(t){(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||e).call(window,t)},g.Context=i}(),function(){"use strict";function s(t,e){return t.triggerPoint-e.triggerPoint}function a(t,e){return e.triggerPoint-t.triggerPoint}function e(t){this.name=t.name,this.axis=t.axis,this.id=this.name+"-"+this.axis,this.waypoints=[],this.clearTriggerQueues(),i[this.axis][this.name]=this}var i={vertical:{},horizontal:{}},n=window.Waypoint;e.prototype.add=function(t){this.waypoints.push(t)},e.prototype.clearTriggerQueues=function(){this.triggerQueues={up:[],down:[],left:[],right:[]}},e.prototype.flushTriggers=function(){for(var t in this.triggerQueues){var e=this.triggerQueues[t],i="up"===t||"left"===t;e.sort(i?a:s);for(var n=0,o=e.length;n<o;n+=1){var r=e[n];(r.options.continuous||n===e.length-1)&&r.trigger([t])}}this.clearTriggerQueues()},e.prototype.next=function(t){this.waypoints.sort(s);var e=n.Adapter.inArray(t,this.waypoints);return e===this.waypoints.length-1?null:this.waypoints[e+1]},e.prototype.previous=function(t){this.waypoints.sort(s);var e=n.Adapter.inArray(t,this.waypoints);return e?this.waypoints[e-1]:null},e.prototype.queueTrigger=function(t,e){this.triggerQueues[e].push(t)},e.prototype.remove=function(t){var e=n.Adapter.inArray(t,this.waypoints);-1<e&&this.waypoints.splice(e,1)},e.prototype.first=function(){return this.waypoints[0]},e.prototype.last=function(){return this.waypoints[this.waypoints.length-1]},e.findOrCreate=function(t){return i[t.axis][t.name]||new e(t)},n.Group=e}(),function(){"use strict";function i(t){this.$element=n(t)}var n=window.jQuery,t=window.Waypoint;n.each(["innerHeight","innerWidth","off","offset","on","outerHeight","outerWidth","scrollLeft","scrollTop"],function(t,e){i.prototype[e]=function(){var t=Array.prototype.slice.call(arguments);return this.$element[e].apply(this.$element,t)}}),n.each(["extend","inArray","isEmptyObject"],function(t,e){i[e]=n[e]}),t.adapters.push({name:"jquery",Adapter:i}),t.Adapter=i}(),function(){"use strict";function t(n){return function(){var e=[],i=arguments[0];return n.isFunction(arguments[0])&&((i=n.extend({},arguments[1])).handler=arguments[0]),this.each(function(){var t=n.extend({},i,{element:this});"string"==typeof t.context&&(t.context=n(this).closest(t.context)[0]),e.push(new o(t))}),e}}var o=window.Waypoint;window.jQuery&&(window.jQuery.fn.waypoint=t(window.jQuery)),window.Zepto&&(window.Zepto.fn.waypoint=t(window.Zepto))}(),function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).mapboxgl=t()}}(function(){return function r(s,a,l){function u(i,t){if(!a[i]){if(!s[i]){var e="function"==typeof require&&require;if(!t&&e)return e(i,!0);if(h)return h(i,!0);var n=new Error("Cannot find module '"+i+"'");throw n.code="MODULE_NOT_FOUND",n}var o=a[i]={exports:{}};s[i][0].call(o.exports,function(t){var e=s[i][1][t];return u(e||t)},o,o.exports,r,s,a,l)}return a[i].exports}for(var h="function"==typeof require&&require,t=0;t<l.length;t++)u(l[t]);return u}({1:[function(t,e,i){var n,o;n=this,o=function(){"use strict";var t,e;return(e=new Float32Array(3))[0]=0,e[1]=0,e[2]=0,(t=new Float32Array(4))[0]=0,t[1]=0,t[2]=0,t[3]=0,{vec3:{transformMat3:function(t,e,i){var n=e[0],o=e[1],r=e[2];return t[0]=n*i[0]+o*i[3]+r*i[6],t[1]=n*i[1]+o*i[4]+r*i[7],t[2]=n*i[2]+o*i[5]+r*i[8],t}},vec4:{transformMat4:function(t,e,i){var n=e[0],o=e[1],r=e[2],s=e[3];return t[0]=i[0]*n+i[4]*o+i[8]*r+i[12]*s,t[1]=i[1]*n+i[5]*o+i[9]*r+i[13]*s,t[2]=i[2]*n+i[6]*o+i[10]*r+i[14]*s,t[3]=i[3]*n+i[7]*o+i[11]*r+i[15]*s,t}},mat2:{create:function(){var t=new Float32Array(4);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t},rotate:function(t,e,i){var n=e[0],o=e[1],r=e[2],s=e[3],a=Math.sin(i),l=Math.cos(i);return t[0]=n*l+r*a,t[1]=o*l+s*a,t[2]=n*-a+r*l,t[3]=o*-a+s*l,t},scale:function(t,e,i){var n=e[0],o=e[1],r=e[2],s=e[3],a=i[0],l=i[1];return t[0]=n*a,t[1]=o*a,t[2]=r*l,t[3]=s*l,t}},mat3:{create:function(){var t=new Float32Array(9);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},fromRotation:function(t,e){var i=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=i,t[2]=0,t[3]=-i,t[4]=n,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}},mat4:{create:function(){var t=new Float32Array(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},identity:function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},translate:function(t,e,i){var n,o,r,s,a,l,u,h,c,p,d,f,m=i[0],g=i[1],v=i[2];return t[15]=e===t?(t[12]=e[0]*m+e[4]*g+e[8]*v+e[12],t[13]=e[1]*m+e[5]*g+e[9]*v+e[13],t[14]=e[2]*m+e[6]*g+e[10]*v+e[14],e[3]*m+e[7]*g+e[11]*v+e[15]):(n=e[0],o=e[1],r=e[2],s=e[3],a=e[4],l=e[5],u=e[6],h=e[7],c=e[8],p=e[9],d=e[10],f=e[11],t[0]=n,t[1]=o,t[2]=r,t[3]=s,t[4]=a,t[5]=l,t[6]=u,t[7]=h,t[8]=c,t[9]=p,t[10]=d,t[11]=f,t[12]=n*m+a*g+c*v+e[12],t[13]=o*m+l*g+p*v+e[13],t[14]=r*m+u*g+d*v+e[14],s*m+h*g+f*v+e[15]),t},scale:function(t,e,i){var n=i[0],o=i[1],r=i[2];return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*o,t[5]=e[5]*o,t[6]=e[6]*o,t[7]=e[7]*o,t[8]=e[8]*r,t[9]=e[9]*r,t[10]=e[10]*r,t[11]=e[11]*r,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},multiply:function(t,e,i){var n=e[0],o=e[1],r=e[2],s=e[3],a=e[4],l=e[5],u=e[6],h=e[7],c=e[8],p=e[9],d=e[10],f=e[11],m=e[12],g=e[13],v=e[14],y=e[15],_=i[0],b=i[1],x=i[2],w=i[3];return t[0]=_*n+b*a+x*c+w*m,t[1]=_*o+b*l+x*p+w*g,t[2]=_*r+b*u+x*d+w*v,t[3]=_*s+b*h+x*f+w*y,_=i[4],b=i[5],x=i[6],w=i[7],t[4]=_*n+b*a+x*c+w*m,t[5]=_*o+b*l+x*p+w*g,t[6]=_*r+b*u+x*d+w*v,t[7]=_*s+b*h+x*f+w*y,_=i[8],b=i[9],x=i[10],w=i[11],t[8]=_*n+b*a+x*c+w*m,t[9]=_*o+b*l+x*p+w*g,t[10]=_*r+b*u+x*d+w*v,t[11]=_*s+b*h+x*f+w*y,_=i[12],b=i[13],x=i[14],w=i[15],t[12]=_*n+b*a+x*c+w*m,t[13]=_*o+b*l+x*p+w*g,t[14]=_*r+b*u+x*d+w*v,t[15]=_*s+b*h+x*f+w*y,t},perspective:function(t,e,i,n,o){var r=1/Math.tan(e/2),s=1/(n-o);return t[0]=r/i,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=r,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(o+n)*s,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*o*n*s,t[15]=0,t},rotateX:function(t,e,i){var n=Math.sin(i),o=Math.cos(i),r=e[4],s=e[5],a=e[6],l=e[7],u=e[8],h=e[9],c=e[10],p=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=r*o+u*n,t[5]=s*o+h*n,t[6]=a*o+c*n,t[7]=l*o+p*n,t[8]=u*o-r*n,t[9]=h*o-s*n,t[10]=c*o-a*n,t[11]=p*o-l*n,t},rotateZ:function(t,e,i){var n=Math.sin(i),o=Math.cos(i),r=e[0],s=e[1],a=e[2],l=e[3],u=e[4],h=e[5],c=e[6],p=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=r*o+u*n,t[1]=s*o+h*n,t[2]=a*o+c*n,t[3]=l*o+p*n,t[4]=u*o-r*n,t[5]=h*o-s*n,t[6]=c*o-a*n,t[7]=p*o-l*n,t},invert:function(t,e){var i=e[0],n=e[1],o=e[2],r=e[3],s=e[4],a=e[5],l=e[6],u=e[7],h=e[8],c=e[9],p=e[10],d=e[11],f=e[12],m=e[13],g=e[14],v=e[15],y=i*a-n*s,_=i*l-o*s,b=i*u-r*s,x=n*l-o*a,w=n*u-r*a,T=o*u-r*l,k=h*m-c*f,C=h*g-p*f,S=h*v-d*f,E=c*g-p*m,A=c*v-d*m,P=p*v-d*g,z=y*P-_*A+b*E+x*S-w*C+T*k;return z?(z=1/z,t[0]=(a*P-l*A+u*E)*z,t[1]=(o*A-n*P-r*E)*z,t[2]=(m*T-g*w+v*x)*z,t[3]=(p*w-c*T-d*x)*z,t[4]=(l*S-s*P-u*C)*z,t[5]=(i*P-o*S+r*C)*z,t[6]=(g*b-f*T-v*_)*z,t[7]=(h*T-p*b+d*_)*z,t[8]=(s*A-a*S+u*k)*z,t[9]=(n*S-i*A-r*k)*z,t[10]=(f*w-m*b+v*y)*z,t[11]=(c*b-h*w-d*y)*z,t[12]=(a*C-s*E-l*k)*z,t[13]=(i*E-n*C+o*k)*z,t[14]=(m*_-f*x-g*y)*z,t[15]=(h*x-c*_+p*y)*z,t):null},ortho:function(t,e,i,n,o,r,s){var a=1/(e-i),l=1/(n-o),u=1/(r-s);return t[0]=-2*a,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*l,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*u,t[11]=0,t[12]=(e+i)*a,t[13]=(o+n)*l,t[14]=(s+r)*u,t[15]=1,t}}}},"object"==typeof i&&void 0!==e?e.exports=o():n.glMatrix=o()},{}],2:[function(t,e,i){"use strict";function n(t,e){this.x=t,this.y=e}(e.exports=n).prototype={clone:function(){return new n(this.x,this.y)},add:function(t){return this.clone()._add(t)},sub:function(t){return this.clone()._sub(t)},multByPoint:function(t){return this.clone()._multByPoint(t)},divByPoint:function(t){return this.clone()._divByPoint(t)},mult:function(t){return this.clone()._mult(t)},div:function(t){return this.clone()._div(t)},rotate:function(t){return this.clone()._rotate(t)},rotateAround:function(t,e){return this.clone()._rotateAround(t,e)},matMult:function(t){return this.clone()._matMult(t)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(t){return this.x===t.x&&this.y===t.y},dist:function(t){return Math.sqrt(this.distSqr(t))},distSqr:function(t){var e=t.x-this.x,i=t.y-this.y;return e*e+i*i},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(t){return Math.atan2(this.y-t.y,this.x-t.x)},angleWith:function(t){return this.angleWithSep(t.x,t.y)},angleWithSep:function(t,e){return Math.atan2(this.x*e-this.y*t,this.x*t+this.y*e)},_matMult:function(t){var e=t[0]*this.x+t[1]*this.y,i=t[2]*this.x+t[3]*this.y;return this.x=e,this.y=i,this},_add:function(t){return this.x+=t.x,this.y+=t.y,this},_sub:function(t){return this.x-=t.x,this.y-=t.y,this},_mult:function(t){return this.x*=t,this.y*=t,this},_div:function(t){return this.x/=t,this.y/=t,this},_multByPoint:function(t){return this.x*=t.x,this.y*=t.y,this},_divByPoint:function(t){return this.x/=t.x,this.y/=t.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var t=this.y;return this.y=this.x,this.x=-t,this},_rotate:function(t){var e=Math.cos(t),i=Math.sin(t),n=e*this.x-i*this.y,o=i*this.x+e*this.y;return this.x=n,this.y=o,this},_rotateAround:function(t,e){var i=Math.cos(t),n=Math.sin(t),o=e.x+i*(this.x-e.x)-n*(this.y-e.y),r=e.y+n*(this.x-e.x)+i*(this.y-e.y);return this.x=o,this.y=r,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},n.convert=function(t){return t instanceof n?t:Array.isArray(t)?new n(t[0],t[1]):t}},{}],3:[function(t,e,i){var n,o;n=this,o=function(){function t(t,e,i){i=i||{},this.w=t||64,this.h=e||64,this.autoResize=!!i.autoResize,this.shelves=[],this.freebins=[],this.stats={},this.bins={},this.maxId=0}function d(t,e,i){this.x=0,this.y=t,this.w=this.free=e,this.h=i}function o(t,e,i,n,o,r,s){this.id=t,this.x=e,this.y=i,this.w=n,this.h=o,this.maxw=r||n,this.maxh=s||o,this.refcount=0}return t.prototype.pack=function(t,e){t=[].concat(t),e=e||{};for(var i,n,o,r,s=[],a=0;a<t.length;a++)if(i=t[a].w||t[a].width,n=t[a].h||t[a].height,o=t[a].id,i&&n){if(!(r=this.packOne(i,n,o)))continue;e.inPlace&&(t[a].x=r.x,t[a].y=r.y,t[a].id=r.id),s.push(r)}return this.shrink(),s},t.prototype.packOne=function(t,e,i){var n,o,r,s,a,l,u,h,c={freebin:-1,shelf:-1,waste:1/0},p=0;if("string"==typeof i||"number"==typeof i){if(n=this.getBin(i))return this.ref(n),n;"number"==typeof i&&(this.maxId=Math.max(i,this.maxId))}else i=++this.maxId;for(s=0;s<this.freebins.length;s++){if(e===(n=this.freebins[s]).maxh&&t===n.maxw)return this.allocFreebin(s,t,e,i);e>n.maxh||t>n.maxw||e<=n.maxh&&t<=n.maxw&&(r=n.maxw*n.maxh-t*e)<c.waste&&(c.waste=r,c.freebin=s)}for(s=0;s<this.shelves.length;s++)if(p+=(o=this.shelves[s]).h,!(t>o.free)){if(e===o.h)return this.allocShelf(s,t,e,i);e>o.h||e<o.h&&(r=(o.h-e)*t)<c.waste&&(c.freebin=-1,c.waste=r,c.shelf=s)}return-1!==c.freebin?this.allocFreebin(c.freebin,t,e,i):-1!==c.shelf?this.allocShelf(c.shelf,t,e,i):e<=this.h-p&&t<=this.w?(o=new d(p,this.w,e),this.allocShelf(this.shelves.push(o)-1,t,e,i)):this.autoResize?(a=l=this.h,((u=h=this.w)<=a||u<t)&&(h=2*Math.max(t,u)),(a<u||a<e)&&(l=2*Math.max(e,a)),this.resize(h,l),this.packOne(t,e,i)):null},t.prototype.allocFreebin=function(t,e,i,n){var o=this.freebins.splice(t,1)[0];return o.id=n,o.w=e,o.h=i,o.refcount=0,this.bins[n]=o,this.ref(o),o},t.prototype.allocShelf=function(t,e,i,n){var o=this.shelves[t].alloc(e,i,n);return this.bins[n]=o,this.ref(o),o},t.prototype.shrink=function(){if(0<this.shelves.length){for(var t=0,e=0,i=0;i<this.shelves.length;i++){var n=this.shelves[i];e+=n.h,t=Math.max(n.w-n.free,t)}this.resize(t,e)}},t.prototype.getBin=function(t){return this.bins[t]},t.prototype.ref=function(t){if(1==++t.refcount){var e=t.h;this.stats[e]=1+(0|this.stats[e])}return t.refcount},t.prototype.unref=function(t){return 0===t.refcount?0:(0==--t.refcount&&(this.stats[t.h]--,delete this.bins[t.id],this.freebins.push(t)),t.refcount)},t.prototype.clear=function(){this.shelves=[],this.freebins=[],this.stats={},this.bins={},this.maxId=0},t.prototype.resize=function(t,e){this.w=t,this.h=e;for(var i=0;i<this.shelves.length;i++)this.shelves[i].resize(t);return!0},d.prototype.alloc=function(t,e,i){if(t>this.free||e>this.h)return null;var n=this.x;return this.x+=t,this.free-=t,new o(i,n,this.y,t,e,t,this.h)},d.prototype.resize=function(t){return this.free+=t-this.w,this.w=t,!0},t},"object"==typeof i&&void 0!==e?e.exports=o():n.ShelfPack=o()},{}],4:[function(t,e,i){"use strict";function n(t,e,i,n,o,r){this.fontSize=t||24,this.buffer=void 0===e?3:e,this.cutoff=n||.25,this.fontFamily=o||"sans-serif",this.fontWeight=r||"normal",this.radius=i||8;var s=this.size=this.fontSize+2*this.buffer;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=s,this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textBaseline="middle",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(s*s),this.gridInner=new Float64Array(s*s),this.f=new Float64Array(s),this.d=new Float64Array(s),this.z=new Float64Array(s+1),this.v=new Int16Array(s),this.middle=Math.round(s/2*(0<=navigator.userAgent.indexOf("Gecko/")?1.2:1))}function s(t,e,i,n,o,r,s){for(var a=0;a<e;a++){for(var l=0;l<i;l++)n[l]=t[l*e+a];for(u(n,o,r,s,i),l=0;l<i;l++)t[l*e+a]=o[l]}for(l=0;l<i;l++){for(a=0;a<e;a++)n[a]=t[l*e+a];for(u(n,o,r,s,e),a=0;a<e;a++)t[l*e+a]=Math.sqrt(o[a])}}function u(t,e,i,n,o){n[i[0]=0]=-l,n[1]=+l;for(var r=1,s=0;r<o;r++){for(var a=(t[r]+r*r-(t[i[s]]+i[s]*i[s]))/(2*r-2*i[s]);a<=n[s];)s--,a=(t[r]+r*r-(t[i[s]]+i[s]*i[s]))/(2*r-2*i[s]);i[++s]=r,n[s]=a,n[s+1]=+l}for(s=r=0;r<o;r++){for(;n[s+1]<r;)s++;e[r]=(r-i[s])*(r-i[s])+t[i[s]]}}e.exports=n;var l=1e20;n.prototype.draw=function(t){this.ctx.clearRect(0,0,this.size,this.size),this.ctx.fillText(t,this.buffer,this.middle);for(var e=this.ctx.getImageData(0,0,this.size,this.size),i=new Uint8ClampedArray(this.size*this.size),n=0;n<this.size*this.size;n++){var o=e.data[4*n+3]/255;this.gridOuter[n]=1===o?0:0===o?l:Math.pow(Math.max(0,.5-o),2),this.gridInner[n]=1===o?l:0===o?0:Math.pow(Math.max(0,o-.5),2)}for(s(this.gridOuter,this.size,this.size,this.f,this.d,this.v,this.z),s(this.gridInner,this.size,this.size,this.f,this.d,this.v,this.z),n=0;n<this.size*this.size;n++){var r=this.gridOuter[n]-this.gridInner[n];i[n]=Math.max(0,Math.min(255,Math.round(255-255*(r/this.radius+this.cutoff))))}return i}},{}],5:[function(t,e,i){function n(t,e,i,n){this.cx=3*t,this.bx=3*(i-t)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*e,this.by=3*(n-e)-this.cy,this.ay=1-this.cy-this.by,this.p1x=t,this.p1y=n,this.p2x=i,this.p2y=n}(e.exports=n).prototype.sampleCurveX=function(t){return((this.ax*t+this.bx)*t+this.cx)*t},n.prototype.sampleCurveY=function(t){return((this.ay*t+this.by)*t+this.cy)*t},n.prototype.sampleCurveDerivativeX=function(t){return(3*this.ax*t+2*this.bx)*t+this.cx},n.prototype.solveCurveX=function(t,e){var i,n,o,r,s;for(void 0===e&&(e=1e-6),o=t,s=0;s<8;s++){if(r=this.sampleCurveX(o)-t,Math.abs(r)<e)return o;var a=this.sampleCurveDerivativeX(o);if(Math.abs(a)<1e-6)break;o-=r/a}if((o=t)<(i=0))return i;if((n=1)<o)return n;for(;i<n;){if(r=this.sampleCurveX(o),Math.abs(r-t)<e)return o;r<t?i=o:n=o,o=.5*(n-i)+i}return o},n.prototype.solve=function(t,e){return this.sampleCurveY(this.solveCurveX(t,e))}},{}],6:[function(t,e,i){e.exports.VectorTile=t("./lib/vectortile.js"),e.exports.VectorTileFeature=t("./lib/vectortilefeature.js"),e.exports.VectorTileLayer=t("./lib/vectortilelayer.js")},{"./lib/vectortile.js":7,"./lib/vectortilefeature.js":8,"./lib/vectortilelayer.js":9}],7:[function(t,e,i){"use strict";function n(t,e,i){if(3===t){var n=new o(i,i.readVarint()+i.pos);n.length&&(e[n.name]=n)}}var o=t("./vectortilelayer");e.exports=function(t,e){this.layers=t.readFields(n,{},e)}},{"./vectortilelayer":9}],8:[function(t,e,i){"use strict";function d(t,e,i,n,o){this.properties={},this.extent=i,this.type=0,this._pbf=t,this._geometry=-1,this._keys=n,this._values=o,t.readFields(r,this,e)}function r(t,e,i){1==t?e.id=i.readVarint():2==t?function(t,e){for(var i=t.readVarint()+t.pos;t.pos<i;){var n=e._keys[t.readVarint()],o=e._values[t.readVarint()];e.properties[n]=o}}(i,e):3==t?e.type=i.readVarint():4==t&&(e._geometry=i.pos)}function f(t){for(var e,i,n=0,o=0,r=t.length,s=r-1;o<r;s=o++)e=t[o],n+=((i=t[s]).x-e.x)*(e.y+i.y);return n}var u=t("@mapbox/point-geometry");(e.exports=d).types=["Unknown","Point","LineString","Polygon"],d.prototype.loadGeometry=function(){var t=this._pbf;t.pos=this._geometry;for(var e,i=t.readVarint()+t.pos,n=1,o=0,r=0,s=0,a=[];t.pos<i;){if(!o){var l=t.readVarint();n=7&l,o=l>>3}if(o--,1===n||2===n)r+=t.readSVarint(),s+=t.readSVarint(),1===n&&(e&&a.push(e),e=[]),e.push(new u(r,s));else{if(7!==n)throw new Error("unknown command "+n);e&&e.push(e[0].clone())}}return e&&a.push(e),a},d.prototype.bbox=function(){var t=this._pbf;t.pos=this._geometry;for(var e=t.readVarint()+t.pos,i=1,n=0,o=0,r=0,s=1/0,a=-1/0,l=1/0,u=-1/0;t.pos<e;){if(!n){var h=t.readVarint();i=7&h,n=h>>3}if(n--,1===i||2===i)(o+=t.readSVarint())<s&&(s=o),a<o&&(a=o),(r+=t.readSVarint())<l&&(l=r),u<r&&(u=r);else if(7!==i)throw new Error("unknown command "+i)}return[s,l,a,u]},d.prototype.toGeoJSON=function(t,e,i){function n(t){for(var e=0;e<t.length;e++){var i=t[e],n=180-360*(i.y+l)/s;t[e]=[360*(i.x+a)/s-180,360/Math.PI*Math.atan(Math.exp(n*Math.PI/180))-90]}}var o,r,s=this.extent*Math.pow(2,i),a=this.extent*t,l=this.extent*e,u=this.loadGeometry(),h=d.types[this.type];switch(this.type){case 1:var c=[];for(o=0;o<u.length;o++)c[o]=u[o][0];n(u=c);break;case 2:for(o=0;o<u.length;o++)n(u[o]);break;case 3:for(u=function(t){var e=t.length;if(e<=1)return[t];for(var i,n,o=[],r=0;r<e;r++){var s=f(t[r]);0!==s&&(void 0===n&&(n=s<0),n===s<0?(i&&o.push(i),i=[t[r]]):i.push(t[r]))}return i&&o.push(i),o}(u),o=0;o<u.length;o++)for(r=0;r<u[o].length;r++)n(u[o][r])}1===u.length?u=u[0]:h="Multi"+h;var p={type:"Feature",geometry:{type:h,coordinates:u},properties:this.properties};return"id"in this&&(p.id=this.id),p}},{"@mapbox/point-geometry":2}],9:[function(t,e,i){"use strict";function n(t,e){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=t,this._keys=[],this._values=[],this._features=[],t.readFields(o,this,e),this.length=this._features.length}function o(t,e,i){15===t?e.version=i.readVarint():1===t?e.name=i.readString():5===t?e.extent=i.readVarint():2===t?e._features.push(i.pos):3===t?e._keys.push(i.readString()):4===t&&e._values.push(function(t){for(var e=null,i=t.readVarint()+t.pos;t.pos<i;){var n=t.readVarint()>>3;e=1===n?t.readString():2===n?t.readFloat():3===n?t.readDouble():4===n?t.readVarint64():5===n?t.readVarint():6===n?t.readSVarint():7===n?t.readBoolean():null}return e}(i))}var r=t("./vectortilefeature.js");(e.exports=n).prototype.feature=function(t){if(t<0||t>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[t];var e=this._pbf.readVarint()+this._pbf.pos;return new r(this._pbf,e,this.extent,this._keys,this._values)}},{"./vectortilefeature.js":8}],10:[function(t,e,i){var n;n=this,function(t){function s(t,e,i){var n=r(256*t,256*(e=Math.pow(2,i)-e-1),i),o=r(256*(t+1),256*(e+1),i);return n[0]+","+n[1]+","+o[0]+","+o[1]}function r(t,e,i){var n=2*Math.PI*6378137/256/Math.pow(2,i);return[t*n-2*Math.PI*6378137/2,e*n-2*Math.PI*6378137/2]}t.getURL=function(t,e,i,n,o,r){return r=r||{},t+"?"+["bbox="+s(i,n,o),"format="+(r.format||"image/png"),"service="+(r.service||"WMS"),"version="+(r.version||"1.1.1"),"request="+(r.request||"GetMap"),"srs="+(r.srs||"EPSG:3857"),"width="+(r.width||256),"height="+(r.height||256),"layers="+e].join("&")},t.getTileBBox=s,t.getMercCoords=r,Object.defineProperty(t,"__esModule",{value:!0})}("object"==typeof i&&void 0!==e?i:n.WhooTS=n.WhooTS||{})},{}],11:[function(t,e,i){function d(t){return(t=Math.round(t))<0?0:255<t?255:t}function f(t){return d("%"===t[t.length-1]?parseFloat(t)/100*255:parseInt(t))}function m(t){return(e="%"===t[t.length-1]?parseFloat(t)/100:parseFloat(t))<0?0:1<e?1:e;var e}function g(t,e,i){return i<0?i+=1:1<i&&(i-=1),6*i<1?t+(e-t)*i*6:2*i<1?e:3*i<2?t+(e-t)*(2/3-i)*6:t}var v={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};try{i.parseCSSColor=function(t){var e,i=t.replace(/ /g,"").toLowerCase();if(i in v)return v[i].slice();if("#"===i[0])return 4===i.length?0<=(e=parseInt(i.substr(1),16))&&e<=4095?[(3840&e)>>4|(3840&e)>>8,240&e|(240&e)>>4,15&e|(15&e)<<4,1]:null:7!==i.length?null:0<=(e=parseInt(i.substr(1),16))&&e<=16777215?[(16711680&e)>>16,(65280&e)>>8,255&e,1]:null;var n=i.indexOf("("),o=i.indexOf(")");if(-1!==n&&o+1===i.length){var r=i.substr(0,n),s=i.substr(n+1,o-(n+1)).split(","),a=1;switch(r){case"rgba":if(4!==s.length)return null;a=m(s.pop());case"rgb":return 3!==s.length?null:[f(s[0]),f(s[1]),f(s[2]),a];case"hsla":if(4!==s.length)return null;a=m(s.pop());case"hsl":if(3!==s.length)return null;var l=(parseFloat(s[0])%360+360)%360/360,u=m(s[1]),h=m(s[2]),c=h<=.5?h*(u+1):h+u-h*u,p=2*h-c;return[d(255*g(p,c,l+1/3)),d(255*g(p,c,l)),d(255*g(p,c,l-1/3)),a];default:return null}}return null}}catch(t){}},{}],12:[function(t,e,i){"use strict";function n(t,e,i){i=i||2;var n,o,r,s,a,l,u,h=e&&e.length,c=h?e[0]*i:t.length,p=m(t,0,c,i,!0),d=[];if(!p)return d;if(h&&(p=function(t,e,i,n){var o,r,s,a,l,u=[];for(o=0,r=e.length;o<r;o++)s=e[o]*n,a=o<r-1?e[o+1]*n:t.length,(l=m(t,s,a,n,!1))===l.next&&(l.steiner=!0),u.push(b(l));for(u.sort(y),o=0;o<u.length;o++)_(u[o],i),i=g(i,i.next);return i}(t,e,p,i)),t.length>80*i){n=r=t[0],o=s=t[1];for(var f=i;f<c;f+=i)(a=t[f])<n&&(n=a),(l=t[f+1])<o&&(o=l),r<a&&(r=a),s<l&&(s=l);u=Math.max(r-n,s-o)}return v(p,d,i,n,o,u),d}function m(t,e,i,n,o){var r,s;if(o===0<E(t,e,i,n))for(r=e;r<i;r+=n)s=l(r,t[r],t[r+1],s);else for(r=i-n;e<=r;r-=n)s=l(r,t[r],t[r+1],s);return s&&a(s,s.next)&&(S(s),s=s.next),s}function g(t,e){if(!t)return t;e||(e=t);var i,n=t;do{if(i=!1,n.steiner||!a(n,n.next)&&0!==w(n.prev,n,n.next))n=n.next;else{if(S(n),(n=e=n.prev)===n.next)return null;i=!0}}while(i||n!==e);return e}function v(t,e,i,n,o,r,s){if(t){!s&&r&&function(t,e,i,n){var o=t;for(;null===o.z&&(o.z=f(o.x,o.y,e,i,n)),o.prevZ=o.prev,o.nextZ=o.next,o=o.next,o!==t;);o.prevZ.nextZ=null,o.prevZ=null,function(t){var e,i,n,o,r,s,a,l,u=1;do{for(i=t,r=t=null,s=0;i;){for(s++,n=i,e=a=0;e<u&&(a++,n=n.nextZ);e++);for(l=u;0<a||0<l&&n;)0===a?(n=(o=n).nextZ,l--):0!==l&&n?i.z<=n.z?(i=(o=i).nextZ,a--):(n=(o=n).nextZ,l--):(i=(o=i).nextZ,a--),r?r.nextZ=o:t=o,o.prevZ=r,r=o;i=n}r.nextZ=null,u*=2}while(1<s)}(o)}(t,n,o,r);for(var a,l,u=t;t.prev!==t.next;)if(a=t.prev,l=t.next,r?c(t,n,o,r):h(t))e.push(a.i/i),e.push(t.i/i),e.push(l.i/i),S(t),t=l.next,u=l.next;else if((t=l)===u){s?1===s?v(t=p(t,e,i),e,i,n,o,r,2):2===s&&d(t,e,i,n,o,r):v(g(t),e,i,n,o,r,1);break}}}function h(t){var e=t.prev,i=t,n=t.next;if(0<=w(e,i,n))return!1;for(var o=t.next.next;o!==t.prev;){if(x(e.x,e.y,i.x,i.y,n.x,n.y,o.x,o.y)&&0<=w(o.prev,o,o.next))return!1;o=o.next}return!0}function c(t,e,i,n){var o=t.prev,r=t,s=t.next;if(0<=w(o,r,s))return!1;for(var a=o.x<r.x?o.x<s.x?o.x:s.x:r.x<s.x?r.x:s.x,l=o.y<r.y?o.y<s.y?o.y:s.y:r.y<s.y?r.y:s.y,u=o.x>r.x?o.x>s.x?o.x:s.x:r.x>s.x?r.x:s.x,h=o.y>r.y?o.y>s.y?o.y:s.y:r.y>s.y?r.y:s.y,c=f(a,l,e,i,n),p=f(u,h,e,i,n),d=t.nextZ;d&&d.z<=p;){if(d!==t.prev&&d!==t.next&&x(o.x,o.y,r.x,r.y,s.x,s.y,d.x,d.y)&&0<=w(d.prev,d,d.next))return!1;d=d.nextZ}for(d=t.prevZ;d&&d.z>=c;){if(d!==t.prev&&d!==t.next&&x(o.x,o.y,r.x,r.y,s.x,s.y,d.x,d.y)&&0<=w(d.prev,d,d.next))return!1;d=d.prevZ}return!0}function p(t,e,i){var n=t;do{var o=n.prev,r=n.next.next;!a(o,r)&&T(o,n,n.next,r)&&k(o,r)&&k(r,o)&&(e.push(o.i/i),e.push(n.i/i),e.push(r.i/i),S(n),S(n.next),n=t=r),n=n.next}while(n!==t);return n}function d(t,e,i,n,o,r){var s,a,l=t;do{for(var u=l.next.next;u!==l.prev;){if(l.i!==u.i&&(a=u,(s=l).next.i!==a.i&&s.prev.i!==a.i&&!function(t,e){var i=t;do{if(i.i!==t.i&&i.next.i!==t.i&&i.i!==e.i&&i.next.i!==e.i&&T(i,i.next,t,e))return!0;i=i.next}while(i!==t);return!1}(s,a)&&k(s,a)&&k(a,s)&&function(t,e){var i=t,n=!1,o=(t.x+e.x)/2,r=(t.y+e.y)/2;for(;i.y>r!=i.next.y>r&&o<(i.next.x-i.x)*(r-i.y)/(i.next.y-i.y)+i.x&&(n=!n),i=i.next,i!==t;);return n}(s,a))){var h=C(l,u);return l=g(l,l.next),h=g(h,h.next),v(l,e,i,n,o,r),void v(h,e,i,n,o,r)}u=u.next}l=l.next}while(l!==t)}function y(t,e){return t.x-e.x}function _(t,e){if(e=function(t,e){var i,n=e,o=t.x,r=t.y,s=-1/0;do{if(r<=n.y&&r>=n.next.y){var a=n.x+(r-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(a<=o&&s<a){if((s=a)===o){if(r===n.y)return n;if(r===n.next.y)return n.next}i=n.x<n.next.x?n:n.next}}n=n.next}while(n!==e);if(!i)return null;if(o===s)return i.prev;var l,u=i,h=i.x,c=i.y,p=1/0;for(n=i.next;n!==u;)o>=n.x&&n.x>=h&&x(r<c?o:s,r,h,c,r<c?s:o,r,n.x,n.y)&&((l=Math.abs(r-n.y)/(o-n.x))<p||l===p&&n.x>i.x)&&k(n,t)&&(i=n,p=l),n=n.next;return i}(t,e)){var i=C(e,t);g(i,i.next)}}function f(t,e,i,n,o){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-i)/o)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-n)/o)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function b(t){for(var e=t,i=t;e.x<i.x&&(i=e),(e=e.next)!==t;);return i}function x(t,e,i,n,o,r,s,a){return 0<=(o-s)*(e-a)-(t-s)*(r-a)&&0<=(t-s)*(n-a)-(i-s)*(e-a)&&0<=(i-s)*(r-a)-(o-s)*(n-a)}function w(t,e,i){return(e.y-t.y)*(i.x-e.x)-(e.x-t.x)*(i.y-e.y)}function a(t,e){return t.x===e.x&&t.y===e.y}function T(t,e,i,n){return!!(a(t,e)&&a(i,n)||a(t,n)&&a(i,e))||0<w(t,e,i)!=0<w(t,e,n)&&0<w(i,n,t)!=0<w(i,n,e)}function k(t,e){return w(t.prev,t,t.next)<0?0<=w(t,e,t.next)&&0<=w(t,t.prev,e):w(t,e,t.prev)<0||w(t,t.next,e)<0}function C(t,e){var i=new s(t.i,t.x,t.y),n=new s(e.i,e.x,e.y),o=t.next,r=e.prev;return(t.next=e).prev=t,(i.next=o).prev=i,(n.next=i).prev=n,(r.next=n).prev=r,n}function l(t,e,i,n){var o=new s(t,e,i);return n?(o.next=n.next,(o.prev=n).next.prev=o,n.next=o):(o.prev=o).next=o,o}function S(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function s(t,e,i){this.i=t,this.x=e,this.y=i,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function E(t,e,i,n){for(var o=0,r=e,s=i-n;r<i;r+=n)o+=(t[s]-t[r])*(t[r+1]+t[s+1]),s=r;return o}(e.exports=n).deviation=function(t,e,i,n){var o=e&&e.length,r=o?e[0]*i:t.length,s=Math.abs(E(t,0,r,i));if(o)for(var a=0,l=e.length;a<l;a++){var u=e[a]*i,h=a<l-1?e[a+1]*i:t.length;s-=Math.abs(E(t,u,h,i))}var c=0;for(a=0;a<n.length;a+=3){var p=n[a]*i,d=n[a+1]*i,f=n[a+2]*i;c+=Math.abs((t[p]-t[f])*(t[d+1]-t[p+1])-(t[p]-t[d])*(t[f+1]-t[p+1]))}return 0===s&&0===c?0:Math.abs((c-s)/s)},n.flatten=function(t){for(var e=t[0][0].length,i={vertices:[],holes:[],dimensions:e},n=0,o=0;o<t.length;o++){for(var r=0;r<t[o].length;r++)for(var s=0;s<e;s++)i.vertices.push(t[o][r][s]);0<o&&(n+=t[o-1].length,i.holes.push(n))}return i}},{}],13:[function(t,e,i){function n(t){var e=0;if(t&&0<t.length){e+=Math.abs(o(t[0]));for(var i=1;i<t.length;i++)e-=Math.abs(o(t[i]))}return e}function o(t){var e=0;if(2<t.length){for(var i,n,o=0;o<t.length-1;o++)i=t[o],e+=r((n=t[o+1])[0]-i[0])*(2+Math.sin(r(i[1]))+Math.sin(r(n[1])));e=e*s.RADIUS*s.RADIUS/2}return e}function r(t){return t*Math.PI/180}var s=t("wgs84");e.exports.geometry=function(t){if("Polygon"===t.type)return n(t.coordinates);if("MultiPolygon"!==t.type)return null;for(var e=0,i=0;i<t.coordinates.length;i++)e+=n(t.coordinates[i]);return e},e.exports.ring=o},{wgs84:49}],14:[function(t,e,i){function r(e,i){return function(t){return e(t,i)}}function s(t,e){e=!!e,t[0]=n(t[0],e);for(var i=1;i<t.length;i++)t[i]=n(t[i],!e);return t}function n(t,e){return i=t,0<=o.ring(i)===e?t:t.reverse();var i}var o=t("geojson-area");e.exports=function t(e,i){switch(e&&e.type||null){case"FeatureCollection":return e.features=e.features.map(r(t,i)),e;case"Feature":return e.geometry=t(e.geometry,i),e;case"Polygon":case"MultiPolygon":return o=i,"Polygon"===(n=e).type?n.coordinates=s(n.coordinates,o):"MultiPolygon"===n.type&&(n.coordinates=n.coordinates.map(r(s,o))),n;default:return e}var n,o}},{"geojson-area":13}],15:[function(t,e,i){"use strict";function g(t,e,i,n){for(var o=[],r=0;r<t.length;r++){var s=t[r],a=s[n];e<=a&&a<=i&&o.push(s)}return o}function v(t,e,i,n,o,r){for(var s=[],a=0;a<t.length;a++){var l,u,h,c=0,p=0,d=null,f=t[a],m=f.area,g=f.dist,v=f.outer,y=f.length,_=[];for(u=0;u<y-1;u++)l=d||f[u],d=f[u+1],c=p||l[n],p=d[n],c<e?i<p?(_.push(o(l,d,e),o(l,d,i)),r||(_=b(s,_,m,g,v))):e<=p&&_.push(o(l,d,e)):i<c?p<e?(_.push(o(l,d,i),o(l,d,e)),r||(_=b(s,_,m,g,v))):p<=i&&_.push(o(l,d,i)):(_.push(l),p<e?(_.push(o(l,d,e)),r||(_=b(s,_,m,g,v))):i<p&&(_.push(o(l,d,i)),r||(_=b(s,_,m,g,v))));e<=(c=(l=f[y-1])[n])&&c<=i&&_.push(l),h=_[_.length-1],r&&h&&(_[0][0]!==h[0]||_[0][1]!==h[1])&&_.push(_[0]),b(s,_,m,g,v)}return s}function b(t,e,i,n,o){return e.length&&(e.area=i,e.dist=n,void 0!==o&&(e.outer=o),t.push(e)),[]}e.exports=function(t,e,i,n,o,r,s,a){if(n/=e,(i/=e)<=s&&a<=n)return t;if(n<s||a<i)return null;for(var l=[],u=0;u<t.length;u++){var h,c,p=t[u],d=p.geometry,f=p.type;if(h=p.min[o],c=p.max[o],i<=h&&c<=n)l.push(p);else if(!(n<h||c<i)){var m=1===f?g(d,i,n,o):v(d,i,n,o,r,3===f);m.length&&l.push(y(p.tags,f,m,p.id))}}return l.length?l:null};var y=t("./feature")},{"./feature":17}],16:[function(t,e,i){"use strict";function p(t,e,i){if(null!==e.geometry){var n,o,r,s,a=e.geometry,l=a.type,u=a.coordinates,h=e.properties,c=e.id;if("Point"===l)t.push(m(h,1,[f(u)],c));else if("MultiPoint"===l)t.push(m(h,1,d(u),c));else if("LineString"===l)t.push(m(h,2,[d(u,i)],c));else if("MultiLineString"===l||"Polygon"===l){for(r=[],n=0;n<u.length;n++)s=d(u[n],i),"Polygon"===l&&(s.outer=0===n),r.push(s);t.push(m(h,"Polygon"===l?3:2,r,c))}else if("MultiPolygon"===l){for(r=[],n=0;n<u.length;n++)for(o=0;o<u[n].length;o++)(s=d(u[n][o],i)).outer=0===o,r.push(s);t.push(m(h,3,r,c))}else{if("GeometryCollection"!==l)throw new Error("Input data is not a valid GeoJSON object.");for(n=0;n<a.geometries.length;n++)p(t,{geometry:a.geometries[n],properties:h},i)}}}function d(t,e){for(var i=[],n=0;n<t.length;n++)i.push(f(t[n]));return e&&(o(i,e),function(t){for(var e,i,n=0,o=0,r=0;r<t.length-1;r++)e=i||t[r],i=t[r+1],n+=e[0]*i[1]-i[0]*e[1],o+=Math.abs(i[0]-e[0])+Math.abs(i[1]-e[1]);t.area=Math.abs(n/2),t.dist=o}(i)),i}function f(t){var e=Math.sin(t[1]*Math.PI/180),i=t[0]/360+.5,n=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return[i,n=n<0?0:1<n?1:n,0]}e.exports=function(t,e){var i=[];if("FeatureCollection"===t.type)for(var n=0;n<t.features.length;n++)p(i,t.features[n],e);else"Feature"===t.type?p(i,t,e):p(i,{geometry:t},e);return i};var o=t("./simplify"),m=t("./feature")},{"./feature":17,"./simplify":19}],17:[function(t,e,i){"use strict";function r(t,e,i){for(var n,o=0;o<i.length;o++)n=i[o],t[0]=Math.min(n[0],t[0]),e[0]=Math.max(n[0],e[0]),t[1]=Math.min(n[1],t[1]),e[1]=Math.max(n[1],e[1])}e.exports=function(t,e,i,n){var o={id:n||null,type:e,geometry:i,tags:t||null,min:[1/0,1/0],max:[-1/0,-1/0]};return function(t){var e=t.geometry,i=t.min,n=t.max;if(1===t.type)r(i,n,e);else for(var o=0;o<e.length;o++)r(i,n,e[o])}(o),o}},{}],18:[function(t,e,i){"use strict";function n(t,e){var i=(e=this.options=function(t,e){for(var i in e)t[i]=e[i];return t}(Object.create(this.options),e)).debug;i&&console.time("preprocess data");var n=1<<e.maxZoom,o=r(t,e.tolerance/(n*e.extent));this.tiles={},this.tileCoords=[],i&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",e.indexMaxZoom,e.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),(o=s(o,e.buffer/e.extent,A)).length&&this.splitTile(o,0,0,0),i&&(o.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function E(t,e,i){return 32*((1<<t)*i+e)+t}function A(t,e,i){return[i,(i-t[0])*(e[1]-t[1])/(e[0]-t[0])+t[1],1]}function P(t,e,i){return[(i-t[1])*(e[0]-t[0])/(e[1]-t[1])+t[0],i,1]}function z(t,e,i){var n=t.source;if(1!==n.length)return!1;var o=n[0];if(3!==o.type||1<o.geometry.length)return!1;var r=o.geometry[0].length;if(5!==r)return!1;for(var s=0;s<r;s++){var a=f.point(o.geometry[0][s],e,t.z2,t.x,t.y);if(a[0]!==-i&&a[0]!==e+i||a[1]!==-i&&a[1]!==e+i)return!1}return!0}e.exports=function(t,e){return new n(t,e)};var r=t("./convert"),f=t("./transform"),D=t("./clip"),s=t("./wrap"),M=t("./tile");n.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,solidChildren:!1,tolerance:3,extent:4096,buffer:64,debug:0},n.prototype.splitTile=function(t,e,i,n,o,r,s){for(var a=[t,e,i,n],l=this.options,u=l.debug,h=null;a.length;){n=a.pop(),i=a.pop(),e=a.pop(),t=a.pop();var c=1<<e,p=E(e,i,n),d=this.tiles[p],f=e===l.maxZoom?0:l.tolerance/(c*l.extent);if(!d&&(1<u&&console.time("creation"),d=this.tiles[p]=M(t,c,i,n,f,e===l.maxZoom),this.tileCoords.push({z:e,x:i,y:n}),u)){1<u&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",e,i,n,d.numFeatures,d.numPoints,d.numSimplified),console.timeEnd("creation"));var m="z"+e;this.stats[m]=(this.stats[m]||0)+1,this.total++}if(d.source=t,o){if(e===l.maxZoom||e===o)continue;var g=1<<o-e;if(i!==Math.floor(r/g)||n!==Math.floor(s/g))continue}else if(e===l.indexMaxZoom||d.numPoints<=l.indexMaxPoints)continue;if(l.solidChildren||!z(d,l.extent,l.buffer)){d.source=null,1<u&&console.time("clipping");var v,y,_,b,x,w,T=.5*l.buffer/l.extent,k=.5-T,C=.5+T,S=1+T;v=y=_=b=null,x=D(t,c,i-T,i+C,0,A,d.min[0],d.max[0]),w=D(t,c,i+k,i+S,0,A,d.min[0],d.max[0]),x&&(v=D(x,c,n-T,n+C,1,P,d.min[1],d.max[1]),y=D(x,c,n+k,n+S,1,P,d.min[1],d.max[1])),w&&(_=D(w,c,n-T,n+C,1,P,d.min[1],d.max[1]),b=D(w,c,n+k,n+S,1,P,d.min[1],d.max[1])),1<u&&console.timeEnd("clipping"),t.length&&(a.push(v||[],e+1,2*i,2*n),a.push(y||[],e+1,2*i,2*n+1),a.push(_||[],e+1,2*i+1,2*n),a.push(b||[],e+1,2*i+1,2*n+1))}else o&&(h=e)}return h},n.prototype.getTile=function(t,e,i){var n=this.options,o=n.extent,r=n.debug,s=1<<t,a=E(t,e=(e%s+s)%s,i);if(this.tiles[a])return f.tile(this.tiles[a],o);1<r&&console.log("drilling down to z%d-%d-%d",t,e,i);for(var l,u=t,h=e,c=i;!l&&0<u;)u--,h=Math.floor(h/2),c=Math.floor(c/2),l=this.tiles[E(u,h,c)];if(!l||!l.source)return null;if(1<r&&console.log("found parent tile z%d-%d-%d",u,h,c),z(l,o,n.buffer))return f.tile(l,o);1<r&&console.time("drilling down");var p=this.splitTile(l.source,u,h,c,t,e,i);if(1<r&&console.timeEnd("drilling down"),null!==p){var d=1<<t-p;a=E(p,Math.floor(e/d),Math.floor(i/d))}return this.tiles[a]?f.tile(this.tiles[a],o):null}},{"./clip":15,"./convert":16,"./tile":20,"./transform":21,"./wrap":22}],19:[function(t,e,i){"use strict";function h(t,e,i){var n=e[0],o=e[1],r=i[0],s=i[1],a=t[0],l=t[1],u=r-n,h=s-o;if(0!==u||0!==h){var c=((a-n)*u+(l-o)*h)/(u*u+h*h);1<c?(n=r,o=s):0<c&&(n+=u*c,o+=h*c)}return(u=a-n)*u+(h=l-o)*h}e.exports=function(t,e){var i,n,o,r,s=e*e,a=0,l=t.length-1,u=[];for(t[a][2]=1,t[l][2]=1;l;){for(n=0,i=a+1;i<l;i++)(o=h(t[i],t[a],t[l]))>n&&(r=i,n=o);a=s<n?(t[r][2]=n,u.push(a),u.push(r),r):(l=u.pop(),u.pop())}}},{}],20:[function(t,e,i){"use strict";function h(t,e,i,n){var o,r,s,a,l,u,h=e.geometry,c=e.type,p=[],d=i*i;if(1===c)for(o=0;o<h.length;o++)p.push(h[o]),t.numPoints++,t.numSimplified++;else for(o=0;o<h.length;o++)if(s=h[o],n||!(2===c&&s.dist<i||3===c&&s.area<d)){var f=[];for(r=0;r<s.length;r++)a=s[r],(n||a[2]>d)&&(f.push(a),t.numSimplified++),t.numPoints++;3===c&&(l=f,u=s.outer,function(t){for(var e,i,n=0,o=0,r=t.length,s=r-1;o<r;s=o++)e=t[o],i=t[s],n+=(i[0]-e[0])*(e[1]+i[1]);return n}(l)<0===u&&l.reverse()),p.push(f)}else t.numPoints+=s.length;if(p.length){var m={geometry:p,type:c,tags:e.tags||null};null!==e.id&&(m.id=e.id),t.features.push(m)}}e.exports=function(t,e,i,n,o,r){for(var s={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:i,y:n,z2:e,transformed:!1,min:[2,1],max:[-1,0]},a=0;a<t.length;a++){s.numFeatures++,h(s,t[a],o,r);var l=t[a].min,u=t[a].max;l[0]<s.min[0]&&(s.min[0]=l[0]),l[1]<s.min[1]&&(s.min[1]=l[1]),u[0]>s.max[0]&&(s.max[0]=u[0]),u[1]>s.max[1]&&(s.max[1]=u[1])}return s}},{}],21:[function(t,e,i){"use strict";function c(t,e,i,n,o){return[Math.round(e*(t[0]*i-n)),Math.round(e*(t[1]*i-o))]}i.tile=function(t,e){if(t.transformed)return t;var i,n,o,r=t.z2,s=t.x,a=t.y;for(i=0;i<t.features.length;i++){var l=t.features[i],u=l.geometry;if(1===l.type)for(n=0;n<u.length;n++)u[n]=c(u[n],e,r,s,a);else for(n=0;n<u.length;n++){var h=u[n];for(o=0;o<h.length;o++)h[o]=c(h[o],e,r,s,a)}}return t.transformed=!0,t},i.point=c},{}],22:[function(t,e,i){"use strict";function s(t,e){for(var i=[],n=0;n<t.length;n++){var o,r=t[n],s=r.type;if(1===s)o=l(r.geometry,e);else{o=[];for(var a=0;a<r.geometry.length;a++)o.push(l(r.geometry[a],e))}i.push(u(r.tags,s,o,r.id))}return i}function l(t,e){var i=[];i.area=t.area,i.dist=t.dist;for(var n=0;n<t.length;n++)i.push([t[n][0]+e,t[n][1],t[n][2]]);return i}var a=t("./clip"),u=t("./feature");e.exports=function(t,e,i){var n=t,o=a(t,1,-1-e,e,0,i,-1,2),r=a(t,1,1-e,2+e,0,i,-1,2);return(o||r)&&(n=a(t,1,-e,1+e,0,i,-1,2)||[],o&&(n=s(o,1).concat(n)),r&&(n=n.concat(s(r,-1)))),n}},{"./clip":15,"./feature":17}],23:[function(t,e,i){"use strict";function n(t,e,i){var n=this.cells=[];if(t instanceof ArrayBuffer){this.arrayBuffer=t;var o=new Int32Array(this.arrayBuffer);t=o[0],e=o[1],i=o[2],this.d=e+2*i;for(var r=0;r<this.d*this.d;r++){var s=o[p+r],a=o[p+r+1];n.push(s===a?null:o.subarray(s,a))}var l=o[p+n.length],u=o[p+n.length+1];this.keys=o.subarray(l,u),this.bboxes=o.subarray(u),this.insert=this._insertReadonly}else{this.d=e+2*i;for(var h=0;h<this.d*this.d;h++)n.push([]);this.keys=[],this.bboxes=[]}this.n=e,this.extent=t,this.padding=i,this.scale=e/t,this.uid=0;var c=i/e*t;this.min=-c,this.max=t+c}e.exports=n;var p=3;n.prototype.insert=function(t,e,i,n,o){this._forEachCell(e,i,n,o,this._insertCell,this.uid++),this.keys.push(t),this.bboxes.push(e),this.bboxes.push(i),this.bboxes.push(n),this.bboxes.push(o)},n.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},n.prototype._insertCell=function(t,e,i,n,o,r){this.cells[o].push(r)},n.prototype.query=function(t,e,i,n){var o=this.min,r=this.max;if(t<=o&&e<=o&&r<=i&&r<=n)return Array.prototype.slice.call(this.keys);var s=[];return this._forEachCell(t,e,i,n,this._queryCell,s,{}),s},n.prototype._queryCell=function(t,e,i,n,o,r,s){var a=this.cells[o];if(null!==a)for(var l=this.keys,u=this.bboxes,h=0;h<a.length;h++){var c=a[h];if(void 0===s[c]){var p=4*c;t<=u[p+2]&&e<=u[p+3]&&i>=u[p+0]&&n>=u[p+1]?(s[c]=!0,r.push(l[c])):s[c]=!1}}},n.prototype._forEachCell=function(t,e,i,n,o,r,s){for(var a=this._convertToCellCoord(t),l=this._convertToCellCoord(e),u=this._convertToCellCoord(i),h=this._convertToCellCoord(n),c=a;c<=u;c++)for(var p=l;p<=h;p++){var d=this.d*p+c;if(o.call(this,t,e,i,n,d,r,s))return}},n.prototype._convertToCellCoord=function(t){return Math.max(0,Math.min(this.d-1,Math.floor(t*this.scale)+this.padding))},n.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var t=this.cells,e=p+this.cells.length+1+1,i=0,n=0;n<this.cells.length;n++)i+=this.cells[n].length;var o=new Int32Array(e+i+this.keys.length+this.bboxes.length);o[0]=this.extent,o[1]=this.n,o[2]=this.padding;for(var r=e,s=0;s<t.length;s++){var a=t[s];o[p+s]=r,o.set(a,r),r+=a.length}return o[p+t.length]=r,o.set(this.keys,r),r+=this.keys.length,o[p+t.length+1]=r,o.set(this.bboxes,r),r+=this.bboxes.length,o.buffer}},{}],24:[function(t,e,i){i.read=function(t,e,i,n,o){var r,s,a=8*o-n-1,l=(1<<a)-1,u=l>>1,h=-7,c=i?o-1:0,p=i?-1:1,d=t[e+c];for(c+=p,r=d&(1<<-h)-1,d>>=-h,h+=a;0<h;r=256*r+t[e+c],c+=p,h-=8);for(s=r&(1<<-h)-1,r>>=-h,h+=n;0<h;s=256*s+t[e+c],c+=p,h-=8);if(0===r)r=1-u;else{if(r===l)return s?NaN:1/0*(d?-1:1);s+=Math.pow(2,n),r-=u}return(d?-1:1)*s*Math.pow(2,r-n)},i.write=function(t,e,i,n,o,r){var s,a,l,u=8*r-o-1,h=(1<<u)-1,c=h>>1,p=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,d=n?0:r-1,f=n?1:-1,m=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=h):(s=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-s))<1&&(s--,l*=2),2<=(e+=1<=s+c?p/l:p*Math.pow(2,1-c))*l&&(s++,l/=2),h<=s+c?(a=0,s=h):1<=s+c?(a=(e*l-1)*Math.pow(2,o),s+=c):(a=e*Math.pow(2,c-1)*Math.pow(2,o),s=0));8<=o;t[i+d]=255&a,d+=f,a/=256,o-=8);for(s=s<<o|a,u+=o;0<u;t[i+d]=255&s,d+=f,s/=256,u-=8);t[i+d-f]|=128*m}},{}],25:[function(t,e,i){"use strict";function r(t,e,i,n,o){e=e||s,i=i||a,o=o||Array,this.nodeSize=n||64,this.points=t,this.ids=new o(t.length),this.coords=new o(2*t.length);for(var r=0;r<t.length;r++)this.ids[r]=r,this.coords[2*r]=e(t[r]),this.coords[2*r+1]=i(t[r]);l(this.ids,this.coords,this.nodeSize,0,this.ids.length-1,0)}function s(t){return t[0]}function a(t){return t[1]}var l=t("./sort"),o=t("./range"),n=t("./within");e.exports=function(t,e,i,n,o){return new r(t,e,i,n,o)},r.prototype={range:function(t,e,i,n){return o(this.ids,this.coords,t,e,i,n,this.nodeSize)},within:function(t,e,i){return n(this.ids,this.coords,t,e,i,this.nodeSize)}}},{"./range":26,"./sort":27,"./within":28}],26:[function(t,e,i){"use strict";e.exports=function(t,e,i,n,o,r,s){for(var a,l,u=[0,t.length-1,0],h=[];u.length;){var c=u.pop(),p=u.pop(),d=u.pop();if(p-d<=s)for(var f=d;f<=p;f++)a=e[2*f],l=e[2*f+1],i<=a&&a<=o&&n<=l&&l<=r&&h.push(t[f]);else{var m=Math.floor((d+p)/2);a=e[2*m],l=e[2*m+1],i<=a&&a<=o&&n<=l&&l<=r&&h.push(t[m]);var g=(c+1)%2;(0===c?i<=a:n<=l)&&(u.push(d),u.push(m-1),u.push(g)),(0===c?a<=o:l<=r)&&(u.push(m+1),u.push(p),u.push(g))}}return h}},{}],27:[function(t,e,i){"use strict";function m(t,e,i,n){o(t,i,n),o(e,2*i,2*n),o(e,2*i+1,2*n+1)}function o(t,e,i){var n=t[e];t[e]=t[i],t[i]=n}e.exports=function t(e,i,n,o,r,s){if(!(r-o<=n)){var a=Math.floor((o+r)/2);(function t(e,i,n,o,r,s){for(;o<r;){if(600<r-o){var a=r-o+1,l=n-o+1,u=Math.log(a),h=.5*Math.exp(2*u/3),c=.5*Math.sqrt(u*h*(a-h)/a)*(l-a/2<0?-1:1);t(e,i,n,Math.max(o,Math.floor(n-l*h/a+c)),Math.min(r,Math.floor(n+(a-l)*h/a+c)),s)}var p=i[2*n+s],d=o,f=r;for(m(e,i,o,n),i[2*r+s]>p&&m(e,i,o,r);d<f;){for(m(e,i,d,f),d++,f--;i[2*d+s]<p;)d++;for(;i[2*f+s]>p;)f--}i[2*o+s]===p?m(e,i,o,f):m(e,i,++f,r),f<=n&&(o=f+1),n<=f&&(r=f-1)}})(e,i,a,o,r,s%2),t(e,i,n,o,a-1,s+1),t(e,i,n,a+1,r,s+1)}}},{}],28:[function(t,e,i){"use strict";function v(t,e,i,n){var o=t-i,r=e-n;return o*o+r*r}e.exports=function(t,e,i,n,o,r){for(var s=[0,t.length-1,0],a=[],l=o*o;s.length;){var u=s.pop(),h=s.pop(),c=s.pop();if(h-c<=r)for(var p=c;p<=h;p++)v(e[2*p],e[2*p+1],i,n)<=l&&a.push(t[p]);else{var d=Math.floor((c+h)/2),f=e[2*d],m=e[2*d+1];v(f,m,i,n)<=l&&a.push(t[d]);var g=(u+1)%2;(0===u?i-o<=f:n-o<=m)&&(s.push(c),s.push(d-1),s.push(g)),(0===u?f<=i+o:m<=n+o)&&(s.push(d+1),s.push(h),s.push(g))}}return a}},{}],29:[function(t,e,i){function y(t,e){for(var i=-1,n=t.length;++i<n;)if(e(t[i],i,t))return!0;return!1}var _=t("lodash.isarray"),b=t("lodash.istypedarray"),x=t("lodash.keys"),w="[object Arguments]",T="[object Array]",k="[object Boolean]",C="[object Date]",S="[object Error]",E="[object Number]",A="[object Object]",P="[object RegExp]",z="[object String]",n=Object.prototype,D=n.hasOwnProperty,M=n.toString;e.exports=function t(e,i,n,o,r,s){return e===i||(null!=e&&null!=i&&(u=typeof(l=e),l&&("object"==u||"function"==u)||(a=i)&&"object"==typeof a)?function(t,e,i,n,o,r,s){var a=_(t),l=_(e),u=T,h=T;a||((u=M.call(t))==w?u=A:u!=A&&(a=b(t))),l||((h=M.call(e))==w?h=A:h!=A&&(l=b(e)));var c=u==A,p=h==A,d=u==h;if(d&&!a&&!c)return function(t,e,i){switch(i){case k:case C:return+t==+e;case S:return t.name==e.name&&t.message==e.message;case E:return t!=+t?e!=+e:t==+e;case P:case z:return t==e+""}return!1}(t,e,u);if(!o){var f=c&&D.call(t,"__wrapped__"),m=p&&D.call(e,"__wrapped__");if(f||m)return i(f?t.value():t,m?e.value():e,n,o,r,s)}if(!d)return!1;r||(r=[]),s||(s=[]);for(var g=r.length;g--;)if(r[g]==t)return s[g]==e;r.push(t),s.push(e);var v=(a?function(t,e,i,n,o,r,s){var a=-1,l=t.length,u=e.length;if(l!=u&&!(o&&l<u))return!1;for(;++a<l;){var h=t[a],c=e[a],p=n?n(o?c:h,o?h:c,a):void 0;if(void 0!==p){if(p)continue;return!1}if(o){if(!y(e,function(t){return h===t||i(h,t,n,o,r,s)}))return!1}else if(h!==c&&!i(h,c,n,o,r,s))return!1}return!0}:function(t,e,i,n,o,r,s){var a=x(t),l=a.length;if(l!=x(e).length&&!o)return!1;for(var u=l;u--;){var h=a[u];if(!(o?h in e:D.call(e,h)))return!1}for(var c=o;++u<l;){h=a[u];var p=t[h],d=e[h],f=n?n(o?d:p,o?p:d,h):void 0;if(!(void 0===f?i(p,d,n,o,r,s):f))return!1;c||(c="constructor"==h)}if(!c){var m=t.constructor,g=e.constructor;if(m!=g&&"constructor"in t&&"constructor"in e&&!("function"==typeof m&&m instanceof m&&"function"==typeof g&&g instanceof g))return!1}return!0})(t,e,i,n,o,r,s);return r.pop(),s.pop(),v}(e,i,t,n,o,r,s):e!=e&&i!=i);var a,l,u}},{"lodash.isarray":33,"lodash.istypedarray":35,"lodash.keys":36}],30:[function(t,e,i){function n(t){return t}e.exports=function(r,s,t){if("function"!=typeof r)return n;if(void 0===s)return r;switch(t){case 1:return function(t){return r.call(s,t)};case 3:return function(t,e,i){return r.call(s,t,e,i)};case 4:return function(t,e,i,n){return r.call(s,t,e,i,n)};case 5:return function(t,e,i,n,o){return r.call(s,t,e,i,n,o)}}return function(){return r.apply(s,arguments)}}},{}],31:[function(t,e,i){var l="[object Function]",u=/^\[object .+?Constructor\]$/,n=Object.prototype,h=Function.prototype.toString,o=n.hasOwnProperty,c=n.toString,p=RegExp("^"+h.call(o).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(t,e){var i,n,o,r,s,a=null==t?void 0:t[e];return null!=(i=a)&&(s=typeof(r=o=i),!r||"object"!=s&&"function"!=s||c.call(o)!=l?(n=i)&&"object"==typeof n&&u.test(i):p.test(h.call(i)))?a:void 0}},{}],32:[function(t,e,i){var u=9007199254740991,h="[object Function]",c="[object GeneratorFunction]",n=Object.prototype,p=n.hasOwnProperty,d=n.toString,f=n.propertyIsEnumerable;e.exports=function(t){return!!(l=e=t)&&"object"==typeof l&&null!=(i=e)&&"number"==typeof(a=i.length)&&-1<a&&a%1==0&&a<=u&&(s=typeof(r=n=i),!((o=!r||"object"!=s&&"function"!=s?"":d.call(n))==h||o==c))&&p.call(t,"callee")&&(!f.call(t,"callee")||"[object Arguments]"==d.call(t));var e,i,n,o,r,s,a,l}},{}],33:[function(t,e,i){function n(t){return!!t&&"object"==typeof t}var o,r,s,a,l,u,h,c="[object Function]",p=/^\[object .+?Constructor\]$/,d=Object.prototype,f=Function.prototype.toString,m=d.hasOwnProperty,g=d.toString,v=RegExp("^"+f.call(m).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),y=(o=Array,r="isArray",h=null==o?void 0:o[r],null!=(s=h)&&(u=typeof(l=a=s),!l||"object"!=u&&"function"!=u||g.call(a)!=c?n(s)&&p.test(s):v.test(f.call(s)))?h:void 0),_=y||function(t){return n(t)&&("number"==typeof(e=t.length)&&-1<e&&e%1==0&&e<=9007199254740991)&&"[object Array]"==g.call(t);var e};e.exports=_},{}],34:[function(t,e,i){var r=t("lodash._baseisequal"),s=t("lodash._bindcallback");e.exports=function(t,e,i,n){var o=(i="function"==typeof i?s(i,n,3):void 0)?i(t,e):void 0;return void 0===o?r(t,e,i):!!o}},{"lodash._baseisequal":29,"lodash._bindcallback":30}],35:[function(t,e,i){var n=9007199254740991,o={};o["[object Float32Array]"]=o["[object Float64Array]"]=o["[object Int8Array]"]=o["[object Int16Array]"]=o["[object Int32Array]"]=o["[object Uint8Array]"]=o["[object Uint8ClampedArray]"]=o["[object Uint16Array]"]=o["[object Uint32Array]"]=!0,o["[object Arguments]"]=o["[object Array]"]=o["[object ArrayBuffer]"]=o["[object Boolean]"]=o["[object DataView]"]=o["[object Date]"]=o["[object Error]"]=o["[object Function]"]=o["[object Map]"]=o["[object Number]"]=o["[object Object]"]=o["[object RegExp]"]=o["[object Set]"]=o["[object String]"]=o["[object WeakMap]"]=!1;var r=Object.prototype.toString;e.exports=function(t){return!!(i=t)&&"object"==typeof i&&"number"==typeof(e=t.length)&&-1<e&&e%1==0&&e<=n&&!!o[r.call(t)];var e,i}},{}],36:[function(t,e,i){function l(t,e){return t="number"==typeof t||s.test(t)?+t:-1,e=null==e?f:e,-1<t&&t%1==0&&t<e}function u(t){return"number"==typeof t&&-1<t&&t%1==0&&t<=f}function n(t){for(var e=function(t){if(null==t)return[];h(t)||(t=Object(t));var e=t.length;e=e&&u(e)&&(p(t)||c(t))&&e||0;for(var i=t.constructor,n=-1,o="function"==typeof i&&i.prototype===t,r=Array(e),s=0<e;++n<e;)r[n]=n+"";for(var a in t)s&&l(a,e)||"constructor"==a&&(o||!d.call(t,a))||r.push(a);return r}(t),i=e.length,n=i&&t.length,o=!!n&&u(n)&&(p(t)||c(t)),r=-1,s=[];++r<i;){var a=e[r];(o&&l(a,n)||d.call(t,a))&&s.push(a)}return s}function h(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}var o,r=t("lodash._getnative"),c=t("lodash.isarguments"),p=t("lodash.isarray"),s=/^\d+$/,d=Object.prototype.hasOwnProperty,a=r(Object,"keys"),f=9007199254740991,m=(o="length",function(t){return null==t?void 0:t[o]}),g=a?function(t){var e,i=null==t?void 0:t.constructor;return"function"==typeof i&&i.prototype===t||"function"!=typeof t&&(null!=(e=t)&&u(m(e)))?n(t):h(t)?a(t):[]}:n;e.exports=g},{"lodash._getnative":31,"lodash.isarguments":32,"lodash.isarray":33}],37:[function(t,e,i){"use strict";function r(t){return!!("undefined"!=typeof window&&"undefined"!=typeof document&&Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray&&Function.prototype&&Function.prototype.bind&&Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions&&"JSON"in window&&"parse"in JSON&&"stringify"in JSON&&"Worker"in window&&"Uint8ClampedArray"in window&&(e=t&&t.failIfMajorPerformanceCaveat,void 0===s[e]&&(s[e]=(i=e,n=document.createElement("canvas"),(o=Object.create(r.webGLContextAttributes)).failIfMajorPerformanceCaveat=i,n.probablySupportsContext?n.probablySupportsContext("webgl",o)||n.probablySupportsContext("experimental-webgl",o):n.supportsContext?n.supportsContext("webgl",o)||n.supportsContext("experimental-webgl",o):n.getContext("webgl",o)||n.getContext("experimental-webgl",o))),s[e]));var e,i,n,o}void 0!==e&&e.exports?e.exports=r:window&&(window.mapboxgl=window.mapboxgl||{},window.mapboxgl.supported=r);var s={};r.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0}},{}],38:[function(t,e,i){"use strict";function n(t){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(t)?t:new Uint8Array(t||0),this.pos=0,this.type=0,this.length=this.buf.length}function o(t){return t.type===n.Bytes?t.readVarint()+t.pos:t.pos+1}function s(t,e,i){return i?4294967296*e+(t>>>0):4294967296*(e>>>0)+(t>>>0)}function r(t,e,i){var n=e<=16383?1:e<=2097151?2:e<=268435455?3:Math.ceil(Math.log(e)/(7*Math.LN2));i.realloc(n);for(var o=i.pos-1;t<=o;o--)i.buf[o+n]=i.buf[o]}function a(t,e){for(var i=0;i<t.length;i++)e.writeVarint(t[i])}function l(t,e){for(var i=0;i<t.length;i++)e.writeSVarint(t[i])}function u(t,e){for(var i=0;i<t.length;i++)e.writeFloat(t[i])}function h(t,e){for(var i=0;i<t.length;i++)e.writeDouble(t[i])}function c(t,e){for(var i=0;i<t.length;i++)e.writeBoolean(t[i])}function p(t,e){for(var i=0;i<t.length;i++)e.writeFixed32(t[i])}function d(t,e){for(var i=0;i<t.length;i++)e.writeSFixed32(t[i])}function f(t,e){for(var i=0;i<t.length;i++)e.writeFixed64(t[i])}function m(t,e){for(var i=0;i<t.length;i++)e.writeSFixed64(t[i])}function g(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16)+16777216*t[e+3]}function v(t,e,i){t[i]=e,t[i+1]=e>>>8,t[i+2]=e>>>16,t[i+3]=e>>>24}function y(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16)+(t[e+3]<<24)}e.exports=n;var _=t("ieee754");n.Varint=0,n.Fixed64=1,n.Bytes=2,n.Fixed32=5;var b=4294967296,x=1/b;n.prototype={destroy:function(){this.buf=null},readFields:function(t,e,i){for(i=i||this.length;this.pos<i;){var n=this.readVarint(),o=n>>3,r=this.pos;this.type=7&n,t(o,e,this),this.pos===r&&this.skip(n)}return e},readMessage:function(t,e){return this.readFields(t,e,this.readVarint()+this.pos)},readFixed32:function(){var t=g(this.buf,this.pos);return this.pos+=4,t},readSFixed32:function(){var t=y(this.buf,this.pos);return this.pos+=4,t},readFixed64:function(){var t=g(this.buf,this.pos)+g(this.buf,this.pos+4)*b;return this.pos+=8,t},readSFixed64:function(){var t=g(this.buf,this.pos)+y(this.buf,this.pos+4)*b;return this.pos+=8,t},readFloat:function(){var t=_.read(this.buf,this.pos,!0,23,4);return this.pos+=4,t},readDouble:function(){var t=_.read(this.buf,this.pos,!0,52,8);return this.pos+=8,t},readVarint:function(t){var e,i,n=this.buf;return e=127&(i=n[this.pos++]),i<128?e:(e|=(127&(i=n[this.pos++]))<<7,i<128?e:(e|=(127&(i=n[this.pos++]))<<14,i<128?e:(e|=(127&(i=n[this.pos++]))<<21,i<128?e:function(t,e,i){var n,o,r=i.buf;if(n=(112&(o=r[i.pos++]))>>4,o<128)return s(t,n,e);if(n|=(127&(o=r[i.pos++]))<<3,o<128)return s(t,n,e);if(n|=(127&(o=r[i.pos++]))<<10,o<128)return s(t,n,e);if(n|=(127&(o=r[i.pos++]))<<17,o<128)return s(t,n,e);if(n|=(127&(o=r[i.pos++]))<<24,o<128)return s(t,n,e);if(n|=(1&(o=r[i.pos++]))<<31,o<128)return s(t,n,e);throw new Error("Expected varint not more than 10 bytes")}(e|=(15&(i=n[this.pos]))<<28,t,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var t=this.readVarint();return t%2==1?(t+1)/-2:t/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var t=this.readVarint()+this.pos,e=function(t,e,i){for(var n="",o=e;o<i;){var r,s,a,l=t[o],u=null,h=239<l?4:223<l?3:191<l?2:1;if(i<o+h)break;1===h?l<128&&(u=l):2===h?128==(192&(r=t[o+1]))&&(u=(31&l)<<6|63&r)<=127&&(u=null):3===h?(r=t[o+1],s=t[o+2],128==(192&r)&&128==(192&s)&&((u=(15&l)<<12|(63&r)<<6|63&s)<=2047||55296<=u&&u<=57343)&&(u=null)):4===h&&(r=t[o+1],s=t[o+2],a=t[o+3],128==(192&r)&&128==(192&s)&&128==(192&a)&&((u=(15&l)<<18|(63&r)<<12|(63&s)<<6|63&a)<=65535||1114112<=u)&&(u=null)),null===u?(u=65533,h=1):65535<u&&(u-=65536,n+=String.fromCharCode(u>>>10&1023|55296),u=56320|1023&u),n+=String.fromCharCode(u),o+=h}return n}(this.buf,this.pos,t);return this.pos=t,e},readBytes:function(){var t=this.readVarint()+this.pos,e=this.buf.subarray(this.pos,t);return this.pos=t,e},readPackedVarint:function(t,e){var i=o(this);for(t=t||[];this.pos<i;)t.push(this.readVarint(e));return t},readPackedSVarint:function(t){var e=o(this);for(t=t||[];this.pos<e;)t.push(this.readSVarint());return t},readPackedBoolean:function(t){var e=o(this);for(t=t||[];this.pos<e;)t.push(this.readBoolean());return t},readPackedFloat:function(t){var e=o(this);for(t=t||[];this.pos<e;)t.push(this.readFloat());return t},readPackedDouble:function(t){var e=o(this);for(t=t||[];this.pos<e;)t.push(this.readDouble());return t},readPackedFixed32:function(t){var e=o(this);for(t=t||[];this.pos<e;)t.push(this.readFixed32());return t},readPackedSFixed32:function(t){var e=o(this);for(t=t||[];this.pos<e;)t.push(this.readSFixed32());return t},readPackedFixed64:function(t){var e=o(this);for(t=t||[];this.pos<e;)t.push(this.readFixed64());return t},readPackedSFixed64:function(t){var e=o(this);for(t=t||[];this.pos<e;)t.push(this.readSFixed64());return t},skip:function(t){var e=7&t;if(e===n.Varint)for(;127<this.buf[this.pos++];);else if(e===n.Bytes)this.pos=this.readVarint()+this.pos;else if(e===n.Fixed32)this.pos+=4;else{if(e!==n.Fixed64)throw new Error("Unimplemented type: "+e);this.pos+=8}},writeTag:function(t,e){this.writeVarint(t<<3|e)},realloc:function(t){for(var e=this.length||16;e<this.pos+t;)e*=2;if(e!==this.length){var i=new Uint8Array(e);i.set(this.buf),this.buf=i,this.length=e}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(t){this.realloc(4),v(this.buf,t,this.pos),this.pos+=4},writeSFixed32:function(t){this.realloc(4),v(this.buf,t,this.pos),this.pos+=4},writeFixed64:function(t){this.realloc(8),v(this.buf,-1&t,this.pos),v(this.buf,Math.floor(t*x),this.pos+4),this.pos+=8},writeSFixed64:function(t){this.realloc(8),v(this.buf,-1&t,this.pos),v(this.buf,Math.floor(t*x),this.pos+4),this.pos+=8},writeVarint:function(t){268435455<(t=+t||0)||t<0?function(t,e){var i,n,o,r,s,a,l;if(0<=t?(i=t%4294967296|0,n=t/4294967296|0):(n=~(-t/4294967296),4294967295^(i=~(-t%4294967296))?i=i+1|0:n=n+1|(i=0)),0x10000000000000000<=t||t<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");e.realloc(10),a=i,(l=e).buf[l.pos++]=127&a|128,a>>>=7,l.buf[l.pos++]=127&a|128,a>>>=7,l.buf[l.pos++]=127&a|128,a>>>=7,l.buf[l.pos++]=127&a|128,a>>>=7,l.buf[l.pos]=127&a,s=(7&(o=n))<<4,(r=e).buf[r.pos++]|=s|((o>>>=3)?128:0),o&&(r.buf[r.pos++]=127&o|((o>>>=7)?128:0),o&&(r.buf[r.pos++]=127&o|((o>>>=7)?128:0),o&&(r.buf[r.pos++]=127&o|((o>>>=7)?128:0),o&&(r.buf[r.pos++]=127&o|((o>>>=7)?128:0),o&&(r.buf[r.pos++]=127&o)))))}(t,this):(this.realloc(4),this.buf[this.pos++]=127&t|(127<t?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(127<t?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(127<t?128:0),t<=127||(this.buf[this.pos++]=t>>>7&127))))},writeSVarint:function(t){this.writeVarint(t<0?2*-t-1:2*t)},writeBoolean:function(t){this.writeVarint(Boolean(t))},writeString:function(t){t=String(t),this.realloc(4*t.length),this.pos++;var e=this.pos;this.pos=function(t,e,i){for(var n,o,r=0;r<e.length;r++){if(55295<(n=e.charCodeAt(r))&&n<57344){if(!o){56319<n||r+1===e.length?(t[i++]=239,t[i++]=191,t[i++]=189):o=n;continue}if(n<56320){t[i++]=239,t[i++]=191,t[i++]=189,o=n;continue}n=o-55296<<10|n-56320|65536,o=null}else o&&(t[i++]=239,t[i++]=191,t[i++]=189,o=null);t[i++]=n<128?n:(t[i++]=n<2048?n>>6|192:(t[i++]=n<65536?n>>12|224:(t[i++]=n>>18|240,n>>12&63|128),n>>6&63|128),63&n|128)}return i}(this.buf,t,this.pos);var i=this.pos-e;128<=i&&r(e,i,this),this.pos=e-1,this.writeVarint(i),this.pos+=i},writeFloat:function(t){this.realloc(4),_.write(this.buf,t,this.pos,!0,23,4),this.pos+=4},writeDouble:function(t){this.realloc(8),_.write(this.buf,t,this.pos,!0,52,8),this.pos+=8},writeBytes:function(t){var e=t.length;this.writeVarint(e),this.realloc(e);for(var i=0;i<e;i++)this.buf[this.pos++]=t[i]},writeRawMessage:function(t,e){this.pos++;var i=this.pos;t(e,this);var n=this.pos-i;128<=n&&r(i,n,this),this.pos=i-1,this.writeVarint(n),this.pos+=n},writeMessage:function(t,e,i){this.writeTag(t,n.Bytes),this.writeRawMessage(e,i)},writePackedVarint:function(t,e){this.writeMessage(t,a,e)},writePackedSVarint:function(t,e){this.writeMessage(t,l,e)},writePackedBoolean:function(t,e){this.writeMessage(t,c,e)},writePackedFloat:function(t,e){this.writeMessage(t,u,e)},writePackedDouble:function(t,e){this.writeMessage(t,h,e)},writePackedFixed32:function(t,e){this.writeMessage(t,p,e)},writePackedSFixed32:function(t,e){this.writeMessage(t,d,e)},writePackedFixed64:function(t,e){this.writeMessage(t,f,e)},writePackedSFixed64:function(t,e){this.writeMessage(t,m,e)},writeBytesField:function(t,e){this.writeTag(t,n.Bytes),this.writeBytes(e)},writeFixed32Field:function(t,e){this.writeTag(t,n.Fixed32),this.writeFixed32(e)},writeSFixed32Field:function(t,e){this.writeTag(t,n.Fixed32),this.writeSFixed32(e)},writeFixed64Field:function(t,e){this.writeTag(t,n.Fixed64),this.writeFixed64(e)},writeSFixed64Field:function(t,e){this.writeTag(t,n.Fixed64),this.writeSFixed64(e)},writeVarintField:function(t,e){this.writeTag(t,n.Varint),this.writeVarint(e)},writeSVarintField:function(t,e){this.writeTag(t,n.Varint),this.writeSVarint(e)},writeStringField:function(t,e){this.writeTag(t,n.Bytes),this.writeString(e)},writeFloatField:function(t,e){this.writeTag(t,n.Fixed32),this.writeFloat(e)},writeDoubleField:function(t,e){this.writeTag(t,n.Fixed64),this.writeDouble(e)},writeBooleanField:function(t,e){this.writeVarintField(t,Boolean(e))}}},{ieee754:24}],39:[function(t,e,i){function n(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function r(e){if(h===setTimeout)return setTimeout(e,0);if((h===n||!h)&&setTimeout)return h=setTimeout,setTimeout(e,0);try{return h(e,0)}catch(t){try{return h.call(null,e,0)}catch(t){return h.call(this,e,0)}}}function s(){m&&d&&(m=!1,d.length?f=d.concat(f):g=-1,f.length&&a())}function a(){if(!m){var t=r(s);m=!0;for(var e=f.length;e;){for(d=f,f=[];++g<e;)d&&d[g].run();g=-1,e=f.length}d=null,m=!1,function(e){if(c===clearTimeout)return clearTimeout(e);if((c===o||!c)&&clearTimeout)return c=clearTimeout,clearTimeout(e);try{c(e)}catch(t){try{return c.call(null,e)}catch(t){return c.call(this,e)}}}(t)}}function l(t,e){this.fun=t,this.array=e}function u(){}var h,c,p=e.exports={};!function(){try{h="function"==typeof setTimeout?setTimeout:n}catch(t){h=n}try{c="function"==typeof clearTimeout?clearTimeout:o}catch(t){c=o}}();var d,f=[],m=!1,g=-1;p.nextTick=function(t){var e=new Array(arguments.length-1);if(1<arguments.length)for(var i=1;i<arguments.length;i++)e[i-1]=arguments[i];f.push(new l(t,e)),1!==f.length||m||r(a)},l.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=u,p.addListener=u,p.once=u,p.off=u,p.removeListener=u,p.removeAllListeners=u,p.emit=u,p.prependListener=u,p.prependOnceListener=u,p.listeners=function(t){return[]},p.binding=function(t){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(t){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},{}],40:[function(t,e,i){"use strict";function f(t,e,i){var n=t[e];t[e]=t[i],t[i]=n}function m(t,e){return t<e?-1:e<t?1:0}e.exports=function t(e,i,n,o,r){for(n=n||0,o=o||e.length-1,r=r||m;n<o;){if(600<o-n){var s=o-n+1,a=i-n+1,l=Math.log(s),u=.5*Math.exp(2*l/3),h=.5*Math.sqrt(l*u*(s-u)/s)*(a-s/2<0?-1:1);t(e,i,Math.max(n,Math.floor(i-a*u/s+h)),Math.min(o,Math.floor(i+(s-a)*u/s+h)),r)}var c=e[i],p=n,d=o;for(f(e,n,i),0<r(e[o],c)&&f(e,n,o);p<d;){for(f(e,p,d),p++,d--;r(e[p],c)<0;)p++;for(;0<r(e[d],c);)d--}0===r(e[n],c)?f(e,n,d):f(e,++d,o),d<=i&&(n=d+1),i<=d&&(o=d-1)}}},{}],41:[function(t,e,i){"use strict";function n(t){this.options=o(Object.create(this.options),t),this.trees=new Array(this.options.maxZoom+1)}function s(t,e){var i=t.geometry.coordinates;return{x:a(i[0]),y:h(i[1]),zoom:1/0,id:e,parentId:-1}}function l(t){return{type:"Feature",properties:u(t),geometry:{type:"Point",coordinates:[(n=t.x,360*(n-.5)),(e=t.y,i=(180-360*e)*Math.PI/180,360*Math.atan(Math.exp(i))/Math.PI-90)]}};var e,i,n}function u(t){var e=t.numPoints,i=1e4<=e?Math.round(e/1e3)+"k":1e3<=e?Math.round(e/100)/10+"k":e;return o(o({},t.properties),{cluster:!0,cluster_id:t.id,point_count:e,point_count_abbreviated:i})}function a(t){return t/360+.5}function h(t){var e=Math.sin(t*Math.PI/180),i=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return i<0?0:1<i?1:i}function o(t,e){for(var i in e)t[i]=e[i];return t}function c(t){return t.x}function p(t){return t.y}var d=t("kdbush");e.exports=function(t){return new n(t)},n.prototype={options:{minZoom:0,maxZoom:16,radius:40,extent:512,nodeSize:64,log:!1,reduce:null,initial:function(){return{}},map:function(t){return t}},load:function(t){var e=this.options.log;e&&console.time("total time");var i="prepare "+t.length+" points";e&&console.time(i);var n=(this.points=t).map(s);e&&console.timeEnd(i);for(var o=this.options.maxZoom;o>=this.options.minZoom;o--){var r=+Date.now();this.trees[o+1]=d(n,c,p,this.options.nodeSize,Float32Array),n=this._cluster(n,o),e&&console.log("z%d: %d clusters in %dms",o,n.length,+Date.now()-r)}return this.trees[this.options.minZoom]=d(n,c,p,this.options.nodeSize,Float32Array),e&&console.timeEnd("total time"),this},getClusters:function(t,e){for(var i=this.trees[this._limitZoom(e)],n=i.range(a(t[0]),h(t[3]),a(t[2]),h(t[1])),o=[],r=0;r<n.length;r++){var s=i.points[n[r]];o.push(s.numPoints?l(s):this.points[s.id])}return o},getChildren:function(t,e){for(var i=this.trees[e+1].points[t],n=this.options.radius/(this.options.extent*Math.pow(2,e)),o=this.trees[e+1].within(i.x,i.y,n),r=[],s=0;s<o.length;s++){var a=this.trees[e+1].points[o[s]];a.parentId===t&&r.push(a.numPoints?l(a):this.points[a.id])}return r},getLeaves:function(t,e,i,n){i=i||10,n=n||0;var o=[];return this._appendLeaves(o,t,e,i,n,0),o},getTile:function(t,e,i){var n=this.trees[this._limitZoom(t)],o=Math.pow(2,t),r=this.options.extent,s=this.options.radius/r,a=(i-s)/o,l=(i+1+s)/o,u={features:[]};return this._addTileFeatures(n.range((e-s)/o,a,(e+1+s)/o,l),n.points,e,i,o,u),0===e&&this._addTileFeatures(n.range(1-s/o,a,1,l),n.points,o,i,o,u),e===o-1&&this._addTileFeatures(n.range(0,a,s/o,l),n.points,-1,i,o,u),u.features.length?u:null},getClusterExpansionZoom:function(t,e){for(;e<this.options.maxZoom;){var i=this.getChildren(t,e);if(e++,1!==i.length)break;t=i[0].properties.cluster_id}return e},_appendLeaves:function(t,e,i,n,o,r){for(var s=this.getChildren(e,i),a=0;a<s.length;a++){var l=s[a].properties;if(l.cluster?r+l.point_count<=o?r+=l.point_count:r=this._appendLeaves(t,l.cluster_id,i+1,n,o,r):r<o?r++:t.push(s[a]),t.length===n)break}return r},_addTileFeatures:function(t,e,i,n,o,r){for(var s=0;s<t.length;s++){var a=e[t[s]];r.features.push({type:1,geometry:[[Math.round(this.options.extent*(a.x*o-i)),Math.round(this.options.extent*(a.y*o-n))]],tags:a.numPoints?u(a):this.points[a.id].properties})}},_limitZoom:function(t){return Math.max(this.options.minZoom,Math.min(t,this.options.maxZoom+1))},_cluster:function(t,e){for(var i=[],n=this.options.radius/(this.options.extent*Math.pow(2,e)),o=0;o<t.length;o++){var r=t[o];if(!(r.zoom<=e)){r.zoom=e;var s=this.trees[e+1],a=s.within(r.x,r.y,n),l=r.numPoints||1,u=r.x*l,h=r.y*l,c=null;this.options.reduce&&(c=this.options.initial(),this._accumulate(c,r));for(var p=0;p<a.length;p++){var d=s.points[a[p]];if(e<d.zoom){var f=d.numPoints||1;d.zoom=e,u+=d.x*f,h+=d.y*f,l+=f,d.parentId=o,this.options.reduce&&this._accumulate(c,d)}}1===l?i.push(r):(r.parentId=o,i.push({x:u/l,y:h/l,zoom:1/0,id:o,properties:c,parentId:-1,numPoints:l}))}}return i},_accumulate:function(t,e){var i=e.numPoints?e.properties:this.options.map(this.points[e.id].properties);this.options.reduce(t,i)}}},{kdbush:25}],42:[function(t,e,i){"use strict";function n(t,e){if(!(this instanceof n))return new n(t,e);if(this.data=t||[],this.length=this.data.length,this.compare=e||o,0<this.length)for(var i=this.length>>1;0<=i;i--)this._down(i)}function o(t,e){return t<e?-1:e<t?1:0}(e.exports=n).prototype={push:function(t){this.data.push(t),this.length++,this._up(this.length-1)},pop:function(){if(0!==this.length){var t=this.data[0];return this.length--,0<this.length&&(this.data[0]=this.data[this.length],this._down(0)),this.data.pop(),t}},peek:function(){return this.data[0]},_up:function(t){for(var e=this.data,i=this.compare,n=e[t];0<t;){var o=t-1>>1,r=e[o];if(0<=i(n,r))break;e[t]=r,t=o}e[t]=n},_down:function(t){for(var e=this.data,i=this.compare,n=this.length,o=n>>1,r=e[t];t<o;){var s=1+(t<<1),a=s+1,l=e[s];if(a<n&&i(e[a],l)<0&&(l=e[s=a]),0<=i(l,r))break;e[t]=l,t=s}e[t]=r}}},{}],43:[function(t,e,i){"function"==typeof Object.create?e.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(t,e){t.super_=e;var i=function(){};i.prototype=e.prototype,t.prototype=new i,t.prototype.constructor=t}},{}],44:[function(t,e,i){e.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},{}],45:[function(p,t,z){(function(n,o){function a(t,e){var i={seen:[],stylize:s};return 3<=arguments.length&&(i.depth=arguments[2]),4<=arguments.length&&(i.colors=arguments[3]),b(e)?i.showHidden=e:e&&z._extend(i,e),k(i.showHidden)&&(i.showHidden=!1),k(i.depth)&&(i.depth=2),k(i.colors)&&(i.colors=!1),k(i.customInspect)&&(i.customInspect=!0),i.colors&&(i.stylize=r),g(i,t,i.depth)}function r(t,e){var i=a.styles[e];return i?"["+a.colors[i][0]+"m"+t+"["+a.colors[i][1]+"m":t}function s(t,e){return t}function g(e,i,n){if(e.customInspect&&i&&A(i.inspect)&&i.inspect!==z.inspect&&(!i.constructor||i.constructor.prototype!==i)){var t=i.inspect(n,e);return T(t)||(t=g(e,t,n)),t}var o=function(t,e){if(k(e))return t.stylize("undefined","undefined");if(T(e)){var i="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(i,"string")}return w(e)?t.stylize(""+e,"number"):b(e)?t.stylize(""+e,"boolean"):x(e)?t.stylize("null","null"):void 0}(e,i);if(o)return o;var r,s=Object.keys(i),a=(r={},s.forEach(function(t,e){r[t]=!0}),r);if(e.showHidden&&(s=Object.getOwnPropertyNames(i)),E(i)&&(0<=s.indexOf("message")||0<=s.indexOf("description")))return v(i);if(0===s.length){if(A(i)){var l=i.name?": "+i.name:"";return e.stylize("[Function"+l+"]","special")}if(C(i))return e.stylize(RegExp.prototype.toString.call(i),"regexp");if(S(i))return e.stylize(Date.prototype.toString.call(i),"date");if(E(i))return v(i)}var u,h,c,p,d="",f=!1,m=["{","}"];return _(i)&&(f=!0,m=["[","]"]),A(i)&&(d=" [Function"+(i.name?": "+i.name:"")+"]"),C(i)&&(d=" "+RegExp.prototype.toString.call(i)),S(i)&&(d=" "+Date.prototype.toUTCString.call(i)),E(i)&&(d=" "+v(i)),0!==s.length||f&&0!=i.length?n<0?C(i)?e.stylize(RegExp.prototype.toString.call(i),"regexp"):e.stylize("[Object]","special"):(e.seen.push(i),u=f?function(e,i,n,o,t){for(var r=[],s=0,a=i.length;s<a;++s)P(i,String(s))?r.push(y(e,i,n,o,String(s),!0)):r.push("");return t.forEach(function(t){t.match(/^\d+$/)||r.push(y(e,i,n,o,t,!0))}),r}(e,i,n,a,s):s.map(function(t){return y(e,i,n,a,t,f)}),e.seen.pop(),c=d,p=m,60<(h=u).reduce(function(t,e){return e.indexOf("\n"),t+e.replace(/\u001b\[\d\d?m/g,"").length+1},0)?p[0]+(""===c?"":c+"\n ")+" "+h.join(",\n  ")+" "+p[1]:p[0]+c+" "+h.join(", ")+" "+p[1]):m[0]+d+m[1]}function v(t){return"["+Error.prototype.toString.call(t)+"]"}function y(t,e,i,n,o,r){var s,a,l;if((l=Object.getOwnPropertyDescriptor(e,o)||{value:e[o]}).get?a=l.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):l.set&&(a=t.stylize("[Setter]","special")),P(n,o)||(s="["+o+"]"),a||(t.seen.indexOf(l.value)<0?-1<(a=x(i)?g(t,l.value,null):g(t,l.value,i-1)).indexOf("\n")&&(a=r?a.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+a.split("\n").map(function(t){return"   "+t}).join("\n")):a=t.stylize("[Circular]","special")),k(s)){if(r&&o.match(/^\d+$/))return a;s=(s=JSON.stringify(""+o)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),t.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),t.stylize(s,"string"))}return s+": "+a}function _(t){return Array.isArray(t)}function b(t){return"boolean"==typeof t}function x(t){return null===t}function w(t){return"number"==typeof t}function T(t){return"string"==typeof t}function k(t){return void 0===t}function C(t){return l(t)&&"[object RegExp]"===e(t)}function l(t){return"object"==typeof t&&null!==t}function S(t){return l(t)&&"[object Date]"===e(t)}function E(t){return l(t)&&("[object Error]"===e(t)||t instanceof Error)}function A(t){return"function"==typeof t}function e(t){return Object.prototype.toString.call(t)}function i(t){return t<10?"0"+t.toString(10):t.toString(10)}function P(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var u=/%[sdj%]/g;z.format=function(t){if(!T(t)){for(var e=[],i=0;i<arguments.length;i++)e.push(a(arguments[i]));return e.join(" ")}i=1;for(var n=arguments,o=n.length,r=String(t).replace(u,function(t){if("%%"===t)return"%";if(o<=i)return t;switch(t){case"%s":return String(n[i++]);case"%d":return Number(n[i++]);case"%j":try{return JSON.stringify(n[i++])}catch(t){return"[Circular]"}default:return t}}),s=n[i];i<o;s=n[++i])x(s)||!l(s)?r+=" "+s:r+=" "+a(s);return r},z.deprecate=function(t,e){if(k(o.process))return function(){return z.deprecate(t,e).apply(this,arguments)};if(!0===n.noDeprecation)return t;var i=!1;return function(){if(!i){if(n.throwDeprecation)throw new Error(e);n.traceDeprecation?console.trace(e):console.error(e),i=!0}return t.apply(this,arguments)}};var t,h={};z.debuglog=function(e){if(k(t)&&(t=n.env.NODE_DEBUG||""),e=e.toUpperCase(),!h[e])if(new RegExp("\\b"+e+"\\b","i").test(t)){var i=n.pid;h[e]=function(){var t=z.format.apply(z,arguments);console.error("%s %d: %s",e,i,t)}}else h[e]=function(){};return h[e]},(z.inspect=a).colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},a.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},z.isArray=_,z.isBoolean=b,z.isNull=x,z.isNullOrUndefined=function(t){return null==t},z.isNumber=w,z.isString=T,z.isSymbol=function(t){return"symbol"==typeof t},z.isUndefined=k,z.isRegExp=C,z.isObject=l,z.isDate=S,z.isError=E,z.isFunction=A,z.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},z.isBuffer=p("./support/isBuffer");var c=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];z.log=function(){var t,e;console.log("%s - %s",(t=new Date,e=[i(t.getHours()),i(t.getMinutes()),i(t.getSeconds())].join(":"),[t.getDate(),c[t.getMonth()],e].join(" ")),z.format.apply(z,arguments))},z.inherits=p("inherits"),z._extend=function(t,e){if(!e||!l(e))return t;for(var i=Object.keys(e),n=i.length;n--;)t[i[n]]=e[i[n]];return t}}).call(this,p("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":44,_process:39,inherits:43}],46:[function(t,e,i){function n(t){var e=new u;return function(t,e){for(var i in t.layers)e.writeMessage(3,o,t.layers[i])}(t,e),e.finish()}function o(t,e){e.writeVarintField(15,t.version||1),e.writeStringField(1,t.name||""),e.writeVarintField(5,t.extent||4096);var i,n={keys:[],values:[],keycache:{},valuecache:{}};for(i=0;i<t.length;i++)n.feature=t.feature(i),e.writeMessage(2,s,n);var o=n.keys;for(i=0;i<o.length;i++)e.writeStringField(3,o[i]);var r=n.values;for(i=0;i<r.length;i++)e.writeMessage(4,l,r[i])}function s(t,e){var i=t.feature;void 0!==i.id&&e.writeVarintField(1,i.id),e.writeMessage(2,r,t),e.writeVarintField(3,i.type),e.writeMessage(4,a,i)}function r(t,e){var i=t.feature,n=t.keys,o=t.values,r=t.keycache,s=t.valuecache;for(var a in i.properties){var l=r[a];void 0===l&&(n.push(a),l=n.length-1,r[a]=l),e.writeVarint(l);var u=i.properties[a],h=typeof u;"string"!==h&&"boolean"!==h&&"number"!==h&&(u=JSON.stringify(u));var c=h+":"+u,p=s[c];void 0===p&&(o.push(u),p=o.length-1,s[c]=p),e.writeVarint(p)}}function d(t,e){return(e<<3)+(7&t)}function f(t){return t<<1^t>>31}function a(t,e){for(var i=t.loadGeometry(),n=t.type,o=0,r=0,s=i.length,a=0;a<s;a++){var l=i[a],u=1;1===n&&(u=l.length),e.writeVarint(d(1,u));for(var h=0;h<l.length;h++){1===h&&1!==n&&e.writeVarint(d(2,l.length-1));var c=l[h].x-o,p=l[h].y-r;e.writeVarint(f(c)),e.writeVarint(f(p)),o+=c,r+=p}}}function l(t,e){var i=typeof t;"string"===i?e.writeStringField(1,t):"boolean"===i?e.writeBooleanField(7,t):"number"===i&&(t%1!=0?e.writeDoubleField(3,t):t<0?e.writeSVarintField(6,t):e.writeVarintField(5,t))}var u=t("pbf"),h=t("./lib/geojson_wrapper");e.exports=n,e.exports.fromVectorTileJs=n,e.exports.fromGeojsonVt=function(t){var e={};for(var i in t)e[i]=new h(t[i].features),e[i].name=i;return n({layers:e})},e.exports.GeoJSONWrapper=h},{"./lib/geojson_wrapper":47,pbf:38}],47:[function(t,e,i){"use strict";function n(t){this.features=t,this.length=t.length}function o(t){this.id="number"==typeof t.id?t.id:void 0,this.type=t.type,this.rawGeometry=1===t.type?[t.geometry]:t.geometry,this.properties=t.tags,this.extent=4096}var r=t("@mapbox/point-geometry"),s=t("@mapbox/vector-tile").VectorTileFeature;(e.exports=n).prototype.feature=function(t){return new o(this.features[t])},o.prototype.loadGeometry=function(){var t=this.rawGeometry;this.geometry=[];for(var e=0;e<t.length;e++){for(var i=t[e],n=[],o=0;o<i.length;o++)n.push(new r(i[o][0],i[o][1]));this.geometry.push(n)}return this.geometry},o.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var t=this.geometry,e=1/0,i=-1/0,n=1/0,o=-1/0,r=0;r<t.length;r++)for(var s=t[r],a=0;a<s.length;a++){var l=s[a];e=Math.min(e,l.x),i=Math.max(i,l.x),n=Math.min(n,l.y),o=Math.max(o,l.y)}return[e,n,i,o]},o.prototype.toGeoJSON=s.prototype.toGeoJSON},{"@mapbox/point-geometry":2,"@mapbox/vector-tile":6}],48:[function(t,e,i){var v=arguments[3],y=arguments[4],_=arguments[5],b=JSON.stringify;e.exports=function(t,e){for(var i,n=Object.keys(_),o=0,r=n.length;o<r;o++){var s=n[o],a=_[s].exports;if(a===t||a&&a.default===t){i=s;break}}if(!i){i=Math.floor(Math.pow(16,8)*Math.random()).toString(16);var l={};for(o=0,r=n.length;o<r;o++){l[s=n[o]]=s}y[i]=[Function(["require","module","exports"],"("+t+")(self)"),l]}var u=Math.floor(Math.pow(16,8)*Math.random()).toString(16),h={};h[i]=i,y[u]=[Function(["require"],"var f = require("+b(i)+");(f.default ? f.default : f)(self);"),h];var c={};!function t(e){for(var i in c[e]=!0,y[e][1]){var n=y[e][1][i];c[n]||t(n)}}(u);var p="("+v+")({"+Object.keys(c).map(function(t){return b(t)+":["+y[t][0]+","+b(y[t][1])+"]"}).join(",")+"},{},["+b(u)+"])",d=window.URL||window.webkitURL||window.mozURL||window.msURL,f=new Blob([p],{type:"text/javascript"});if(e&&e.bare)return f;var m=d.createObjectURL(f),g=new Worker(m);return g.objectURL=m,g}},{}],49:[function(t,e,i){e.exports.RADIUS=6378137,e.exports.FLATTENING=1/298.257223563,e.exports.POLAR_RADIUS=6356752.3142},{}],50:[function(t,e,i){e.exports={version:"0.41.0"}},{}],51:[function(t,e,i){"use strict";var h=t("../util/util");e.exports={deserialize:function(t,e){var i={};if(!e)return i;for(var n=0,o=t;n<o.length;n+=1){var r=o[n],s=r.layerIds.map(function(t){return e.getLayer(t)}).filter(Boolean);if(0!==s.length)for(var a=s[0].createBucket(h.extend({layers:s},r)),l=0,u=s;l<u.length;l+=1){i[u[l].id]=a}}return i}}},{"../util/util":252}],52:[function(t,e,i){"use strict";function c(t,e,i,n,o){t.emplaceBack(2*e+(n+1)/2,2*i+(o+1)/2)}var n=t("../segment").SegmentVector,o=t("../../gl/vertex_buffer"),r=t("../../gl/index_buffer"),s=t("../program_configuration").ProgramConfigurationSet,a=t("../vertex_array_type"),l=t("../index_array_type").TriangleIndexArray,u=t("../load_geometry"),p=t("../extent"),h={layoutAttributes:[{name:"a_pos",components:2,type:"Int16"}],indexArrayType:l,paintAttributes:[{property:"circle-color"},{property:"circle-radius"},{property:"circle-blur"},{property:"circle-opacity"},{property:"circle-stroke-color"},{property:"circle-stroke-width"},{property:"circle-stroke-opacity"}]},d=a(h.layoutAttributes),f=function(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.index=t.index,this.layoutVertexArray=new d(t.layoutVertexArray),this.indexArray=new l(t.indexArray),this.segments=new n(t.segments),this.programConfigurations=new s(this.constructor.programInterface,t.layers,t.zoom,t.programConfigurations)};f.prototype.populate=function(t,e){for(var i=0,n=t;i<n.length;i+=1){var o=n[i],r=o.feature,s=o.index,a=o.sourceLayerIndex;if(this.layers[0]._featureFilter({zoom:this.zoom},r)){var l=u(r);this.addFeature(r,l),e.featureIndex.insert(r,l,s,a,this.index)}}},f.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},f.prototype.serialize=function(t){return{zoom:this.zoom,layerIds:this.layers.map(function(t){return t.id}),layoutVertexArray:this.layoutVertexArray.serialize(t),indexArray:this.indexArray.serialize(t),programConfigurations:this.programConfigurations.serialize(t),segments:this.segments.get()}},f.prototype.upload=function(t){this.layoutVertexBuffer=new o(t,this.layoutVertexArray),this.indexBuffer=new r(t,this.indexArray),this.programConfigurations.upload(t)},f.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},f.prototype.addFeature=function(t,e){for(var i=0,n=e;i<n.length;i+=1)for(var o=0,r=n[i];o<r.length;o+=1){var s=r[o],a=s.x,l=s.y;if(!(a<0||p<=a||l<0||p<=l)){var u=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray),h=u.vertexLength;c(this.layoutVertexArray,a,l,-1,-1),c(this.layoutVertexArray,a,l,1,-1),c(this.layoutVertexArray,a,l,1,1),c(this.layoutVertexArray,a,l,-1,1),this.indexArray.emplaceBack(h,h+1,h+2),this.indexArray.emplaceBack(h,h+3,h+2),u.vertexLength+=4,u.primitiveLength+=2}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t)},f.programInterface=h,e.exports=f},{"../../gl/index_buffer":71,"../../gl/vertex_buffer":72,"../extent":58,"../index_array_type":60,"../load_geometry":61,"../program_configuration":63,"../segment":65,"../vertex_array_type":66}],53:[function(t,e,i){"use strict";var n=t("../segment").SegmentVector,o=t("../../gl/vertex_buffer"),r=t("../../gl/index_buffer"),s=t("../program_configuration").ProgramConfigurationSet,a=t("../vertex_array_type"),l=t("../index_array_type"),u=l.LineIndexArray,h=l.TriangleIndexArray,c=t("../load_geometry"),x=t("earcut"),w=t("../../util/classify_rings"),p={layoutAttributes:[{name:"a_pos",components:2,type:"Int16"}],indexArrayType:h,indexArrayType2:u,paintAttributes:[{property:"fill-color"},{property:"fill-outline-color"},{property:"fill-opacity"}]},d=a(p.layoutAttributes),f=function(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.index=t.index,this.layoutVertexArray=new d(t.layoutVertexArray),this.indexArray=new h(t.indexArray),this.indexArray2=new u(t.indexArray2),this.programConfigurations=new s(p,t.layers,t.zoom,t.programConfigurations),this.segments=new n(t.segments),this.segments2=new n(t.segments2)};f.prototype.populate=function(t,e){for(var i=0,n=t;i<n.length;i+=1){var o=n[i],r=o.feature,s=o.index,a=o.sourceLayerIndex;if(this.layers[0]._featureFilter({zoom:this.zoom},r)){var l=c(r);this.addFeature(r,l),e.featureIndex.insert(r,l,s,a,this.index)}}},f.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},f.prototype.serialize=function(t){return{zoom:this.zoom,layerIds:this.layers.map(function(t){return t.id}),layoutVertexArray:this.layoutVertexArray.serialize(t),indexArray:this.indexArray.serialize(t),indexArray2:this.indexArray2.serialize(t),programConfigurations:this.programConfigurations.serialize(t),segments:this.segments.get(),segments2:this.segments2.get()}},f.prototype.upload=function(t){this.layoutVertexBuffer=new o(t,this.layoutVertexArray),this.indexBuffer=new r(t,this.indexArray),this.indexBuffer2=new r(t,this.indexArray2),this.programConfigurations.upload(t)},f.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())},f.prototype.addFeature=function(t,e){for(var i=this,n=0,o=w(e,500);n<o.length;n+=1){for(var r=o[n],s=0,a=0,l=r;a<l.length;a+=1)s+=l[a].length;for(var u=i.segments.prepareSegment(s,i.layoutVertexArray,i.indexArray),h=u.vertexLength,c=[],p=[],d=0,f=r;d<f.length;d+=1){var m=f[d];if(0!==m.length){m!==r[0]&&p.push(c.length/2);var g=i.segments2.prepareSegment(m.length,i.layoutVertexArray,i.indexArray2),v=g.vertexLength;i.layoutVertexArray.emplaceBack(m[0].x,m[0].y),i.indexArray2.emplaceBack(v+m.length-1,v),c.push(m[0].x),c.push(m[0].y);for(var y=1;y<m.length;y++)i.layoutVertexArray.emplaceBack(m[y].x,m[y].y),i.indexArray2.emplaceBack(v+y-1,v+y),c.push(m[y].x),c.push(m[y].y);g.vertexLength+=m.length,g.primitiveLength+=m.length}}for(var _=x(c,p),b=0;b<_.length;b+=3)i.indexArray.emplaceBack(h+_[b],h+_[b+1],h+_[b+2]);u.vertexLength+=s,u.primitiveLength+=_.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t)},f.programInterface=p,e.exports=f},{"../../gl/index_buffer":71,"../../gl/vertex_buffer":72,"../../util/classify_rings":234,"../index_array_type":60,"../load_geometry":61,"../program_configuration":63,"../segment":65,"../vertex_array_type":66,earcut:12}],54:[function(t,e,i){"use strict";function D(t,e,i,n,o,r,s,a){t.emplaceBack(e,i,2*Math.floor(n*p)+s,o*p*2,r*p*2,Math.round(a))}var n=t("../segment"),o=n.SegmentVector,M=n.MAX_VERTEX_ARRAY_LENGTH,r=t("../../gl/vertex_buffer"),s=t("../../gl/index_buffer"),a=t("../program_configuration").ProgramConfigurationSet,l=t("../vertex_array_type"),u=t("../index_array_type").TriangleIndexArray,h=t("../load_geometry"),I=t("../extent"),O=t("earcut"),L=t("../../util/classify_rings"),c={layoutAttributes:[{name:"a_pos",components:2,type:"Int16"},{name:"a_normal",components:3,type:"Int16"},{name:"a_edgedistance",components:1,type:"Int16"}],indexArrayType:u,paintAttributes:[{property:"fill-extrusion-base"},{property:"fill-extrusion-height"},{property:"fill-extrusion-color"}]},p=Math.pow(2,13),d=l(c.layoutAttributes),f=function(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.index=t.index,this.layoutVertexArray=new d(t.layoutVertexArray),this.indexArray=new u(t.indexArray),this.programConfigurations=new a(c,t.layers,t.zoom,t.programConfigurations),this.segments=new o(t.segments)};f.prototype.populate=function(t,e){for(var i=0,n=t;i<n.length;i+=1){var o=n[i],r=o.feature,s=o.index,a=o.sourceLayerIndex;if(this.layers[0]._featureFilter({zoom:this.zoom},r)){var l=h(r);this.addFeature(r,l),e.featureIndex.insert(r,l,s,a,this.index)}}},f.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},f.prototype.serialize=function(t){return{zoom:this.zoom,layerIds:this.layers.map(function(t){return t.id}),layoutVertexArray:this.layoutVertexArray.serialize(t),indexArray:this.indexArray.serialize(t),programConfigurations:this.programConfigurations.serialize(t),segments:this.segments.get()}},f.prototype.upload=function(t){this.layoutVertexBuffer=new r(t,this.layoutVertexArray),this.indexBuffer=new s(t,this.indexArray),this.programConfigurations.upload(t)},f.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},f.prototype.addFeature=function(t,e){for(var i=this,n=0,o=L(e,500);n<o.length;n+=1){for(var r=o[n],s=0,a=0,l=r;a<l.length;a+=1)s+=l[a].length;for(var u=i.segments.prepareSegment(4,i.layoutVertexArray,i.indexArray),h=0,c=r;h<c.length;h+=1){var p=c[h];if(0!==p.length)for(var d=0,f=0;f<p.length;f++){var m=p[f];if(1<=f){var g=p[f-1];if(z=g,!((P=m).x===z.x&&(P.x<0||P.x>I)||P.y===z.y&&(P.y<0||P.y>I))){u.vertexLength+4>M&&(u=i.segments.prepareSegment(4,i.layoutVertexArray,i.indexArray));var v=m.sub(g)._perp()._unit();D(i.layoutVertexArray,m.x,m.y,v.x,v.y,0,0,d),D(i.layoutVertexArray,m.x,m.y,v.x,v.y,0,1,d),d+=g.dist(m),D(i.layoutVertexArray,g.x,g.y,v.x,v.y,0,0,d),D(i.layoutVertexArray,g.x,g.y,v.x,v.y,0,1,d);var y=u.vertexLength;i.indexArray.emplaceBack(y,y+1,y+2),i.indexArray.emplaceBack(y+1,y+2,y+3),u.vertexLength+=4,u.primitiveLength+=2}}}}u.vertexLength+s>M&&(u=i.segments.prepareSegment(s,i.layoutVertexArray,i.indexArray));for(var _=[],b=[],x=u.vertexLength,w=0,T=r;w<T.length;w+=1){var k=T[w];if(0!==k.length){k!==r[0]&&b.push(_.length/2);for(var C=0;C<k.length;C++){var S=k[C];D(i.layoutVertexArray,S.x,S.y,0,0,1,1,0),_.push(S.x),_.push(S.y)}}}for(var E=O(_,b),A=0;A<E.length;A+=3)i.indexArray.emplaceBack(x+E[A],x+E[A+1],x+E[A+2]);u.primitiveLength+=E.length/3,u.vertexLength+=s}var P,z;this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t)},f.programInterface=c,e.exports=f},{"../../gl/index_buffer":71,"../../gl/vertex_buffer":72,"../../util/classify_rings":234,"../extent":58,"../index_array_type":60,"../load_geometry":61,"../program_configuration":63,"../segment":65,"../vertex_array_type":66,earcut:12}],55:[function(t,e,i){"use strict";var n=t("./circle_bucket"),o={layoutAttributes:n.programInterface.layoutAttributes,indexArrayType:n.programInterface.indexArrayType,paintAttributes:[{property:"heatmap-weight"}]},r=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e}(n);r.programInterface=o,e.exports=r},{"./circle_bucket":52}],56:[function(t,e,i){"use strict";function h(t,e,i,n,o,r,s){t.emplaceBack(e.x,e.y,n?1:0,o?1:-1,Math.round(63*i.x)+128,Math.round(63*i.y)+128,1+(0===r?0:r<0?-1:1)|(.5*s&63)<<2,.5*s>>6)}var n=t("../segment").SegmentVector,o=t("../../gl/vertex_buffer"),r=t("../../gl/index_buffer"),s=t("../program_configuration").ProgramConfigurationSet,a=t("../vertex_array_type"),l=t("../index_array_type").TriangleIndexArray,u=t("../load_geometry"),H=t("../extent"),q=t("@mapbox/vector-tile").VectorTileFeature.types,$=Math.cos(Math.PI/180*37.5),c=Math.pow(2,14)/.5,p={layoutAttributes:[{name:"a_pos_normal",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],paintAttributes:[{property:"line-color"},{property:"line-blur"},{property:"line-opacity"},{property:"line-gap-width",name:"gapwidth"},{property:"line-offset"},{property:"line-width"},{property:"line-width",name:"floorwidth",useIntegerZoom:!0}],indexArrayType:l},d=a(p.layoutAttributes),f=function(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.index=t.index,this.layoutVertexArray=new d(t.layoutVertexArray),this.indexArray=new l(t.indexArray),this.programConfigurations=new s(p,t.layers,t.zoom,t.programConfigurations),this.segments=new n(t.segments)};f.prototype.populate=function(t,e){for(var i=0,n=t;i<n.length;i+=1){var o=n[i],r=o.feature,s=o.index,a=o.sourceLayerIndex;if(this.layers[0]._featureFilter({zoom:this.zoom},r)){var l=u(r);this.addFeature(r,l),e.featureIndex.insert(r,l,s,a,this.index)}}},f.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},f.prototype.serialize=function(t){return{zoom:this.zoom,layerIds:this.layers.map(function(t){return t.id}),layoutVertexArray:this.layoutVertexArray.serialize(t),indexArray:this.indexArray.serialize(t),programConfigurations:this.programConfigurations.serialize(t),segments:this.segments.get()}},f.prototype.upload=function(t){this.layoutVertexBuffer=new o(t,this.layoutVertexArray),this.indexBuffer=new r(t,this.indexArray),this.programConfigurations.upload(t)},f.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},f.prototype.addFeature=function(t,e){for(var i=this.layers[0].layout,n=this.layers[0].getLayoutValue("line-join",{zoom:this.zoom},t),o=i["line-cap"],r=i["line-miter-limit"],s=i["line-round-limit"],a=0,l=e;a<l.length;a+=1){var u=l[a];this.addLine(u,t,n,o,r,s)}},f.prototype.addLine=function(t,e,i,n,o,r){for(var s=this,a="Polygon"===q[e.type],l=t.length;2<=l&&t[l-1].equals(t[l-2]);)l--;for(var u=0;u<l-1&&t[u].equals(t[u+1]);)u++;if(!(l<(a?3:2))){"bevel"===i&&(o=1.05);var h,c,p,d=H/(512*this.overscaling)*15,f=t[u],m=this.segments.prepareSegment(10*l,this.layoutVertexArray,this.indexArray),g=n,v=a?"butt":n,y=!(this.distance=0),_=void 0,b=void 0,x=void 0,w=void 0;this.e1=this.e2=this.e3=-1,a&&(h=t[l-2],w=f.sub(h)._unit()._perp());for(var T=u;T<l;T++)if(!(b=a&&T===l-1?t[u+1]:t[T+1])||!t[T].equals(b)){w&&(x=w),h&&(_=h),h=t[T],w=b?b.sub(h)._unit()._perp():x;var k=(x=x||w).add(w);0===k.x&&0===k.y||k._unit();var C=k.x*w.x+k.y*w.y,S=0!==C?1/C:1/0,E=C<$&&_&&b;if(E&&u<T){var A=h.dist(_);if(2*d<A){var P=h.sub(h.sub(_)._mult(d/A)._round());s.distance+=P.dist(_),s.addCurrentVertex(P,s.distance,x.mult(1),0,0,!1,m),_=P}}var z=_&&b,D=z?i:b?g:v;if(z&&"round"===D&&(S<r?D="miter":S<=2&&(D="fakeround")),"miter"===D&&o<S&&(D="bevel"),"bevel"===D&&(2<S&&(D="flipbevel"),S<o&&(D="miter")),_&&(s.distance+=h.dist(_)),"miter"===D)k._mult(S),s.addCurrentVertex(h,s.distance,k,0,0,!1,m);else if("flipbevel"===D){if(100<S)k=w.clone().mult(-1);else{var M=0<x.x*w.y-x.y*w.x?-1:1,I=S*x.add(w).mag()/x.sub(w).mag();k._perp()._mult(I*M)}s.addCurrentVertex(h,s.distance,k,0,0,!1,m),s.addCurrentVertex(h,s.distance,k.mult(-1),0,0,!1,m)}else if("bevel"===D||"fakeround"===D){var O=0<x.x*w.y-x.y*w.x,L=-Math.sqrt(S*S-1);if(O?(p=0,c=L):(c=0,p=L),y||s.addCurrentVertex(h,s.distance,x,c,p,!1,m),"fakeround"===D){for(var R=Math.floor(8*(.5-(C-.5))),F=void 0,N=0;N<R;N++)F=w.mult((N+1)/(R+1))._add(x)._unit(),s.addPieSliceVertex(h,s.distance,F,O,m);s.addPieSliceVertex(h,s.distance,k,O,m);for(var j=R-1;0<=j;j--)F=x.mult((j+1)/(R+1))._add(w)._unit(),s.addPieSliceVertex(h,s.distance,F,O,m)}b&&s.addCurrentVertex(h,s.distance,w,-c,-p,!1,m)}else"butt"===D?(y||s.addCurrentVertex(h,s.distance,x,0,0,!1,m),b&&s.addCurrentVertex(h,s.distance,w,0,0,!1,m)):"square"===D?(y||(s.addCurrentVertex(h,s.distance,x,1,1,!1,m),s.e1=s.e2=-1),b&&s.addCurrentVertex(h,s.distance,w,-1,-1,!1,m)):"round"===D&&(y||(s.addCurrentVertex(h,s.distance,x,0,0,!1,m),s.addCurrentVertex(h,s.distance,x,1,1,!0,m),s.e1=s.e2=-1),b&&(s.addCurrentVertex(h,s.distance,w,-1,-1,!0,m),s.addCurrentVertex(h,s.distance,w,0,0,!1,m)));if(E&&T<l-1){var B=h.dist(b);if(2*d<B){var V=h.add(b.sub(h)._mult(d/B)._round());s.distance+=V.dist(h),s.addCurrentVertex(V,s.distance,w.mult(1),0,0,!1,m),h=V}}y=!1}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e)}},f.prototype.addCurrentVertex=function(t,e,i,n,o,r,s){var a,l=this.layoutVertexArray,u=this.indexArray;a=i.clone(),n&&a._sub(i.perp()._mult(n)),h(l,t,a,r,!1,n,e),this.e3=s.vertexLength++,0<=this.e1&&0<=this.e2&&(u.emplaceBack(this.e1,this.e2,this.e3),s.primitiveLength++),this.e1=this.e2,this.e2=this.e3,a=i.mult(-1),o&&a._sub(i.perp()._mult(o)),h(l,t,a,r,!0,-o,e),this.e3=s.vertexLength++,0<=this.e1&&0<=this.e2&&(u.emplaceBack(this.e1,this.e2,this.e3),s.primitiveLength++),this.e1=this.e2,this.e2=this.e3,c/2<e&&(this.distance=0,this.addCurrentVertex(t,this.distance,i,n,o,r,s))},f.prototype.addPieSliceVertex=function(t,e,i,n,o){i=i.mult(n?-1:1);var r=this.layoutVertexArray,s=this.indexArray;h(r,t,i,!1,n,0,e),this.e3=o.vertexLength++,0<=this.e1&&0<=this.e2&&(s.emplaceBack(this.e1,this.e2,this.e3),o.primitiveLength++),n?this.e2=this.e3:this.e1=this.e3},f.programInterface=p,e.exports=f},{"../../gl/index_buffer":71,"../../gl/vertex_buffer":72,"../extent":58,"../index_array_type":60,"../load_geometry":61,"../program_configuration":63,"../segment":65,"../vertex_array_type":66,"@mapbox/vector-tile":6}],57:[function(t,e,i){"use strict";function O(t,e,i,n,o,r,s,a){t.emplaceBack(e,i,Math.round(64*n),Math.round(64*o),r,s,a?a[0]:void 0,a?a[1]:void 0)}function L(t,e,i,n){var o=2*Math.PI,r=c((i+o)%o/o*255,10*n);t.emplaceBack(e.x,e.y,r),t.emplaceBack(e.x,e.y,r),t.emplaceBack(e.x,e.y,r),t.emplaceBack(e.x,e.y,r)}function w(t,e,i,n,o,r){return t.emplaceBack(e.x,e.y,i.x,i.y,Math.round(n.x),Math.round(n.y),10*o,10*r)}function A(t,e,i,n,o){if("source"===i.functionType)return[10*t.getLayoutValue(n,{},o)];if("composite"!==i.functionType)return null;var r=i.coveringZoomRange;return[10*t.getLayoutValue(n,{zoom:r[0]},o),10*t.getLayoutValue(n,{zoom:r[1]},o)]}var T=t("@mapbox/point-geometry"),a=t("../segment").SegmentVector,n=t("../../gl/vertex_buffer"),o=t("../../gl/index_buffer"),l=t("../program_configuration").ProgramConfigurationSet,u=t("../vertex_array_type"),r=t("../index_array_type"),s=r.TriangleIndexArray,h=r.LineIndexArray,$=t("../extent"),c=t("../../shaders/encode_attribute").packUint8ToFloat,W=t("../../symbol/anchor"),U=t("../../symbol/get_anchors"),k=t("../../util/token"),p=t("../../symbol/quads"),M=p.getGlyphQuads,I=p.getIconQuads,d=t("../../symbol/shaping"),S=d.shapeText,E=d.shapeIcon,Z=d.WritingMode,C=t("../../symbol/transform_text"),P=t("../../symbol/mergelines"),X=t("../../symbol/clip_line"),R=t("../../util/util"),z=t("../../util/script_detection"),D=t("../load_geometry"),F=t("../../symbol/collision_feature"),G=t("../../util/find_pole_of_inaccessibility"),Y=t("../../util/classify_rings"),N=t("@mapbox/vector-tile").VectorTileFeature.types,f=t("../../util/struct_array"),j=t("../../util/verticalize_punctuation"),m=t("../../symbol/symbol_size").getSizeData,B=f({members:[{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Float32",name:"placementZoom"},{type:"Uint8",name:"vertical"}]}),V=f({members:[{type:"Float32",name:"offsetX"}]}),H=f({members:[{type:"Int16",name:"x"},{type:"Int16",name:"y"}]}),g=[{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"}],v=[{name:"a_projected_pos",components:3,type:"Float32"}],q={text:{layoutAttributes:g,dynamicLayoutAttributes:v,indexArrayType:s,paintAttributes:[{property:"text-color",name:"fill_color"},{property:"text-halo-color",name:"halo_color"},{property:"text-halo-width",name:"halo_width"},{property:"text-halo-blur",name:"halo_blur"},{property:"text-opacity",name:"opacity"}]},icon:{layoutAttributes:g,dynamicLayoutAttributes:v,indexArrayType:s,paintAttributes:[{property:"icon-color",name:"fill_color"},{property:"icon-halo-color",name:"halo_color"},{property:"icon-halo-width",name:"halo_width"},{property:"icon-halo-blur",name:"halo_blur"},{property:"icon-opacity",name:"opacity"}]},collisionBox:{layoutAttributes:[{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"},{name:"a_data",components:2,type:"Uint8"}],indexArrayType:h}},K=function(t,e,i,n){this.programInterface=t;var o=u(t.layoutAttributes),r=t.indexArrayType;if(this.layoutVertexArray=new o(n&&n.layoutVertexArray),this.indexArray=new r(n&&n.indexArray),this.programConfigurations=new l(t,e,i,n&&n.programConfigurations),this.segments=new a(n&&n.segments),t.dynamicLayoutAttributes){var s=u(t.dynamicLayoutAttributes);this.dynamicLayoutVertexArray=new s(n&&n.dynamicLayoutVertexArray)}};K.prototype.serialize=function(t){return{layoutVertexArray:this.layoutVertexArray.serialize(t),indexArray:this.indexArray.serialize(t),programConfigurations:this.programConfigurations.serialize(t),segments:this.segments.get(),dynamicLayoutVertexArray:this.dynamicLayoutVertexArray&&this.dynamicLayoutVertexArray.serialize(t)}},K.prototype.upload=function(t){this.layoutVertexBuffer=new n(t,this.layoutVertexArray),this.indexBuffer=new o(t,this.indexArray),this.programConfigurations.upload(t),this.programInterface.dynamicLayoutAttributes&&(this.dynamicLayoutVertexBuffer=new n(t,this.dynamicLayoutVertexArray,!0))},K.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer&&this.dynamicLayoutVertexBuffer.destroy())};var J=function(t){if(this.collisionBoxArray=t.collisionBoxArray,this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.index=t.index,this.sdfIcons=t.sdfIcons,this.iconsNeedLinear=t.iconsNeedLinear,this.pixelRatio=t.pixelRatio,t.text)this.text=new K(q.text,t.layers,t.zoom,t.text),this.icon=new K(q.icon,t.layers,t.zoom,t.icon),this.collisionBox=new K(q.collisionBox,t.layers,t.zoom,t.collisionBox),this.textSizeData=t.textSizeData,this.iconSizeData=t.iconSizeData,this.placedGlyphArray=new B(t.placedGlyphArray),this.placedIconArray=new B(t.placedIconArray),this.glyphOffsetArray=new V(t.glyphOffsetArray),this.lineVertexArray=new H(t.lineVertexArray);else{var e=this.layers[0];this.textSizeData=m(this.zoom,e,"text-size"),this.iconSizeData=m(this.zoom,e,"icon-size")}};J.prototype.populate=function(t,e){var i=this.layers[0],n=i.layout,o=n["text-font"],r=(!i.isLayoutValueFeatureConstant("text-field")||n["text-field"])&&o,s=!i.isLayoutValueFeatureConstant("icon-image")||n["icon-image"];if(this.features=[],r||s){for(var a=e.iconDependencies,l=e.glyphDependencies,u=l[o]=l[o]||{},h={zoom:this.zoom},c=0,p=t;c<p.length;c+=1){var d=p[c],f=d.feature,m=d.index,g=d.sourceLayerIndex;if(i._featureFilter(h,f)){var v=void 0;r&&(v=i.getLayoutValue("text-field",h,f),i.isLayoutValueFeatureConstant("text-field")&&(v=k(f.properties,v)),v=C(v,i,h,f));var y=void 0;if(s&&(y=i.getLayoutValue("icon-image",h,f),i.isLayoutValueFeatureConstant("icon-image")&&(y=k(f.properties,y))),v||y){var _={text:v,icon:y,index:m,sourceLayerIndex:g,geometry:D(f),properties:f.properties,type:N[f.type]};if(void 0!==f.id&&(_.id=f.id),this.features.push(_),y&&(a[y]=!0),v)for(var b="map"===n["text-rotation-alignment"]&&"line"===n["symbol-placement"],x=z.allowsVerticalWritingMode(v),w=0;w<v.length;w++)if(u[v.charCodeAt(w)]=!0,b&&x){var T=j.lookup[v.charAt(w)];T&&(u[T.charCodeAt(0)]=!0)}}}}"line"===n["symbol-placement"]&&(this.features=P(this.features))}},J.prototype.isEmpty=function(){return 0===this.icon.layoutVertexArray.length&&0===this.text.layoutVertexArray.length&&0===this.collisionBox.layoutVertexArray.length},J.prototype.serialize=function(t){return{zoom:this.zoom,layerIds:this.layers.map(function(t){return t.id}),sdfIcons:this.sdfIcons,iconsNeedLinear:this.iconsNeedLinear,textSizeData:this.textSizeData,iconSizeData:this.iconSizeData,placedGlyphArray:this.placedGlyphArray.serialize(t),placedIconArray:this.placedIconArray.serialize(t),glyphOffsetArray:this.glyphOffsetArray.serialize(t),lineVertexArray:this.lineVertexArray.serialize(t),text:this.text.serialize(t),icon:this.icon.serialize(t),collisionBox:this.collisionBox.serialize(t)}},J.prototype.upload=function(t){this.text.upload(t),this.icon.upload(t),this.collisionBox.upload(t)},J.prototype.destroy=function(){this.text.destroy(),this.icon.destroy(),this.collisionBox.destroy()},J.prototype.prepare=function(t,e,i,n){var o=this;this.symbolInstances=[];var r=512*this.overscaling;this.tilePixelRatio=$/r,this.compareText={},this.iconsNeedLinear=!1;for(var s=this.layers[0].layout,a=24*s["text-line-height"],l=s["text-font"].join(","),u="map"===s["text-rotation-alignment"]&&"line"===s["symbol-placement"],h=t[l]||{},c=e[l]||{},p=0,d=o.features;p<d.length;p+=1){var f=d[p],m={},g=f.text;if(g){var v=o.layers[0].getLayoutValue("text-offset",{zoom:o.zoom},f).map(function(t){return 24*t}),y=24*o.layers[0].getLayoutValue("text-letter-spacing",{zoom:o.zoom},f),_=z.allowsLetterSpacing(g)?y:0,b=o.layers[0].getLayoutValue("text-anchor",{zoom:o.zoom},f),x=o.layers[0].getLayoutValue("text-justify",{zoom:o.zoom},f),w="line"!==s["symbol-placement"]?24*o.layers[0].getLayoutValue("text-max-width",{zoom:o.zoom},f):0,T=function(t,e){return S(t,h,w,a,b,x,_,v,24,e)};m[Z.horizontal]=T(g,Z.horizontal),z.allowsVerticalWritingMode(g)&&u&&(m[Z.vertical]=T(g,Z.vertical))}var k=void 0;if(f.icon){var C=i[f.icon];C&&(k=E(n[f.icon],o.layers[0].getLayoutValue("icon-offset",{zoom:o.zoom},f),o.layers[0].getLayoutValue("icon-anchor",{zoom:o.zoom},f)),void 0===o.sdfIcons?o.sdfIcons=C.sdf:o.sdfIcons!==C.sdf&&R.warnOnce("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),C.pixelRatio!==o.pixelRatio?o.iconsNeedLinear=!0:0===s["icon-rotate"]&&o.layers[0].isLayoutValueFeatureConstant("icon-rotate")||(o.iconsNeedLinear=!0))}(m[Z.horizontal]||k)&&o.addFeature(f,m,k,c)}},J.prototype.addFeature=function(o,r,s,a){var l=this,t=this.layers[0].getLayoutValue("text-size",{zoom:this.zoom+1},o),e=this.layers[0].getLayoutValue("icon-size",{zoom:this.zoom+1},o),u=this.layers[0].getLayoutValue("text-offset",{zoom:this.zoom},o),h=this.layers[0].getLayoutValue("icon-offset",{zoom:this.zoom},o),i=this.layers[0].getLayoutValue("text-size",{zoom:18},o);void 0===i&&(i=t);var n=this.layers[0].layout,c=t/24,p=this.tilePixelRatio*c,d=this.tilePixelRatio*i/24,f=this.tilePixelRatio*e,m=this.tilePixelRatio*n["symbol-spacing"],g=n["symbol-avoid-edges"],v=n["text-padding"]*this.tilePixelRatio,y=n["icon-padding"]*this.tilePixelRatio,_=n["text-max-angle"]/180*Math.PI,b="map"===n["text-rotation-alignment"]&&"line"===n["symbol-placement"],x="map"===n["icon-rotation-alignment"]&&"line"===n["symbol-placement"],w=n["text-allow-overlap"]||n["icon-allow-overlap"]||n["text-ignore-placement"]||n["icon-ignore-placement"],T=m/2,k=function(t,e){var i=!(e.x<0||e.x>$||e.y<0||e.y>$);if(!g||i){var n=i||w;l.addSymbolInstance(e,t,r,s,l.layers[0],n,l.collisionBoxArray,o.index,o.sourceLayerIndex,l.index,p,v,b,u,f,y,x,h,{zoom:l.zoom},o,a)}};if("line"===n["symbol-placement"])for(var C=0,S=X(o.geometry,0,0,$,$);C<S.length;C+=1)for(var E=S[C],A=0,P=U(E,m,_,r[Z.vertical]||r[Z.horizontal],s,24,d,l.overscaling,$);A<P.length;A+=1){var z=P[A],D=r[Z.horizontal];D&&l.anchorIsTooClose(D.text,T,z)||k(E,z)}else if("Polygon"===o.type)for(var M=0,I=Y(o.geometry,0);M<I.length;M+=1){var O=I[M],L=G(O,16);k(O[0],new W(L.x,L.y,0))}else if("LineString"===o.type)for(var R=0,F=o.geometry;R<F.length;R+=1){var N=F[R];k(N,new W(N[0].x,N[0].y,0))}else if("Point"===o.type)for(var j=0,B=o.geometry;j<B.length;j+=1)for(var V=0,H=B[j];V<H.length;V+=1){var q=H[V];k([q],new W(q.x,q.y,0))}},J.prototype.anchorIsTooClose=function(t,e,i){var n=this.compareText;if(t in n){for(var o=n[t],r=o.length-1;0<=r;r--)if(i.dist(o[r])<e)return!0}else n[t]=[];return n[t].push(i),!1},J.prototype.place=function(t,e){var i=this;this.text=new K(q.text,this.layers,this.zoom),this.icon=new K(q.icon,this.layers,this.zoom),this.collisionBox=new K(q.collisionBox,this.layers,this.zoom),this.placedGlyphArray=new B,this.placedIconArray=new B,this.glyphOffsetArray=new V,this.lineVertexArray=new H;var n=this.layers[0],o=n.layout,r=t.maxScale,s="map"===o["text-rotation-alignment"]&&"line"===o["symbol-placement"],a="map"===o["icon-rotation-alignment"]&&"line"===o["symbol-placement"];if(o["text-allow-overlap"]||o["icon-allow-overlap"]||o["text-ignore-placement"]||o["icon-ignore-placement"]){var l=t.angle,u=Math.sin(l),h=Math.cos(l);this.symbolInstances.sort(function(t,e){return(u*t.anchor.x+h*t.anchor.y|0)-(u*e.anchor.x+h*e.anchor.y|0)||e.featureIndex-t.featureIndex})}for(var c=0,p=i.symbolInstances;c<p.length;c+=1){var d=p[c],f={boxStartIndex:d.textBoxStartIndex,boxEndIndex:d.textBoxEndIndex},m={boxStartIndex:d.iconBoxStartIndex,boxEndIndex:d.iconBoxEndIndex},g=!(d.textBoxStartIndex===d.textBoxEndIndex),v=!(d.iconBoxStartIndex===d.iconBoxEndIndex),y=o["text-optional"]||!g,_=o["icon-optional"]||!v,b=g?t.placeCollisionFeature(f,o["text-allow-overlap"],o["symbol-avoid-edges"]):t.minScale,x=v?t.placeCollisionFeature(m,o["icon-allow-overlap"],o["symbol-avoid-edges"]):t.minScale;if(y||_?!_&&b?b=Math.max(x,b):!y&&x&&(x=Math.max(x,b)):x=b=Math.max(x,b),g||v){for(var w=d.line,T=i.lineVertexArray.length,k=0;k<w.length;k++)i.lineVertexArray.emplaceBack(w[k].x,w[k].y);var C=i.lineVertexArray.length-T;if(g&&(t.insertCollisionFeature(f,b,o["text-ignore-placement"]),b<=r)){var S=A(n,i.zoom,i.textSizeData,"text-size",d.feature);i.addSymbols(i.text,d.glyphQuads,b,S,o["text-keep-upright"],d.textOffset,s,t.angle,d.feature,d.writingModes,d.anchor,T,C,i.placedGlyphArray)}if(v&&(t.insertCollisionFeature(m,x,o["icon-ignore-placement"]),x<=r)){var E=A(n,i.zoom,i.iconSizeData,"icon-size",d.feature);i.addSymbols(i.icon,d.iconQuads,x,E,o["icon-keep-upright"],d.iconOffset,a,t.angle,d.feature,0,d.anchor,T,C,i.placedIconArray)}}}e&&this.addToDebugBuffers(t)},J.prototype.addSymbols=function(t,e,i,n,o,r,s,a,l,u,h,c,p,d){for(var f=t.indexArray,m=t.layoutVertexArray,g=t.dynamicLayoutVertexArray,v=this.zoom,y=Math.max(Math.log(i)/Math.LN2+v,0),_=this.glyphOffsetArray.length,b=(h.angle+a+2*Math.PI)%(2*Math.PI),x=b>1*Math.PI/4&&b<=3*Math.PI/4||b>5*Math.PI/4&&b<=7*Math.PI/4,w=Boolean(u&Z.vertical)&&x,T=0,k=e;T<k.length;T+=1){var C=k[T];if(!s||!o||C.writingMode===Z.vertical===w){var S=C.tl,E=C.tr,A=C.bl,P=C.br,z=C.tex,D=t.segments.prepareSegment(4,t.layoutVertexArray,t.indexArray),M=D.vertexLength,I=C.glyphOffset[1];O(m,h.x,h.y,S.x,I+S.y,z.x,z.y,n),O(m,h.x,h.y,E.x,I+E.y,z.x+z.w,z.y,n),O(m,h.x,h.y,A.x,I+A.y,z.x,z.y+z.h,n),O(m,h.x,h.y,P.x,I+P.y,z.x+z.w,z.y+z.h,n),L(g,h,0,y),f.emplaceBack(M,M+1,M+2),f.emplaceBack(M+1,M+2,M+3),D.vertexLength+=4,D.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(C.glyphOffset[0])}}d.emplaceBack(h.x,h.y,_,this.glyphOffsetArray.length-_,c,p,h.segment,n?n[0]:0,n?n[1]:0,r[0],r[1],y,w),t.programConfigurations.populatePaintArrays(t.layoutVertexArray.length,l)},J.prototype.addToDebugBuffers=function(t){for(var e=this.collisionBox,i=e.layoutVertexArray,n=e.indexArray,o=-t.angle,r=t.yStretch,s=0,a=this.symbolInstances;s<a.length;s+=1){var l=a[s];l.textCollisionFeature={boxStartIndex:l.textBoxStartIndex,boxEndIndex:l.textBoxEndIndex},l.iconCollisionFeature={boxStartIndex:l.iconBoxStartIndex,boxEndIndex:l.iconBoxEndIndex};for(var u=0;u<2;u++){var h=l[0===u?"textCollisionFeature":"iconCollisionFeature"];if(h)for(var c=h.boxStartIndex;c<h.boxEndIndex;c++){var p=this.collisionBoxArray.get(c);if(!(1===t.perspectiveRatio&&p.maxScale<1)){var d=p.anchorPoint,f=new T(p.x1,p.y1*r)._rotate(o),m=new T(p.x2,p.y1*r)._rotate(o),g=new T(p.x1,p.y2*r)._rotate(o),v=new T(p.x2,p.y2*r)._rotate(o),y=Math.max(0,Math.min(25,this.zoom+Math.log(p.maxScale)/Math.LN2)),_=Math.max(0,Math.min(25,this.zoom+Math.log(p.placementScale)/Math.LN2)),b=e.segments.prepareSegment(4,e.layoutVertexArray,e.indexArray),x=b.vertexLength;w(i,d,l.anchor,f,y,_),w(i,d,l.anchor,m,y,_),w(i,d,l.anchor,v,y,_),w(i,d,l.anchor,g,y,_),n.emplaceBack(x,x+1),n.emplaceBack(x+1,x+2),n.emplaceBack(x+2,x+3),n.emplaceBack(x+3,x),b.vertexLength+=4,b.primitiveLength+=4}}}}},J.prototype.addSymbolInstance=function(t,e,i,n,o,r,s,a,l,u,h,c,p,d,f,m,g,v,y,_,b){var x,w,T=[],k=[];for(var C in i){var S=parseInt(C,10);i[S]&&(k=k.concat(r?M(t,i[S],o,p,y,_,b):[]),x=new F(s,e,t,a,l,u,i[S],h,c,p,!1))}var E=x?x.boxStartIndex:this.collisionBoxArray.length,A=x?x.boxEndIndex:this.collisionBoxArray.length;n&&(T=r?I(t,n,o,g,i[Z.horizontal],y,_):[],w=new F(s,e,t,a,l,u,n,f,m,g,!0));var P=w?w.boxStartIndex:this.collisionBoxArray.length,z=w?w.boxEndIndex:this.collisionBoxArray.length;J.MAX_INSTANCES<A&&R.warnOnce("Too many symbols being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),J.MAX_INSTANCES<z&&R.warnOnce("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907");var D=(i[Z.vertical]?Z.vertical:0)|(i[Z.horizontal]?Z.horizontal:0);this.symbolInstances.push({textBoxStartIndex:E,textBoxEndIndex:A,iconBoxStartIndex:P,iconBoxEndIndex:z,glyphQuads:k,iconQuads:T,textOffset:d,iconOffset:v,anchor:t,line:e,featureIndex:a,feature:_,writingModes:D})},J.programInterfaces=q,J.MAX_INSTANCES=65535,J.addDynamicAttributes=L,e.exports=J},{"../../gl/index_buffer":71,"../../gl/vertex_buffer":72,"../../shaders/encode_attribute":97,"../../symbol/anchor":196,"../../symbol/clip_line":198,"../../symbol/collision_feature":200,"../../symbol/get_anchors":202,"../../symbol/mergelines":203,"../../symbol/quads":205,"../../symbol/shaping":206,"../../symbol/symbol_size":207,"../../symbol/transform_text":208,"../../util/classify_rings":234,"../../util/find_pole_of_inaccessibility":240,"../../util/script_detection":247,"../../util/struct_array":249,"../../util/token":251,"../../util/util":252,"../../util/verticalize_punctuation":254,"../extent":58,"../index_array_type":60,"../load_geometry":61,"../program_configuration":63,"../segment":65,"../vertex_array_type":66,"@mapbox/point-geometry":2,"@mapbox/vector-tile":6}],58:[function(t,e,i){"use strict";e.exports=8192},{}],59:[function(t,e,i){"use strict";function y(t,e){return e-t}t("@mapbox/point-geometry");var w=t("./load_geometry"),_=t("./extent"),b=t("../style-spec/feature_filter"),n=t("../util/struct_array"),o=t("grid-index"),x=t("../util/dictionary_coder"),T=t("@mapbox/vector-tile"),k=t("pbf"),C=t("../util/vectortile_to_geojson"),S=t("../util/util").arraysIntersect,r=n({members:[{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]}),s=function(t,e,i,n){this.coord=t,this.overscaling=e,this.x=t.x,this.y=t.y,this.z=t.z-Math.log(e)/Math.LN2,this.grid=i||new o(_,16,0),this.featureIndexArray=n||new r};s.deserialize=function(t,e,i){var n=new s(t.coord,t.overscaling,new o(t.grid),new r(t.featureIndexArray));return n.rawTileData=e,n.bucketLayerIDs=t.bucketLayerIDs,n.setCollisionTile(i),n},s.prototype.insert=function(t,e,i,n,o){var r=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(i,n,o);for(var s=0;s<e.length;s++){for(var a=e[s],l=[1/0,1/0,-1/0,-1/0],u=0;u<a.length;u++){var h=a[u];l[0]=Math.min(l[0],h.x),l[1]=Math.min(l[1],h.y),l[2]=Math.max(l[2],h.x),l[3]=Math.max(l[3],h.y)}this.grid.insert(r,l[0],l[1],l[2],l[3])}},s.prototype.setCollisionTile=function(t){this.collisionTile=t},s.prototype.serialize=function(t){var e=this.grid.toArrayBuffer();return t&&t.push(e),{coord:this.coord,overscaling:this.overscaling,grid:e,featureIndexArray:this.featureIndexArray.serialize(t),bucketLayerIDs:this.bucketLayerIDs}},s.prototype.query=function(t,e){this.vtLayers||(this.vtLayers=new T.VectorTile(new k(this.rawTileData)).layers,this.sourceLayerCoder=new x(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"]));for(var i={},n=t.params||{},o=_/t.tileSize/t.scale,r=b(n.filter),s=t.queryGeometry,a=t.additionalRadius*o,l=1/0,u=1/0,h=-1/0,c=-1/0,p=0;p<s.length;p++)for(var d=s[p],f=0;f<d.length;f++){var m=d[f];l=Math.min(l,m.x),u=Math.min(u,m.y),h=Math.max(h,m.x),c=Math.max(c,m.y)}var g=this.grid.query(l-a,u-a,h+a,c+a);g.sort(y),this.filterMatching(i,g,this.featureIndexArray,s,r,n.layers,e,t.bearing,o);var v=this.collisionTile.queryRenderedSymbols(s,t.scale);return v.sort(),this.filterMatching(i,v,this.collisionTile.collisionBoxArray,s,r,n.layers,e,t.bearing,o),i},s.prototype.filterMatching=function(t,e,i,n,o,r,s,a,l){for(var u,h=0;h<e.length;h++){var c=e[h];if(c!==u){u=c;var p=i.get(c),d=this.bucketLayerIDs[p.bucketIndex];if(!r||S(r,d)){var f=this.sourceLayerCoder.decode(p.sourceLayerIndex),m=this.vtLayers[f].feature(p.featureIndex);if(o({zoom:this.coord.z},m))for(var g=null,v=0;v<d.length;v++){var y=d[v];if(!(r&&r.indexOf(y)<0)){var _=s[y];if(_&&("symbol"===_.type||(g||(g=w(m)),_.queryIntersectsFeature(n,m,g,this.z,a,l)))){var b=new C(m,this.z,this.x,this.y);b.layer=_.serialize();var x=t[y];void 0===x&&(x=t[y]=[]),x.push({featureIndex:c,feature:b})}}}}}}},s.prototype.hasLayer=function(t){for(var e=0,i=this.bucketLayerIDs;e<i.length;e+=1)for(var n=0,o=i[e];n<o.length;n+=1){if(t===o[n])return!0}return!1},e.exports=s},{"../style-spec/feature_filter":144,"../util/dictionary_coder":236,"../util/struct_array":249,"../util/util":252,"../util/vectortile_to_geojson":253,"./extent":58,"./load_geometry":61,"@mapbox/point-geometry":2,"@mapbox/vector-tile":6,"grid-index":23,pbf:38}],60:[function(t,e,i){"use strict";function n(t){return o({members:[{type:"Uint16",name:"vertices",components:t}]})}var o=t("../util/struct_array");e.exports={LineIndexArray:n(2),TriangleIndexArray:n(3)}},{"../util/struct_array":249}],61:[function(t,e,i){"use strict";var n,a=t("../util/util"),l=t("./extent"),u=(n=16,{min:-1*Math.pow(2,n-1),max:Math.pow(2,n-1)-1});e.exports=function(t){for(var e=l/t.extent,i=t.loadGeometry(),n=0;n<i.length;n++)for(var o=i[n],r=0;r<o.length;r++){var s=o[r];s.x=Math.round(s.x*e),s.y=Math.round(s.y*e),(s.x<u.min||s.x>u.max||s.y<u.min||s.y>u.max)&&a.warnOnce("Geometry exceeds allowed extent, reduce your vector tile buffer size")}return i}},{"../util/util":252,"./extent":58}],62:[function(t,e,i){"use strict";var n=t("../util/struct_array")({members:[{name:"a_pos",type:"Int16",components:2}]});e.exports=n},{"../util/struct_array":249}],63:[function(t,e,i){"use strict";function m(t){return[n(255*t[0],255*t[1]),n(255*t[2],255*t[3])]}var p=t("./vertex_array_type"),n=t("../shaders/encode_attribute").packUint8ToFloat,o=t("../gl/vertex_buffer"),d=function(t,e,i,n){this.name=t,this.type=e,this.property=i,this.useIntegerZoom=n};d.prototype.defines=function(){return["#define HAS_UNIFORM_u_"+this.name]},d.prototype.populatePaintArray=function(){},d.prototype.setUniforms=function(t,e,i,n){var o=n.zoom,r=i.getPaintValue(this.property,{zoom:this.useIntegerZoom?Math.floor(o):o});"color"===this.type?t.uniform4fv(e.uniforms["u_"+this.name],r):t.uniform1f(e.uniforms["u_"+this.name],r)};var f=function(t,e,i){this.name=t,this.type=e,this.property=i};f.prototype.defines=function(){return[]},f.prototype.populatePaintArray=function(t,e,i,n,o,r){var s=t.getPaintValue(this.property,{zoom:0},r);if("color"===this.type)for(var a=m(s),l=n;l<o;l++){var u=e.get(l);u["a_"+this.name+"0"]=a[0],u["a_"+this.name+"1"]=a[1]}else{for(var h=n;h<o;h++)e.get(h)["a_"+this.name]=s;var c=i[this.property];c.max=Math.max(c.max,s)}},f.prototype.setUniforms=function(t,e){t.uniform1f(e.uniforms["a_"+this.name+"_t"],0)};var g=function(t,e,i,n,o){this.name=t,this.type=e,this.property=i,this.useIntegerZoom=n,this.zoom=o};g.prototype.defines=function(){return[]},g.prototype.populatePaintArray=function(t,e,i,n,o,r){var s=t.getPaintValue(this.property,{zoom:this.zoom},r),a=t.getPaintValue(this.property,{zoom:this.zoom+1},r);if("color"===this.type)for(var l=m(s),u=m(a),h=n;h<o;h++){var c=e.get(h);c["a_"+this.name+"0"]=l[0],c["a_"+this.name+"1"]=l[1],c["a_"+this.name+"2"]=u[0],c["a_"+this.name+"3"]=u[1]}else{for(var p=n;p<o;p++){var d=e.get(p);d["a_"+this.name+"0"]=s,d["a_"+this.name+"1"]=a}var f=i[this.property];f.max=Math.max(f.max,s,a)}},g.prototype.setUniforms=function(t,e,i,n){var o=n.zoom,r=i.getPaintInterpolationFactor(this.property,this.useIntegerZoom?Math.floor(o):o,this.zoom,this.zoom+1);t.uniform1f(e.uniforms["a_"+this.name+"_t"],r)};var v=function(){this.binders={},this.cacheKey=""};v.createDynamic=function(t,e,i){for(var n=new v,o=[],r=0,s=t.paintAttributes||[];r<s.length;r+=1){var a=s[r],l=a.property,u=a.useIntegerZoom||!1,h=a.name||l.replace(e.type+"-","").replace(/-/g,"_"),c=e._paintSpecifications[l].type;e.isPaintValueFeatureConstant(l)?(n.binders[h]=new d(h,c,l,u),n.cacheKey+="/u_"+h):e.isPaintValueZoomConstant(l)?(n.binders[h]=new f(h,c,l),n.cacheKey+="/a_"+h,o.push({name:"a_"+h,type:"Float32",components:"color"===c?2:1})):(n.binders[h]=new g(h,c,l,u,i),n.cacheKey+="/z_"+h,o.push({name:"a_"+h,type:"Float32",components:"color"===c?4:2}))}return n.PaintVertexArray=p(o),n.interface=t,n.layer=e,n},v.createBasicFill=function(){var t=new v;return t.binders.color=new d("color","color","fill-color",!1),t.cacheKey+="/u_color",t.binders.opacity=new d("opacity","number","fill-opacity",!1),t.cacheKey+="/u_opacity",t},v.prototype.createPaintPropertyStatistics=function(){var t={};for(var e in this.binders)t[this.binders[e].property]={max:-1/0};return t},v.prototype.populatePaintArray=function(t,e){var i=this.paintVertexArray;if(0!==i.bytesPerElement){var n=i.length;for(var o in i.resize(t),this.binders)this.binders[o].populatePaintArray(this.layer,i,this.paintPropertyStatistics,n,t,e)}},v.prototype.defines=function(){var t=[];for(var e in this.binders)t.push.apply(t,this.binders[e].defines());return t},v.prototype.setUniforms=function(t,e,i,n){for(var o in this.binders)this.binders[o].setUniforms(t,e,i,n)},v.prototype.serialize=function(t){return 0===this.paintVertexArray.length?null:{array:this.paintVertexArray.serialize(t),type:this.paintVertexArray.constructor.serialize(),statistics:this.paintPropertyStatistics}},v.deserialize=function(t,e,i,n){var o=v.createDynamic(t,e,i);return n&&(o.PaintVertexArray=p(n.type.members),o.paintVertexArray=new o.PaintVertexArray(n.array),o.paintPropertyStatistics=n.statistics),o},v.prototype.upload=function(t){this.paintVertexArray&&(this.paintVertexBuffer=new o(t,this.paintVertexArray))},v.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()};var r=function(t,e,i,n){if(this.programConfigurations={},n)for(var o=0,r=e;o<r.length;o+=1){var s=r[o];this.programConfigurations[s.id]=v.deserialize(t,s,i,n[s.id])}else for(var a=0,l=e;a<l.length;a+=1){var u=l[a],h=v.createDynamic(t,u,i);h.paintVertexArray=new h.PaintVertexArray,h.paintPropertyStatistics=h.createPaintPropertyStatistics(),this.programConfigurations[u.id]=h}};r.prototype.populatePaintArrays=function(t,e){for(var i in this.programConfigurations)this.programConfigurations[i].populatePaintArray(t,e)},r.prototype.serialize=function(t){var e={};for(var i in this.programConfigurations){var n=this.programConfigurations[i].serialize(t);n&&(e[i]=n)}return e},r.prototype.get=function(t){return this.programConfigurations[t]},r.prototype.upload=function(t){for(var e in this.programConfigurations)this.programConfigurations[e].upload(t)},r.prototype.destroy=function(){for(var t in this.programConfigurations)this.programConfigurations[t].destroy()},e.exports={ProgramConfiguration:v,ProgramConfigurationSet:r}},{"../gl/vertex_buffer":72,"../shaders/encode_attribute":97,"./vertex_array_type":66}],64:[function(t,e,i){"use strict";var n=t("../util/struct_array")({members:[{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]});e.exports=n},{"../util/struct_array":249}],65:[function(t,o,e){"use strict";var r=t("../util/util").warnOnce,s=Math.pow(2,16)-1,i=function(t){void 0===t&&(t=[]),this.segments=t};i.prototype.prepareSegment=function(t,e,i){var n=this.segments[this.segments.length-1];return s<t&&r("Max vertices per segment is "+s+": bucket requested "+t),(!n||n.vertexLength+t>o.exports.MAX_VERTEX_ARRAY_LENGTH)&&(n={vertexOffset:e.length,primitiveOffset:i.length,vertexLength:0,primitiveLength:0},this.segments.push(n)),n},i.prototype.get=function(){return this.segments},i.prototype.destroy=function(){for(var t=0,e=this.segments;t<e.length;t+=1){var i=e[t];for(var n in i.vaos)i.vaos[n].destroy()}},o.exports={SegmentVector:i,MAX_VERTEX_ARRAY_LENGTH:s}},{"../util/util":252}],66:[function(t,e,i){"use strict";var n=t("../util/struct_array");e.exports=function(t){return n({members:t,alignment:4})}},{"../util/struct_array":249}],67:[function(t,e,i){"use strict";var n=function(t,e,i){this.column=t,this.row=e,this.zoom=i};n.prototype.clone=function(){return new n(this.column,this.row,this.zoom)},n.prototype.zoomTo=function(t){return this.clone()._zoomTo(t)},n.prototype.sub=function(t){return this.clone()._sub(t)},n.prototype._zoomTo=function(t){var e=Math.pow(2,t-this.zoom);return this.column*=e,this.row*=e,this.zoom=t,this},n.prototype._sub=function(t){return t=t.zoomTo(this.zoom),this.column-=t.column,this.row-=t.row,this},e.exports=n},{}],68:[function(n,t,e){"use strict";var i=n("../util/util").wrap,o=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid LngLat object: ("+t+", "+e+")");if(this.lng=+t,this.lat=+e,90<this.lat||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")};o.prototype.wrap=function(){return new o(i(this.lng,-180,180),this.lat)},o.prototype.toArray=function(){return[this.lng,this.lat]},o.prototype.toString=function(){return"LngLat("+this.lng+", "+this.lat+")"},o.prototype.toBounds=function(t){var e=360*t/40075017,i=e/Math.cos(Math.PI/180*this.lat);return new(n("./lng_lat_bounds"))(new o(this.lng-i,this.lat-e),new o(this.lng+i,this.lat+e))},o.convert=function(t){if(t instanceof o)return t;if(Array.isArray(t)&&2===t.length)return new o(Number(t[0]),Number(t[1]));if(!Array.isArray(t)&&"object"==typeof t&&null!==t)return new o(Number(t.lng),Number(t.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")},t.exports=o},{"../util/util":252,"./lng_lat_bounds":69}],69:[function(t,e,i){"use strict";var r=t("./lng_lat"),s=function(t,e){t&&(e?this.setSouthWest(t).setNorthEast(e):4===t.length?this.setSouthWest([t[0],t[1]]).setNorthEast([t[2],t[3]]):this.setSouthWest(t[0]).setNorthEast(t[1]))};s.prototype.setNorthEast=function(t){return this._ne=t instanceof r?new r(t.lng,t.lat):r.convert(t),this},s.prototype.setSouthWest=function(t){return this._sw=t instanceof r?new r(t.lng,t.lat):r.convert(t),this},s.prototype.extend=function(t){var e,i,n=this._sw,o=this._ne;if(t instanceof r)i=e=t;else{if(!(t instanceof s))return Array.isArray(t)?t.every(Array.isArray)?this.extend(s.convert(t)):this.extend(r.convert(t)):this;if(e=t._sw,i=t._ne,!e||!i)return this}return n||o?(n.lng=Math.min(e.lng,n.lng),n.lat=Math.min(e.lat,n.lat),o.lng=Math.max(i.lng,o.lng),o.lat=Math.max(i.lat,o.lat)):(this._sw=new r(e.lng,e.lat),this._ne=new r(i.lng,i.lat)),this},s.prototype.getCenter=function(){return new r((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)},s.prototype.getSouthWest=function(){return this._sw},s.prototype.getNorthEast=function(){return this._ne},s.prototype.getNorthWest=function(){return new r(this.getWest(),this.getNorth())},s.prototype.getSouthEast=function(){return new r(this.getEast(),this.getSouth())},s.prototype.getWest=function(){return this._sw.lng},s.prototype.getSouth=function(){return this._sw.lat},s.prototype.getEast=function(){return this._ne.lng},s.prototype.getNorth=function(){return this._ne.lat},s.prototype.toArray=function(){return[this._sw.toArray(),this._ne.toArray()]},s.prototype.toString=function(){return"LngLatBounds("+this._sw.toString()+", "+this._ne.toString()+")"},s.convert=function(t){return!t||t instanceof s?t:new s(t)},e.exports=s},{"./lng_lat":68}],70:[function(t,e,i){"use strict";var n=t("./lng_lat"),v=t("@mapbox/point-geometry"),c=t("./coordinate"),o=t("../util/util"),p=t("../style-spec/util/interpolate"),a=t("../source/tile_coord"),r=t("../data/extent"),s=t("@mapbox/gl-matrix"),d=s.vec4,l=s.mat4,u=s.mat2,h=function(t,e,i){this.tileSize=512,this._renderWorldCopies=void 0===i||i,this._minZoom=t||0,this._maxZoom=e||22,this.latRange=[-85.05113,85.05113],this.width=0,this.height=0,this._center=new n(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0},f={minZoom:{},maxZoom:{},renderWorldCopies:{},worldSize:{},centerPoint:{},size:{},bearing:{},pitch:{},fov:{},zoom:{},center:{},unmodified:{},x:{},y:{},point:{}};f.minZoom.get=function(){return this._minZoom},f.minZoom.set=function(t){this._minZoom!==t&&(this._minZoom=t,this.zoom=Math.max(this.zoom,t))},f.maxZoom.get=function(){return this._maxZoom},f.maxZoom.set=function(t){this._maxZoom!==t&&(this._maxZoom=t,this.zoom=Math.min(this.zoom,t))},f.renderWorldCopies.get=function(){return this._renderWorldCopies},f.worldSize.get=function(){return this.tileSize*this.scale},f.centerPoint.get=function(){return this.size._div(2)},f.size.get=function(){return new v(this.width,this.height)},f.bearing.get=function(){return-this.angle/Math.PI*180},f.bearing.set=function(t){var e=-o.wrap(t,-180,180)*Math.PI/180;this.angle!==e&&(this._unmodified=!1,this.angle=e,this._calcMatrices(),this.rotationMatrix=u.create(),u.rotate(this.rotationMatrix,this.rotationMatrix,this.angle))},f.pitch.get=function(){return this._pitch/Math.PI*180},f.pitch.set=function(t){var e=o.clamp(t,0,60)/180*Math.PI;this._pitch!==e&&(this._unmodified=!1,this._pitch=e,this._calcMatrices())},f.fov.get=function(){return this._fov/Math.PI*180},f.fov.set=function(t){t=Math.max(.01,Math.min(60,t)),this._fov!==t&&(this._unmodified=!1,this._fov=t/180*Math.PI,this._calcMatrices())},f.zoom.get=function(){return this._zoom},f.zoom.set=function(t){var e=Math.min(Math.max(t,this.minZoom),this.maxZoom);this._zoom!==e&&(this._unmodified=!1,this._zoom=e,this.scale=this.zoomScale(e),this.tileZoom=Math.floor(e),this.zoomFraction=e-this.tileZoom,this._constrain(),this._calcMatrices())},f.center.get=function(){return this._center},f.center.set=function(t){t.lat===this._center.lat&&t.lng===this._center.lng||(this._unmodified=!1,this._center=t,this._constrain(),this._calcMatrices())},h.prototype.coveringZoomLevel=function(t){return(t.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/t.tileSize))},h.prototype.getVisibleWrappedCoordinates=function(t){for(var e=this.pointCoordinate(new v(0,0),0),i=this.pointCoordinate(new v(this.width,0),0),n=Math.floor(e.column),o=Math.floor(i.column),r=[t],s=n;s<=o;s++)0!==s&&r.push(new a(t.z,t.x,t.y,s));return r},h.prototype.coveringTiles=function(t){var e=this.coveringZoomLevel(t),i=e;if(void 0!==t.minzoom&&e<t.minzoom)return[];void 0!==t.maxzoom&&e>t.maxzoom&&(e=t.maxzoom);var n=this.pointCoordinate(this.centerPoint,e),o=new v(n.column-.5,n.row-.5),r=[this.pointCoordinate(new v(0,0),e),this.pointCoordinate(new v(this.width,0),e),this.pointCoordinate(new v(this.width,this.height),e),this.pointCoordinate(new v(0,this.height),e)];return a.cover(e,r,t.reparseOverscaled?i:e,this._renderWorldCopies).sort(function(t,e){return o.dist(t)-o.dist(e)})},h.prototype.resize=function(t,e){this.width=t,this.height=e,this.pixelsToGLUnits=[2/t,-2/e],this._constrain(),this._calcMatrices()},f.unmodified.get=function(){return this._unmodified},h.prototype.zoomScale=function(t){return Math.pow(2,t)},h.prototype.scaleZoom=function(t){return Math.log(t)/Math.LN2},h.prototype.project=function(t){return new v(this.lngX(t.lng),this.latY(t.lat))},h.prototype.unproject=function(t){return new n(this.xLng(t.x),this.yLat(t.y))},f.x.get=function(){return this.lngX(this.center.lng)},f.y.get=function(){return this.latY(this.center.lat)},f.point.get=function(){return new v(this.x,this.y)},h.prototype.lngX=function(t){return(180+t)*this.worldSize/360},h.prototype.latY=function(t){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+t*Math.PI/360)))*this.worldSize/360},h.prototype.xLng=function(t){return 360*t/this.worldSize-180},h.prototype.yLat=function(t){var e=180-360*t/this.worldSize;return 360/Math.PI*Math.atan(Math.exp(e*Math.PI/180))-90},h.prototype.setLocationAtPoint=function(t,e){var i=this.pointCoordinate(e)._sub(this.pointCoordinate(this.centerPoint));this.center=this.coordinateLocation(this.locationCoordinate(t)._sub(i)),this._renderWorldCopies&&(this.center=this.center.wrap())},h.prototype.locationPoint=function(t){return this.coordinatePoint(this.locationCoordinate(t))},h.prototype.pointLocation=function(t){return this.coordinateLocation(this.pointCoordinate(t))},h.prototype.locationCoordinate=function(t){return new c(this.lngX(t.lng)/this.tileSize,this.latY(t.lat)/this.tileSize,this.zoom).zoomTo(this.tileZoom)},h.prototype.coordinateLocation=function(t){var e=t.zoomTo(this.zoom);return new n(this.xLng(e.column*this.tileSize),this.yLat(e.row*this.tileSize))},h.prototype.pointCoordinate=function(t,e){void 0===e&&(e=this.tileZoom);var i=[t.x,t.y,0,1],n=[t.x,t.y,1,1];d.transformMat4(i,i,this.pixelMatrixInverse),d.transformMat4(n,n,this.pixelMatrixInverse);var o=i[3],r=n[3],s=i[1]/o,a=n[1]/r,l=i[2]/o,u=n[2]/r,h=l===u?0:(0-l)/(u-l);return new c(p(i[0]/o,n[0]/r,h)/this.tileSize,p(s,a,h)/this.tileSize,this.zoom)._zoomTo(e)},h.prototype.coordinatePoint=function(t){var e=t.zoomTo(this.zoom),i=[e.column*this.tileSize,e.row*this.tileSize,0,1];return d.transformMat4(i,i,this.pixelMatrix),new v(i[0]/i[3],i[1]/i[3])},h.prototype.calculatePosMatrix=function(t,e){var i=t.toCoordinate(e),n=this.worldSize/this.zoomScale(i.zoom),o=l.identity(new Float64Array(16));return l.translate(o,o,[i.column*n,i.row*n,0]),l.scale(o,o,[n/r,n/r,1]),l.multiply(o,this.projMatrix,o),new Float32Array(o)},h.prototype.cameraToTileDistance=function(t){var e=this.calculatePosMatrix(t.coord,t.sourceMaxZoom),i=[t.tileSize/2,t.tileSize/2,0,1];return d.transformMat4(i,i,e),i[3]},h.prototype._constrain=function(){if(this.center&&this.width&&this.height&&!this._constraining){this._constraining=!0;var t,e,i,n,o=-90,r=90,s=-180,a=180,l=this.size,u=this._unmodified;if(this.latRange){var h=this.latRange;o=this.latY(h[1]),t=(r=this.latY(h[0]))-o<l.y?l.y/(r-o):0}if(this.lngRange){var c=this.lngRange;s=this.lngX(c[0]),e=(a=this.lngX(c[1]))-s<l.x?l.x/(a-s):0}var p=Math.max(e||0,t||0);if(p)return this.center=this.unproject(new v(e?(a+s)/2:this.x,t?(r+o)/2:this.y)),this.zoom+=this.scaleZoom(p),this._unmodified=u,void(this._constraining=!1);if(this.latRange){var d=this.y,f=l.y/2;d-f<o&&(n=o+f),r<d+f&&(n=r-f)}if(this.lngRange){var m=this.x,g=l.x/2;m-g<s&&(i=s+g),a<m+g&&(i=a-g)}void 0===i&&void 0===n||(this.center=this.unproject(new v(void 0!==i?i:this.x,void 0!==n?n:this.y))),this._unmodified=u,this._constraining=!1}},h.prototype._calcMatrices=function(){if(this.height){this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height;var t=this._fov/2,e=Math.PI/2+this._pitch,i=Math.sin(t)*this.cameraToCenterDistance/Math.sin(Math.PI-e-t),n=1.01*(Math.cos(Math.PI/2-this._pitch)*i+this.cameraToCenterDistance),o=new Float64Array(16);l.perspective(o,this._fov,this.width/this.height,1,n),l.scale(o,o,[1,-1,1]),l.translate(o,o,[0,0,-this.cameraToCenterDistance]),l.rotateX(o,o,this._pitch),l.rotateZ(o,o,this.angle),l.translate(o,o,[-this.x,-this.y,0]);var r=this.worldSize/(2*Math.PI*6378137*Math.abs(Math.cos(this.center.lat*(Math.PI/180))));if(l.scale(o,o,[1,1,r,1]),this.projMatrix=o,o=l.create(),l.scale(o,o,[this.width/2,-this.height/2,1]),l.translate(o,o,[1,-1,0]),this.pixelMatrix=l.multiply(new Float64Array(16),o,this.projMatrix),!(o=l.invert(new Float64Array(16),this.pixelMatrix)))throw new Error("failed to invert matrix");this.pixelMatrixInverse=o}},Object.defineProperties(h.prototype,f),e.exports=h},{"../data/extent":58,"../source/tile_coord":113,"../style-spec/util/interpolate":152,"../util/util":252,"./coordinate":67,"./lng_lat":68,"@mapbox/gl-matrix":1,"@mapbox/point-geometry":2}],71:[function(t,e,i){"use strict";var n=function(t,e){this.gl=t,this.buffer=t.createBuffer(),void 0===t.extVertexArrayObject&&(t.extVertexArrayObject=t.getExtension("OES_vertex_array_object")),t.extVertexArrayObject&&t.extVertexArrayObject.bindVertexArrayOES(null),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.buffer),t.bufferData(t.ELEMENT_ARRAY_BUFFER,e.arrayBuffer,t.STATIC_DRAW),delete e.arrayBuffer};n.prototype.bind=function(){this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.buffer)},n.prototype.destroy=function(){this.buffer&&(this.gl.deleteBuffer(this.buffer),delete this.buffer)},e.exports=n},{}],72:[function(t,e,i){"use strict";var s={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"},n=function(t,e,i){this.length=e.length,this.attributes=e.members,this.itemSize=e.bytesPerElement,this.dynamicDraw=i,this.gl=t,this.buffer=t.createBuffer(),this.gl.bindBuffer(t.ARRAY_BUFFER,this.buffer),this.gl.bufferData(t.ARRAY_BUFFER,e.arrayBuffer,this.dynamicDraw?t.DYNAMIC_DRAW:t.STATIC_DRAW),this.dynamicDraw||delete e.arrayBuffer};n.prototype.bind=function(){this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.buffer)},n.prototype.updateData=function(t){this.bind(),this.gl.bufferSubData(this.gl.ARRAY_BUFFER,0,t.arrayBuffer)},n.prototype.enableAttributes=function(t,e){for(var i=0;i<this.attributes.length;i++){var n=this.attributes[i],o=e.attributes[n.name];void 0!==o&&t.enableVertexAttribArray(o)}},n.prototype.setVertexAttribPointers=function(t,e,i){for(var n=0;n<this.attributes.length;n++){var o=this.attributes[n],r=e.attributes[o.name];void 0!==r&&t.vertexAttribPointer(r,o.components,t[s[o.type]],!1,this.itemSize,o.offset+this.itemSize*(i||0))}},n.prototype.destroy=function(){this.buffer&&(this.gl.deleteBuffer(this.buffer),delete this.buffer)},e.exports=n},{}],73:[function(t,e,i){"use strict";var n=t("mapbox-gl-supported"),o=t("./util/browser"),r=t("../package.json").version,s=t("./ui/map"),a=t("./ui/control/navigation_control"),l=t("./ui/control/geolocate_control"),u=t("./ui/control/attribution_control"),h=t("./ui/control/scale_control"),c=t("./ui/control/fullscreen_control"),p=t("./ui/popup"),d=t("./ui/marker"),f=t("./style/style"),m=t("./geo/lng_lat"),g=t("./geo/lng_lat_bounds"),v=t("@mapbox/point-geometry"),y=t("./util/evented"),_=t("./util/config"),b=t("./source/rtl_text_plugin");e.exports={version:r,supported:n,workerCount:Math.max(Math.floor(o.hardwareConcurrency/2),1),setRTLTextPlugin:b.setRTLTextPlugin,Map:s,NavigationControl:a,GeolocateControl:l,AttributionControl:u,ScaleControl:h,FullscreenControl:c,Popup:p,Marker:d,Style:f,LngLat:m,LngLatBounds:g,Point:v,Evented:y,config:_,get accessToken(){return _.ACCESS_TOKEN},set accessToken(t){_.ACCESS_TOKEN=t}}},{"../package.json":50,"./geo/lng_lat":68,"./geo/lng_lat_bounds":69,"./source/rtl_text_plugin":108,"./style/style":182,"./ui/control/attribution_control":211,"./ui/control/fullscreen_control":212,"./ui/control/geolocate_control":213,"./ui/control/navigation_control":215,"./ui/control/scale_control":216,"./ui/map":226,"./ui/marker":227,"./ui/popup":228,"./util/browser":231,"./util/config":235,"./util/evented":239,"@mapbox/point-geometry":2,"mapbox-gl-supported":37}],74:[function(t,e,i){"use strict";var f=t("./pattern");e.exports=function(t,e,i){if(!i.isOpacityZero(t.transform.zoom)){var n=t.gl,o=t.transform,r=o.tileSize,s=i.paint["background-color"],a=i.paint["background-pattern"],l=i.paint["background-opacity"],u=a||1!==s[3]||1!==l?"translucent":"opaque";if(t.renderPass===u){var h;if(n.disable(n.STENCIL_TEST),t.setDepthSublayer(0),a){if(f.isPatternMissing(a,t))return;h=t.useProgram("fillPattern",t.basicFillProgramConfiguration),f.prepare(a,t,h),t.tileExtentPatternVAO.bind(n,h,t.tileExtentBuffer)}else h=t.useProgram("fill",t.basicFillProgramConfiguration),n.uniform4fv(h.uniforms.u_color,s),t.tileExtentVAO.bind(n,h,t.tileExtentBuffer);n.uniform1f(h.uniforms.u_opacity,l);for(var c=0,p=o.coveringTiles({tileSize:r});c<p.length;c+=1){var d=p[c];a&&f.setTile({coord:d,tileSize:r},t,h),n.uniformMatrix4fv(h.uniforms.u_matrix,!1,t.transform.calculatePosMatrix(d)),n.drawArrays(n.TRIANGLE_STRIP,0,t.tileExtentBuffer.length)}}}}},{"./pattern":91}],75:[function(t,e,i){"use strict";var p=t("../source/pixels_to_tile_units");e.exports=function(t,e,i,n){if("translucent"===t.renderPass&&!i.isOpacityZero(t.transform.zoom)){var o=t.gl;t.setDepthSublayer(0),t.depthMask(!1),o.disable(o.STENCIL_TEST);for(var r=0;r<n.length;r++){var s=n[r],a=e.getTile(s),l=a.getBucket(i);if(l){var u=l.programConfigurations.get(i.id),h=t.useProgram("circle",u);if(u.setUniforms(o,h,i,{zoom:t.transform.zoom}),o.uniform1f(h.uniforms.u_camera_to_center_distance,t.transform.cameraToCenterDistance),o.uniform1i(h.uniforms.u_scale_with_map,"map"===i.paint["circle-pitch-scale"]?1:0),"map"===i.paint["circle-pitch-alignment"]){o.uniform1i(h.uniforms.u_pitch_with_map,1);var c=p(a,1,t.transform.zoom);o.uniform2f(h.uniforms.u_extrude_scale,c,c)}else o.uniform1i(h.uniforms.u_pitch_with_map,0),o.uniform2fv(h.uniforms.u_extrude_scale,t.transform.pixelsToGLUnits);o.uniformMatrix4fv(h.uniforms.u_matrix,!1,t.translatePosMatrix(s.posMatrix,a,i.paint["circle-translate"],i.paint["circle-translate-anchor"])),h.draw(o,o.TRIANGLES,i.id,l.layoutVertexBuffer,l.indexBuffer,l.segments,u)}}}}},{"../source/pixels_to_tile_units":105}],76:[function(t,e,i){"use strict";e.exports=function(t,e,i,n){var o=t.gl;o.enable(o.STENCIL_TEST);var r=t.useProgram("collisionBox");o.activeTexture(o.TEXTURE1),t.frameHistory.bind(o),o.uniform1i(r.uniforms.u_fadetexture,1);for(var s=0;s<n.length;s++){var a=n[s],l=e.getTile(a),u=l.getBucket(i);if(u){o.uniformMatrix4fv(r.uniforms.u_matrix,!1,a.posMatrix),t.enableTileClippingMask(a),t.lineWidth(1),o.uniform1f(r.uniforms.u_scale,Math.pow(2,t.transform.zoom-l.coord.z)),o.uniform1f(r.uniforms.u_zoom,10*t.transform.zoom);var h=Math.max(0,Math.min(25,l.coord.z+Math.log(l.collisionTile.maxScale)/Math.LN2));o.uniform1f(r.uniforms.u_maxzoom,10*h),o.uniform1f(r.uniforms.u_collision_y_stretch,l.collisionTile.yStretch),o.uniform1f(r.uniforms.u_pitch,t.transform.pitch/360*2*Math.PI),o.uniform1f(r.uniforms.u_camera_to_center_distance,t.transform.cameraToCenterDistance),r.draw(o,o.LINES,i.id,u.collisionBox.layoutVertexBuffer,u.collisionBox.indexBuffer,u.collisionBox.segments)}}}},{}],77:[function(t,e,i){"use strict";function o(t,e,i){var n=t.gl;n.disable(n.STENCIL_TEST),t.lineWidth(1*m.devicePixelRatio);var o=i.posMatrix,r=t.useProgram("debug");n.uniformMatrix4fv(r.uniforms.u_matrix,!1,o),n.uniform4f(r.uniforms.u_color,1,0,0,1),t.debugVAO.bind(n,r,t.debugBuffer),n.drawArrays(n.LINE_STRIP,0,t.debugBuffer.length);for(var s=function(t,e,i,n){n=n||1;var o,r,s,a,l,u,h,c,p=[];for(o=0,r=t.length;o<r;o++)if(l=x[t[o]]){for(c=null,s=0,a=l[1].length;s<a;s+=2)c=-1===l[1][s]&&-1===l[1][s+1]?null:(u=e+l[1][s]*n,h=i-l[1][s+1]*n,c&&p.push(c.x,c.y,u,h),{x:u,y:h});e+=l[0]*n}return p}(i.toString(),50,200,5),a=new b,l=0;l<s.length;l+=2)a.emplaceBack(s[l],s[l+1]);var u=new y(n,a);(new _).bind(n,r,u),n.uniform4f(r.uniforms.u_color,1,1,1,1);for(var h=e.getTile(i).tileSize,c=v/(Math.pow(2,t.transform.zoom-i.z)*h),p=[[-1,-1],[-1,1],[1,-1],[1,1]],d=0;d<p.length;d++){var f=p[d];n.uniformMatrix4fv(r.uniforms.u_matrix,!1,g.translate([],o,[c*f[0],c*f[1],0])),n.drawArrays(n.LINES,0,u.length)}n.uniform4f(r.uniforms.u_color,0,0,0,1),n.uniformMatrix4fv(r.uniforms.u_matrix,!1,o),n.drawArrays(n.LINES,0,u.length)}var m=t("../util/browser"),g=t("@mapbox/gl-matrix").mat4,v=t("../data/extent"),y=t("../gl/vertex_buffer"),_=t("./vertex_array_object"),b=t("../data/pos_array");e.exports=function(t,e,i){for(var n=0;n<i.length;n++)o(t,e,i[n])};var x={" ":[16,[]],"!":[10,[5,21,5,7,-1,-1,5,2,4,1,5,0,6,1,5,2]],'"':[16,[4,21,4,14,-1,-1,12,21,12,14]],"#":[21,[11,25,4,-7,-1,-1,17,25,10,-7,-1,-1,4,12,18,12,-1,-1,3,6,17,6]],$:[20,[8,25,8,-4,-1,-1,12,25,12,-4,-1,-1,17,18,15,20,12,21,8,21,5,20,3,18,3,16,4,14,5,13,7,12,13,10,15,9,16,8,17,6,17,3,15,1,12,0,8,0,5,1,3,3]],"%":[24,[21,21,3,0,-1,-1,8,21,10,19,10,17,9,15,7,14,5,14,3,16,3,18,4,20,6,21,8,21,10,20,13,19,16,19,19,20,21,21,-1,-1,17,7,15,6,14,4,14,2,16,0,18,0,20,1,21,3,21,5,19,7,17,7]],"&":[26,[23,12,23,13,22,14,21,14,20,13,19,11,17,6,15,3,13,1,11,0,7,0,5,1,4,2,3,4,3,6,4,8,5,9,12,13,13,14,14,16,14,18,13,20,11,21,9,20,8,18,8,16,9,13,11,10,16,3,18,1,20,0,22,0,23,1,23,2]],"'":[10,[5,19,4,20,5,21,6,20,6,18,5,16,4,15]],"(":[14,[11,25,9,23,7,20,5,16,4,11,4,7,5,2,7,-2,9,-5,11,-7]],")":[14,[3,25,5,23,7,20,9,16,10,11,10,7,9,2,7,-2,5,-5,3,-7]],"*":[16,[8,21,8,9,-1,-1,3,18,13,12,-1,-1,13,18,3,12]],"+":[26,[13,18,13,0,-1,-1,4,9,22,9]],",":[10,[6,1,5,0,4,1,5,2,6,1,6,-1,5,-3,4,-4]],"-":[26,[4,9,22,9]],".":[10,[5,2,4,1,5,0,6,1,5,2]],"/":[22,[20,25,2,-7]],0:[20,[9,21,6,20,4,17,3,12,3,9,4,4,6,1,9,0,11,0,14,1,16,4,17,9,17,12,16,17,14,20,11,21,9,21]],1:[20,[6,17,8,18,11,21,11,0]],2:[20,[4,16,4,17,5,19,6,20,8,21,12,21,14,20,15,19,16,17,16,15,15,13,13,10,3,0,17,0]],3:[20,[5,21,16,21,10,13,13,13,15,12,16,11,17,8,17,6,16,3,14,1,11,0,8,0,5,1,4,2,3,4]],4:[20,[13,21,3,7,18,7,-1,-1,13,21,13,0]],5:[20,[15,21,5,21,4,12,5,13,8,14,11,14,14,13,16,11,17,8,17,6,16,3,14,1,11,0,8,0,5,1,4,2,3,4]],6:[20,[16,18,15,20,12,21,10,21,7,20,5,17,4,12,4,7,5,3,7,1,10,0,11,0,14,1,16,3,17,6,17,7,16,10,14,12,11,13,10,13,7,12,5,10,4,7]],7:[20,[17,21,7,0,-1,-1,3,21,17,21]],8:[20,[8,21,5,20,4,18,4,16,5,14,7,13,11,12,14,11,16,9,17,7,17,4,16,2,15,1,12,0,8,0,5,1,4,2,3,4,3,7,4,9,6,11,9,12,13,13,15,14,16,16,16,18,15,20,12,21,8,21]],9:[20,[16,14,15,11,13,9,10,8,9,8,6,9,4,11,3,14,3,15,4,18,6,20,9,21,10,21,13,20,15,18,16,14,16,9,15,4,13,1,10,0,8,0,5,1,4,3]],":":[10,[5,14,4,13,5,12,6,13,5,14,-1,-1,5,2,4,1,5,0,6,1,5,2]],";":[10,[5,14,4,13,5,12,6,13,5,14,-1,-1,6,1,5,0,4,1,5,2,6,1,6,-1,5,-3,4,-4]],"<":[24,[20,18,4,9,20,0]],"=":[26,[4,12,22,12,-1,-1,4,6,22,6]],">":[24,[4,18,20,9,4,0]],"?":[18,[3,16,3,17,4,19,5,20,7,21,11,21,13,20,14,19,15,17,15,15,14,13,13,12,9,10,9,7,-1,-1,9,2,8,1,9,0,10,1,9,2]],"@":[27,[18,13,17,15,15,16,12,16,10,15,9,14,8,11,8,8,9,6,11,5,14,5,16,6,17,8,-1,-1,12,16,10,14,9,11,9,8,10,6,11,5,-1,-1,18,16,17,8,17,6,19,5,21,5,23,7,24,10,24,12,23,15,22,17,20,19,18,20,15,21,12,21,9,20,7,19,5,17,4,15,3,12,3,9,4,6,5,4,7,2,9,1,12,0,15,0,18,1,20,2,21,3,-1,-1,19,16,18,8,18,6,19,5]],A:[18,[9,21,1,0,-1,-1,9,21,17,0,-1,-1,4,7,14,7]],B:[21,[4,21,4,0,-1,-1,4,21,13,21,16,20,17,19,18,17,18,15,17,13,16,12,13,11,-1,-1,4,11,13,11,16,10,17,9,18,7,18,4,17,2,16,1,13,0,4,0]],C:[21,[18,16,17,18,15,20,13,21,9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5]],D:[21,[4,21,4,0,-1,-1,4,21,11,21,14,20,16,18,17,16,18,13,18,8,17,5,16,3,14,1,11,0,4,0]],E:[19,[4,21,4,0,-1,-1,4,21,17,21,-1,-1,4,11,12,11,-1,-1,4,0,17,0]],F:[18,[4,21,4,0,-1,-1,4,21,17,21,-1,-1,4,11,12,11]],G:[21,[18,16,17,18,15,20,13,21,9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,18,8,-1,-1,13,8,18,8]],H:[22,[4,21,4,0,-1,-1,18,21,18,0,-1,-1,4,11,18,11]],I:[8,[4,21,4,0]],J:[16,[12,21,12,5,11,2,10,1,8,0,6,0,4,1,3,2,2,5,2,7]],K:[21,[4,21,4,0,-1,-1,18,21,4,7,-1,-1,9,12,18,0]],L:[17,[4,21,4,0,-1,-1,4,0,16,0]],M:[24,[4,21,4,0,-1,-1,4,21,12,0,-1,-1,20,21,12,0,-1,-1,20,21,20,0]],N:[22,[4,21,4,0,-1,-1,4,21,18,0,-1,-1,18,21,18,0]],O:[22,[9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,19,8,19,13,18,16,17,18,15,20,13,21,9,21]],P:[21,[4,21,4,0,-1,-1,4,21,13,21,16,20,17,19,18,17,18,14,17,12,16,11,13,10,4,10]],Q:[22,[9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,19,8,19,13,18,16,17,18,15,20,13,21,9,21,-1,-1,12,4,18,-2]],R:[21,[4,21,4,0,-1,-1,4,21,13,21,16,20,17,19,18,17,18,15,17,13,16,12,13,11,4,11,-1,-1,11,11,18,0]],S:[20,[17,18,15,20,12,21,8,21,5,20,3,18,3,16,4,14,5,13,7,12,13,10,15,9,16,8,17,6,17,3,15,1,12,0,8,0,5,1,3,3]],T:[16,[8,21,8,0,-1,-1,1,21,15,21]],U:[22,[4,21,4,6,5,3,7,1,10,0,12,0,15,1,17,3,18,6,18,21]],V:[18,[1,21,9,0,-1,-1,17,21,9,0]],W:[24,[2,21,7,0,-1,-1,12,21,7,0,-1,-1,12,21,17,0,-1,-1,22,21,17,0]],X:[20,[3,21,17,0,-1,-1,17,21,3,0]],Y:[18,[1,21,9,11,9,0,-1,-1,17,21,9,11]],Z:[20,[17,21,3,0,-1,-1,3,21,17,21,-1,-1,3,0,17,0]],"[":[14,[4,25,4,-7,-1,-1,5,25,5,-7,-1,-1,4,25,11,25,-1,-1,4,-7,11,-7]],"\\":[14,[0,21,14,-3]],"]":[14,[9,25,9,-7,-1,-1,10,25,10,-7,-1,-1,3,25,10,25,-1,-1,3,-7,10,-7]],"^":[16,[6,15,8,18,10,15,-1,-1,3,12,8,17,13,12,-1,-1,8,17,8,0]],_:[16,[0,-2,16,-2]],"`":[10,[6,21,5,20,4,18,4,16,5,15,6,16,5,17]],a:[19,[15,14,15,0,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],b:[19,[4,21,4,0,-1,-1,4,11,6,13,8,14,11,14,13,13,15,11,16,8,16,6,15,3,13,1,11,0,8,0,6,1,4,3]],c:[18,[15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],d:[19,[15,21,15,0,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],e:[18,[3,8,15,8,15,10,14,12,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],f:[12,[10,21,8,21,6,20,5,17,5,0,-1,-1,2,14,9,14]],g:[19,[15,14,15,-2,14,-5,13,-6,11,-7,8,-7,6,-6,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],h:[19,[4,21,4,0,-1,-1,4,10,7,13,9,14,12,14,14,13,15,10,15,0]],i:[8,[3,21,4,20,5,21,4,22,3,21,-1,-1,4,14,4,0]],j:[10,[5,21,6,20,7,21,6,22,5,21,-1,-1,6,14,6,-3,5,-6,3,-7,1,-7]],k:[17,[4,21,4,0,-1,-1,14,14,4,4,-1,-1,8,8,15,0]],l:[8,[4,21,4,0]],m:[30,[4,14,4,0,-1,-1,4,10,7,13,9,14,12,14,14,13,15,10,15,0,-1,-1,15,10,18,13,20,14,23,14,25,13,26,10,26,0]],n:[19,[4,14,4,0,-1,-1,4,10,7,13,9,14,12,14,14,13,15,10,15,0]],o:[19,[8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3,16,6,16,8,15,11,13,13,11,14,8,14]],p:[19,[4,14,4,-7,-1,-1,4,11,6,13,8,14,11,14,13,13,15,11,16,8,16,6,15,3,13,1,11,0,8,0,6,1,4,3]],q:[19,[15,14,15,-7,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],r:[13,[4,14,4,0,-1,-1,4,8,5,11,7,13,9,14,12,14]],s:[17,[14,11,13,13,10,14,7,14,4,13,3,11,4,9,6,8,11,7,13,6,14,4,14,3,13,1,10,0,7,0,4,1,3,3]],t:[12,[5,21,5,4,6,1,8,0,10,0,-1,-1,2,14,9,14]],u:[19,[4,14,4,4,5,1,7,0,10,0,12,1,15,4,-1,-1,15,14,15,0]],v:[16,[2,14,8,0,-1,-1,14,14,8,0]],w:[22,[3,14,7,0,-1,-1,11,14,7,0,-1,-1,11,14,15,0,-1,-1,19,14,15,0]],x:[17,[3,14,14,0,-1,-1,14,14,3,0]],y:[16,[2,14,8,0,-1,-1,14,14,8,0,6,-4,4,-6,2,-7,1,-7]],z:[17,[14,14,3,0,-1,-1,3,14,14,14,-1,-1,3,0,14,0]],"{":[14,[9,25,7,24,6,23,5,21,5,19,6,17,7,16,8,14,8,12,6,10,-1,-1,7,24,6,22,6,20,7,18,8,17,9,15,9,13,8,11,4,9,8,7,9,5,9,3,8,1,7,0,6,-2,6,-4,7,-6,-1,-1,6,8,8,6,8,4,7,2,6,1,5,-1,5,-3,6,-5,7,-6,9,-7]],"|":[8,[4,25,4,-7]],"}":[14,[5,25,7,24,8,23,9,21,9,19,8,17,7,16,6,14,6,12,8,10,-1,-1,7,24,8,22,8,20,7,18,6,17,5,15,5,13,6,11,10,9,6,7,5,5,5,3,6,1,7,0,8,-2,8,-4,7,-6,-1,-1,8,8,6,6,6,4,7,2,8,1,9,-1,9,-3,8,-5,7,-6,5,-7]],"~":[24,[3,6,3,8,4,11,6,12,8,12,10,11,14,8,16,7,18,7,20,8,21,10,-1,-1,3,8,4,10,6,11,8,11,10,10,14,7,16,6,18,6,20,7,21,10,21,12]]}},{"../data/extent":58,"../data/pos_array":62,"../gl/vertex_buffer":72,"../util/browser":231,"./vertex_array_object":96,"@mapbox/gl-matrix":1}],78:[function(t,e,i){"use strict";function s(t,e,i,n,o){if(!c.isPatternMissing(i.paint["fill-pattern"],t))for(var r=!0,s=0,a=n;s<a.length;s+=1){var l=a[s],u=e.getTile(l),h=u.getBucket(i);h&&(t.enableTileClippingMask(l),o(t,e,i,u,l,h,r),r=!1)}}function a(t,e,i,n,o,r,s){var a=t.gl,l=r.programConfigurations.get(i.id);h("fill",i.paint["fill-pattern"],t,l,i,n,o,s).draw(a,a.TRIANGLES,i.id,r.layoutVertexBuffer,r.indexBuffer,r.segments,l)}function l(t,e,i,n,o,r,s){var a=t.gl,l=r.programConfigurations.get(i.id),u=h("fillOutline",i.paint["fill-pattern"]&&!i.getPaintProperty("fill-outline-color"),t,l,i,n,o,s);a.uniform2f(u.uniforms.u_world,a.drawingBufferWidth,a.drawingBufferHeight),u.draw(a,a.LINES,i.id,r.layoutVertexBuffer,r.indexBuffer2,r.segments2,l)}function h(t,e,i,n,o,r,s,a){var l,u=i.currentProgram;return e?(l=i.useProgram(t+"Pattern",n),(a||l!==u)&&(n.setUniforms(i.gl,l,o,{zoom:i.transform.zoom}),c.prepare(o.paint["fill-pattern"],i,l)),c.setTile(r,i,l)):(l=i.useProgram(t,n),(a||l!==u)&&n.setUniforms(i.gl,l,o,{zoom:i.transform.zoom})),i.gl.uniformMatrix4fv(l.uniforms.u_matrix,!1,i.translatePosMatrix(s.posMatrix,r,o.paint["fill-translate"],o.paint["fill-translate-anchor"])),l}var c=t("./pattern");e.exports=function(t,e,i,n){if(!i.isOpacityZero(t.transform.zoom)){var o=t.gl;o.enable(o.STENCIL_TEST);var r=!i.paint["fill-pattern"]&&i.isPaintValueFeatureConstant("fill-color")&&i.isPaintValueFeatureConstant("fill-opacity")&&1===i.paint["fill-color"][3]&&1===i.paint["fill-opacity"]?"opaque":"translucent";t.renderPass===r&&(t.setDepthSublayer(1),t.depthMask("opaque"===t.renderPass),s(t,e,i,n,a)),"translucent"===t.renderPass&&i.paint["fill-antialias"]&&(t.lineWidth(2),t.depthMask(!1),t.setDepthSublayer(i.getPaintProperty("fill-outline-color")?2:0),s(t,e,i,n,l))}}},{"./pattern":91}],79:[function(t,e,i){"use strict";function s(t,e,i,n){var o,r,s,a,l,u,h,c=e.getTile(n),p=c.getBucket(i);if(p){var d=t.gl,f=i.paint["fill-extrusion-pattern"],m=p.programConfigurations.get(i.id),g=t.useProgram(f?"fillExtrusionPattern":"fillExtrusion",m);if(m.setUniforms(d,g,i,{zoom:t.transform.zoom}),f){if(v.isPatternMissing(f,t))return;v.prepare(f,t,g),v.setTile(c,t,g),d.uniform1f(g.uniforms.u_height_factor,-Math.pow(2,n.z)/c.tileSize/8)}t.gl.uniformMatrix4fv(g.uniforms.u_matrix,!1,t.translatePosMatrix(n.posMatrix,c,i.paint["fill-extrusion-translate"],i.paint["fill-extrusion-translate-anchor"])),o=g,s=(r=t).gl,a=r.style.light,l=a.calculated.position,u=[l.x,l.y,l.z],h=y.create(),"viewport"===a.calculated.anchor&&y.fromRotation(h,-r.transform.angle),_.transformMat3(u,u,h),s.uniform3fv(o.uniforms.u_lightpos,u),s.uniform1f(o.uniforms.u_lightintensity,a.calculated.intensity),s.uniform3fv(o.uniforms.u_lightcolor,a.calculated.color.slice(0,3)),g.draw(d,d.TRIANGLES,i.id,p.layoutVertexBuffer,p.indexBuffer,p.segments,m)}}var n=t("@mapbox/gl-matrix"),v=t("./pattern"),y=n.mat3,a=n.mat4,_=n.vec3;e.exports=function(t,e,i,n){if(!i.isOpacityZero(t.transform.zoom))if("3d"===t.renderPass){var o=t.gl;o.disable(o.STENCIL_TEST),o.enable(o.DEPTH_TEST),t.clearColor(),t.depthMask(!0);for(var r=0;r<n.length;r++)s(t,e,i,n[r])}else"translucent"===t.renderPass&&function(t,e){var i=e.viewportFrame;if(i){var n=t.gl,o=t.useProgram("extrusionTexture");n.disable(n.STENCIL_TEST),n.disable(n.DEPTH_TEST),n.activeTexture(n.TEXTURE0),n.bindTexture(n.TEXTURE_2D,i.texture),n.uniform1f(o.uniforms.u_opacity,e.paint["fill-extrusion-opacity"]),n.uniform1i(o.uniforms.u_image,0);var r=a.create();a.ortho(r,0,t.width,t.height,0,0,1),n.uniformMatrix4fv(o.uniforms.u_matrix,!1,r),n.uniform2f(o.uniforms.u_world,n.drawingBufferWidth,n.drawingBufferHeight),t.viewportVAO.bind(n,o,t.viewportBuffer),n.drawArrays(n.TRIANGLE_STRIP,0,4)}}(t,i)}},{"./pattern":91,"@mapbox/gl-matrix":1}],80:[function(t,e,i){"use strict";var p=t("@mapbox/gl-matrix").mat4,d=t("./texture"),f=t("../source/pixels_to_tile_units");e.exports=function(t,e,i,n){if(!t.isOpaquePass&&!i.isOpacityZero(t.transform.zoom)){var o=t.gl;t.setDepthSublayer(0),t.depthMask(!1),o.disable(o.STENCIL_TEST),function(t,e,i){t.activeTexture(t.TEXTURE1),t.viewport(0,0,e.width/4,e.height/4);var n=i.heatmapTexture,o=i.heatmapFbo;n?(t.bindTexture(t.TEXTURE_2D,n),t.bindFramebuffer(t.FRAMEBUFFER,o)):(n=i.heatmapTexture=t.createTexture(),t.bindTexture(t.TEXTURE_2D,n),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),o=i.heatmapFbo=t.createFramebuffer(),function t(e,i,n,o){e.texImage2D(e.TEXTURE_2D,0,e.RGBA,i.width/4,i.height/4,0,e.RGBA,i.extTextureHalfFloat?i.extTextureHalfFloat.HALF_FLOAT_OES:e.UNSIGNED_BYTE,null),e.bindFramebuffer(e.FRAMEBUFFER,o),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,n,0),i.extTextureHalfFloat&&e.checkFramebufferStatus(e.FRAMEBUFFER)!==e.FRAMEBUFFER_COMPLETE&&(i.extTextureHalfFloat=null,t(e,i,n,o))}(t,e,n,o))}(o,t,i),o.clearColor(0,0,0,0),o.clear(o.COLOR_BUFFER_BIT),o.blendFunc(o.ONE,o.ONE);for(var r=0;r<n.length;r++){var s=n[r];if(!e.hasRenderableParent(s)){var a=e.getTile(s),l=a.getBucket(i);if(l){var u=l.programConfigurations.get(i.id),h=t.useProgram("heatmap",u),c=t.transform.zoom;u.setUniforms(o,h,i,{zoom:c}),o.uniform1f(h.uniforms.u_radius,i.getPaintValue("heatmap-radius",{zoom:c})),o.uniform1f(h.uniforms.u_extrude_scale,f(a,1,c)),o.uniform1f(h.uniforms.u_intensity,i.getPaintValue("heatmap-intensity",{zoom:c})),o.uniformMatrix4fv(h.uniforms.u_matrix,!1,s.posMatrix),h.draw(o,o.TRIANGLES,i.id,l.layoutVertexBuffer,l.indexBuffer,l.segments,u)}}}!function(t,e,i){t.bindFramebuffer(t.FRAMEBUFFER,null),t.activeTexture(t.TEXTURE2);var n=i.colorRampTexture;n||(n=i.colorRampTexture=new d(t,i.colorRamp,t.RGBA)),n.bind(t.LINEAR,t.CLAMP_TO_EDGE),t.blendFunc(t.ONE,t.ONE_MINUS_SRC_ALPHA);var o=e.useProgram("heatmapTexture");t.viewport(0,0,e.width,e.height),t.activeTexture(t.TEXTURE0),t.bindTexture(t.TEXTURE_2D,i.heatmapTexture);var r=i.getPaintValue("heatmap-opacity",{zoom:e.transform.zoom});t.uniform1f(o.uniforms.u_opacity,r),t.uniform1i(o.uniforms.u_image,1),t.uniform1i(o.uniforms.u_color_ramp,2);var s=p.create();p.ortho(s,0,e.width,e.height,0,0,1),t.uniformMatrix4fv(o.uniforms.u_matrix,!1,s),t.disable(t.DEPTH_TEST),t.uniform2f(o.uniforms.u_world,t.drawingBufferWidth,t.drawingBufferHeight),e.viewportVAO.bind(t,o,e.viewportBuffer),t.drawArrays(t.TRIANGLE_STRIP,0,4),t.enable(t.DEPTH_TEST)}(o,t,i)}}},{"../source/pixels_to_tile_units":105,"./texture":94,"@mapbox/gl-matrix":1}],81:[function(t,e,i){"use strict";function y(t,e,i,n,o,r,s,a,l){var u,h,c,p,d=e.gl,f=o.paint["line-dasharray"],m=o.paint["line-pattern"];if(a||l){var g=1/k(i,1,e.transform.tileZoom);if(f){u=e.lineAtlas.getDash(f.from,"round"===o.layout["line-cap"]),h=e.lineAtlas.getDash(f.to,"round"===o.layout["line-cap"]);var v=u.width*f.fromScale,y=h.width*f.toScale;d.uniform2f(t.uniforms.u_patternscale_a,g/v,-u.height/2),d.uniform2f(t.uniforms.u_patternscale_b,g/y,-h.height/2),d.uniform1f(t.uniforms.u_sdfgamma,e.lineAtlas.width/(256*Math.min(v,y)*T.devicePixelRatio)/2)}else if(m){if(c=e.imageManager.getPattern(m.from),p=e.imageManager.getPattern(m.to),!c||!p)return;d.uniform2f(t.uniforms.u_pattern_size_a,c.displaySize[0]*m.fromScale/g,p.displaySize[1]),d.uniform2f(t.uniforms.u_pattern_size_b,p.displaySize[0]*m.toScale/g,p.displaySize[1]);var _=e.imageManager.getPixelSize(),b=_.width,x=_.height;d.uniform2fv(t.uniforms.u_texsize,[b,x])}d.uniform2f(t.uniforms.u_gl_units_to_pixels,1/e.transform.pixelsToGLUnits[0],1/e.transform.pixelsToGLUnits[1])}a&&(f?(d.uniform1i(t.uniforms.u_image,0),d.activeTexture(d.TEXTURE0),e.lineAtlas.bind(d),d.uniform1f(t.uniforms.u_tex_y_a,u.y),d.uniform1f(t.uniforms.u_tex_y_b,h.y),d.uniform1f(t.uniforms.u_mix,f.t)):m&&(d.uniform1i(t.uniforms.u_image,0),d.activeTexture(d.TEXTURE0),e.imageManager.bind(d),d.uniform2fv(t.uniforms.u_pattern_tl_a,c.tl),d.uniform2fv(t.uniforms.u_pattern_br_a,c.br),d.uniform2fv(t.uniforms.u_pattern_tl_b,p.tl),d.uniform2fv(t.uniforms.u_pattern_br_b,p.br),d.uniform1f(t.uniforms.u_fade,m.t))),e.enableTileClippingMask(r);var w=e.translatePosMatrix(r.posMatrix,i,o.paint["line-translate"],o.paint["line-translate-anchor"]);d.uniformMatrix4fv(t.uniforms.u_matrix,!1,w),d.uniform1f(t.uniforms.u_ratio,1/k(i,1,e.transform.zoom)),t.draw(d,d.TRIANGLES,o.id,n.layoutVertexBuffer,n.indexBuffer,n.segments,s)}var T=t("../util/browser"),k=t("../source/pixels_to_tile_units");e.exports=function(t,e,i,n){if("translucent"===t.renderPass&&!i.isOpacityZero(t.transform.zoom)){t.setDepthSublayer(0),t.depthMask(!1);var o=t.gl;if(o.enable(o.STENCIL_TEST),!(i.paint["line-width"]<=0))for(var r,s=i.paint["line-dasharray"]?"lineSDF":i.paint["line-pattern"]?"linePattern":"line",a=!0,l=0,u=n;l<u.length;l+=1){var h=u[l],c=e.getTile(h),p=c.getBucket(i);if(p){var d=p.programConfigurations.get(i.id),f=t.currentProgram,m=t.useProgram(s,d),g=a||m!==f,v=r!==c.coord.z;g&&d.setUniforms(t.gl,m,i,{zoom:t.transform.zoom}),y(m,t,c,p,i,h,d,g,v),r=c.coord.z,a=!1}}}}},{"../source/pixels_to_tile_units":105,"../util/browser":231}],82:[function(t,e,i){"use strict";function x(t,e,i,n,o){var r=n.paint["raster-fade-duration"];if(0<r){var s=Date.now(),a=(s-t.timeAdded)/r,l=e?(s-e.timeAdded)/r:-1,u=i.getSource(),h=o.coveringZoomLevel({tileSize:u.tileSize,roundZoom:u.roundZoom}),c=!e||Math.abs(e.coord.z-h)>Math.abs(t.coord.z-h),p=c&&t.refreshedUponExpiration?1:d.clamp(c?a:1-l,0,1);return t.refreshedUponExpiration&&1<=a&&(t.refreshedUponExpiration=!1),e?{opacity:1,mix:1-p}:{opacity:p,mix:0}}return{opacity:1,mix:0}}var d=t("../util/util"),w=t("../source/image_source");e.exports=function(t,e,i,n){if("translucent"===t.renderPass&&!i.isOpacityZero(t.transform.zoom)){var o=t.gl,r=e.getSource(),s=t.useProgram("raster");o.disable(o.DEPTH_TEST),t.depthMask(!1),o.disable(o.STENCIL_TEST),o.uniform1f(s.uniforms.u_brightness_low,i.paint["raster-brightness-min"]),o.uniform1f(s.uniforms.u_brightness_high,i.paint["raster-brightness-max"]),o.uniform1f(s.uniforms.u_saturation_factor,0<(b=i.paint["raster-saturation"])?1-1/(1.001-b):-b),o.uniform1f(s.uniforms.u_contrast_factor,0<(_=i.paint["raster-contrast"])?1/(1-_):1+_),o.uniform3fv(s.uniforms.u_spin_weights,function(t){t*=Math.PI/180;var e=Math.sin(t),i=Math.cos(t);return[(2*i+1)/3,(-Math.sqrt(3)*e-i+1)/3,(Math.sqrt(3)*e-i+1)/3]}(i.paint["raster-hue-rotate"])),o.uniform1f(s.uniforms.u_buffer_scale,1),o.uniform1i(s.uniforms.u_image0,0),o.uniform1i(s.uniforms.u_image1,1);for(var a=n.length&&n[0].z,l=0,u=n;l<u.length;l+=1){var h=u[l];t.setDepthSublayer(h.z-a);var c=e.getTile(h),p=t.transform.calculatePosMatrix(h,e.getSource().maxzoom);c.registerFadeDuration(t.style.animationLoop,i.paint["raster-fade-duration"]),o.uniformMatrix4fv(s.uniforms.u_matrix,!1,p);var d=e.findLoadedParent(h,0,{}),f=x(c,d,e,i,t.transform),m=void 0,g=void 0;if(o.activeTexture(o.TEXTURE0),c.texture.bind(o.LINEAR,o.CLAMP_TO_EDGE,o.LINEAR_MIPMAP_NEAREST),o.activeTexture(o.TEXTURE1),d?(d.texture.bind(o.LINEAR,o.CLAMP_TO_EDGE,o.LINEAR_MIPMAP_NEAREST),m=Math.pow(2,d.coord.z-c.coord.z),g=[c.coord.x*m%1,c.coord.y*m%1]):c.texture.bind(o.LINEAR,o.CLAMP_TO_EDGE,o.LINEAR_MIPMAP_NEAREST),o.uniform2fv(s.uniforms.u_tl_parent,g||[0,0]),o.uniform1f(s.uniforms.u_scale_parent,m||1),o.uniform1f(s.uniforms.u_fade_t,f.mix),o.uniform1f(s.uniforms.u_opacity,f.opacity*i.paint["raster-opacity"]),r instanceof w){var v=r.boundsBuffer;r.boundsVAO.bind(o,s,v),o.drawArrays(o.TRIANGLE_STRIP,0,v.length)}else if(c.maskedBoundsBuffer&&c.maskedIndexBuffer&&c.segments)s.draw(o,o.TRIANGLES,i.id,c.maskedBoundsBuffer,c.maskedIndexBuffer,c.segments);else{var y=t.rasterBoundsBuffer;t.rasterBoundsVAO.bind(o,s,y),o.drawArrays(o.TRIANGLE_STRIP,0,y.length)}}o.depthFunc(o.LEQUAL)}var _,b}},{"../source/image_source":103,"../util/util":252}],83:[function(t,e,i){"use strict";function s(t,e,i,n,o,r,s,a,l,u){var h=t.gl,c=t.transform,p="map"===a,d="map"===l,f=p&&"line"===i.layout["symbol-placement"],m=p&&!d&&!f,g=d;g?h.enable(h.DEPTH_TEST):h.disable(h.DEPTH_TEST);for(var v,y=0,_=n;y<_.length;y+=1){var b=_[y],x=e.getTile(b),w=x.getBucket(i);if(w){var T=o?w.text:w.icon;if(T&&T.segments.get().length){var k=T.programConfigurations.get(i.id),C=o||w.sdfIcons,S=o?w.textSizeData:w.iconSizeData;if(v||(v=t.useProgram(C?"symbolSDF":"symbolIcon",k),k.setUniforms(h,v,i,{zoom:t.transform.zoom}),M(v,t,i,o,m,d,S)),h.activeTexture(h.TEXTURE0),h.uniform1i(v.uniforms.u_texture,0),o)x.glyphAtlasTexture.bind(h.LINEAR,h.CLAMP_TO_EDGE),h.uniform2fv(v.uniforms.u_texsize,x.glyphAtlasTexture.size);else{var E=!i.isLayoutValueFeatureConstant("icon-size")||!i.isLayoutValueZoomConstant("icon-size")||1!==i.getLayoutValue("icon-size",{zoom:c.zoom})||w.iconsNeedLinear,A=d||0!==c.pitch;x.iconAtlasTexture.bind(C||t.options.rotating||t.options.zooming||E||A?h.LINEAR:h.NEAREST,h.CLAMP_TO_EDGE),h.uniform2fv(v.uniforms.u_texsize,x.iconAtlasTexture.size)}t.enableTileClippingMask(b),h.uniformMatrix4fv(v.uniforms.u_matrix,!1,t.translatePosMatrix(b.posMatrix,x,r,s));var P=O(x,1,t.transform.zoom),z=L.getLabelPlaneMatrix(b.posMatrix,d,p,t.transform,P),D=L.getGlCoordMatrix(b.posMatrix,d,p,t.transform,P);h.uniformMatrix4fv(v.uniforms.u_gl_coord_matrix,!1,t.translatePosMatrix(D,x,r,s,!0)),f?(h.uniformMatrix4fv(v.uniforms.u_label_plane_matrix,!1,R),L.updateLineLabels(w,b.posMatrix,t,o,z,D,d,u,P,i)):h.uniformMatrix4fv(v.uniforms.u_label_plane_matrix,!1,z),h.uniform1f(v.uniforms.u_collision_y_stretch,x.collisionTile.yStretch),I(v,k,t,i,x,T,o,C,d)}}}g||h.enable(h.DEPTH_TEST)}function M(t,e,i,n,o,r,s){var a=e.gl,l=e.transform;a.uniform1i(t.uniforms.u_pitch_with_map,r?1:0),a.uniform1f(t.uniforms.u_is_text,n?1:0),a.activeTexture(a.TEXTURE1),e.frameHistory.bind(a),a.uniform1i(t.uniforms.u_fadetexture,1),a.uniform1f(t.uniforms.u_pitch,l.pitch/360*2*Math.PI);var u="constant"===s.functionType||"source"===s.functionType,h="constant"===s.functionType||"camera"===s.functionType;a.uniform1i(t.uniforms.u_is_size_zoom_constant,u?1:0),a.uniform1i(t.uniforms.u_is_size_feature_constant,h?1:0),a.uniform1f(t.uniforms.u_camera_to_center_distance,l.cameraToCenterDistance);var c=p.evaluateSizeForZoom(s,l,i,n);void 0!==c.uSizeT&&a.uniform1f(t.uniforms.u_size_t,c.uSizeT),void 0!==c.uSize&&a.uniform1f(t.uniforms.u_size,c.uSize),a.uniform1f(t.uniforms.u_aspect_ratio,l.width/l.height),a.uniform1i(t.uniforms.u_rotate_symbol,o?1:0)}function I(t,e,i,n,o,r,s,a,l){var u=i.gl,h=i.transform;if(a){var c=(s?"text":"icon")+"-halo-width",p=!n.isPaintValueFeatureConstant(c)||n.paint[c],d=l?Math.cos(h._pitch)*h.cameraToCenterDistance:1;u.uniform1f(t.uniforms.u_gamma_scale,d),p&&(u.uniform1f(t.uniforms.u_is_halo,1),f(r,n,u,t)),u.uniform1f(t.uniforms.u_is_halo,0)}f(r,n,u,t)}function f(t,e,i,n){n.draw(i,i.TRIANGLES,e.id,t.layoutVertexBuffer,t.indexBuffer,t.segments,t.programConfigurations.get(e.id),t.dynamicLayoutVertexBuffer)}var a=t("./draw_collision_debug"),O=t("../source/pixels_to_tile_units"),L=t("../symbol/projection"),p=t("../symbol/symbol_size"),R=t("@mapbox/gl-matrix").mat4.identity(new Float32Array(16));e.exports=function(t,e,i,n){if("translucent"===t.renderPass){var o=!(i.layout["text-allow-overlap"]||i.layout["icon-allow-overlap"]||i.layout["text-ignore-placement"]||i.layout["icon-ignore-placement"]),r=t.gl;o?r.disable(r.STENCIL_TEST):r.enable(r.STENCIL_TEST),t.setDepthSublayer(0),t.depthMask(!1),i.isOpacityZero(t.transform.zoom,"icon-opacity")||s(t,e,i,n,!1,i.paint["icon-translate"],i.paint["icon-translate-anchor"],i.layout["icon-rotation-alignment"],i.layout["icon-pitch-alignment"],i.layout["icon-keep-upright"]),i.isOpacityZero(t.transform.zoom,"text-opacity")||s(t,e,i,n,!0,i.paint["text-translate"],i.paint["text-translate-anchor"],i.layout["text-rotation-alignment"],i.layout["text-pitch-alignment"],i.layout["text-keep-upright"]),e.map.showCollisionBoxes&&a(t,e,i,n)}}},{"../source/pixels_to_tile_units":105,"../symbol/projection":204,"../symbol/symbol_size":207,"./draw_collision_debug":76,"@mapbox/gl-matrix":1}],84:[function(t,e,i){"use strict";var n=function(){this.changeTimes=new Float64Array(256),this.changeOpacities=new Uint8Array(256),this.opacities=new Uint8ClampedArray(256),this.array=new Uint8Array(this.opacities.buffer),this.previousZoom=0,this.firstFrame=!0};n.prototype.record=function(t,e,i){var n,o=this;if(this.firstFrame&&(t=0,this.firstFrame=!1),(e=Math.floor(10*e))<this.previousZoom)for(n=e+1;n<=this.previousZoom;n++)o.changeTimes[n]=t,o.changeOpacities[n]=o.opacities[n];else for(n=e;n>this.previousZoom;n--)o.changeTimes[n]=t,o.changeOpacities[n]=o.opacities[n];for(n=0;n<256;n++){var r=t-o.changeTimes[n],s=255*(i?r/i:1);o.opacities[n]=n<=e?o.changeOpacities[n]+s:o.changeOpacities[n]-s}this.changed=!0,this.previousZoom=e},n.prototype.isVisible=function(t){return 0!==this.opacities[Math.floor(10*t)]},n.prototype.bind=function(t){this.texture?(t.bindTexture(t.TEXTURE_2D,this.texture),this.changed&&(t.texSubImage2D(t.TEXTURE_2D,0,0,0,256,1,t.ALPHA,t.UNSIGNED_BYTE,this.array),this.changed=!1)):(this.texture=t.createTexture(),t.bindTexture(t.TEXTURE_2D,this.texture),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texImage2D(t.TEXTURE_2D,0,t.ALPHA,256,1,0,t.ALPHA,t.UNSIGNED_BYTE,this.array))},e.exports=n},{}],85:[function(t,e,i){"use strict";var h=t("@mapbox/shelf-pack"),c=t("../util/image").AlphaImage;e.exports={makeGlyphAtlas:function(t){var e=c.create({width:0,height:0}),i={},n=new h(0,0,{autoResize:!0});for(var o in t){var r=t[o],s=i[o]={};for(var a in r){var l=r[+a];if(l&&0!==l.bitmap.width&&0!==l.bitmap.height){var u=n.packOne(l.bitmap.width+2,l.bitmap.height+2);c.resize(e,{width:n.w,height:n.h}),c.copy(l.bitmap,e,{x:0,y:0},{x:u.x+1,y:u.y+1},l.bitmap),s[a]={rect:u,metrics:l.metrics}}}}return n.shrink(),c.resize(e,{width:n.w,height:n.h}),{image:e,positions:i}}}},{"../util/image":242,"@mapbox/shelf-pack":3}],86:[function(t,e,i){"use strict";var h=t("../style/load_glyph_range"),s=t("@mapbox/tiny-sdf"),a=t("../util/is_char_in_unicode_block"),c=t("../util/util").asyncAll,l=t("../util/image").AlphaImage,n=function(t,e){this.requestTransform=t,this.localIdeographFontFamily=e,this.entries={}};n.prototype.setURL=function(t){this.url=t},n.prototype.getGlyphs=function(t,u){var l=this,e=[];for(var i in t)for(var n=0,o=t[i];n<o.length;n+=1){var r=o[n];e.push({stack:i,id:r})}c(e,function(t,i){var n=t.stack,o=t.id,r=l.entries[n];r||(r=l.entries[n]={glyphs:{},requests:{}});var e=r.glyphs[o];if(void 0===e)if(e=l._tinySDF(r,n,o))i(null,{stack:n,id:o,glyph:e});else{var s=Math.floor(o/256);if(65535<256*s)i(new Error("glyphs > 65535 not supported"));else{var a=r.requests[s];a||(a=r.requests[s]=[],h(n,s,l.url,l.requestTransform,function(t,e){if(e)for(var i in e)r.glyphs[+i]=e[+i];for(var n=0,o=a;n<o.length;n+=1)(0,o[n])(t,e);delete r.requests[s]})),a.push(function(t,e){t?i(t):e&&i(null,{stack:n,id:o,glyph:e[o]||null})})}}else i(null,{stack:n,id:o,glyph:e})},function(t,e){if(t)u(t);else if(e){for(var i={},n=0,o=e;n<o.length;n+=1){var r=o[n],s=r.stack,a=r.id,l=r.glyph;(i[s]||(i[s]={}))[a]=l}u(null,i)}})},n.prototype._tinySDF=function(t,e,i){var n=this.localIdeographFontFamily;if(n&&(a["CJK Unified Ideographs"](i)||a["Hangul Syllables"](i))){var o=t.tinySDF;if(!o){var r="400";/bold/i.test(e)?r="900":/medium/i.test(e)?r="500":/light/i.test(e)&&(r="200"),o=t.tinySDF=new s(24,3,8,.25,n,r)}return{id:i,bitmap:l.create({width:30,height:30},o.draw(String.fromCharCode(i))),metrics:{width:24,height:24,left:0,top:-8,advance:24}}}},e.exports=n},{"../style/load_glyph_range":178,"../util/image":242,"../util/is_char_in_unicode_block":244,"../util/util":252,"@mapbox/tiny-sdf":4}],87:[function(t,e,i){"use strict";function a(t,e){var i=e.pixelRatio,n={x:t.x+h,y:t.y+h,w:t.w-2*h,h:t.h-2*h};return{pixelRatio:i,textureRect:n,tl:[n.x,n.y],br:[n.x+n.w,n.y+n.h],displaySize:[n.w/i,n.h/i]}}var l=t("@mapbox/shelf-pack"),u=t("../util/image").RGBAImage,h=1;e.exports={imagePosition:a,makeImageAtlas:function(t){var e=u.create({width:0,height:0}),i={},n=new l(0,0,{autoResize:!0});for(var o in t){var r=t[o],s=n.packOne(r.data.width+2*h,r.data.height+2*h);u.resize(e,{width:n.w,height:n.h}),u.copy(r.data,e,{x:0,y:0},{x:s.x+h,y:s.y+h},r.data),i[o]=a(s,r)}return n.shrink(),u.resize(e,{width:n.w,height:n.h}),{image:e,positions:i}}}},{"../util/image":242,"@mapbox/shelf-pack":3}],88:[function(t,e,i){"use strict";var n=t("@mapbox/shelf-pack"),d=t("../util/image").RGBAImage,f=t("./image_atlas").imagePosition,o=t("./texture"),r=function(){this.images={},this.loaded=!1,this.requestors=[],this.shelfPack=new n(64,64,{autoResize:!0}),this.patterns={},this.atlasImage=d.create({width:64,height:64}),this.dirty=!0};r.prototype.isLoaded=function(){return this.loaded},r.prototype.setLoaded=function(t){if(this.loaded!==t&&(this.loaded=t)){for(var e=0,i=this.requestors;e<i.length;e+=1){var n=i[e],o=n.ids,r=n.callback;this._notify(o,r)}this.requestors=[]}},r.prototype.getImage=function(t){return this.images[t]},r.prototype.addImage=function(t,e){this.images[t]=e},r.prototype.removeImage=function(t){delete this.images[t];var e=this.patterns[t];e&&(this.shelfPack.unref(e.bin),delete this.patterns[t])},r.prototype.getImages=function(t,e){var i=!0;if(!this.isLoaded())for(var n=0,o=t;n<o.length;n+=1){var r=o[n];this.images[r]||(i=!1)}this.isLoaded()||i?this._notify(t,e):this.requestors.push({ids:t,callback:e})},r.prototype._notify=function(t,e){for(var i={},n=0,o=t;n<o.length;n+=1){var r=o[n],s=this.images[r];s&&(i[r]=s)}e(null,i)},r.prototype.getPixelSize=function(){return{width:this.shelfPack.w,height:this.shelfPack.h}},r.prototype.getPattern=function(t){var e=this.patterns[t];if(e)return e.position;var i=this.getImage(t);if(!i)return null;var n=i.data.width+2,o=i.data.height+2,r=this.shelfPack.packOne(n,o);if(!r)return null;d.resize(this.atlasImage,this.getPixelSize());var s=i.data,a=this.atlasImage,l=r.x+1,u=r.y+1,h=s.width,c=s.height;d.copy(s,a,{x:0,y:0},{x:l,y:u},{width:h,height:c}),d.copy(s,a,{x:0,y:c-1},{x:l,y:u-1},{width:h,height:1}),d.copy(s,a,{x:0,y:0},{x:l,y:u+c},{width:h,height:1}),d.copy(s,a,{x:h-1,y:0},{x:l-1,y:u},{width:1,height:c}),d.copy(s,a,{x:0,y:0},{x:l+h,y:u},{width:1,height:c}),this.dirty=!0;var p=f(r,i);return this.patterns[t]={bin:r,position:p},p},r.prototype.bind=function(t){this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new o(t,this.atlasImage,t.RGBA),this.atlasTexture.bind(t.LINEAR,t.CLAMP_TO_EDGE)},e.exports=r},{"../util/image":242,"./image_atlas":87,"./texture":94,"@mapbox/shelf-pack":3}],89:[function(t,e,i){"use strict";var k=t("../util/util"),n=function(t,e){this.width=t,this.height=e,this.nextRow=0,this.bytes=4,this.data=new Uint8Array(this.width*this.height*this.bytes),this.positions={}};n.prototype.getDash=function(t,e){var i=t.join(",")+String(e);return this.positions[i]||(this.positions[i]=this.addDash(t,e)),this.positions[i]},n.prototype.addDash=function(t,e){var i=e?7:0,n=2*i+1;if(this.nextRow+n>this.height)return k.warnOnce("LineAtlas out of space"),null;for(var o=0,r=0;r<t.length;r++)o+=t[r];for(var s=this.width/o,a=s/2,l=t.length%2==1,u=-i;u<=i;u++)for(var h=this.nextRow+i+u,c=this.width*h,p=l?-t[t.length-1]:0,d=t[0],f=1,m=0;m<this.width;m++){for(;d<m/s;)p=d,d+=t[f],l&&f===t.length-1&&(d+=t[0]),f++;var g=Math.abs(m-p*s),v=Math.abs(m-d*s),y=Math.min(g,v),_=f%2==1,b=void 0;if(e){var x=i?u/i*(a+1):0;if(_){var w=a-Math.abs(x);b=Math.sqrt(y*y+w*w)}else b=a-Math.sqrt(y*y+x*x)}else b=(_?1:-1)*y;this.data[3+4*(c+m)]=Math.max(0,Math.min(255,b+128))}var T={y:(this.nextRow+i+.5)/this.height,height:2*i/this.height,width:o};return this.nextRow+=n,this.dirty=!0,T},n.prototype.bind=function(t){this.texture?(t.bindTexture(t.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,t.texSubImage2D(t.TEXTURE_2D,0,0,0,this.width,this.height,t.RGBA,t.UNSIGNED_BYTE,this.data))):(this.texture=t.createTexture(),t.bindTexture(t.TEXTURE_2D,this.texture),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,this.width,this.height,0,t.RGBA,t.UNSIGNED_BYTE,this.data))},e.exports=n},{"../util/util":252}],90:[function(t,e,i){"use strict";var s=t("../util/browser"),h=t("@mapbox/gl-matrix").mat4,n=t("./frame_history"),o=t("../source/source_cache"),r=t("../data/extent"),c=t("../source/pixels_to_tile_units"),x=t("../util/util"),a=t("../gl/vertex_buffer"),l=t("./vertex_array_object"),u=t("../data/raster_bounds_array"),p=t("../data/pos_array"),d=t("../data/program_configuration").ProgramConfiguration,f=t("../shaders"),m=t("./program"),w=t("./render_texture"),T=t("./tile_mask"),k={symbol:t("./draw_symbol"),circle:t("./draw_circle"),heatmap:t("./draw_heatmap"),line:t("./draw_line"),fill:t("./draw_fill"),"fill-extrusion":t("./draw_fill_extrusion"),raster:t("./draw_raster"),background:t("./draw_background"),debug:t("./draw_debug")},g=function(t,e){this.gl=t,this.transform=e,this._tileTextures={},this.frameHistory=new n,this.setup(),this.numSublayers=o.maxUnderzooming+o.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.lineWidthRange=t.getParameter(t.ALIASED_LINE_WIDTH_RANGE),this.basicFillProgramConfiguration=d.createBasicFill(),this.emptyProgramConfiguration=new d};g.prototype.resize=function(t,e){var i=this.gl;if(this.width=t*s.devicePixelRatio,this.height=e*s.devicePixelRatio,i.viewport(0,0,this.width,this.height),this.style)for(var n=0,o=this.style._order;n<o.length;n+=1){var r=o[n];this.style._layers[r].resize(i)}this.depthRbo&&(this.gl.deleteRenderbuffer(this.depthRbo),this.depthRbo=null)},g.prototype.setup=function(){var t=this.gl;t.enable(t.BLEND),t.blendFunc(t.ONE,t.ONE_MINUS_SRC_ALPHA),t.enable(t.STENCIL_TEST),t.enable(t.DEPTH_TEST),t.depthFunc(t.LEQUAL),this._depthMask=!1,t.depthMask(!1);var e=new p;e.emplaceBack(0,0),e.emplaceBack(r,0),e.emplaceBack(0,r),e.emplaceBack(r,r),this.tileExtentBuffer=new a(t,e),this.tileExtentVAO=new l,this.tileExtentPatternVAO=new l;var i=new p;i.emplaceBack(0,0),i.emplaceBack(r,0),i.emplaceBack(r,r),i.emplaceBack(0,r),i.emplaceBack(0,0),this.debugBuffer=new a(t,i),this.debugVAO=new l;var n=new u;n.emplaceBack(0,0,0,0),n.emplaceBack(r,0,r,0),n.emplaceBack(0,r,0,r),n.emplaceBack(r,r,r,r),this.rasterBoundsBuffer=new a(t,n),this.rasterBoundsVAO=new l;var o=new p;o.emplaceBack(0,0),o.emplaceBack(1,0),o.emplaceBack(0,1),o.emplaceBack(1,1),this.viewportBuffer=new a(t,o),this.viewportVAO=new l,this.extTextureFilterAnisotropic=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=t.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureHalfFloat=t.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&t.getExtension("OES_texture_half_float_linear")},g.prototype.clearColor=function(){var t=this.gl;t.clearColor(0,0,0,0),t.clear(t.COLOR_BUFFER_BIT)},g.prototype.clearStencil=function(){var t=this.gl;t.clearStencil(0),t.stencilMask(255),t.clear(t.STENCIL_BUFFER_BIT)},g.prototype.clearDepth=function(){var t=this.gl;t.clearDepth(1),this.depthMask(!0),t.clear(t.DEPTH_BUFFER_BIT)},g.prototype._renderTileClippingMasks=function(t){var e=this.gl;e.colorMask(!1,!1,!1,!1),this.depthMask(!1),e.disable(e.DEPTH_TEST),e.enable(e.STENCIL_TEST),e.stencilMask(255),e.stencilOp(e.KEEP,e.KEEP,e.REPLACE);var i=1;this._tileClippingMaskIDs={};for(var n=0,o=t;n<o.length;n+=1){var r=o[n],s=this._tileClippingMaskIDs[r.id]=i++;e.stencilFunc(e.ALWAYS,s,255);var a=this.useProgram("fill",this.basicFillProgramConfiguration);e.uniformMatrix4fv(a.uniforms.u_matrix,!1,r.posMatrix),this.tileExtentVAO.bind(e,a,this.tileExtentBuffer),e.drawArrays(e.TRIANGLE_STRIP,0,this.tileExtentBuffer.length)}e.stencilMask(0),e.colorMask(!0,!0,!0,!0),this.depthMask(!0),e.enable(e.DEPTH_TEST)},g.prototype.enableTileClippingMask=function(t){var e=this.gl;e.stencilFunc(e.EQUAL,this._tileClippingMaskIDs[t.id],255)},g.prototype.render=function(t,e){var n=this;for(var i in this.style=t,this.options=e,this.lineAtlas=t.lineAtlas,this.imageManager=t.imageManager,this.glyphManager=t.glyphManager,this.frameHistory.record(Date.now(),this.transform.zoom,t.getTransition().duration),n.style.sourceCaches){var o=n.style.sourceCaches[i];o.used&&o.prepare(n.gl)}var r=this.style._order,s=x.filterObject(this.style.sourceCaches,function(t){return"raster"===t._source.type});for(var a in s)!function(t){var e=s[a],i=e.getVisibleCoordinates().map(function(t){return e.getTile(t)});T(i,n.gl)}();this.renderPass="3d";for(var l,u=!0,h=[],c=0;c<r.length;c++){var p=n.style._layers[r[c]];if(p.has3DPass()&&!p.isHidden(n.transform.zoom)&&(p.source!==(l&&l.id)&&(h=[],(l=n.style.sourceCaches[p.source])&&(n.clearStencil(),h=l.getVisibleCoordinates()),h.reverse()),h.length)){n._setup3DRenderbuffer();var d=p.viewportFrame||new w(n);(p.viewportFrame=d).bindWithDepth(n.depthRbo),u&&(n.clearDepth(),u=!1),n.renderLayer(n,l,p,h),d.unbind()}}this.clearColor(),this.clearDepth(),this.showOverdrawInspector(e.showOverdrawInspector),this.depthRange=(t._order.length+2)*this.numSublayers*this.depthEpsilon,this.renderPass="opaque";var f,m=[];for(this.currentLayer=r.length-1,this._showOverdrawInspector||this.gl.disable(this.gl.BLEND),this.currentLayer;0<=this.currentLayer;this.currentLayer--){var g=n.style._layers[r[n.currentLayer]];g.source!==(f&&f.id)&&(m=[],(f=n.style.sourceCaches[g.source])&&(n.clearStencil(),m=f.getVisibleCoordinates(),f.getSource().isTileClipped&&n._renderTileClippingMasks(m))),n.renderLayer(n,f,g,m)}this.renderPass="translucent";var v,y=[];for(this.gl.enable(this.gl.BLEND),this.currentLayer=0,this.currentLayer;this.currentLayer<r.length;this.currentLayer++){var _=n.style._layers[r[n.currentLayer]];_.source!==(v&&v.id)&&(y=[],(v=n.style.sourceCaches[_.source])&&(n.clearStencil(),y=v.getVisibleCoordinates(),v.getSource().isTileClipped&&n._renderTileClippingMasks(y)),y.reverse()),n.renderLayer(n,v,_,y)}if(this.options.showTileBoundaries){var b=this.style.sourceCaches[Object.keys(this.style.sourceCaches)[0]];b&&k.debug(this,b,b.getVisibleCoordinates())}},g.prototype._setup3DRenderbuffer=function(){if(!this.depthRbo){var t=this.gl;this.depthRbo=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,this.depthRbo),t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_COMPONENT16,this.width,this.height),t.bindRenderbuffer(t.RENDERBUFFER,null)}this.depthRboAttached=!0},g.prototype.depthMask=function(t){t!==this._depthMask&&(this._depthMask=t,this.gl.depthMask(t))},g.prototype.renderLayer=function(t,e,i,n){i.isHidden(this.transform.zoom)||("background"===i.type||n.length)&&(this.id=i.id,k[i.type](t,e,i,n))},g.prototype.setDepthSublayer=function(t){var e=1-((1+this.currentLayer)*this.numSublayers+t)*this.depthEpsilon,i=e-1+this.depthRange;this.gl.depthRange(i,e)},g.prototype.translatePosMatrix=function(t,e,i,n,o){if(!i[0]&&!i[1])return t;var r=o?"map"===n?this.transform.angle:0:"viewport"===n?-this.transform.angle:0;if(r){var s=Math.sin(r),a=Math.cos(r);i=[i[0]*a-i[1]*s,i[0]*s+i[1]*a]}var l=[o?i[0]:c(e,i[0],this.transform.zoom),o?i[1]:c(e,i[1],this.transform.zoom),0],u=new Float32Array(16);return h.translate(u,t,l),u},g.prototype.saveTileTexture=function(t){var e=this._tileTextures[t.size[0]];e?e.push(t):this._tileTextures[t.size[0]]=[t]},g.prototype.getTileTexture=function(t){var e=this._tileTextures[t];return e&&0<e.length?e.pop():null},g.prototype.lineWidth=function(t){this.gl.lineWidth(x.clamp(t,this.lineWidthRange[0],this.lineWidthRange[1]))},g.prototype.showOverdrawInspector=function(t){if(t||this._showOverdrawInspector){this._showOverdrawInspector=t;var e=this.gl;t?(e.blendFunc(e.CONSTANT_COLOR,e.ONE),e.blendColor(1/8,1/8,1/8,0),e.clearColor(0,0,0,1),e.clear(e.COLOR_BUFFER_BIT)):e.blendFunc(e.ONE,e.ONE_MINUS_SRC_ALPHA)}},g.prototype._createProgramCached=function(t,e){this.cache=this.cache||{};var i=""+t+(e.cacheKey||"")+(this._showOverdrawInspector?"/overdraw":"");return this.cache[i]||(this.cache[i]=new m(this.gl,f[t],e,this._showOverdrawInspector)),this.cache[i]},g.prototype.useProgram=function(t,e){var i=this.gl,n=this._createProgramCached(t,e||this.emptyProgramConfiguration);return this.currentProgram!==n&&(i.useProgram(n.program),this.currentProgram=n),n},e.exports=g},{"../data/extent":58,"../data/pos_array":62,"../data/program_configuration":63,"../data/raster_bounds_array":64,"../gl/vertex_buffer":72,"../shaders":98,"../source/pixels_to_tile_units":105,"../source/source_cache":110,"../util/browser":231,"../util/util":252,"./draw_background":74,"./draw_circle":75,"./draw_debug":77,"./draw_fill":78,"./draw_fill_extrusion":79,"./draw_heatmap":80,"./draw_line":81,"./draw_raster":82,"./draw_symbol":83,"./frame_history":84,"./program":92,"./render_texture":93,"./tile_mask":95,"./vertex_array_object":96,"@mapbox/gl-matrix":1}],91:[function(t,e,i){"use strict";var l=t("../source/pixels_to_tile_units");i.isPatternMissing=function(t,e){if(!t)return!1;var i=e.imageManager.getPattern(t.from),n=e.imageManager.getPattern(t.to);return!i||!n},i.prepare=function(t,e,i){var n=e.gl,o=e.imageManager.getPattern(t.from),r=e.imageManager.getPattern(t.to);n.uniform1i(i.uniforms.u_image,0),n.uniform2fv(i.uniforms.u_pattern_tl_a,o.tl),n.uniform2fv(i.uniforms.u_pattern_br_a,o.br),n.uniform2fv(i.uniforms.u_pattern_tl_b,r.tl),n.uniform2fv(i.uniforms.u_pattern_br_b,r.br);var s=e.imageManager.getPixelSize(),a=s.width,l=s.height;n.uniform2fv(i.uniforms.u_texsize,[a,l]),n.uniform1f(i.uniforms.u_mix,t.t),n.uniform2fv(i.uniforms.u_pattern_size_a,o.displaySize),n.uniform2fv(i.uniforms.u_pattern_size_b,r.displaySize),n.uniform1f(i.uniforms.u_scale_a,t.fromScale),n.uniform1f(i.uniforms.u_scale_b,t.toScale),n.activeTexture(n.TEXTURE0),e.imageManager.bind(n)},i.setTile=function(t,e,i){var n=e.gl;n.uniform1f(i.uniforms.u_tile_units_to_pixels,1/l(t,1,e.transform.tileZoom));var o=Math.pow(2,t.coord.z),r=t.tileSize*Math.pow(2,e.transform.tileZoom)/o,s=r*(t.coord.x+t.coord.w*o),a=r*t.coord.y;n.uniform2f(i.uniforms.u_pixel_coord_upper,s>>16,a>>16),n.uniform2f(i.uniforms.u_pixel_coord_lower,65535&s,65535&a)}},{"../source/pixels_to_tile_units":105}],92:[function(t,e,i){"use strict";var g=t("../util/browser"),v=t("../shaders"),f=(t("../data/program_configuration").ProgramConfiguration,t("./vertex_array_object")),n=function(t,e,i,n){this.gl=t,this.program=t.createProgram();var o=i.defines().concat("#define DEVICE_PIXEL_RATIO "+g.devicePixelRatio.toFixed(1));n&&o.push("#define OVERDRAW_INSPECTOR;");var r=o.concat(v.prelude.fragmentSource,e.fragmentSource).join("\n"),s=o.concat(v.prelude.vertexSource,e.vertexSource).join("\n"),a=t.createShader(t.FRAGMENT_SHADER);t.shaderSource(a,r),t.compileShader(a),t.attachShader(this.program,a);var l=t.createShader(t.VERTEX_SHADER);t.shaderSource(l,s),t.compileShader(l),t.attachShader(this.program,l);for(var u=i.interface?i.interface.layoutAttributes:[],h=0;h<u.length;h++)t.bindAttribLocation(this.program,h,u[h].name);t.linkProgram(this.program),this.numAttributes=t.getProgramParameter(this.program,t.ACTIVE_ATTRIBUTES),this.attributes={},this.uniforms={};for(var c=0;c<this.numAttributes;c++){var p=t.getActiveAttrib(this.program,c);p&&(this.attributes[p.name]=t.getAttribLocation(this.program,p.name))}for(var d=t.getProgramParameter(this.program,t.ACTIVE_UNIFORMS),f=0;f<d;f++){var m=t.getActiveUniform(this.program,f);m&&(this.uniforms[m.name]=t.getUniformLocation(this.program,m.name))}};n.prototype.draw=function(t,e,i,n,o,r,s,a){for(var l,u=(l={},l[t.LINES]=2,l[t.TRIANGLES]=3,l)[e],h=0,c=r.get();h<c.length;h+=1){var p=c[h],d=p.vaos||(p.vaos={});(d[i]||(d[i]=new f)).bind(t,this,n,o,s&&s.paintVertexBuffer,p.vertexOffset,a),t.drawElements(e,p.primitiveLength*u,t.UNSIGNED_SHORT,p.primitiveOffset*u*2)}},e.exports=n},{"../data/program_configuration":63,"../shaders":98,"../util/browser":231,"./vertex_array_object":96}],93:[function(t,e,i){"use strict";var n=function(t){var e=this.gl=t.gl,i=this.texture=e.createTexture();e.bindTexture(e.TEXTURE_2D,i),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,t.width,t.height,0,e.RGBA,e.UNSIGNED_BYTE,null),e.bindTexture(e.TEXTURE_2D,null);var n=this.fbo=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,n),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,i,0)};n.prototype.bindWithDepth=function(t){var e=this.gl;e.bindFramebuffer(e.FRAMEBUFFER,this.fbo),this.attachedRbo!==t&&(e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,t),this.attachedRbo=t)},n.prototype.unbind=function(){var t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,null)},e.exports=n},{}],94:[function(t,e,i){"use strict";var n=t("../util/window"),o=n.HTMLImageElement,r=n.HTMLCanvasElement,s=n.HTMLVideoElement,a=n.ImageData,l=function(t,e,i){this.gl=t;var n=e.width,o=e.height;this.size=[n,o],this.format=i,this.texture=t.createTexture(),this.update(e)};l.prototype.update=function(t){var e=t.width,i=t.height;this.size=[e,i];var n=this.gl;n.bindTexture(n.TEXTURE_2D,this.texture),n.pixelStorei(n.UNPACK_ALIGNMENT,1),this.format===n.RGBA&&n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),t instanceof o||t instanceof r||t instanceof s||t instanceof a?n.texImage2D(n.TEXTURE_2D,0,this.format,this.format,n.UNSIGNED_BYTE,t):n.texImage2D(n.TEXTURE_2D,0,this.format,e,i,0,this.format,n.UNSIGNED_BYTE,t.data)},l.prototype.bind=function(t,e,i){var n=this.gl;n.bindTexture(n.TEXTURE_2D,this.texture),t!==this.filter&&(n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,t),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,i||t),this.filter=t),e!==this.wrap&&(n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,e),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,e),this.wrap=e)},l.prototype.destroy=function(){this.gl.deleteTexture(this.texture),this.texture=null},e.exports=l},{"../util/window":233}],95:[function(t,e,i){"use strict";function c(t,e,i,n,o){for(var r=0;r<i.length;r++){var s=i[r];if(n.isLessThan(s.coord))break;if(e.id===s.coord.id)return;if(s.coord.isChildOf(e)){for(var a=e.children(1/0),l=0;l<a.length;l++)c(t,a[l],i.slice(r),n,o);return}}var u=e.z-t.z,h=new p(u,e.x-(t.x<<u),e.y-(t.y<<u)).id;o[h]=o[h]||!0}var p=t("../source/tile_coord");e.exports=function(t,e){for(var i=t.sort(function(t,e){return t.coord.isLessThan(e.coord)?-1:e.coord.isLessThan(t.coord)?1:0}),n=0;n<i.length;n++){var o={},r=i[n],s=i.slice(n+1);c(r.coord.wrapped(),r.coord,s,new p(0,0,0,r.coord.w+1),o),r.setMask(o,e)}}},{"../source/tile_coord":113}],96:[function(t,e,i){"use strict";var n=function(){this.boundProgram=null,this.boundVertexBuffer=null,this.boundVertexBuffer2=null,this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null};n.prototype.bind=function(t,e,i,n,o,r,s){void 0===t.extVertexArrayObject&&(t.extVertexArrayObject=t.getExtension("OES_vertex_array_object"));var a=!this.vao||this.boundProgram!==e||this.boundVertexBuffer!==i||this.boundVertexBuffer2!==o||this.boundIndexBuffer!==n||this.boundVertexOffset!==r||this.boundDynamicVertexBuffer!==s;!t.extVertexArrayObject||a?(this.freshBind(t,e,i,n,o,r,s),this.gl=t):(t.extVertexArrayObject.bindVertexArrayOES(this.vao),s&&s.bind())},n.prototype.freshBind=function(t,e,i,n,o,r,s){var a,l=e.numAttributes;if(t.extVertexArrayObject)this.vao&&this.destroy(),this.vao=t.extVertexArrayObject.createVertexArrayOES(),t.extVertexArrayObject.bindVertexArrayOES(this.vao),a=0,this.boundProgram=e,this.boundVertexBuffer=i,this.boundVertexBuffer2=o,this.boundIndexBuffer=n,this.boundVertexOffset=r,this.boundDynamicVertexBuffer=s;else{a=t.currentNumAttributes||0;for(var u=l;u<a;u++)t.disableVertexAttribArray(u)}i.enableAttributes(t,e),o&&o.enableAttributes(t,e),s&&s.enableAttributes(t,e),i.bind(),i.setVertexAttribPointers(t,e,r),o&&(o.bind(),o.setVertexAttribPointers(t,e,r)),s&&(s.bind(),s.setVertexAttribPointers(t,e,r)),n&&n.bind(),t.currentNumAttributes=l},n.prototype.destroy=function(){this.vao&&(this.gl.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)},e.exports=n},{}],97:[function(t,e,i){"use strict";var n=t("../util/util");i.packUint8ToFloat=function(t,e){return 256*(t=n.clamp(Math.floor(t),0,255))+(e=n.clamp(Math.floor(e),0,255))}},{"../util/util":252}],98:[function(t,e,i){"use strict";var n={prelude:{fragmentSource:"#ifdef GL_ES\nprecision mediump float;\n#else\n\n#if !defined(lowp)\n#define lowp\n#endif\n\n#if !defined(mediump)\n#define mediump\n#endif\n\n#if !defined(highp)\n#define highp\n#endif\n\n#endif\n",vertexSource:"#ifdef GL_ES\nprecision highp float;\n#else\n\n#if !defined(lowp)\n#define lowp\n#endif\n\n#if !defined(mediump)\n#define mediump\n#endif\n\n#if !defined(highp)\n#define highp\n#endif\n\n#endif\n\n// Unpack a pair of values that have been packed into a single float.\n// The packed values are assumed to be 8-bit unsigned integers, and are\n// packed like so:\n// packedValue = floor(input[0]) * 256 + input[1],\nvec2 unpack_float(const float packedValue) {\n    int packedIntValue = int(packedValue);\n    int v0 = packedIntValue / 256;\n    return vec2(v0, packedIntValue - v0 * 256);\n}\n\n\n// To minimize the number of attributes needed, we encode a 4-component\n// color into a pair of floats (i.e. a vec2) as follows:\n// [ floor(color.r * 255) * 256 + color.g * 255,\n//   floor(color.b * 255) * 256 + color.g * 255 ]\nvec4 decode_color(const vec2 encodedColor) {\n    return vec4(\n        unpack_float(encodedColor[0]) / 255.0,\n        unpack_float(encodedColor[1]) / 255.0\n    );\n}\n\n// Unpack a pair of paint values and interpolate between them.\nfloat unpack_mix_vec2(const vec2 packedValue, const float t) {\n    return mix(packedValue[0], packedValue[1], t);\n}\n\n// Unpack a pair of paint values and interpolate between them.\nvec4 unpack_mix_vec4(const vec4 packedColors, const float t) {\n    vec4 minColor = decode_color(vec2(packedColors[0], packedColors[1]));\n    vec4 maxColor = decode_color(vec2(packedColors[2], packedColors[3]));\n    return mix(minColor, maxColor, t);\n}\n\n// The offset depends on how many pixels are between the world origin and the edge of the tile:\n// vec2 offset = mod(pixel_coord, size)\n//\n// At high zoom levels there are a ton of pixels between the world origin and the edge of the tile.\n// The glsl spec only guarantees 16 bits of precision for highp floats. We need more than that.\n//\n// The pixel_coord is passed in as two 16 bit values:\n// pixel_coord_upper = floor(pixel_coord / 2^16)\n// pixel_coord_lower = mod(pixel_coord, 2^16)\n//\n// The offset is calculated in a series of steps that should preserve this precision:\nvec2 get_pattern_pos(const vec2 pixel_coord_upper, const vec2 pixel_coord_lower,\n    const vec2 pattern_size, const float tile_units_to_pixels, const vec2 pos) {\n\n    vec2 offset = mod(mod(mod(pixel_coord_upper, pattern_size) * 256.0, pattern_size) * 256.0 + pixel_coord_lower, pattern_size);\n    return (tile_units_to_pixels * pos + offset) / pattern_size;\n}\n"},circle:{fragmentSource:"#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\n\nvarying vec3 v_data;\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize mediump float radius\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize highp vec4 stroke_color\n    #pragma mapbox: initialize mediump float stroke_width\n    #pragma mapbox: initialize lowp float stroke_opacity\n\n    vec2 extrude = v_data.xy;\n    float extrude_length = length(extrude);\n\n    lowp float antialiasblur = v_data.z;\n    float antialiased_blur = -max(blur, antialiasblur);\n\n    float opacity_t = smoothstep(0.0, antialiased_blur, extrude_length - 1.0);\n\n    float color_t = stroke_width < 0.01 ? 0.0 : smoothstep(\n        antialiased_blur,\n        0.0,\n        extrude_length - radius / (radius + stroke_width)\n    );\n\n    gl_FragColor = opacity_t * mix(color * opacity, stroke_color * stroke_opacity, color_t);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform bool u_scale_with_map;\nuniform bool u_pitch_with_map;\nuniform vec2 u_extrude_scale;\nuniform highp float u_camera_to_center_distance;\n\nattribute vec2 a_pos;\n\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\n\nvarying vec3 v_data;\n\nvoid main(void) {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize mediump float radius\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize highp vec4 stroke_color\n    #pragma mapbox: initialize mediump float stroke_width\n    #pragma mapbox: initialize lowp float stroke_opacity\n\n    // unencode the extrusion vector that we snuck into the a_pos vector\n    vec2 extrude = vec2(mod(a_pos, 2.0) * 2.0 - 1.0);\n\n    // multiply a_pos by 0.5, since we had it * 2 in order to sneak\n    // in extrusion data\n    vec2 circle_center = floor(a_pos * 0.5);\n    if (u_pitch_with_map) {\n        vec2 corner_position = circle_center;\n        if (u_scale_with_map) {\n            corner_position += extrude * (radius + stroke_width) * u_extrude_scale;\n        } else {\n            // Pitching the circle with the map effectively scales it with the map\n            // To counteract the effect for pitch-scale: viewport, we rescale the\n            // whole circle based on the pitch scaling effect at its central point\n            vec4 projected_center = u_matrix * vec4(circle_center, 0, 1);\n            corner_position += extrude * (radius + stroke_width) * u_extrude_scale * (projected_center.w / u_camera_to_center_distance);\n        }\n\n        gl_Position = u_matrix * vec4(corner_position, 0, 1);\n    } else {\n        gl_Position = u_matrix * vec4(circle_center, 0, 1);\n\n        if (u_scale_with_map) {\n            gl_Position.xy += extrude * (radius + stroke_width) * u_extrude_scale * u_camera_to_center_distance;\n        } else {\n            gl_Position.xy += extrude * (radius + stroke_width) * u_extrude_scale * gl_Position.w;\n        }\n    }\n\n    // This is a minimum blur distance that serves as a faux-antialiasing for\n    // the circle. since blur is a ratio of the circle's size and the intent is\n    // to keep the blur at roughly 1px, the two are inversely related.\n    lowp float antialiasblur = 1.0 / DEVICE_PIXEL_RATIO / (radius + stroke_width);\n\n    v_data = vec3(extrude.x, extrude.y, antialiasblur);\n}\n"},heatmap:{fragmentSource:"#pragma mapbox: define highp float weight\n\nuniform highp float u_intensity;\nuniform highp float u_radius;\nvarying vec2 v_extrude;\n\n// Gaussian kernel coefficient: 1 / sqrt(2 * PI)\n#define GAUSS_COEF 0.3989422804014327\n\nvoid main() {\n    #pragma mapbox: initialize highp float weight\n\n    // Kernel density estimation with a Gaussian kernel of size 5x5\n    float d = -0.5 * 3.0 * 3.0 * dot(v_extrude, v_extrude);\n    float val = weight * u_intensity * GAUSS_COEF * exp(d);\n\n    gl_FragColor = vec4(val, 1.0, 1.0, 1.0);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"#pragma mapbox: define highp float weight\n\nuniform mat4 u_matrix;\nuniform float u_extrude_scale;\nuniform float u_radius;\nuniform float u_opacity;\nuniform float u_intensity;\n\nattribute vec2 a_pos;\n\nvarying vec2 v_extrude;\n\n// Effective \"0\" in the kernel density texture to adjust the kernel size to;\n// this empirically chosen number minimizes artifacts on overlapping kernels\n// for typical heatmap cases (assuming clustered source)\nconst highp float ZERO = 1.0 / 255.0 / 16.0;\n\n// Gaussian kernel coefficient: 1 / sqrt(2 * PI)\n#define GAUSS_COEF 0.3989422804014327\n\nvoid main(void) {\n    #pragma mapbox: initialize highp float weight\n\n    // unencode the extrusion vector that we snuck into the a_pos vector\n    vec2 unscaled_extrude = vec2(mod(a_pos, 2.0) * 2.0 - 1.0);\n\n    // This 'extrude' comes in ranging from [-1, -1], to [1, 1].  We'll use\n    // it to produce the vertices of a square mesh framing the point feature\n    // we're adding to the kernel density texture.  We'll also pass it as\n    // a varying, so that the fragment shader can determine the distance of\n    // each fragment from the point feature.\n    // Before we do so, we need to scale it up sufficiently so that the\n    // kernel falls effectively to zero at the edge of the mesh.\n    // That is, we want to know S such that\n    // weight * u_intensity * GAUSS_COEF * exp(-0.5 * 3.0^2 * S^2) == ZERO\n    // Which solves to:\n    // S = sqrt(-2.0 * log(ZERO / (weight * u_intensity * GAUSS_COEF))) / 3.0\n    float S = sqrt(-2.0 * log(ZERO / weight / u_intensity / GAUSS_COEF)) / 3.0;\n\n    // Pass the varying in units of u_radius\n    v_extrude = S * unscaled_extrude;\n\n    // Scale by u_radius and the zoom-based scale factor to produce actual\n    // mesh position\n    vec2 extrude = v_extrude * u_radius * u_extrude_scale;\n\n    // multiply a_pos by 0.5, since we had it * 2 in order to sneak\n    // in extrusion data\n    vec4 pos = vec4(floor(a_pos * 0.5) + extrude, 0, 1);\n\n    gl_Position = u_matrix * pos;\n}\n"},heatmapTexture:{fragmentSource:"uniform sampler2D u_image;\nuniform sampler2D u_color_ramp;\nuniform float u_opacity;\nvarying vec2 v_pos;\n\nvoid main() {\n    float t = texture2D(u_image, v_pos).r;\n    vec4 color = texture2D(u_color_ramp, vec2(t, 0.5));\n    gl_FragColor = color * u_opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(0.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec2 u_world;\nattribute vec2 a_pos;\nvarying vec2 v_pos;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos * u_world, 0, 1);\n\n    v_pos.x = a_pos.x;\n    v_pos.y = 1.0 - a_pos.y;\n}\n"},collisionBox:{fragmentSource:"uniform float u_zoom;\n// u_maxzoom is derived from the maximum scale considered by the CollisionTile\n// Labels with placement zoom greater than this value will not be placed,\n// regardless of perspective effects.\nuniform float u_maxzoom;\nuniform sampler2D u_fadetexture;\n\n// v_max_zoom is a collision-box-specific value that controls when line-following\n// collision boxes are used.\nvarying float v_max_zoom;\nvarying float v_placement_zoom;\nvarying float v_perspective_zoom_adjust;\nvarying vec2 v_fade_tex;\n\nvoid main() {\n\n    float alpha = 0.5;\n\n    // Green = no collisions, label is showing\n    gl_FragColor = vec4(0.0, 1.0, 0.0, 1.0) * alpha;\n\n    // Red = collision, label hidden\n    if (texture2D(u_fadetexture, v_fade_tex).a < 1.0) {\n        gl_FragColor = vec4(1.0, 0.0, 0.0, 1.0) * alpha;\n    }\n\n    // Faded black = this collision box is not used at this zoom (for curved labels)\n    if (u_zoom >= v_max_zoom + v_perspective_zoom_adjust) {\n        gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0) * alpha * 0.25;\n    }\n\n    // Faded blue = the placement scale for this label is beyond the CollisionTile\n    // max scale, so it's impossible for this label to show without collision detection\n    // being run again (the label's glyphs haven't even been added to the symbol bucket)\n    if (v_placement_zoom >= u_maxzoom) {\n        gl_FragColor = vec4(0.0, 0.0, 1.0, 1.0) * alpha * 0.2;\n    }\n}\n",vertexSource:"attribute vec2 a_pos;\nattribute vec2 a_anchor_pos;\nattribute vec2 a_extrude;\nattribute vec2 a_data;\n\nuniform mat4 u_matrix;\nuniform float u_scale;\nuniform float u_pitch;\nuniform float u_collision_y_stretch;\nuniform float u_camera_to_center_distance;\n\nvarying float v_max_zoom;\nvarying float v_placement_zoom;\nvarying float v_perspective_zoom_adjust;\nvarying vec2 v_fade_tex;\n\nvoid main() {\n    vec4 projectedPoint = u_matrix * vec4(a_anchor_pos, 0, 1);\n    highp float camera_to_anchor_distance = projectedPoint.w;\n    highp float collision_perspective_ratio = 1.0 + 0.5 * ((camera_to_anchor_distance / u_camera_to_center_distance) - 1.0);\n\n    highp float incidence_stretch  = camera_to_anchor_distance / (u_camera_to_center_distance * cos(u_pitch));\n    highp float collision_adjustment = max(1.0, incidence_stretch / u_collision_y_stretch);\n\n    gl_Position = u_matrix * vec4(a_pos + a_extrude * collision_perspective_ratio * collision_adjustment / u_scale, 0.0, 1.0);\n\n    v_max_zoom = a_data.x;\n    v_placement_zoom = a_data.y;\n\n    v_perspective_zoom_adjust = floor(log2(collision_perspective_ratio * collision_adjustment) * 10.0);\n    v_fade_tex = vec2((v_placement_zoom + v_perspective_zoom_adjust) / 255.0, 0.0);\n}\n"},debug:{fragmentSource:"uniform highp vec4 u_color;\n\nvoid main() {\n    gl_FragColor = u_color;\n}\n",vertexSource:"attribute vec2 a_pos;\n\nuniform mat4 u_matrix;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n}\n"},fill:{fragmentSource:"#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize lowp float opacity\n\n    gl_FragColor = color * opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"attribute vec2 a_pos;\n\nuniform mat4 u_matrix;\n\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize lowp float opacity\n\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n}\n"},fillOutline:{fragmentSource:"#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\n\nvarying vec2 v_pos;\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 outline_color\n    #pragma mapbox: initialize lowp float opacity\n\n    float dist = length(v_pos - gl_FragCoord.xy);\n    float alpha = 1.0 - smoothstep(0.0, 1.0, dist);\n    gl_FragColor = outline_color * (alpha * opacity);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"attribute vec2 a_pos;\n\nuniform mat4 u_matrix;\nuniform vec2 u_world;\n\nvarying vec2 v_pos;\n\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 outline_color\n    #pragma mapbox: initialize lowp float opacity\n\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n    v_pos = (gl_Position.xy / gl_Position.w + 1.0) / 2.0 * u_world;\n}\n"},fillOutlinePattern:{fragmentSource:"uniform vec2 u_pattern_tl_a;\nuniform vec2 u_pattern_br_a;\nuniform vec2 u_pattern_tl_b;\nuniform vec2 u_pattern_br_b;\nuniform vec2 u_texsize;\nuniform float u_mix;\n\nuniform sampler2D u_image;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\nvarying vec2 v_pos;\n\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize lowp float opacity\n\n    vec2 imagecoord = mod(v_pos_a, 1.0);\n    vec2 pos = mix(u_pattern_tl_a / u_texsize, u_pattern_br_a / u_texsize, imagecoord);\n    vec4 color1 = texture2D(u_image, pos);\n\n    vec2 imagecoord_b = mod(v_pos_b, 1.0);\n    vec2 pos2 = mix(u_pattern_tl_b / u_texsize, u_pattern_br_b / u_texsize, imagecoord_b);\n    vec4 color2 = texture2D(u_image, pos2);\n\n    // find distance to outline for alpha interpolation\n\n    float dist = length(v_pos - gl_FragCoord.xy);\n    float alpha = 1.0 - smoothstep(0.0, 1.0, dist);\n\n\n    gl_FragColor = mix(color1, color2, u_mix) * alpha * opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec2 u_world;\nuniform vec2 u_pattern_size_a;\nuniform vec2 u_pattern_size_b;\nuniform vec2 u_pixel_coord_upper;\nuniform vec2 u_pixel_coord_lower;\nuniform float u_scale_a;\nuniform float u_scale_b;\nuniform float u_tile_units_to_pixels;\n\nattribute vec2 a_pos;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\nvarying vec2 v_pos;\n\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize lowp float opacity\n\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n\n    v_pos_a = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_a * u_pattern_size_a, u_tile_units_to_pixels, a_pos);\n    v_pos_b = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_b * u_pattern_size_b, u_tile_units_to_pixels, a_pos);\n\n    v_pos = (gl_Position.xy / gl_Position.w + 1.0) / 2.0 * u_world;\n}\n"},fillPattern:{fragmentSource:"uniform vec2 u_pattern_tl_a;\nuniform vec2 u_pattern_br_a;\nuniform vec2 u_pattern_tl_b;\nuniform vec2 u_pattern_br_b;\nuniform vec2 u_texsize;\nuniform float u_mix;\n\nuniform sampler2D u_image;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\n\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize lowp float opacity\n\n    vec2 imagecoord = mod(v_pos_a, 1.0);\n    vec2 pos = mix(u_pattern_tl_a / u_texsize, u_pattern_br_a / u_texsize, imagecoord);\n    vec4 color1 = texture2D(u_image, pos);\n\n    vec2 imagecoord_b = mod(v_pos_b, 1.0);\n    vec2 pos2 = mix(u_pattern_tl_b / u_texsize, u_pattern_br_b / u_texsize, imagecoord_b);\n    vec4 color2 = texture2D(u_image, pos2);\n\n    gl_FragColor = mix(color1, color2, u_mix) * opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec2 u_pattern_size_a;\nuniform vec2 u_pattern_size_b;\nuniform vec2 u_pixel_coord_upper;\nuniform vec2 u_pixel_coord_lower;\nuniform float u_scale_a;\nuniform float u_scale_b;\nuniform float u_tile_units_to_pixels;\n\nattribute vec2 a_pos;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\n\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize lowp float opacity\n\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n\n    v_pos_a = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_a * u_pattern_size_a, u_tile_units_to_pixels, a_pos);\n    v_pos_b = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_b * u_pattern_size_b, u_tile_units_to_pixels, a_pos);\n}\n"},fillExtrusion:{fragmentSource:"varying vec4 v_color;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define highp vec4 color\n\nvoid main() {\n    #pragma mapbox: initialize lowp float base\n    #pragma mapbox: initialize lowp float height\n    #pragma mapbox: initialize highp vec4 color\n\n    gl_FragColor = v_color;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec3 u_lightcolor;\nuniform lowp vec3 u_lightpos;\nuniform lowp float u_lightintensity;\n\nattribute vec2 a_pos;\nattribute vec3 a_normal;\nattribute float a_edgedistance;\n\nvarying vec4 v_color;\n\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n\n#pragma mapbox: define highp vec4 color\n\nvoid main() {\n    #pragma mapbox: initialize lowp float base\n    #pragma mapbox: initialize lowp float height\n    #pragma mapbox: initialize highp vec4 color\n\n    base = max(0.0, base);\n    height = max(0.0, height);\n\n    float ed = a_edgedistance; // use each attrib in order to not trip a VAO assert\n    float t = mod(a_normal.x, 2.0);\n\n    gl_Position = u_matrix * vec4(a_pos, t > 0.0 ? height : base, 1);\n\n    // Relative luminance (how dark/bright is the surface color?)\n    float colorvalue = color.r * 0.2126 + color.g * 0.7152 + color.b * 0.0722;\n\n    v_color = vec4(0.0, 0.0, 0.0, 1.0);\n\n    // Add slight ambient lighting so no extrusions are totally black\n    vec4 ambientlight = vec4(0.03, 0.03, 0.03, 1.0);\n    color += ambientlight;\n\n    // Calculate cos(theta), where theta is the angle between surface normal and diffuse light ray\n    float directional = clamp(dot(a_normal / 16384.0, u_lightpos), 0.0, 1.0);\n\n    // Adjust directional so that\n    // the range of values for highlight/shading is narrower\n    // with lower light intensity\n    // and with lighter/brighter surface colors\n    directional = mix((1.0 - u_lightintensity), max((1.0 - colorvalue + u_lightintensity), 1.0), directional);\n\n    // Add gradient along z axis of side surfaces\n    if (a_normal.y != 0.0) {\n        directional *= clamp((t + base) * pow(height / 150.0, 0.5), mix(0.7, 0.98, 1.0 - u_lightintensity), 1.0);\n    }\n\n    // Assign final color based on surface + ambient light color, diffuse light directional, and light color\n    // with lower bounds adjusted to hue of light\n    // so that shading is tinted with the complementary (opposite) color to the light color\n    v_color.r += clamp(color.r * directional * u_lightcolor.r, mix(0.0, 0.3, 1.0 - u_lightcolor.r), 1.0);\n    v_color.g += clamp(color.g * directional * u_lightcolor.g, mix(0.0, 0.3, 1.0 - u_lightcolor.g), 1.0);\n    v_color.b += clamp(color.b * directional * u_lightcolor.b, mix(0.0, 0.3, 1.0 - u_lightcolor.b), 1.0);\n}\n"},fillExtrusionPattern:{fragmentSource:"uniform vec2 u_pattern_tl_a;\nuniform vec2 u_pattern_br_a;\nuniform vec2 u_pattern_tl_b;\nuniform vec2 u_pattern_br_b;\nuniform vec2 u_texsize;\nuniform float u_mix;\n\nuniform sampler2D u_image;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\nvarying vec4 v_lighting;\n\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n\nvoid main() {\n    #pragma mapbox: initialize lowp float base\n    #pragma mapbox: initialize lowp float height\n\n    vec2 imagecoord = mod(v_pos_a, 1.0);\n    vec2 pos = mix(u_pattern_tl_a / u_texsize, u_pattern_br_a / u_texsize, imagecoord);\n    vec4 color1 = texture2D(u_image, pos);\n\n    vec2 imagecoord_b = mod(v_pos_b, 1.0);\n    vec2 pos2 = mix(u_pattern_tl_b / u_texsize, u_pattern_br_b / u_texsize, imagecoord_b);\n    vec4 color2 = texture2D(u_image, pos2);\n\n    vec4 mixedColor = mix(color1, color2, u_mix);\n\n    gl_FragColor = mixedColor * v_lighting;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec2 u_pattern_size_a;\nuniform vec2 u_pattern_size_b;\nuniform vec2 u_pixel_coord_upper;\nuniform vec2 u_pixel_coord_lower;\nuniform float u_scale_a;\nuniform float u_scale_b;\nuniform float u_tile_units_to_pixels;\nuniform float u_height_factor;\n\nuniform vec3 u_lightcolor;\nuniform lowp vec3 u_lightpos;\nuniform lowp float u_lightintensity;\n\nattribute vec2 a_pos;\nattribute vec3 a_normal;\nattribute float a_edgedistance;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\nvarying vec4 v_lighting;\nvarying float v_directional;\n\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n\nvoid main() {\n    #pragma mapbox: initialize lowp float base\n    #pragma mapbox: initialize lowp float height\n\n    base = max(0.0, base);\n    height = max(0.0, height);\n\n    float t = mod(a_normal.x, 2.0);\n    float z = t > 0.0 ? height : base;\n\n    gl_Position = u_matrix * vec4(a_pos, z, 1);\n\n    vec2 pos = a_normal.x == 1.0 && a_normal.y == 0.0 && a_normal.z == 16384.0\n        ? a_pos // extrusion top\n        : vec2(a_edgedistance, z * u_height_factor); // extrusion side\n\n    v_pos_a = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_a * u_pattern_size_a, u_tile_units_to_pixels, pos);\n    v_pos_b = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_b * u_pattern_size_b, u_tile_units_to_pixels, pos);\n\n    v_lighting = vec4(0.0, 0.0, 0.0, 1.0);\n    float directional = clamp(dot(a_normal / 16383.0, u_lightpos), 0.0, 1.0);\n    directional = mix((1.0 - u_lightintensity), max((0.5 + u_lightintensity), 1.0), directional);\n\n    if (a_normal.y != 0.0) {\n        directional *= clamp((t + base) * pow(height / 150.0, 0.5), mix(0.7, 0.98, 1.0 - u_lightintensity), 1.0);\n    }\n\n    v_lighting.rgb += clamp(directional * u_lightcolor, mix(vec3(0.0), vec3(0.3), 1.0 - u_lightcolor), vec3(1.0));\n}\n"},extrusionTexture:{fragmentSource:"uniform sampler2D u_image;\nuniform float u_opacity;\nvarying vec2 v_pos;\n\nvoid main() {\n    gl_FragColor = texture2D(u_image, v_pos) * u_opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(0.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec2 u_world;\nattribute vec2 a_pos;\nvarying vec2 v_pos;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos * u_world, 0, 1);\n\n    v_pos.x = a_pos.x;\n    v_pos.y = 1.0 - a_pos.y;\n}\n"},line:{fragmentSource:"#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n\nvarying vec2 v_width2;\nvarying vec2 v_normal;\nvarying float v_gamma_scale;\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n\n    // Calculate the distance of the pixel from the line in pixels.\n    float dist = length(v_normal) * v_width2.s;\n\n    // Calculate the antialiasing fade factor. This is either when fading in\n    // the line in case of an offset line (v_width2.t) or when fading out\n    // (v_width2.s)\n    float blur2 = (blur + 1.0 / DEVICE_PIXEL_RATIO) * v_gamma_scale;\n    float alpha = clamp(min(dist - (v_width2.t - blur2), v_width2.s - dist) / blur2, 0.0, 1.0);\n\n    gl_FragColor = color * (alpha * opacity);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"\n\n// the distance over which the line edge fades out.\n// Retina devices need a smaller distance to avoid aliasing.\n#define ANTIALIASING 1.0 / DEVICE_PIXEL_RATIO / 2.0\n\n// floor(127 / 2) == 63.0\n// the maximum allowed miter limit is 2.0 at the moment. the extrude normal is\n// stored in a byte (-128..127). we scale regular normals up to length 63, but\n// there are also \"special\" normals that have a bigger length (of up to 126 in\n// this case).\n// #define scale 63.0\n#define scale 0.015873016\n\nattribute vec4 a_pos_normal;\nattribute vec4 a_data;\n\nuniform mat4 u_matrix;\nuniform mediump float u_ratio;\nuniform vec2 u_gl_units_to_pixels;\n\nvarying vec2 v_normal;\nvarying vec2 v_width2;\nvarying float v_gamma_scale;\n\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize mediump float gapwidth\n    #pragma mapbox: initialize lowp float offset\n    #pragma mapbox: initialize mediump float width\n\n    vec2 a_extrude = a_data.xy - 128.0;\n    float a_direction = mod(a_data.z, 4.0) - 1.0;\n\n    vec2 pos = a_pos_normal.xy;\n\n    // x is 1 if it's a round cap, 0 otherwise\n    // y is 1 if the normal points up, and -1 if it points down\n    mediump vec2 normal = a_pos_normal.zw;\n    v_normal = normal;\n\n    // these transformations used to be applied in the JS and native code bases.\n    // moved them into the shader for clarity and simplicity.\n    gapwidth = gapwidth / 2.0;\n    float halfwidth = width / 2.0;\n    offset = -1.0 * offset;\n\n    float inset = gapwidth + (gapwidth > 0.0 ? ANTIALIASING : 0.0);\n    float outset = gapwidth + halfwidth * (gapwidth > 0.0 ? 2.0 : 1.0) + ANTIALIASING;\n\n    // Scale the extrusion vector down to a normal and then up by the line width\n    // of this vertex.\n    mediump vec2 dist = outset * a_extrude * scale;\n\n    // Calculate the offset when drawing a line that is to the side of the actual line.\n    // We do this by creating a vector that points towards the extrude, but rotate\n    // it when we're drawing round end points (a_direction = -1 or 1) since their\n    // extrude vector points in another direction.\n    mediump float u = 0.5 * a_direction;\n    mediump float t = 1.0 - abs(u);\n    mediump vec2 offset2 = offset * a_extrude * scale * normal.y * mat2(t, -u, u, t);\n\n    vec4 projected_extrude = u_matrix * vec4(dist / u_ratio, 0.0, 0.0);\n    gl_Position = u_matrix * vec4(pos + offset2 / u_ratio, 0.0, 1.0) + projected_extrude;\n\n    // calculate how much the perspective view squishes or stretches the extrude\n    float extrude_length_without_perspective = length(dist);\n    float extrude_length_with_perspective = length(projected_extrude.xy / gl_Position.w * u_gl_units_to_pixels);\n    v_gamma_scale = extrude_length_without_perspective / extrude_length_with_perspective;\n\n    v_width2 = vec2(outset, inset);\n}\n"},linePattern:{fragmentSource:"uniform vec2 u_pattern_size_a;\nuniform vec2 u_pattern_size_b;\nuniform vec2 u_pattern_tl_a;\nuniform vec2 u_pattern_br_a;\nuniform vec2 u_pattern_tl_b;\nuniform vec2 u_pattern_br_b;\nuniform vec2 u_texsize;\nuniform float u_fade;\n\nuniform sampler2D u_image;\n\nvarying vec2 v_normal;\nvarying vec2 v_width2;\nvarying float v_linesofar;\nvarying float v_gamma_scale;\n\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n\n    // Calculate the distance of the pixel from the line in pixels.\n    float dist = length(v_normal) * v_width2.s;\n\n    // Calculate the antialiasing fade factor. This is either when fading in\n    // the line in case of an offset line (v_width2.t) or when fading out\n    // (v_width2.s)\n    float blur2 = (blur + 1.0 / DEVICE_PIXEL_RATIO) * v_gamma_scale;\n    float alpha = clamp(min(dist - (v_width2.t - blur2), v_width2.s - dist) / blur2, 0.0, 1.0);\n\n    float x_a = mod(v_linesofar / u_pattern_size_a.x, 1.0);\n    float x_b = mod(v_linesofar / u_pattern_size_b.x, 1.0);\n    float y_a = 0.5 + (v_normal.y * v_width2.s / u_pattern_size_a.y);\n    float y_b = 0.5 + (v_normal.y * v_width2.s / u_pattern_size_b.y);\n    vec2 pos_a = mix(u_pattern_tl_a / u_texsize, u_pattern_br_a / u_texsize, vec2(x_a, y_a));\n    vec2 pos_b = mix(u_pattern_tl_b / u_texsize, u_pattern_br_b / u_texsize, vec2(x_b, y_b));\n\n    vec4 color = mix(texture2D(u_image, pos_a), texture2D(u_image, pos_b), u_fade);\n\n    gl_FragColor = color * alpha * opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"// floor(127 / 2) == 63.0\n// the maximum allowed miter limit is 2.0 at the moment. the extrude normal is\n// stored in a byte (-128..127). we scale regular normals up to length 63, but\n// there are also \"special\" normals that have a bigger length (of up to 126 in\n// this case).\n// #define scale 63.0\n#define scale 0.015873016\n\n// We scale the distance before adding it to the buffers so that we can store\n// long distances for long segments. Use this value to unscale the distance.\n#define LINE_DISTANCE_SCALE 2.0\n\n// the distance over which the line edge fades out.\n// Retina devices need a smaller distance to avoid aliasing.\n#define ANTIALIASING 1.0 / DEVICE_PIXEL_RATIO / 2.0\n\nattribute vec4 a_pos_normal;\nattribute vec4 a_data;\n\nuniform mat4 u_matrix;\nuniform mediump float u_ratio;\nuniform vec2 u_gl_units_to_pixels;\n\nvarying vec2 v_normal;\nvarying vec2 v_width2;\nvarying float v_linesofar;\nvarying float v_gamma_scale;\n\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define mediump float width\n\nvoid main() {\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize lowp float offset\n    #pragma mapbox: initialize mediump float gapwidth\n    #pragma mapbox: initialize mediump float width\n\n    vec2 a_extrude = a_data.xy - 128.0;\n    float a_direction = mod(a_data.z, 4.0) - 1.0;\n    float a_linesofar = (floor(a_data.z / 4.0) + a_data.w * 64.0) * LINE_DISTANCE_SCALE;\n\n    vec2 pos = a_pos_normal.xy;\n\n    // x is 1 if it's a round cap, 0 otherwise\n    // y is 1 if the normal points up, and -1 if it points down\n    mediump vec2 normal = a_pos_normal.zw;\n    v_normal = normal;\n\n    // these transformations used to be applied in the JS and native code bases.\n    // moved them into the shader for clarity and simplicity.\n    gapwidth = gapwidth / 2.0;\n    float halfwidth = width / 2.0;\n    offset = -1.0 * offset;\n\n    float inset = gapwidth + (gapwidth > 0.0 ? ANTIALIASING : 0.0);\n    float outset = gapwidth + halfwidth * (gapwidth > 0.0 ? 2.0 : 1.0) + ANTIALIASING;\n\n    // Scale the extrusion vector down to a normal and then up by the line width\n    // of this vertex.\n    mediump vec2 dist = outset * a_extrude * scale;\n\n    // Calculate the offset when drawing a line that is to the side of the actual line.\n    // We do this by creating a vector that points towards the extrude, but rotate\n    // it when we're drawing round end points (a_direction = -1 or 1) since their\n    // extrude vector points in another direction.\n    mediump float u = 0.5 * a_direction;\n    mediump float t = 1.0 - abs(u);\n    mediump vec2 offset2 = offset * a_extrude * scale * normal.y * mat2(t, -u, u, t);\n\n    vec4 projected_extrude = u_matrix * vec4(dist / u_ratio, 0.0, 0.0);\n    gl_Position = u_matrix * vec4(pos + offset2 / u_ratio, 0.0, 1.0) + projected_extrude;\n\n    // calculate how much the perspective view squishes or stretches the extrude\n    float extrude_length_without_perspective = length(dist);\n    float extrude_length_with_perspective = length(projected_extrude.xy / gl_Position.w * u_gl_units_to_pixels);\n    v_gamma_scale = extrude_length_without_perspective / extrude_length_with_perspective;\n\n    v_linesofar = a_linesofar;\n    v_width2 = vec2(outset, inset);\n}\n"},lineSDF:{fragmentSource:"\nuniform sampler2D u_image;\nuniform float u_sdfgamma;\nuniform float u_mix;\n\nvarying vec2 v_normal;\nvarying vec2 v_width2;\nvarying vec2 v_tex_a;\nvarying vec2 v_tex_b;\nvarying float v_gamma_scale;\n\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize mediump float width\n    #pragma mapbox: initialize lowp float floorwidth\n\n    // Calculate the distance of the pixel from the line in pixels.\n    float dist = length(v_normal) * v_width2.s;\n\n    // Calculate the antialiasing fade factor. This is either when fading in\n    // the line in case of an offset line (v_width2.t) or when fading out\n    // (v_width2.s)\n    float blur2 = (blur + 1.0 / DEVICE_PIXEL_RATIO) * v_gamma_scale;\n    float alpha = clamp(min(dist - (v_width2.t - blur2), v_width2.s - dist) / blur2, 0.0, 1.0);\n\n    float sdfdist_a = texture2D(u_image, v_tex_a).a;\n    float sdfdist_b = texture2D(u_image, v_tex_b).a;\n    float sdfdist = mix(sdfdist_a, sdfdist_b, u_mix);\n    alpha *= smoothstep(0.5 - u_sdfgamma / floorwidth, 0.5 + u_sdfgamma / floorwidth, sdfdist);\n\n    gl_FragColor = color * (alpha * opacity);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"// floor(127 / 2) == 63.0\n// the maximum allowed miter limit is 2.0 at the moment. the extrude normal is\n// stored in a byte (-128..127). we scale regular normals up to length 63, but\n// there are also \"special\" normals that have a bigger length (of up to 126 in\n// this case).\n// #define scale 63.0\n#define scale 0.015873016\n\n// We scale the distance before adding it to the buffers so that we can store\n// long distances for long segments. Use this value to unscale the distance.\n#define LINE_DISTANCE_SCALE 2.0\n\n// the distance over which the line edge fades out.\n// Retina devices need a smaller distance to avoid aliasing.\n#define ANTIALIASING 1.0 / DEVICE_PIXEL_RATIO / 2.0\n\nattribute vec4 a_pos_normal;\nattribute vec4 a_data;\n\nuniform mat4 u_matrix;\nuniform mediump float u_ratio;\nuniform vec2 u_patternscale_a;\nuniform float u_tex_y_a;\nuniform vec2 u_patternscale_b;\nuniform float u_tex_y_b;\nuniform vec2 u_gl_units_to_pixels;\n\nvarying vec2 v_normal;\nvarying vec2 v_width2;\nvarying vec2 v_tex_a;\nvarying vec2 v_tex_b;\nvarying float v_gamma_scale;\n\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize mediump float gapwidth\n    #pragma mapbox: initialize lowp float offset\n    #pragma mapbox: initialize mediump float width\n    #pragma mapbox: initialize lowp float floorwidth\n\n    vec2 a_extrude = a_data.xy - 128.0;\n    float a_direction = mod(a_data.z, 4.0) - 1.0;\n    float a_linesofar = (floor(a_data.z / 4.0) + a_data.w * 64.0) * LINE_DISTANCE_SCALE;\n\n    vec2 pos = a_pos_normal.xy;\n\n    // x is 1 if it's a round cap, 0 otherwise\n    // y is 1 if the normal points up, and -1 if it points down\n    mediump vec2 normal = a_pos_normal.zw;\n    v_normal = normal;\n\n    // these transformations used to be applied in the JS and native code bases.\n    // moved them into the shader for clarity and simplicity.\n    gapwidth = gapwidth / 2.0;\n    float halfwidth = width / 2.0;\n    offset = -1.0 * offset;\n\n    float inset = gapwidth + (gapwidth > 0.0 ? ANTIALIASING : 0.0);\n    float outset = gapwidth + halfwidth * (gapwidth > 0.0 ? 2.0 : 1.0) + ANTIALIASING;\n\n    // Scale the extrusion vector down to a normal and then up by the line width\n    // of this vertex.\n    mediump vec2 dist =outset * a_extrude * scale;\n\n    // Calculate the offset when drawing a line that is to the side of the actual line.\n    // We do this by creating a vector that points towards the extrude, but rotate\n    // it when we're drawing round end points (a_direction = -1 or 1) since their\n    // extrude vector points in another direction.\n    mediump float u = 0.5 * a_direction;\n    mediump float t = 1.0 - abs(u);\n    mediump vec2 offset2 = offset * a_extrude * scale * normal.y * mat2(t, -u, u, t);\n\n    vec4 projected_extrude = u_matrix * vec4(dist / u_ratio, 0.0, 0.0);\n    gl_Position = u_matrix * vec4(pos + offset2 / u_ratio, 0.0, 1.0) + projected_extrude;\n\n    // calculate how much the perspective view squishes or stretches the extrude\n    float extrude_length_without_perspective = length(dist);\n    float extrude_length_with_perspective = length(projected_extrude.xy / gl_Position.w * u_gl_units_to_pixels);\n    v_gamma_scale = extrude_length_without_perspective / extrude_length_with_perspective;\n\n    v_tex_a = vec2(a_linesofar * u_patternscale_a.x / floorwidth, normal.y * u_patternscale_a.y + u_tex_y_a);\n    v_tex_b = vec2(a_linesofar * u_patternscale_b.x / floorwidth, normal.y * u_patternscale_b.y + u_tex_y_b);\n\n    v_width2 = vec2(outset, inset);\n}\n"},raster:{fragmentSource:"uniform float u_fade_t;\nuniform float u_opacity;\nuniform sampler2D u_image0;\nuniform sampler2D u_image1;\nvarying vec2 v_pos0;\nvarying vec2 v_pos1;\n\nuniform float u_brightness_low;\nuniform float u_brightness_high;\n\nuniform float u_saturation_factor;\nuniform float u_contrast_factor;\nuniform vec3 u_spin_weights;\n\nvoid main() {\n\n    // read and cross-fade colors from the main and parent tiles\n    vec4 color0 = texture2D(u_image0, v_pos0);\n    vec4 color1 = texture2D(u_image1, v_pos1);\n    if (color0.a > 0.0) {\n        color0.rgb = color0.rgb / color0.a;\n    }\n    if (color1.a > 0.0) {\n        color1.rgb = color1.rgb / color1.a;\n    }\n    vec4 color = mix(color0, color1, u_fade_t);\n    color.a *= u_opacity;\n    vec3 rgb = color.rgb;\n\n    // spin\n    rgb = vec3(\n        dot(rgb, u_spin_weights.xyz),\n        dot(rgb, u_spin_weights.zxy),\n        dot(rgb, u_spin_weights.yzx));\n\n    // saturation\n    float average = (color.r + color.g + color.b) / 3.0;\n    rgb += (average - rgb) * u_saturation_factor;\n\n    // contrast\n    rgb = (rgb - 0.5) * u_contrast_factor + 0.5;\n\n    // brightness\n    vec3 u_high_vec = vec3(u_brightness_low, u_brightness_low, u_brightness_low);\n    vec3 u_low_vec = vec3(u_brightness_high, u_brightness_high, u_brightness_high);\n\n    gl_FragColor = vec4(mix(u_high_vec, u_low_vec, rgb) * color.a, color.a);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec2 u_tl_parent;\nuniform float u_scale_parent;\nuniform float u_buffer_scale;\n\nattribute vec2 a_pos;\nattribute vec2 a_texture_pos;\n\nvarying vec2 v_pos0;\nvarying vec2 v_pos1;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n    // We are using Int16 for texture position coordinates to give us enough precision for\n    // fractional coordinates. We use 8192 to scale the texture coordinates in the buffer\n    // as an arbitrarily high number to preserve adequate precision when rendering.\n    // This is also the same value as the EXTENT we are using for our tile buffer pos coordinates,\n    // so math for modifying either is consistent.\n    v_pos0 = (((a_texture_pos / 8192.0) - 0.5) / u_buffer_scale ) + 0.5;\n    v_pos1 = (v_pos0 * u_scale_parent) + u_tl_parent;\n}\n"},symbolIcon:{fragmentSource:"uniform sampler2D u_texture;\nuniform sampler2D u_fadetexture;\n\n#pragma mapbox: define lowp float opacity\n\nvarying vec2 v_tex;\nvarying vec2 v_fade_tex;\n\nvoid main() {\n    #pragma mapbox: initialize lowp float opacity\n\n    lowp float alpha = texture2D(u_fadetexture, v_fade_tex).a * opacity;\n    gl_FragColor = texture2D(u_texture, v_tex) * alpha;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"const float PI = 3.141592653589793;\n\nattribute vec4 a_pos_offset;\nattribute vec4 a_data;\nattribute vec3 a_projected_pos;\n\nuniform bool u_is_size_zoom_constant;\nuniform bool u_is_size_feature_constant;\nuniform highp float u_size_t; // used to interpolate between zoom stops when size is a composite function\nuniform highp float u_size; // used when size is both zoom and feature constant\nuniform highp float u_camera_to_center_distance;\nuniform highp float u_pitch;\nuniform bool u_rotate_symbol;\nuniform highp float u_aspect_ratio;\nuniform highp float u_collision_y_stretch;\n\n#pragma mapbox: define lowp float opacity\n\nuniform mat4 u_matrix;\nuniform mat4 u_label_plane_matrix;\nuniform mat4 u_gl_coord_matrix;\n\nuniform bool u_is_text;\nuniform bool u_pitch_with_map;\n\nuniform vec2 u_texsize;\n\nvarying vec2 v_tex;\nvarying vec2 v_fade_tex;\n\nvoid main() {\n    #pragma mapbox: initialize lowp float opacity\n\n    vec2 a_pos = a_pos_offset.xy;\n    vec2 a_offset = a_pos_offset.zw;\n\n    vec2 a_tex = a_data.xy;\n    vec2 a_size = a_data.zw;\n\n    highp vec2 angle_labelminzoom = unpack_float(a_projected_pos[2]);\n    highp float segment_angle = -angle_labelminzoom[0] / 255.0 * 2.0 * PI;\n    mediump float a_labelminzoom = angle_labelminzoom[1];\n\n    float size;\n    if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {\n        size = mix(a_size[0], a_size[1], u_size_t) / 10.0;\n    } else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {\n        size = a_size[0] / 10.0;\n    } else if (!u_is_size_zoom_constant && u_is_size_feature_constant) {\n        size = u_size;\n    } else {\n        size = u_size;\n    }\n\n    vec4 projectedPoint = u_matrix * vec4(a_pos, 0, 1);\n    highp float camera_to_anchor_distance = projectedPoint.w;\n    // See comments in symbol_sdf.vertex\n    highp float distance_ratio = u_pitch_with_map ?\n        camera_to_anchor_distance / u_camera_to_center_distance :\n        u_camera_to_center_distance / camera_to_anchor_distance;\n    highp float perspective_ratio = 0.5 + 0.5 * distance_ratio;\n\n    size *= perspective_ratio;\n\n    float fontScale = u_is_text ? size / 24.0 : size;\n\n    highp float symbol_rotation = 0.0;\n    if (u_rotate_symbol) {\n        // See comments in symbol_sdf.vertex\n        vec4 offsetProjectedPoint = u_matrix * vec4(a_pos + vec2(1, 0), 0, 1);\n\n        vec2 a = projectedPoint.xy / projectedPoint.w;\n        vec2 b = offsetProjectedPoint.xy / offsetProjectedPoint.w;\n\n        symbol_rotation = atan((b.y - a.y) / u_aspect_ratio, b.x - a.x);\n    }\n\n    highp float angle_sin = sin(segment_angle + symbol_rotation);\n    highp float angle_cos = cos(segment_angle + symbol_rotation);\n    mat2 rotation_matrix = mat2(angle_cos, -1.0 * angle_sin, angle_sin, angle_cos);\n\n    vec4 projected_pos = u_label_plane_matrix * vec4(a_projected_pos.xy, 0.0, 1.0);\n    gl_Position = u_gl_coord_matrix * vec4(projected_pos.xy / projected_pos.w + rotation_matrix * (a_offset / 64.0 * fontScale), 0.0, 1.0);\n\n    v_tex = a_tex / u_texsize;\n    // See comments in symbol_sdf.vertex\n    highp float incidence_stretch  = camera_to_anchor_distance / (u_camera_to_center_distance * cos(u_pitch));\n    highp float collision_adjustment = max(1.0, incidence_stretch / u_collision_y_stretch);\n\n    highp float collision_perspective_ratio = 1.0 + 0.5*((camera_to_anchor_distance / u_camera_to_center_distance) - 1.0);\n    highp float perspective_zoom_adjust = floor(log2(collision_perspective_ratio * collision_adjustment) * 10.0);\n    v_fade_tex = vec2((a_labelminzoom + perspective_zoom_adjust) / 255.0, 0.0);\n}\n"},symbolSDF:{fragmentSource:"#define SDF_PX 8.0\n#define EDGE_GAMMA 0.105/DEVICE_PIXEL_RATIO\n\nuniform bool u_is_halo;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\n\nuniform sampler2D u_texture;\nuniform sampler2D u_fadetexture;\nuniform highp float u_gamma_scale;\nuniform bool u_is_text;\n\nvarying vec4 v_data0;\nvarying vec2 v_data1;\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 fill_color\n    #pragma mapbox: initialize highp vec4 halo_color\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize lowp float halo_width\n    #pragma mapbox: initialize lowp float halo_blur\n\n    vec2 tex = v_data0.xy;\n    vec2 fade_tex = v_data0.zw;\n    float gamma_scale = v_data1.x;\n    float size = v_data1.y;\n\n    float fontScale = u_is_text ? size / 24.0 : size;\n\n    lowp vec4 color = fill_color;\n    highp float gamma = EDGE_GAMMA / (fontScale * u_gamma_scale);\n    lowp float buff = (256.0 - 64.0) / 256.0;\n    if (u_is_halo) {\n        color = halo_color;\n        gamma = (halo_blur * 1.19 / SDF_PX + EDGE_GAMMA) / (fontScale * u_gamma_scale);\n        buff = (6.0 - halo_width / fontScale) / SDF_PX;\n    }\n\n    lowp float dist = texture2D(u_texture, tex).a;\n    lowp float fade_alpha = texture2D(u_fadetexture, fade_tex).a;\n    highp float gamma_scaled = gamma * gamma_scale;\n    highp float alpha = smoothstep(buff - gamma_scaled, buff + gamma_scaled, dist) * fade_alpha;\n\n    gl_FragColor = color * (alpha * opacity);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"const float PI = 3.141592653589793;\n\nattribute vec4 a_pos_offset;\nattribute vec4 a_data;\nattribute vec3 a_projected_pos;\n\n// contents of a_size vary based on the type of property value\n// used for {text,icon}-size.\n// For constants, a_size is disabled.\n// For source functions, we bind only one value per vertex: the value of {text,icon}-size evaluated for the current feature.\n// For composite functions:\n// [ text-size(lowerZoomStop, feature),\n//   text-size(upperZoomStop, feature) ]\nuniform bool u_is_size_zoom_constant;\nuniform bool u_is_size_feature_constant;\nuniform highp float u_size_t; // used to interpolate between zoom stops when size is a composite function\nuniform highp float u_size; // used when size is both zoom and feature constant\n\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\n\nuniform mat4 u_matrix;\nuniform mat4 u_label_plane_matrix;\nuniform mat4 u_gl_coord_matrix;\n\nuniform bool u_is_text;\nuniform bool u_pitch_with_map;\nuniform highp float u_pitch;\nuniform bool u_rotate_symbol;\nuniform highp float u_aspect_ratio;\nuniform highp float u_camera_to_center_distance;\nuniform highp float u_collision_y_stretch;\n\nuniform vec2 u_texsize;\n\nvarying vec4 v_data0;\nvarying vec2 v_data1;\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 fill_color\n    #pragma mapbox: initialize highp vec4 halo_color\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize lowp float halo_width\n    #pragma mapbox: initialize lowp float halo_blur\n\n    vec2 a_pos = a_pos_offset.xy;\n    vec2 a_offset = a_pos_offset.zw;\n\n    vec2 a_tex = a_data.xy;\n    vec2 a_size = a_data.zw;\n\n    highp vec2 angle_labelminzoom = unpack_float(a_projected_pos[2]);\n    highp float segment_angle = -angle_labelminzoom[0] / 255.0 * 2.0 * PI;\n    mediump float a_labelminzoom = angle_labelminzoom[1];\n    float size;\n\n    if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {\n        size = mix(a_size[0], a_size[1], u_size_t) / 10.0;\n    } else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {\n        size = a_size[0] / 10.0;\n    } else if (!u_is_size_zoom_constant && u_is_size_feature_constant) {\n        size = u_size;\n    } else {\n        size = u_size;\n    }\n\n    vec4 projectedPoint = u_matrix * vec4(a_pos, 0, 1);\n    highp float camera_to_anchor_distance = projectedPoint.w;\n    // If the label is pitched with the map, layout is done in pitched space,\n    // which makes labels in the distance smaller relative to viewport space.\n    // We counteract part of that effect by multiplying by the perspective ratio.\n    // If the label isn't pitched with the map, we do layout in viewport space,\n    // which makes labels in the distance larger relative to the features around\n    // them. We counteract part of that effect by dividing by the perspective ratio.\n    highp float distance_ratio = u_pitch_with_map ?\n        camera_to_anchor_distance / u_camera_to_center_distance :\n        u_camera_to_center_distance / camera_to_anchor_distance;\n    highp float perspective_ratio = 0.5 + 0.5 * distance_ratio;\n\n    size *= perspective_ratio;\n\n    float fontScale = u_is_text ? size / 24.0 : size;\n\n    highp float symbol_rotation = 0.0;\n    if (u_rotate_symbol) {\n        // Point labels with 'rotation-alignment: map' are horizontal with respect to tile units\n        // To figure out that angle in projected space, we draw a short horizontal line in tile\n        // space, project it, and measure its angle in projected space.\n        vec4 offsetProjectedPoint = u_matrix * vec4(a_pos + vec2(1, 0), 0, 1);\n\n        vec2 a = projectedPoint.xy / projectedPoint.w;\n        vec2 b = offsetProjectedPoint.xy / offsetProjectedPoint.w;\n\n        symbol_rotation = atan((b.y - a.y) / u_aspect_ratio, b.x - a.x);\n    }\n\n    highp float angle_sin = sin(segment_angle + symbol_rotation);\n    highp float angle_cos = cos(segment_angle + symbol_rotation);\n    mat2 rotation_matrix = mat2(angle_cos, -1.0 * angle_sin, angle_sin, angle_cos);\n\n    vec4 projected_pos = u_label_plane_matrix * vec4(a_projected_pos.xy, 0.0, 1.0);\n    gl_Position = u_gl_coord_matrix * vec4(projected_pos.xy / projected_pos.w + rotation_matrix * (a_offset / 64.0 * fontScale), 0.0, 1.0);\n    float gamma_scale = gl_Position.w;\n\n    vec2 tex = a_tex / u_texsize;\n    // incidence_stretch is the ratio of how much y space a label takes up on a tile while drawn perpendicular to the viewport vs\n    //  how much space it would take up if it were drawn flat on the tile\n    // Using law of sines, camera_to_anchor/sin(ground_angle) = camera_to_center/sin(incidence_angle)\n    // sin(incidence_angle) = 1/incidence_stretch\n    // Incidence angle 90 -> head on, sin(incidence_angle) = 1, no incidence stretch\n    // Incidence angle 1 -> very oblique, sin(incidence_angle) =~ 0, lots of incidence stretch\n    // ground_angle = u_pitch + PI/2 -> sin(ground_angle) = cos(u_pitch)\n    // This 2D calculation is only exactly correct when gl_Position.x is in the center of the viewport,\n    //  but it's a close enough approximation for our purposes\n    highp float incidence_stretch  = camera_to_anchor_distance / (u_camera_to_center_distance * cos(u_pitch));\n    // incidence_stretch only applies to the y-axis, but without re-calculating the collision tile, we can't\n    // adjust the size of only one axis. So, we do a crude approximation at placement time to get the aspect ratio\n    // about right, and then do the rest of the adjustment here: there will be some extra padding on the x-axis,\n    // but hopefully not too much.\n    // Never make the adjustment less than 1.0: instead of allowing collisions on the x-axis, be conservative on\n    // the y-axis.\n    highp float collision_adjustment = max(1.0, incidence_stretch / u_collision_y_stretch);\n\n    // Floor to 1/10th zoom to dodge precision issues that can cause partially hidden labels\n    highp float collision_perspective_ratio = 1.0 + 0.5*((camera_to_anchor_distance / u_camera_to_center_distance) - 1.0);\n    highp float perspective_zoom_adjust = floor(log2(collision_perspective_ratio * collision_adjustment) * 10.0);\n    vec2 fade_tex = vec2((a_labelminzoom + perspective_zoom_adjust) / 255.0, 0.0);\n\n    v_data0 = vec4(tex.x, tex.y, fade_tex.x, fade_tex.y);\n    v_data1 = vec2(gamma_scale, size);\n}\n"}},o=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,r=function(t){var e=n[t],s={};e.fragmentSource=e.fragmentSource.replace(o,function(t,e,i,n,o){return s[o]=!0,"define"===e?"\n#ifndef HAS_UNIFORM_u_"+o+"\nvarying "+i+" "+n+" "+o+";\n#else\nuniform "+i+" "+n+" u_"+o+";\n#endif\n":"\n#ifdef HAS_UNIFORM_u_"+o+"\n    "+i+" "+n+" "+o+" = u_"+o+";\n#endif\n"}),e.vertexSource=e.vertexSource.replace(o,function(t,e,i,n,o){var r="float"===n?"vec2":"vec4";return s[o]?"define"===e?"\n#ifndef HAS_UNIFORM_u_"+o+"\nuniform lowp float a_"+o+"_t;\nattribute "+i+" "+r+" a_"+o+";\nvarying "+i+" "+n+" "+o+";\n#else\nuniform "+i+" "+n+" u_"+o+";\n#endif\n":"\n#ifndef HAS_UNIFORM_u_"+o+"\n    "+o+" = unpack_mix_"+r+"(a_"+o+", a_"+o+"_t);\n#else\n    "+i+" "+n+" "+o+" = u_"+o+";\n#endif\n":"define"===e?"\n#ifndef HAS_UNIFORM_u_"+o+"\nuniform lowp float a_"+o+"_t;\nattribute "+i+" "+r+" a_"+o+";\n#else\nuniform "+i+" "+n+" u_"+o+";\n#endif\n":"\n#ifndef HAS_UNIFORM_u_"+o+"\n    "+i+" "+n+" "+o+" = unpack_mix_"+r+"(a_"+o+", a_"+o+"_t);\n#else\n    "+i+" "+n+" "+o+" = u_"+o+";\n#endif\n"})};for(var s in n)r(s);e.exports=n},{}],99:[function(t,e,i){"use strict";var n=t("./image_source"),r=t("../util/window"),o=function(o){function t(t,e,i,n){o.call(this,t,e,i,n),this.options=e,this.animate=void 0===e.animate||e.animate}return o&&(t.__proto__=o),((t.prototype=Object.create(o&&o.prototype)).constructor=t).prototype.load=function(){if(this.canvas=this.canvas||r.document.getElementById(this.options.canvas),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions())return this.fire("error",new Error("Canvas dimensions cannot be less than or equal to zero."));var t;this.play=function(){void 0===t&&(t=this.map.style.animationLoop.set(1/0),this.map._rerender())},this.pause=function(){void 0!==t&&(t=this.map.style.animationLoop.cancel(t))},this._finishLoading()},t.prototype.getCanvas=function(){return this.canvas},t.prototype.onAdd=function(t){this.map=t,this.load(),this.canvas&&this.animate&&this.play()},t.prototype.onRemove=function(){this.pause()},t.prototype.prepare=function(){var t=!1;this.canvas.width!==this.width&&(this.width=this.canvas.width,t=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,t=!0),this._hasInvalidDimensions()||0!==Object.keys(this.tiles).length&&this._prepareImage(this.map.painter.gl,this.canvas,t)},t.prototype.serialize=function(){return{type:"canvas",canvas:this.canvas,coordinates:this.coordinates}},t.prototype._hasInvalidDimensions=function(){for(var t=0,e=[this.canvas.width,this.canvas.height];t<e.length;t+=1){var i=e[t];if(isNaN(i)||i<=0)return!0}return!1},t}(n);e.exports=o},{"../util/window":233,"./image_source":103}],100:[function(t,e,i){"use strict";var n=t("../util/evented"),s=t("../util/util"),a=t("../util/window"),l=t("../data/extent"),u=t("../util/ajax").ResourceType,h=t("../util/browser"),o=function(r){function t(t,e,i,n){r.call(this),this.id=t,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this.dispatcher=i,this.setEventedParent(n),this._data=e.data,this._options=s.extend({},e),void 0!==e.maxzoom&&(this.maxzoom=e.maxzoom),e.type&&(this.type=e.type);var o=l/this.tileSize;this.workerOptions=s.extend({source:this.id,cluster:e.cluster||!1,geojsonVtOptions:{buffer:(void 0!==e.buffer?e.buffer:128)*o,tolerance:(void 0!==e.tolerance?e.tolerance:.375)*o,extent:l,maxZoom:this.maxzoom},superclusterOptions:{maxZoom:void 0!==e.clusterMaxZoom?Math.min(e.clusterMaxZoom,this.maxzoom-1):this.maxzoom-1,extent:l,radius:(e.clusterRadius||50)*o,log:!1}},e.workerOptions)}return r&&(t.__proto__=r),((t.prototype=Object.create(r&&r.prototype)).constructor=t).prototype.load=function(){var e=this;this.fire("dataloading",{dataType:"source"}),this._updateWorkerData(function(t){t?e.fire("error",{error:t}):e.fire("data",{dataType:"source",sourceDataType:"metadata"})})},t.prototype.onAdd=function(t){this.map=t,this.load()},t.prototype.setData=function(t){var e=this;return this._data=t,this.fire("dataloading",{dataType:"source"}),this._updateWorkerData(function(t){if(t)return e.fire("error",{error:t});e.fire("data",{dataType:"source",sourceDataType:"content"})}),this},t.prototype._updateWorkerData=function(e){var t,i,n=this,o=s.extend({},this.workerOptions),r=this._data;"string"==typeof r?o.request=this.map._transformRequest((t=r,(i=a.document.createElement("a")).href=t,i.href),u.Source):o.data=JSON.stringify(r),this.workerID=this.dispatcher.send(this.type+".loadData",o,function(t){n._loaded=!0,e(t)},this.workerID)},t.prototype.loadTile=function(i,n){var o=this,t=void 0===i.workerID||"expired"===i.state?"loadTile":"reloadTile",e={type:this.type,uid:i.uid,coord:i.coord,zoom:i.coord.z,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:h.devicePixelRatio,overscaling:i.coord.z>this.maxzoom?Math.pow(2,i.coord.z-this.maxzoom):1,angle:this.map.transform.angle,pitch:this.map.transform.pitch,cameraToCenterDistance:this.map.transform.cameraToCenterDistance,cameraToTileDistance:this.map.transform.cameraToTileDistance(i),showCollisionBoxes:this.map.showCollisionBoxes};i.workerID=this.dispatcher.send(t,e,function(t,e){if(i.unloadVectorData(),!i.aborted)return t?n(t):(i.loadVectorData(e,o.map.painter),i.redoWhenDone&&(i.redoWhenDone=!1,i.redoPlacement(o)),n(null))},this.workerID)},t.prototype.abortTile=function(t){t.aborted=!0},t.prototype.unloadTile=function(t){t.unloadVectorData(),this.dispatcher.send("removeTile",{uid:t.uid,type:this.type,source:this.id},function(){},t.workerID)},t.prototype.onRemove=function(){this.dispatcher.broadcast("removeSource",{type:this.type,source:this.id},function(){})},t.prototype.serialize=function(){return s.extend({},this._options,{type:this.type,data:this._data})},t}(n);e.exports=o},{"../data/extent":58,"../util/ajax":230,"../util/browser":231,"../util/evented":239,"../util/util":252,"../util/window":233}],101:[function(t,e,i){"use strict";function n(t,e){var i=t.source,n=t.coord;if(!this._geoJSONIndexes[i])return e(null,null);var o=this._geoJSONIndexes[i].getTile(Math.min(n.z,t.maxZoom),n.x,n.y);if(!o)return e(null,null);var r=new a(o.features),s=l(r);0===s.byteOffset&&s.byteLength===s.buffer.byteLength||(s=new Uint8Array(s)),e(null,{vectorTile:r,rawData:s.buffer})}var r=t("../util/ajax"),s=t("geojson-rewind"),a=t("./geojson_wrapper"),l=t("vt-pbf"),u=t("supercluster"),h=t("geojson-vt"),o=function(o){function t(t,e,i){o.call(this,t,e,n),i&&(this.loadGeoJSON=i),this._geoJSONIndexes={}}return o&&(t.__proto__=o),((t.prototype=Object.create(o&&o.prototype)).constructor=t).prototype.loadData=function(i,n){var o=this;this.loadGeoJSON(i,function(t,e){if(t||!e)return n(t);if("object"!=typeof e)return n(new Error("Input data is not a valid GeoJSON object."));s(e,!0);try{o._geoJSONIndexes[i.source]=i.cluster?u(i.superclusterOptions).load(e.features):h(e,i.geojsonVtOptions)}catch(t){return n(t)}o.loaded[i.source]={},n(null)})},t.prototype.reloadTile=function(t,e){var i=this.loaded[t.source],n=t.uid;return i&&i[n]?o.prototype.reloadTile.call(this,t,e):this.loadTile(t,e)},t.prototype.loadGeoJSON=function(t,e){if(t.request)r.getJSON(t.request,e);else{if("string"!=typeof t.data)return e(new Error("Input data is not a valid GeoJSON object."));try{return e(null,JSON.parse(t.data))}catch(t){return e(new Error("Input data is not a valid GeoJSON object."))}}},t.prototype.removeSource=function(t){this._geoJSONIndexes[t.source]&&delete this._geoJSONIndexes[t.source]},t}(t("./vector_tile_worker_source"));e.exports=o},{"../util/ajax":230,"./geojson_wrapper":102,"./vector_tile_worker_source":115,"geojson-rewind":14,"geojson-vt":18,supercluster:41,"vt-pbf":46}],102:[function(t,e,i){"use strict";var c=t("@mapbox/point-geometry"),n=t("@mapbox/vector-tile").VectorTileFeature.prototype.toGeoJSON,o=t("../data/extent"),r=function(t){this._feature=t,this.extent=o,this.type=t.type,this.properties=t.tags,"id"in t&&!isNaN(t.id)&&(this.id=parseInt(t.id,10))};r.prototype.loadGeometry=function(){if(1===this._feature.type){for(var t=[],e=0,i=this._feature.geometry;e<i.length;e+=1){var n=i[e];t.push([new c(n[0],n[1])])}return t}for(var o=[],r=0,s=this._feature.geometry;r<s.length;r+=1){for(var a=[],l=0,u=s[r];l<u.length;l+=1){var h=u[l];a.push(new c(h[0],h[1]))}o.push(a)}return o},r.prototype.toGeoJSON=function(t,e,i){return n.call(this,t,e,i)};var s=function(t){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=o,this.length=t.length,this._features=t};s.prototype.feature=function(t){return new r(this._features[t])},e.exports=s},{"../data/extent":58,"@mapbox/point-geometry":2,"@mapbox/vector-tile":6}],103:[function(t,e,i){"use strict";var r=t("../util/util"),s=t("../util/window"),a=t("./tile_coord"),l=t("../geo/lng_lat"),u=t("@mapbox/point-geometry"),n=t("../util/evented"),h=t("../util/ajax"),c=t("../util/browser"),p=t("../data/extent"),d=t("../data/raster_bounds_array"),f=t("../gl/vertex_buffer"),m=t("../render/vertex_array_object"),g=t("../render/texture"),o=function(o){function t(t,e,i,n){o.call(this),this.id=t,this.dispatcher=i,this.coordinates=e.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this.setEventedParent(n),this.options=e,this.textureLoaded=!1}return o&&(t.__proto__=o),((t.prototype=Object.create(o&&o.prototype)).constructor=t).prototype.load=function(){var i=this;this.fire("dataloading",{dataType:"source"}),this.url=this.options.url,h.getImage(this.map._transformRequest(this.url,h.ResourceType.Image),function(t,e){t?i.fire("error",{error:t}):e&&(i.image=c.getImageData(e),i._finishLoading())})},t.prototype._finishLoading=function(){this.map&&(this.setCoordinates(this.coordinates),this.fire("data",{dataType:"source",sourceDataType:"metadata"}))},t.prototype.onAdd=function(t){this.map=t,this.load()},t.prototype.setCoordinates=function(t){this.coordinates=t;var e=this.map,i=t.map(function(t){return e.transform.locationCoordinate(l.convert(t)).zoomTo(0)}),n=this.centerCoord=r.getCoordinatesCenter(i);n.column=Math.floor(n.column),n.row=Math.floor(n.row),this.coord=new a(n.zoom,n.column,n.row),this.minzoom=this.maxzoom=n.zoom;var o=i.map(function(t){var e=t.zoomTo(n.zoom);return new u(Math.round((e.column-n.column)*p),Math.round((e.row-n.row)*p))});return this._boundsArray=new d,this._boundsArray.emplaceBack(o[0].x,o[0].y,0,0),this._boundsArray.emplaceBack(o[1].x,o[1].y,p,0),this._boundsArray.emplaceBack(o[3].x,o[3].y,0,p),this._boundsArray.emplaceBack(o[2].x,o[2].y,p,p),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire("data",{dataType:"source",sourceDataType:"content"}),this},t.prototype.prepare=function(){0!==Object.keys(this.tiles).length&&this.image&&this._prepareImage(this.map.painter.gl,this.image)},t.prototype._prepareImage=function(t,e,i){for(var n in this.boundsBuffer||(this.boundsBuffer=new f(t,this._boundsArray)),this.boundsVAO||(this.boundsVAO=new m),this.textureLoaded?i?this.texture.update(e):(e instanceof s.HTMLVideoElement||e instanceof s.ImageData||e instanceof s.HTMLCanvasElement)&&(this.texture.bind(t.LINEAR,t.CLAMP_TO_EDGE),t.texSubImage2D(t.TEXTURE_2D,0,0,0,t.RGBA,t.UNSIGNED_BYTE,e)):(this.textureLoaded=!0,this.texture=new g(t,e,t.RGBA),this.texture.bind(t.LINEAR,t.CLAMP_TO_EDGE)),this.tiles){var o=this.tiles[n];"loaded"!==o.state&&(o.state="loaded",o.texture=this.texture)}},t.prototype.loadTile=function(t,e){this.coord&&this.coord.toString()===t.coord.toString()?(this.tiles[String(t.coord.w)]=t).buckets={}:t.state="errored",e(null)},t.prototype.serialize=function(){return{type:"image",url:this.options.url,coordinates:this.coordinates}},t}(n);e.exports=o},{"../data/extent":58,"../data/raster_bounds_array":64,"../geo/lng_lat":68,"../gl/vertex_buffer":72,"../render/texture":94,"../render/vertex_array_object":96,"../util/ajax":230,"../util/browser":231,"../util/evented":239,"../util/util":252,"../util/window":233,"./tile_coord":113,"@mapbox/point-geometry":2}],104:[function(t,e,i){"use strict";var o=t("../util/util"),r=t("../util/ajax"),s=t("../util/browser"),a=t("../util/mapbox").normalizeSourceURL;e.exports=function(t,e,n){var i=function(t,e){if(t)return n(t);if(e){var i=o.pick(e,["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds"]);e.vector_layers&&(i.vectorLayers=e.vector_layers,i.vectorLayerIds=i.vectorLayers.map(function(t){return t.id})),n(null,i)}};t.url?r.getJSON(e(a(t.url),r.ResourceType.Source),i):s.frame(function(){return i(null,t)})}},{"../util/ajax":230,"../util/browser":231,"../util/mapbox":246,"../util/util":252}],105:[function(t,e,i){"use strict";var n=t("../data/extent");e.exports=function(t,e,i){return e*(n/(t.tileSize*Math.pow(2,i-t.coord.z)))}},{"../data/extent":58}],106:[function(t,e,i){"use strict";function c(t,e){var i=t.coord,n=e.coord;return i.z-n.z||i.y-n.y||i.w-n.w||i.x-n.x}var l=t("./tile_coord");i.rendered=function(t,e,i,n,o,r){var s=t.tilesIn(i);s.sort(c);for(var a=[],l=0,u=s;l<u.length;l+=1){var h=u[l];a.push({wrappedTileID:h.coord.wrapped().id,queryResults:h.tile.queryRenderedFeatures(e,h.queryGeometry,h.scale,n,r)})}return function(t){for(var e={},i={},n=0,o=t;n<o.length;n+=1){var r=o[n],s=r.queryResults,a=r.wrappedTileID,l=i[a]=i[a]||{};for(var u in s)for(var h=s[u],c=l[u]=l[u]||{},p=e[u]=e[u]||[],d=0,f=h;d<f.length;d+=1){var m=f[d];c[m.featureIndex]||(c[m.featureIndex]=!0,p.push(m.feature))}}return e}(a)},i.source=function(e,t){for(var i=e.getRenderableIds().map(function(t){return e.getTileByID(t)}),n=[],o={},r=0;r<i.length;r++){var s=i[r],a=new l(Math.min(s.sourceMaxZoom,s.coord.z),s.coord.x,s.coord.y,0).id;o[a]||(o[a]=!0,s.querySourceFeatures(n,t))}return n}},{"./tile_coord":113}],107:[function(t,e,i){"use strict";var r=t("../util/util"),s=t("../util/ajax"),n=t("../util/evented"),a=t("./load_tilejson"),l=t("../util/mapbox").normalizeTileURL,u=t("./tile_bounds"),h=t("../render/texture"),o=function(o){function t(t,e,i,n){o.call(this),this.id=t,this.dispatcher=i,this.setEventedParent(n),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=r.extend({},e),r.extend(this,r.pick(e,["url","scheme","tileSize"]))}return o&&(t.__proto__=o),((t.prototype=Object.create(o&&o.prototype)).constructor=t).prototype.load=function(){var i=this;this.fire("dataloading",{dataType:"source"}),a(this._options,this.map._transformRequest,function(t,e){t?i.fire("error",t):e&&(r.extend(i,e),e.bounds&&(i.tileBounds=new u(e.bounds,i.minzoom,i.maxzoom)),i.fire("data",{dataType:"source",sourceDataType:"metadata"}),i.fire("data",{dataType:"source",sourceDataType:"content"}))})},t.prototype.onAdd=function(t){this.map=t,this.load()},t.prototype.serialize=function(){return r.extend({},this._options)},t.prototype.hasTile=function(t){return!this.tileBounds||this.tileBounds.contains(t,this.maxzoom)},t.prototype.loadTile=function(n,o){var r=this,t=l(n.coord.url(this.tiles,null,this.scheme),this.url,this.tileSize);n.request=s.getImage(this.map._transformRequest(t,s.ResourceType.Tile),function(t,e){if(delete n.request,n.aborted)n.state="unloaded",o(null);else if(t)n.state="errored",o(t);else if(e){r.map._refreshExpiredTiles&&n.setExpiryData(e),delete e.cacheControl,delete e.expires;var i=r.map.painter.gl;n.texture=r.map.painter.getTileTexture(e.width),n.texture?(n.texture.bind(i.LINEAR,i.CLAMP_TO_EDGE,i.LINEAR_MIPMAP_NEAREST),i.texSubImage2D(i.TEXTURE_2D,0,0,0,i.RGBA,i.UNSIGNED_BYTE,e)):(n.texture=new h(i,e,i.RGBA),n.texture.bind(i.LINEAR,i.CLAMP_TO_EDGE,i.LINEAR_MIPMAP_NEAREST),r.map.painter.extTextureFilterAnisotropic&&i.texParameterf(i.TEXTURE_2D,r.map.painter.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,r.map.painter.extTextureFilterAnisotropicMax)),i.generateMipmap(i.TEXTURE_2D),n.state="loaded",o(null)}})},t.prototype.abortTile=function(t){t.request&&(t.request.abort(),delete t.request)},t.prototype.unloadTile=function(t){t.texture&&this.map.painter.saveTileTexture(t.texture)},t}(n);e.exports=o},{"../render/texture":94,"../util/ajax":230,"../util/evented":239,"../util/mapbox":246,"../util/util":252,"./load_tilejson":104,"./tile_bounds":112}],108:[function(t,n,e){"use strict";var o=t("../util/ajax"),i=t("../util/evented"),r=t("../util/window"),s=!1,a=null;n.exports.evented=new i,n.exports.registerForPluginAvailability=function(t){return a?t({pluginBlobURL:a,errorCallback:n.exports.errorCallback}):n.exports.evented.once("pluginAvailable",t),t},n.exports.createBlobURL=function(t){return r.URL.createObjectURL(new r.Blob([t.data],{type:"text/javascript"}))},n.exports.clearRTLTextPlugin=function(){s=!1,a=null},n.exports.setRTLTextPlugin=function(t,i){if(s)throw new Error("setRTLTextPlugin cannot be called multiple times.");s=!0,n.exports.errorCallback=i,o.getArrayBuffer({url:t},function(t,e){t?i(t):e&&(a=n.exports.createBlobURL(e),n.exports.evented.fire("pluginAvailable",{pluginBlobURL:a,errorCallback:i}))})},n.exports.applyArabicShaping=null,n.exports.processBidirectionalText=null},{"../util/ajax":230,"../util/evented":239,"../util/window":233}],109:[function(t,e,i){"use strict";var r=t("../util/util"),s={vector:t("../source/vector_tile_source"),raster:t("../source/raster_tile_source"),geojson:t("../source/geojson_source"),video:t("../source/video_source"),image:t("../source/image_source"),canvas:t("../source/canvas_source")};i.create=function(t,e,i,n){var o=new s[e.type](t,e,i,n);if(o.id!==t)throw new Error("Expected Source id to be "+t+" instead of "+o.id);return r.bindAll(["load","abort","unload","serialize","prepare"],o),o},i.getType=function(t){return s[t]},i.setType=function(t,e){s[t]=e}},{"../source/canvas_source":99,"../source/geojson_source":100,"../source/image_source":103,"../source/raster_tile_source":107,"../source/vector_tile_source":114,"../source/video_source":116,"../util/util":252}],110:[function(t,e,i){"use strict";function g(t,e,i){var n=i.zoomTo(Math.min(t.z,e));return new l((n.column-(t.x+t.w*Math.pow(2,t.z)))*x,(n.row-t.y)*x)}function n(t,e){return t%32-e%32}var r=t("./source").create,s=t("./tile"),o=t("../util/evented"),_=t("./tile_coord"),a=t("../util/lru_cache"),v=t("../geo/coordinate"),b=t("../util/util"),x=t("../data/extent"),l=t("@mapbox/point-geometry"),u=function(o){function y(t,e,i){var n=this;o.call(this),this.id=t,this.dispatcher=i,this.on("data",function(t){"source"===t.dataType&&"metadata"===t.sourceDataType&&(n._sourceLoaded=!0),n._sourceLoaded&&!n._paused&&"source"===t.dataType&&"content"===t.sourceDataType&&(n.reload(),n.transform&&n.update(n.transform))}),this.on("error",function(){n._sourceErrored=!0}),this._source=r(t,e,i,this),this._tiles={},this._cache=new a(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._isIdRenderable=this._isIdRenderable.bind(this)}return o&&(y.__proto__=o),((y.prototype=Object.create(o&&o.prototype)).constructor=y).prototype.onAdd=function(t){this.map=t,this._maxTileCacheSize=t?t._maxTileCacheSize:null,this._source&&this._source.onAdd&&this._source.onAdd(t)},y.prototype.onRemove=function(t){this._source&&this._source.onRemove&&this._source.onRemove(t)},y.prototype.loaded=function(){if(this._sourceErrored)return!0;if(!this._sourceLoaded)return!1;for(var t in this._tiles){var e=this._tiles[t];if("loaded"!==e.state&&"errored"!==e.state)return!1}return!0},y.prototype.getSource=function(){return this._source},y.prototype.pause=function(){this._paused=!0},y.prototype.resume=function(){if(this._paused){var t=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,t&&this.reload(),this.transform&&this.update(this.transform)}},y.prototype._loadTile=function(t,e){return this._source.loadTile(t,e)},y.prototype._unloadTile=function(t){if(this._source.unloadTile)return this._source.unloadTile(t)},y.prototype._abortTile=function(t){if(this._source.abortTile)return this._source.abortTile(t)},y.prototype.serialize=function(){return this._source.serialize()},y.prototype.prepare=function(t){for(var e in this._source.prepare&&this._source.prepare(),this._tiles)this._tiles[e].upload(t)},y.prototype.getIds=function(){return Object.keys(this._tiles).map(Number).sort(n)},y.prototype.getRenderableIds=function(){return this.getIds().filter(this._isIdRenderable)},y.prototype.hasRenderableParent=function(t){var e=this.findLoadedParent(t,0,{});return!!e&&this._isIdRenderable(e.coord.id)},y.prototype._isIdRenderable=function(t){return this._tiles[t]&&this._tiles[t].hasData()&&!this._coveredTiles[t]},y.prototype.reload=function(){if(this._paused)this._shouldReloadOnResume=!0;else for(var t in this._cache.reset(),this._tiles)this._reloadTile(t,"reloading")},y.prototype._reloadTile=function(t,e){var i=this._tiles[t];i&&("loading"!==i.state&&(i.state=e),this._loadTile(i,this._tileLoaded.bind(this,i,t,e)))},y.prototype._tileLoaded=function(t,e,i,n){if(n)return t.state="errored",void(404!==n.status?this._source.fire("error",{tile:t,error:n}):this.update(this.transform));t.timeAdded=(new Date).getTime(),"expired"===i&&(t.refreshedUponExpiration=!0),this._setTileReloadTimer(e,t),this._source.fire("data",{dataType:"source",tile:t,coord:t.coord}),this.map&&(this.map.painter.tileExtentVAO.vao=null)},y.prototype.getTile=function(t){return this.getTileByID(t.id)},y.prototype.getTileByID=function(t){return this._tiles[t]},y.prototype.getZoom=function(t){return t.zoom+t.scaleZoom(t.tileSize/this._source.tileSize)},y.prototype._findLoadedChildren=function(t,e,i){var n=!1;for(var o in this._tiles){var r=this._tiles[o];if(!(i[o]||!r.hasData()||r.coord.z<=t.z||r.coord.z>e)){var s=Math.pow(2,Math.min(r.coord.z,this._source.maxzoom)-Math.min(t.z,this._source.maxzoom));if(Math.floor(r.coord.x/s)===t.x&&Math.floor(r.coord.y/s)===t.y)for(n=i[o]=!0;r&&r.coord.z-1>t.z;){var a=r.coord.parent(this._source.maxzoom);if(!a)break;(r=this._tiles[a.id])&&r.hasData()&&(delete i[o],i[a.id]=!0)}}}return n},y.prototype.findLoadedParent=function(t,e,i){for(var n=t.z-1;e<=n;n--){var o=t.parent(this._source.maxzoom);if(!o)return;t=o;var r=String(t.id),s=this._tiles[r];if(s&&s.hasData())return i[r]=!0,s;if(this._cache.has(r))return i[r]=!0,this._cache.getWithoutRemoving(r)}},y.prototype.updateCacheSize=function(t){var e=(Math.ceil(t.width/t.tileSize)+1)*(Math.ceil(t.height/t.tileSize)+1),i=Math.floor(5*e),n="number"==typeof this._maxTileCacheSize?Math.min(this._maxTileCacheSize,i):i;this._cache.setMaxSize(n)},y.prototype.update=function(t){var e,i=this;if(this.transform=t,this._sourceLoaded&&!this._paused){var n;this.updateCacheSize(t),this._coveredTiles={},this.used?this._source.coord?n=t.getVisibleWrappedCoordinates(this._source.coord):(n=t.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}),this._source.hasTile&&(n=n.filter(function(t){return i._source.hasTile(t)}))):n=[];var o,r=(this._source.roundZoom?Math.round:Math.floor)(this.getZoom(t)),s=Math.max(r-y.maxOverzooming,this._source.minzoom),a=Math.max(r+y.maxUnderzooming,this._source.minzoom),l=this._updateRetainedTiles(n,r),u={};if("raster"===(e=this._source.type)||"image"===e||"video"===e)for(var h=Object.keys(l),c=0;c<h.length;c++){var p=h[c],d=_.fromID(+p),f=i._tiles[p];if(f&&(void 0===f.fadeEndTime||f.fadeEndTime>=Date.now())){i._findLoadedChildren(d,a,l)&&(l[p]=!0);var m=i.findLoadedParent(d,s,u);m&&i._addTile(m.coord)}}for(o in u)l[o]||(i._coveredTiles[o]=!0);for(o in u)l[o]=!0;for(var g=b.keysDifference(this._tiles,l),v=0;v<g.length;v++)i._removeTile(g[v])}},y.prototype._updateRetainedTiles=function(t,e){var i,n,o,r,s={},a={},l=Math.max(e-y.maxOverzooming,this._source.minzoom);for(i=0;i<t.length;i++){n=t[i];var u=!1;if((o=this._addTile(n)).hasData())s[n.id]=!0;else{if(u=o.wasRequested(),r=s[n.id]=!0,e+1>this._source.maxzoom){var h=n.children(this._source.maxzoom)[0],c=this.getTile(h);c&&c.hasData()?s[h.id]=!0:r=!1}else for(var p=n.children(this._source.maxzoom),d=0;d<p.length;d++){var f=p[d],m=f?this.getTile(f):null;m&&m.hasData()?s[f.id]=!0:r=!1}if(!r)for(var g=e-1;l<=g;--g){var v=n.scaledTo(g,this._source.maxzoom);if(a[v.id])break;if(a[v.id]=!0,!(o=this.getTile(v))&&u&&(o=this._addTile(v)),o&&(s[v.id]=!0,u=o.wasRequested(),o.hasData()))break}}}return s},y.prototype._addTile=function(t){var e=this._tiles[t.id];if(e)return e;(e=this._cache.get(t.id))&&(e.redoPlacement(this._source),this._cacheTimers[t.id]&&(clearTimeout(this._cacheTimers[t.id]),delete this._cacheTimers[t.id],this._setTileReloadTimer(t.id,e)));var i=Boolean(e);if(!i){var n=t.z,o=n>this._source.maxzoom?Math.pow(2,n-this._source.maxzoom):1;e=new s(t,this._source.tileSize*o,this._source.maxzoom),this._loadTile(e,this._tileLoaded.bind(this,e,t.id,e.state))}return e?(e.uses++,this._tiles[t.id]=e,i||this._source.fire("dataloading",{tile:e,coord:e.coord,dataType:"source"}),e):null},y.prototype._setTileReloadTimer=function(t,e){var i=this,n=e.getExpiryTimeout();n&&(this._timers[t]=setTimeout(function(){i._reloadTile(t,"expired"),delete i._timers[t]},n))},y.prototype._setCacheInvalidationTimer=function(t,e){var i=this,n=e.getExpiryTimeout();n&&(this._cacheTimers[t]=setTimeout(function(){i._cache.remove(t),delete i._cacheTimers[t]},n))},y.prototype._removeTile=function(t){var e=this._tiles[t];if(e&&(e.uses--,delete this._tiles[t],this._timers[t]&&(clearTimeout(this._timers[t]),delete this._timers[t]),!(0<e.uses)))if(e.stopPlacementThrottler(),e.hasData()){var i=e.coord.wrapped().id;this._cache.add(i,e),this._setCacheInvalidationTimer(i,e)}else e.aborted=!0,this._abortTile(e),this._unloadTile(e)},y.prototype.clearTiles=function(){for(var t in this._shouldReloadOnResume=!1,this._paused=!1,this._tiles)this._removeTile(t);this._cache.reset()},y.prototype.tilesIn=function(t){for(var e=[],i=this.getIds(),n=1/0,o=1/0,r=-1/0,s=-1/0,a=t[0].zoom,l=0;l<t.length;l++){var u=t[l];n=Math.min(n,u.column),o=Math.min(o,u.row),r=Math.max(r,u.column),s=Math.max(s,u.row)}for(var h=0;h<i.length;h++){var c=this._tiles[i[h]],p=_.fromID(i[h]),d=[g(p,c.sourceMaxZoom,new v(n,o,a)),g(p,c.sourceMaxZoom,new v(r,s,a))];if(d[0].x<x&&d[0].y<x&&0<=d[1].x&&0<=d[1].y){for(var f=[],m=0;m<t.length;m++)f.push(g(p,c.sourceMaxZoom,t[m]));e.push({tile:c,coord:p,queryGeometry:[f],scale:Math.pow(2,this.transform.zoom-c.coord.z)})}}return e},y.prototype.redoPlacement=function(){for(var t=this.getIds(),e=0;e<t.length;e++)this.getTileByID(t[e]).redoPlacement(this._source)},y.prototype.getVisibleCoordinates=function(){for(var t=this.getRenderableIds().map(_.fromID),e=0,i=t;e<i.length;e+=1){var n=i[e];n.posMatrix=this.transform.calculatePosMatrix(n,this._source.maxzoom)}return t},y}(o);u.maxOverzooming=10,u.maxUnderzooming=3,e.exports=u},{"../data/extent":58,"../geo/coordinate":67,"../util/evented":239,"../util/lru_cache":245,"../util/util":252,"./source":109,"./tile":111,"./tile_coord":113,"@mapbox/point-geometry":2}],111:[function(t,e,i){"use strict";var p=t("../util/util"),o=t("../data/bucket").deserialize,r=t("../data/bucket/symbol_bucket"),n=t("../data/feature_index"),u=t("@mapbox/vector-tile"),h=t("pbf"),c=t("../util/vectortile_to_geojson"),d=t("../style-spec/feature_filter"),s=t("../symbol/collision_tile"),a=t("../symbol/collision_box"),l=t("../util/throttler"),f=t("../data/raster_bounds_array"),m=t("./tile_coord"),g=t("../data/extent"),v=t("@mapbox/point-geometry"),y=t("../gl/vertex_buffer"),_=t("../gl/index_buffer"),b=t("../render/texture"),x=t("../data/segment").SegmentVector,w=t("../data/index_array_type").TriangleIndexArray,T=function(t,e,i){this.coord=t,this.uid=p.uniqueId(),this.uses=0,this.tileSize=e,this.sourceMaxZoom=i,this.buckets={},this.expirationTime=null,this.expiredRequestCount=0,this.state="loading",this.placementThrottler=new l(300,this._immediateRedoPlacement.bind(this))};T.prototype.registerFadeDuration=function(t,e){var i=e+this.timeAdded;i<Date.now()||this.fadeEndTime&&i<this.fadeEndTime||(this.fadeEndTime=i,t.set(this.fadeEndTime-Date.now()))},T.prototype.wasRequested=function(){return"errored"===this.state||"loaded"===this.state||"reloading"===this.state},T.prototype.loadVectorData=function(t,e){this.hasData()&&this.unloadVectorData(),this.state="loaded",t&&(t.rawTileData&&(this.rawTileData=t.rawTileData),this.collisionBoxArray=new a(t.collisionBoxArray),this.collisionTile=s.deserialize(t.collisionTile,this.collisionBoxArray),this.featureIndex=n.deserialize(t.featureIndex,this.rawTileData,this.collisionTile),this.buckets=o(t.buckets,e.style),t.iconAtlasImage&&(this.iconAtlasImage=t.iconAtlasImage),t.glyphAtlasImage&&(this.glyphAtlasImage=t.glyphAtlasImage))},T.prototype.reloadSymbolData=function(t,e){if("unloaded"!==this.state){for(var i in this.collisionTile=s.deserialize(t.collisionTile,this.collisionBoxArray),this.featureIndex&&this.featureIndex.setCollisionTile(this.collisionTile),this.buckets){var n=this.buckets[i];n instanceof r&&(n.destroy(),delete this.buckets[i])}p.extend(this.buckets,o(t.buckets,e)),t.iconAtlasImage&&(this.iconAtlasImage=t.iconAtlasImage),t.glyphAtlasImage&&(this.glyphAtlasImage=t.glyphAtlasImage)}},T.prototype.unloadVectorData=function(){for(var t in this.buckets)this.buckets[t].destroy();this.buckets={},this.iconAtlasTexture&&this.iconAtlasTexture.destroy(),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.collisionBoxArray=null,this.collisionTile=null,this.featureIndex=null,this.state="unloaded"},T.prototype.redoPlacement=function(t){if("vector"===t.type||"geojson"===t.type){if("loaded"!==this.state)return void(this.redoWhenDone=!0);if(this.collisionTile){var e=t.map.transform.cameraToTileDistance(this);if(this.angle===t.map.transform.angle&&this.pitch===t.map.transform.pitch&&this.showCollisionBoxes===t.map.showCollisionBoxes){if(this.cameraToTileDistance===e&&this.cameraToCenterDistance===t.map.transform.cameraToCenterDistance)return;if(this.pitch<25)return this.cameraToTileDistance=e,void(this.cameraToCenterDistance=t.map.transform.cameraToCenterDistance)}this.angle=t.map.transform.angle,this.pitch=t.map.transform.pitch,this.cameraToCenterDistance=t.map.transform.cameraToCenterDistance,this.cameraToTileDistance=e,this.showCollisionBoxes=t.map.showCollisionBoxes,this.placementSource=t,this.state="reloading",this.placementThrottler.invoke()}}},T.prototype._immediateRedoPlacement=function(){var i=this;this.placementSource.dispatcher.send("redoPlacement",{type:this.placementSource.type,uid:this.uid,source:this.placementSource.id,angle:this.angle,pitch:this.pitch,cameraToCenterDistance:this.cameraToCenterDistance,cameraToTileDistance:this.cameraToTileDistance,showCollisionBoxes:this.showCollisionBoxes},function(t,e){"reloading"===i.state&&(i.state="loaded",i.reloadSymbolData(e,i.placementSource.map.style),i.placementSource.fire("data",{tile:i,coord:i.coord,dataType:"source"}),i.placementSource.map&&(i.placementSource.map.painter.tileExtentVAO.vao=null),i.redoWhenDone&&(i.state="reloading",i.redoWhenDone=!1,i._immediateRedoPlacement()))},this.workerID)},T.prototype.getBucket=function(t){return this.buckets[t.id]},T.prototype.upload=function(t){for(var e in this.buckets){var i=this.buckets[e];i.uploaded||(i.upload(t),i.uploaded=!0)}this.iconAtlasImage&&(this.iconAtlasTexture=new b(t,this.iconAtlasImage,t.RGBA),this.iconAtlasImage=null),this.glyphAtlasImage&&(this.glyphAtlasTexture=new b(t,this.glyphAtlasImage,t.ALPHA),this.glyphAtlasImage=null)},T.prototype.queryRenderedFeatures=function(t,e,i,n,o){if(!this.featureIndex)return{};var r=0;for(var s in t){var a=this.getBucket(t[s]);a&&(r=Math.max(r,t[s].queryRadius(a)))}return this.featureIndex.query({queryGeometry:e,bearing:o,params:n,scale:i,additionalRadius:r,tileSize:this.tileSize},t)},T.prototype.querySourceFeatures=function(t,e){if(this.rawTileData){this.vtLayers||(this.vtLayers=new u.VectorTile(new h(this.rawTileData)).layers);var i=e?e.sourceLayer:"",n=this.vtLayers._geojsonTileLayer||this.vtLayers[i];if(n)for(var o=d(e&&e.filter),r={z:this.coord.z,x:this.coord.x,y:this.coord.y},s=0;s<n.length;s++){var a=n.feature(s);if(o({zoom:this.coord.z},a)){var l=new c(a,this.coord.z,this.coord.x,this.coord.y);l.tile=r,t.push(l)}}}},T.prototype.clearMask=function(){this.segments&&(this.segments.destroy(),delete this.segments),this.maskedBoundsBuffer&&(this.maskedBoundsBuffer.destroy(),delete this.maskedBoundsBuffer),this.maskedIndexBuffer&&(this.maskedIndexBuffer.destroy(),delete this.maskedIndexBuffer)},T.prototype.setMask=function(t,e){if(!p.deepEqual(this.mask,t)&&(this.mask=t,this.clearMask(),!p.deepEqual(t,{0:!0}))){var i=new f,n=new w;this.segments=new x,this.segments.prepareSegment(0,i,n);for(var o=Object.keys(t),r=0;r<o.length;r++){var s=m.fromID(+o[r]),a=g>>s.z,l=new v(s.x*a,s.y*a),u=new v(l.x+a,l.y+a),h=this.segments.prepareSegment(4,i,n);i.emplaceBack(l.x,l.y,l.x,l.y),i.emplaceBack(u.x,l.y,u.x,l.y),i.emplaceBack(l.x,u.y,l.x,u.y),i.emplaceBack(u.x,u.y,u.x,u.y);var c=h.vertexLength;n.emplaceBack(c,c+1,c+2),n.emplaceBack(c+1,c+2,c+3),h.vertexLength+=4,h.primitiveLength+=2}this.maskedBoundsBuffer=new y(e,i),this.maskedIndexBuffer=new _(e,n)}},T.prototype.hasData=function(){return"loaded"===this.state||"reloading"===this.state||"expired"===this.state},T.prototype.setExpiryData=function(t){var e=this.expirationTime;if(t.cacheControl){var i=p.parseCacheControl(t.cacheControl);i["max-age"]&&(this.expirationTime=Date.now()+1e3*i["max-age"])}else t.expires&&(this.expirationTime=new Date(t.expires).getTime());if(this.expirationTime){var n=Date.now(),o=!1;if(this.expirationTime>n)o=!1;else if(e)if(this.expirationTime<e)o=!0;else{var r=this.expirationTime-e;r?this.expirationTime=n+Math.max(r,3e4):o=!0}else o=!0;o?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}},T.prototype.getExpiryTimeout=function(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-(new Date).getTime(),Math.pow(2,31)-1)},T.prototype.stopPlacementThrottler=function(){this.placementThrottler.stop(),"reloading"===this.state&&(this.state="loaded")},e.exports=T},{"../data/bucket":51,"../data/bucket/symbol_bucket":57,"../data/extent":58,"../data/feature_index":59,"../data/index_array_type":60,"../data/raster_bounds_array":64,"../data/segment":65,"../gl/index_buffer":71,"../gl/vertex_buffer":72,"../render/texture":94,"../style-spec/feature_filter":144,"../symbol/collision_box":199,"../symbol/collision_tile":201,"../util/throttler":250,"../util/util":252,"../util/vectortile_to_geojson":253,"./tile_coord":113,"@mapbox/point-geometry":2,"@mapbox/vector-tile":6,pbf:38}],112:[function(t,e,i){"use strict";var n=t("../geo/lng_lat_bounds"),o=t("../util/util").clamp,r=function(t,e,i){this.bounds=n.convert(this.validateBounds(t)),this.minzoom=e||0,this.maxzoom=i||24};r.prototype.validateBounds=function(t){return Array.isArray(t)&&4===t.length?[Math.max(-180,t[0]),Math.max(-90,t[1]),Math.min(180,t[2]),Math.min(90,t[3])]:[-180,-90,180,90]},r.prototype.contains=function(t,e){var i=e?Math.min(t.z,e):t.z,n=Math.floor(this.lngX(this.bounds.getWest(),i)),o=Math.floor(this.latY(this.bounds.getNorth(),i)),r=Math.ceil(this.lngX(this.bounds.getEast(),i)),s=Math.ceil(this.latY(this.bounds.getSouth(),i));return t.x>=n&&t.x<r&&t.y>=o&&t.y<s},r.prototype.lngX=function(t,e){return(t+180)*(Math.pow(2,e)/360)},r.prototype.latY=function(t,e){var i=o(Math.sin(Math.PI/180*t),-.9999,.9999),n=Math.pow(2,e)/(2*Math.PI);return Math.pow(2,e-1)+.5*Math.log((1+i)/(1-i))*-n},e.exports=r},{"../geo/lng_lat_bounds":69,"../util/util":252}],113:[function(t,e,i){"use strict";function h(t,e){if(t.row>e.row){var i=t;t=e,e=i}return{x0:t.column,y0:t.row,x1:e.column,y1:e.row,dx:e.column-t.column,dy:e.row-t.row}}function c(t,e,i,n,o){var r=Math.max(i,Math.floor(e.y0)),s=Math.min(n,Math.ceil(e.y1));if(t.x0===e.x0&&t.y0===e.y0?t.x0+e.dy/t.dy*t.dx<e.x1:t.x1-e.dy/t.dy*t.dx<e.x0){var a=t;t=e,e=a}for(var l=t.dx/t.dy,u=e.dx/e.dy,h=0<t.dx,c=e.dx<0,p=r;p<s;p++){var d=l*Math.max(0,Math.min(t.dy,p+h-t.y0))+t.x0,f=u*Math.max(0,Math.min(e.dy,p+c-e.y0))+e.x0;o(Math.floor(f),Math.ceil(d),p)}}function n(t,e,i,n,o,r){var s,a=h(t,e),l=h(e,i),u=h(i,t);a.dy>l.dy&&(s=a,a=l,l=s),a.dy>u.dy&&(s=a,a=u,u=s),l.dy>u.dy&&(s=l,l=u,u=s),a.dy&&c(u,a,n,o,r),l.dy&&c(u,l,n,o,r)}var r=t("@mapbox/whoots-js"),s=t("../geo/coordinate"),p=function(t,e,i,n){(void 0===n||isNaN(n))&&(n=0),this.z=+t,this.x=+e,this.y=+i,this.w=+n,(n*=2)<0&&(n=-1*n-1);var o=1<<this.z;this.id=32*(o*o*n+o*this.y+this.x)+this.z,this.posMatrix=null};p.prototype.toString=function(){return this.z+"/"+this.x+"/"+this.y},p.prototype.toCoordinate=function(t){var e=Math.min(this.z,void 0===t?this.z:t),i=Math.pow(2,e),n=this.y,o=this.x+i*this.w;return new s(o,n,e)},p.prototype.url=function(t,e,i){var n=r.getTileBBox(this.x,this.y,this.z),o=function(t,e,i){for(var n,o="",r=t;0<r;r--)o+=(e&(n=1<<r-1)?1:0)+(i&n?2:0);return o}(this.z,this.x,this.y);return t[(this.x+this.y)%t.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace("{z}",String(Math.min(this.z,e||this.z))).replace("{x}",String(this.x)).replace("{y}",String("tms"===i?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",o).replace("{bbox-epsg-3857}",n)},p.prototype.parent=function(t){return 0===this.z?null:this.z>t?new p(this.z-1,this.x,this.y,this.w):new p(this.z-1,Math.floor(this.x/2),Math.floor(this.y/2),this.w)},p.prototype.wrapped=function(){return new p(this.z,this.x,this.y,0)},p.prototype.isLessThan=function(t){return this.w<t.w||!(this.w>t.w)&&(this.z<t.z||!(this.z>t.z)&&(this.x<t.x||!(this.x>t.x)&&this.y<t.y))},p.prototype.children=function(t){if(this.z>=t)return[new p(this.z+1,this.x,this.y,this.w)];var e=this.z+1,i=2*this.x,n=2*this.y;return[new p(e,i,n,this.w),new p(e,i+1,n,this.w),new p(e,i,n+1,this.w),new p(e,i+1,n+1,this.w)]},p.prototype.scaledTo=function(t,e){return this.z>e?new p(t,this.x,this.y,this.w):t<=this.z?new p(t,this.x>>this.z-t,this.y>>this.z-t,this.w):new p(t,this.x<<t-this.z,this.y<<t-this.z,this.w)},p.prototype.isChildOf=function(t){return 0===t.z||t.z<this.z&&t.x===this.x>>this.z-t.z&&t.y===this.y>>this.z-t.z},p.cover=function(t,e,s,a){function i(t,e,i){var n,o,r;if(0<=i&&i<=l)for(n=t;n<e;n++)0!==(o=Math.floor(n/l))&&!0!==a||(r=new p(s,(n%l+l)%l,i,o),u[r.id]=r)}void 0===a&&(a=!0);var l=1<<t,u={};return n(e[0],e[1],e[2],0,l,i),n(e[2],e[3],e[0],0,l,i),Object.keys(u).map(function(t){return u[t]})},p.fromID=function(t){var e=t%32,i=1<<e,n=(t-e)/32,o=n%i,r=(n-o)/i%i,s=Math.floor(n/(i*i));return s%2!=0&&(s=-1*s-1),new p(e,o,r,s/=2)},e.exports=p},{"../geo/coordinate":67,"@mapbox/whoots-js":10}],114:[function(t,e,i){"use strict";var n=t("../util/evented"),r=t("../util/util"),s=t("./load_tilejson"),a=t("../util/mapbox").normalizeTileURL,l=t("./tile_bounds"),u=t("../util/ajax").ResourceType,h=t("../util/browser"),o=function(o){function t(t,e,i,n){if(o.call(this),this.id=t,this.dispatcher=i,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,r.extend(this,r.pick(e,["url","scheme","tileSize"])),this._options=r.extend({type:"vector"},e),512!==this.tileSize)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(n)}return o&&(t.__proto__=o),((t.prototype=Object.create(o&&o.prototype)).constructor=t).prototype.load=function(){var i=this;this.fire("dataloading",{dataType:"source"}),s(this._options,this.map._transformRequest,function(t,e){t?i.fire("error",t):e&&(r.extend(i,e),e.bounds&&(i.tileBounds=new l(e.bounds,i.minzoom,i.maxzoom)),i.fire("data",{dataType:"source",sourceDataType:"metadata"}),i.fire("data",{dataType:"source",sourceDataType:"content"}))})},t.prototype.hasTile=function(t){return!this.tileBounds||this.tileBounds.contains(t,this.maxzoom)},t.prototype.onAdd=function(t){this.map=t,this.load()},t.prototype.serialize=function(){return r.extend({},this._options)},t.prototype.loadTile=function(i,n){function t(t,e){if(!i.aborted){if(t)return n(t);this.map._refreshExpiredTiles&&i.setExpiryData(e),i.loadVectorData(e,this.map.painter),i.redoWhenDone&&(i.redoWhenDone=!1,i.redoPlacement(this)),n(null),i.reloadCallback&&(this.loadTile(i,i.reloadCallback),i.reloadCallback=null)}}var e=i.coord.z>this.maxzoom?Math.pow(2,i.coord.z-this.maxzoom):1,o=a(i.coord.url(this.tiles,this.maxzoom,this.scheme),this.url),r={request:this.map._transformRequest(o,u.Tile),uid:i.uid,coord:i.coord,zoom:i.coord.z,tileSize:this.tileSize*e,type:this.type,source:this.id,pixelRatio:h.devicePixelRatio,overscaling:e,angle:this.map.transform.angle,pitch:this.map.transform.pitch,cameraToCenterDistance:this.map.transform.cameraToCenterDistance,cameraToTileDistance:this.map.transform.cameraToTileDistance(i),showCollisionBoxes:this.map.showCollisionBoxes};void 0===i.workerID||"expired"===i.state?i.workerID=this.dispatcher.send("loadTile",r,t.bind(this)):"loading"===i.state?i.reloadCallback=n:this.dispatcher.send("reloadTile",r,t.bind(this),i.workerID)},t.prototype.abortTile=function(t){this.dispatcher.send("abortTile",{uid:t.uid,type:this.type,source:this.id},void 0,t.workerID)},t.prototype.unloadTile=function(t){t.unloadVectorData(),this.dispatcher.send("removeTile",{uid:t.uid,type:this.type,source:this.id},void 0,t.workerID)},t}(n);e.exports=o},{"../util/ajax":230,"../util/browser":231,"../util/evented":239,"../util/mapbox":246,"../util/util":252,"./load_tilejson":104,"./tile_bounds":112}],115:[function(t,e,i){"use strict";function n(t,i){var e=o.getArrayBuffer(t.request,function(t,e){t?i(t):e&&i(null,{vectorTile:new r.VectorTile(new s(e.data)),rawData:e.data,cacheControl:e.cacheControl,expires:e.expires})});return function(){e.abort()}}var o=t("../util/ajax"),r=t("@mapbox/vector-tile"),s=t("pbf"),u=t("./worker_tile"),h=t("../util/util"),a=function(t,e,i){this.actor=t,this.layerIndex=e,this.loadVectorData=i||n,this.loading={},this.loaded={}};a.prototype.loadTile=function(t,r){var i=this,s=t.source,a=t.uid;this.loading[s]||(this.loading[s]={});var l=this.loading[s][a]=new u(t);l.abort=this.loadVectorData(t,function(t,e){if(delete i.loading[s][a],t||!e)return r(t);var n=e.rawData,o={};e.expires&&(o.expires=e.expires),e.cacheControl&&(o.cacheControl=e.cacheControl),l.vectorTile=e.vectorTile,l.parse(e.vectorTile,i.layerIndex,i.actor,function(t,e,i){if(t||!e)return r(t);r(null,h.extend({rawTileData:n},e,o),i)}),i.loaded[s]=i.loaded[s]||{},i.loaded[s][a]=l})},a.prototype.reloadTile=function(t,n){var e=this.loaded[t.source],i=t.uid,o=this;if(e&&e[i]){var r=e[i];"parsing"===r.status?r.reloadCallback=n:"done"===r.status&&r.parse(r.vectorTile,this.layerIndex,this.actor,function(t,e){if(this.reloadCallback){var i=this.reloadCallback;delete this.reloadCallback,this.parse(this.vectorTile,o.layerIndex,o.actor,i)}n(t,e)}.bind(r))}},a.prototype.abortTile=function(t){var e=this.loading[t.source],i=t.uid;e&&e[i]&&e[i].abort&&(e[i].abort(),delete e[i])},a.prototype.removeTile=function(t){var e=this.loaded[t.source],i=t.uid;e&&e[i]&&delete e[i]},a.prototype.redoPlacement=function(t,e){var i=this.loaded[t.source],n=this.loading[t.source],o=t.uid;if(i&&i[o]){var r=i[o].redoPlacement(t.angle,t.pitch,t.cameraToCenterDistance,t.cameraToTileDistance,t.showCollisionBoxes);r.result&&e(null,r.result,r.transferables)}else n&&n[o]&&(n[o].angle=t.angle)},e.exports=a},{"../util/ajax":230,"../util/util":252,"./worker_tile":118,"@mapbox/vector-tile":6,pbf:38}],116:[function(t,e,i){"use strict";var r=t("../util/ajax"),n=function(o){function t(t,e,i,n){o.call(this,t,e,i,n),this.roundZoom=!0,this.type="video",this.options=e}return o&&(t.__proto__=o),((t.prototype=Object.create(o&&o.prototype)).constructor=t).prototype.load=function(){var n=this,t=this.options;this.urls=t.urls,r.getVideo(t.urls,function(t,e){if(t)n.fire("error",{error:t});else if(e){var i;n.video=e,n.video.loop=!0,n.video.addEventListener("playing",function(){i=n.map.style.animationLoop.set(1/0),n.map._rerender()}),n.video.addEventListener("pause",function(){n.map.style.animationLoop.cancel(i)}),n.map&&n.video.play(),n._finishLoading()}})},t.prototype.getVideo=function(){return this.video},t.prototype.onAdd=function(t){this.map||(this.map=t,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))},t.prototype.prepare=function(){0===Object.keys(this.tiles).length||this.video.readyState<2||this._prepareImage(this.map.painter.gl,this.video)},t.prototype.serialize=function(){return{type:"video",urls:this.urls,coordinates:this.coordinates}},t}(t("./image_source"));e.exports=n},{"../util/ajax":230,"./image_source":103}],117:[function(t,e,i){"use strict";var n=t("../util/actor"),o=t("../style/style_layer_index"),r=t("./vector_tile_worker_source"),s=t("./geojson_worker_source"),a=t("./rtl_text_plugin"),l=function(t){var i=this;this.self=t,this.actor=new n(t,this),this.layerIndexes={},this.workerSourceTypes={vector:r,geojson:s},this.workerSources={},this.self.registerWorkerSource=function(t,e){if(i.workerSourceTypes[t])throw new Error('Worker source with name "'+t+'" already registered.');i.workerSourceTypes[t]=e},this.self.registerRTLTextPlugin=function(t){if(a.applyArabicShaping||a.processBidirectionalText)throw new Error("RTL text plugin already registered.");a.applyArabicShaping=t.applyArabicShaping,a.processBidirectionalText=t.processBidirectionalText}};l.prototype.setLayers=function(t,e){this.getLayerIndex(t).replace(e)},l.prototype.updateLayers=function(t,e){this.getLayerIndex(t).update(e.layers,e.removedIds,e.symbolOrder)},l.prototype.loadTile=function(t,e,i){this.getWorkerSource(t,e.type).loadTile(e,i)},l.prototype.reloadTile=function(t,e,i){this.getWorkerSource(t,e.type).reloadTile(e,i)},l.prototype.abortTile=function(t,e){this.getWorkerSource(t,e.type).abortTile(e)},l.prototype.removeTile=function(t,e){this.getWorkerSource(t,e.type).removeTile(e)},l.prototype.removeSource=function(t,e){var i=this.getWorkerSource(t,e.type);void 0!==i.removeSource&&i.removeSource(e)},l.prototype.redoPlacement=function(t,e,i){this.getWorkerSource(t,e.type).redoPlacement(e,i)},l.prototype.loadWorkerSource=function(t,e,i){try{this.self.importScripts(e.url),i()}catch(t){i(t)}},l.prototype.loadRTLTextPlugin=function(t,e,i){try{a.applyArabicShaping||a.processBidirectionalText||(this.self.importScripts(e),a.applyArabicShaping&&a.processBidirectionalText||i(new Error("RTL Text Plugin failed to import scripts from "+e)))}catch(t){i(t)}},l.prototype.getLayerIndex=function(t){var e=this.layerIndexes[t];return e||(e=this.layerIndexes[t]=new o),e},l.prototype.getWorkerSource=function(o,t){var r=this;if(this.workerSources[o]||(this.workerSources[o]={}),!this.workerSources[o][t]){var e={send:function(t,e,i,n){r.actor.send(t,e,i,n,o)}};this.workerSources[o][t]=new this.workerSourceTypes[t](e,this.getLayerIndex(o))}return this.workerSources[o][t]},e.exports=function(t){return new l(t)}},{"../style/style_layer_index":193,"../util/actor":229,"./geojson_worker_source":101,"./rtl_text_plugin":108,"./vector_tile_worker_source":115}],118:[function(t,e,i){"use strict";function z(t,e){for(var i=0,n=t.layers;i<n.length;i+=1)n[i].recalculate(e)}function D(t,e){return t.filter(function(t){return!t.isEmpty()}).map(function(t){return t.serialize(e)})}var M=t("../data/feature_index"),I=t("../symbol/collision_tile"),O=t("../symbol/collision_box"),L=t("../util/dictionary_coder"),R=(t("../data/bucket/symbol_bucket"),t("../util/util")),F=t("../render/image_atlas").makeImageAtlas,N=t("../render/glyph_atlas").makeGlyphAtlas,n=function(t){this.coord=t.coord,this.uid=t.uid,this.zoom=t.zoom,this.pixelRatio=t.pixelRatio,this.tileSize=t.tileSize,this.source=t.source,this.overscaling=t.overscaling,this.angle=t.angle,this.pitch=t.pitch,this.cameraToCenterDistance=t.cameraToCenterDistance,this.cameraToTileDistance=t.cameraToTileDistance,this.showCollisionBoxes=t.showCollisionBoxes};n.prototype.parse=function(t,e,i,a){function n(){if(C)return a(C);if(S&&E){for(var t=new I(this.angle,this.pitch,this.cameraToCenterDistance,this.cameraToTileDistance,this.collisionBoxArray),e=N(S),i=F(E),n=0,o=this.symbolBuckets;n<o.length;n+=1){var r=o[n];z(r,this.zoom),r.prepare(S,e.positions,E,i.positions),r.place(t,this.showCollisionBoxes)}this.status="done";var s=[e.image.data.buffer,i.image.data.buffer];a(null,{buckets:D(R.values(u),s),featureIndex:l.serialize(s),collisionTile:t.serialize(s),collisionBoxArray:this.collisionBoxArray.serialize(),glyphAtlasImage:e.image,iconAtlasImage:i.image},s)}}var o=this;this.status="parsing",this.data=t,this.collisionBoxArray=new O;var r=new L(Object.keys(t.layers).sort()),l=new M(this.coord,this.overscaling);l.bucketLayerIDs=[];var u={},s={featureIndex:l,iconDependencies:{},glyphDependencies:{}},h=e.familiesBySource[this.source];for(var c in h){var p=t.layers[c];if(p){1===p.version&&R.warnOnce('Vector tile source "'+o.source+'" layer "'+c+'" does not use vector tile spec v2 and therefore may have some rendering errors.');for(var d=r.encode(c),f=[],m=0;m<p.length;m++){var g=p.feature(m);f.push({feature:g,index:m,sourceLayerIndex:d})}for(var v=0,y=h[c];v<y.length;v+=1){var _=y[v],b=_[0];if(!(b.minzoom&&o.zoom<Math.floor(b.minzoom)||b.maxzoom&&o.zoom>=b.maxzoom||b.layout&&"none"===b.layout.visibility)){for(var x=0,w=_;x<w.length;x+=1)w[x].recalculate(o.zoom);(u[b.id]=b.createBucket({index:l.bucketLayerIDs.length,layers:_,zoom:o.zoom,pixelRatio:o.pixelRatio,overscaling:o.overscaling,collisionBoxArray:o.collisionBoxArray})).populate(f,s),l.bucketLayerIDs.push(_.map(function(t){return t.id}))}}}}this.symbolBuckets=[];for(var T=e.symbolOrder.length-1;0<=T;T--){var k=u[e.symbolOrder[T]];k&&o.symbolBuckets.push(k)}var C,S,E,A=R.mapObject(s.glyphDependencies,function(t){return Object.keys(t).map(Number)});Object.keys(A).length?i.send("getGlyphs",{uid:this.uid,stacks:A},function(t,e){C||(C=t,S=e,n.call(o))}):S={};var P=Object.keys(s.iconDependencies);P.length?i.send("getImages",{icons:P},function(t,e){C||(C=t,E=e,n.call(o))}):E={},n.call(this)},n.prototype.redoPlacement=function(t,e,i,n,o){if(this.angle=t,this.pitch=e,this.cameraToCenterDistance=i,this.cameraToTileDistance=n,"done"!==this.status)return{};for(var r=new I(this.angle,this.pitch,this.cameraToCenterDistance,this.cameraToTileDistance,this.collisionBoxArray),s=0,a=this.symbolBuckets;s<a.length;s+=1){var l=a[s];z(l,this.zoom),l.place(r,o)}var u=[];return{result:{buckets:D(this.symbolBuckets,u),collisionTile:r.serialize(u)},transferables:u}},e.exports=n},{"../data/bucket/symbol_bucket":57,"../data/feature_index":59,"../render/glyph_atlas":85,"../render/image_atlas":87,"../symbol/collision_box":199,"../symbol/collision_tile":201,"../util/dictionary_coder":236,"../util/util":252}],119:[function(t,e,i){"use strict";function o(t,e){var i={};for(var n in t)"ref"!==n&&(i[n]=t[n]);return r.forEach(function(t){t in e&&(i[t]=e[t])}),i}var r=t("./util/ref_properties");e.exports=function(t){t=t.slice();for(var e=Object.create(null),i=0;i<t.length;i++)e[t[i].id]=t[i];for(var n=0;n<t.length;n++)"ref"in t[n]&&(t[n]=o(t[n],e[t[n].ref]));return t}},{"./util/ref_properties":154}],120:[function(t,e,i){"use strict";function g(t,e,i,n,o,r){var s;for(s in e=e||{},t=t||{})t.hasOwnProperty(s)&&(_(t[s],e[s])||i.push({command:r,args:[n,s,e[s],o]}));for(s in e)e.hasOwnProperty(s)&&!t.hasOwnProperty(s)&&(_(t[s],e[s])||i.push({command:r,args:[n,s,e[s],o]}))}function v(t){return t.id}function y(t,e){return t[e.id]=e,t}var _=t("lodash.isequal"),b={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};e.exports=function(t,e){if(!t)return[{command:b.setStyle,args:[e]}];var i=[];try{if(!_(t.version,e.version))return[{command:b.setStyle,args:[e]}];_(t.center,e.center)||i.push({command:b.setCenter,args:[e.center]}),_(t.zoom,e.zoom)||i.push({command:b.setZoom,args:[e.zoom]}),_(t.bearing,e.bearing)||i.push({command:b.setBearing,args:[e.bearing]}),_(t.pitch,e.pitch)||i.push({command:b.setPitch,args:[e.pitch]}),_(t.sprite,e.sprite)||i.push({command:b.setSprite,args:[e.sprite]}),_(t.glyphs,e.glyphs)||i.push({command:b.setGlyphs,args:[e.glyphs]}),_(t.transition,e.transition)||i.push({command:b.setTransition,args:[e.transition]}),_(t.light,e.light)||i.push({command:b.setLight,args:[e.light]});var n={},o=[];!function(t,e,i,n){var o;for(o in e=e||{},t=t||{})t.hasOwnProperty(o)&&(e.hasOwnProperty(o)||(i.push({command:b.removeSource,args:[o]}),n[o]=!0));for(o in e)e.hasOwnProperty(o)&&(t.hasOwnProperty(o)?_(t[o],e[o])||("geojson"===t[o].type&&"geojson"===e[o].type?i.push({command:b.setGeoJSONSourceData,args:[o,e[o].data]}):(i.push({command:b.removeSource,args:[o]}),i.push({command:b.addSource,args:[o,e[o]]}),n[o]=!0)):i.push({command:b.addSource,args:[o,e[o]]}))}(t.sources,e.sources,o,n);var r=[];t.layers&&t.layers.forEach(function(t){n[t.source]?i.push({command:b.removeLayer,args:[t.id]}):r.push(t)}),i=i.concat(o),function(t,e,i){e=e||[];var n,o,r,s,a,l,u,h=(t=t||[]).map(v),c=e.map(v),p=t.reduce(y,{}),d=e.reduce(y,{}),f=h.slice(),m=Object.create(null);for(o=n=0;n<h.length;n++)r=h[n],d.hasOwnProperty(r)?o++:(i.push({command:b.removeLayer,args:[r]}),f.splice(f.indexOf(r,o),1));for(o=n=0;n<c.length;n++)r=c[c.length-1-n],f[f.length-1-n]!==r&&(p.hasOwnProperty(r)?(i.push({command:b.removeLayer,args:[r]}),f.splice(f.lastIndexOf(r,f.length-o),1)):o++,l=f[f.length-n],i.push({command:b.addLayer,args:[d[r],l]}),f.splice(f.length-n,0,r),m[r]=!0);for(n=0;n<c.length;n++)if(s=p[r=c[n]],a=d[r],!m[r]&&!_(s,a))if(_(s.source,a.source)&&_(s["source-layer"],a["source-layer"])&&_(s.type,a.type)){for(u in g(s.layout,a.layout,i,r,null,b.setLayoutProperty),g(s.paint,a.paint,i,r,null,b.setPaintProperty),_(s.filter,a.filter)||i.push({command:b.setFilter,args:[r,a.filter]}),_(s.minzoom,a.minzoom)&&_(s.maxzoom,a.maxzoom)||i.push({command:b.setLayerZoomRange,args:[r,a.minzoom,a.maxzoom]}),s)s.hasOwnProperty(u)&&"layout"!==u&&"paint"!==u&&"filter"!==u&&"metadata"!==u&&"minzoom"!==u&&"maxzoom"!==u&&(0===u.indexOf("paint.")?g(s[u],a[u],i,r,u.slice(6),b.setPaintProperty):_(s[u],a[u])||i.push({command:b.setLayerProperty,args:[r,u,a[u]]}));for(u in a)a.hasOwnProperty(u)&&!s.hasOwnProperty(u)&&"layout"!==u&&"paint"!==u&&"filter"!==u&&"metadata"!==u&&"minzoom"!==u&&"maxzoom"!==u&&(0===u.indexOf("paint.")?g(s[u],a[u],i,r,u.slice(6),b.setPaintProperty):_(s[u],a[u])||i.push({command:b.setLayerProperty,args:[r,u,a[u]]}))}else i.push({command:b.removeLayer,args:[r]}),l=f[f.lastIndexOf(r)+1],i.push({command:b.addLayer,args:[a,l]})}(r,e.layers,i)}catch(t){console.warn("Unable to compute style diff:",t),i=[{command:b.setStyle,args:[e]}]}return i},e.exports.operations=b},{"lodash.isequal":34}],121:[function(t,e,i){"use strict";var o=t("util").format;e.exports=function(t,e){for(var i=[],n=arguments.length-2;0<n--;)i[n]=arguments[n+2];this.message=(t?t+": ":"")+o.apply(o,i),null!=e&&e.__line__&&(this.line=e.__line__)}},{util:45}],122:[function(t,e,i){"use strict";var T=t("./types").toString,k=t("./parsing_context"),C=(t("./evaluation_context"),function(t,e,i,n,o){this.key=t,this.name=e,this.type=i,this._evaluate=n,this.args=o});C.prototype.evaluate=function(t){return this._evaluate(t,this.args)},C.prototype.eachChild=function(t){this.args.forEach(t)},C.parse=function(e,t){var i=e[0],n=C.definitions[i];if(!n)return t.error('Unknown expression "'+i+'". If you wanted a literal array, use ["literal", [...]].',0);for(var o=Array.isArray(n)?n[0]:n.type,r=Array.isArray(n)?[[n[1],n[2]]]:n.overloads.filter(function(t){return!Array.isArray(t[0][0])||t[0][0].length===e.length-1}),s=[],a=1;a<e.length;a++){var l=e[a],u=void 0;if(1===r.length){var h=r[0][0];u=Array.isArray(h)?h[a-1]:h.type}var c=t.parse(l,1+s.length,u);if(!c)return null;s.push(c)}for(var p=null,d=0,f=r;d<f.length;d+=1){var m=f[d],g=m[0],v=m[1];if(p=new k(t.definitions,t.path,null,t.scope),Array.isArray(g)&&g.length!==s.length)p.error("Expected "+g.length+" arguments, but found "+s.length+" instead.");else{for(var y=0;y<s.length;y++){var _=Array.isArray(g)?g[y]:g.type,b=s[y];p.concat(y+1).checkSubtype(_,b.type)}if(0===p.errors.length)return new C(t.key,i,o,v,s)}}if(1===r.length)t.errors.push.apply(t.errors,p.errors);else{var x=r.map(function(t){return e=t[0],Array.isArray(e)?"("+e.map(T).join(", ")+")":"("+T(e.type)+"...)";var e}).join(" | "),w=s.map(function(t){return T(t.type)}).join(", ");t.error("Expected arguments of type "+x+", but found ("+w+") instead.")}return null},C.register=function(t,e){for(var i in C.definitions=e)t[i]=C},e.exports={CompoundExpression:C,varargs:function(t){return{type:t}}}},{"./evaluation_context":135,"./parsing_context":138,"./types":142}],123:[function(t,e,i){"use strict";var n=t("../types"),o=n.toString,a=n.array,l=n.ValueType,r=n.StringType,s=n.NumberType,u=n.BooleanType,h=n.checkSubtype,c=t("../values").typeOf,p=t("../runtime_error"),d={string:r,number:s,boolean:u},f=function(t,e,i){this.key=t,this.type=e,this.input=i};f.parse=function(t,e){if(t.length<2||4<t.length)return e.error("Expected 1, 2, or 3 arguments, but found "+(t.length-1)+" instead.");var i,n;if(2<t.length){var o=t[1];if("string"!=typeof o||!(o in d))return e.error('The item type argument of "array" must be one of string, number, boolean',1);i=d[o]}else i=l;if(3<t.length){if("number"!=typeof t[2]||t[2]<0||t[2]!==Math.floor(t[2]))return e.error('The length argument to "array" must be a positive integer literal',2);n=t[2]}var r=a(i,n),s=e.parse(t[t.length-1],t.length-1,l);return s?new f(e.key,r,s):null},f.prototype.evaluate=function(t){var e=this.input.evaluate(t);if(h(this.type,c(e)))throw new p("Expected value to be of type "+o(this.type)+", but found "+o(c(e))+" instead.");return e},f.prototype.eachChild=function(t){t(this.input)},e.exports=f},{"../runtime_error":140,"../types":142,"../values":143}],124:[function(t,e,i){"use strict";var n=t("../types"),o=n.ObjectType,a=n.ValueType,r=n.StringType,s=n.NumberType,l=n.BooleanType,u=t("../runtime_error"),h=t("../types"),c=h.checkSubtype,p=h.toString,d=t("../values").typeOf,f={string:r,number:s,boolean:l,object:o},m=function(t,e,i){this.key=t,this.type=e,this.args=i};m.parse=function(t,e){if(t.length<2)return e.error("Expected at least one argument.");for(var i=t[0],n=f[i],o=[],r=1;r<t.length;r++){var s=e.parse(t[r],r,a);if(!s)return null;o.push(s)}return new m(e.key,n,o)},m.prototype.evaluate=function(t){for(var e=0;e<this.args.length;e++){var i=this.args[e].evaluate(t);if(!c(this.type,d(i)))return i;if(e===this.args.length-1)throw new u("Expected value to be of type "+p(this.type)+", but found "+p(d(i))+" instead.")}return null},m.prototype.eachChild=function(t){this.args.forEach(t)},e.exports=m},{"../runtime_error":140,"../types":142,"../values":143}],125:[function(t,e,i){"use strict";var n=t("../types"),r=n.array,s=n.ValueType,a=n.NumberType,o=t("../runtime_error"),l=function(t,e,i,n){this.key=t,this.type=e,this.index=i,this.input=n};l.parse=function(t,e){if(3!==t.length)return e.error("Expected 2 arguments, but found "+(t.length-1)+" instead.");var i=e.parse(t[1],1,a),n=e.parse(t[2],2,r(e.expectedType||s));if(!i||!n)return null;var o=n.type;return new l(e.key,o.itemType,i,n)},l.prototype.evaluate=function(t){var e=this.index.evaluate(t),i=this.input.evaluate(t);if(e<0||e>=i.length)throw new o("Array index out of bounds: "+e+" > "+i.length+".");if(e!==Math.floor(e))throw new o("Array index must be an integer, but found "+e+" instead.");return i[e]},l.prototype.eachChild=function(t){t(this.index),t(this.input)},e.exports=l},{"../runtime_error":140,"../types":142}],126:[function(t,e,i){"use strict";var l=t("../types").BooleanType,u=function(t,e,i,n){this.key=t,this.type=e,this.branches=i,this.otherwise=n};u.parse=function(t,e){if(t.length<4)return e.error("Expected at least 3 arguments, but found only "+(t.length-1)+".");if(t.length%2!=0)return e.error("Expected an odd number of arguments.");var i;e.expectedType&&"value"!==e.expectedType.kind&&(i=e.expectedType);for(var n=[],o=1;o<t.length-1;o+=2){var r=e.parse(t[o],o,l);if(!r)return null;var s=e.parse(t[o+1],o+1,i);if(!s)return null;n.push([r,s]),i=i||s.type}var a=e.parse(t[t.length-1],t.length-1,i);return a?new u(e.key,i,n,a):null},u.prototype.evaluate=function(t){for(var e=0,i=this.branches;e<i.length;e+=1){var n=i[e],o=n[0],r=n[1];if(o.evaluate(t))return r.evaluate(t)}return this.otherwise.evaluate(t)},u.prototype.eachChild=function(t){for(var e=0,i=this.branches;e<i.length;e+=1){var n=i[e],o=n[0],r=n[1];t(o),t(r)}t(this.otherwise)},e.exports=u},{"../types":142}],127:[function(t,e,i){"use strict";var l=function(t,e,i){this.key=t,this.type=e,this.args=i};l.parse=function(t,e){if(t.length<2)return e.error("Expectected at least one argument.");var i=null;e.expectedType&&"value"!==e.expectedType.kind&&(i=e.expectedType);for(var n=[],o=0,r=t.slice(1);o<r.length;o+=1){var s=r[o],a=e.parse(s,1+n.length,i);if(!a)return null;i=i||a.type,n.push(a)}return new l(e.key,i,n)},l.prototype.evaluate=function(t){for(var e=null,i=0,n=this.args;i<n.length&&null===(e=n[i].evaluate(t));i+=1);return e},l.prototype.eachChild=function(t){this.args.forEach(t)},e.exports=l},{}],128:[function(t,e,i){"use strict";var n=t("../types"),o=n.ColorType,a=n.ValueType,r=n.NumberType,s=t("../values"),h=s.Color,c=s.validateRGBA,p=s.unwrap,d=t("../runtime_error"),l={"to-number":r,"to-color":o},u=function(t,e,i){this.key=t,this.type=e,this.args=i};u.parse=function(t,e){if(t.length<2)return e.error("Expected at least one argument.");for(var i=t[0],n=l[i],o=[],r=1;r<t.length;r++){var s=e.parse(t[r],r,a);if(!s)return null;o.push(s)}return new u(e.key,n,o)},u.prototype.evaluate=function(t){if("color"===this.type.kind){for(var e,i,n=0,o=this.args;n<o.length;n+=1)if(i=null,"string"==typeof(e=o[n].evaluate(t))){var r=t.parseColor(e);if(r)return r}else if(Array.isArray(e)&&!(i=e.length<3||4<e.length?"Invalid rbga value "+JSON.stringify(e)+": expected an array containing either three or four numeric values.":c(e[0],e[1],e[2],e[3])))return new h(e[0]/255,e[1]/255,e[2]/255,e[3]);throw new d(i||"Could not parse color from value '"+("string"==typeof e?e:JSON.stringify(e))+"'")}for(var s=null,a=0,l=this.args;a<l.length;a+=1)if(null!==(s=l[a].evaluate(t))){var u=Number(s);if(!isNaN(u))return u}throw new d("Could not convert "+JSON.stringify(p(s))+" to number.")},u.prototype.eachChild=function(t){this.args.forEach(t)},e.exports=u},{"../runtime_error":140,"../types":142,"../values":143}],129:[function(t,e,i){"use strict";function s(t,e,i,n){var o=n-i,r=t-i;return 0===o?0:1===e?r/o:(Math.pow(e,r)-1)/(Math.pow(e,o)-1)}var a=t("@mapbox/unitbezier"),p=t("../../util/interpolate"),n=t("../types"),y=n.toString,_=n.NumberType,d=t("../values").Color,b=function(t,e,i,n,o){this.key=t,this.type=e,this.interpolation=i,this.input=n,this.labels=[],this.outputs=[];for(var r=0,s=o;r<s.length;r+=1){var a=s[r],l=a[0],u=a[1];this.labels.push(l),this.outputs.push(u)}};b.interpolationFactor=function(t,e,i,n){var o=0;if("exponential"===t.name)o=s(e,t.base,i,n);else if("linear"===t.name)o=s(e,1,i,n);else if("cubic-bezier"===t.name){var r=t.controlPoints;o=new a(r[0],r[1],r[2],r[3]).solve(s(e,1,i,n))}return o},b.parse=function(t,e){var i=t[1],n=t[2],o=t.slice(3);if(!Array.isArray(i)||0===i.length)return e.error("Expected an interpolation type expression.",1);if("step"===i[0])i={name:"step"};else if("linear"===i[0])i={name:"linear"};else if("exponential"===i[0]){var r=i[1];if("number"!=typeof r)return e.error("Exponential interpolation requires a numeric base.",1,1);i={name:"exponential",base:r}}else{if("cubic-bezier"!==i[0])return e.error("Unknown interpolation type "+String(i[0]),1,0);var s=i.slice(1);if(4!==s.length||s.some(function(t){return"number"!=typeof t||t<0||1<t}))return e.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);i={name:"cubic-bezier",controlPoints:s}}var a="step"===i.name,l=a?5:4;if(t.length-1<l)return e.error("Expected at least "+l+" arguments, but found only "+(t.length-1)+".");var u=l%2;if((t.length-1)%2!==u)return e.error("Expected an "+(0===u?"even":"odd")+" number of arguments.");if(!(n=e.parse(n,2,_)))return null;var h=[],c=null;e.expectedType&&"value"!==e.expectedType.kind&&(c=e.expectedType),a&&o.unshift(-1/0);for(var p=0;p<o.length;p+=2){var d=o[p],f=o[p+1],m=a?p+2:p+3,g=a?p+3:p+4;if("number"!=typeof d)return e.error('Input/output pairs for "curve" expressions must be defined using literal numeric values (not computed expressions) for the input values.',m);if(h.length&&h[h.length-1][0]>d)return e.error('Input/output pairs for "curve" expressions must be arranged with input values in strictly ascending order.',m);var v=e.parse(f,g,c);if(!v)return null;c=c||v.type,h.push([d,v])}return"step"===i.name||"number"===c.kind||"color"===c.kind||"array"===c.kind&&"number"===c.itemType.kind?new b(e.key,c,i,n,h):e.error("Type "+y(c)+" is not interpolatable, and thus cannot be used as a "+i.name+" curve's output type.")},b.prototype.evaluate=function(t){var e=this.labels,i=this.outputs;if(1===e.length)return i[0].evaluate(t);var n=this.input.evaluate(t);if(n<=e[0])return i[0].evaluate(t);var o=e.length;if(n>=e[o-1])return i[o-1].evaluate(t);var r=function(t,e){for(var i,n,o=0,r=t.length-1,s=0;o<=r;){if(i=t[s=Math.floor((o+r)/2)],n=t[s+1],e===i||i<e&&e<n)return s;i<e?o=s+1:e<i&&(r=s-1)}return Math.max(s-1,0)}(e,n);if("step"===this.interpolation.name)return i[r].evaluate(t);var s=e[r],a=e[r+1],l=b.interpolationFactor(this.interpolation,n,s,a),u=i[r].evaluate(t),h=i[r+1].evaluate(t),c=this.type.kind.toLowerCase();return"color"===c?new(Function.prototype.bind.apply(d,[null].concat(p.color(u.value,h.value,l)))):p[c](u,h,l)},b.prototype.eachChild=function(t){t(this.input);for(var e=0,i=this.outputs;e<i.length;e+=1)t(i[e])},e.exports=b},{"../../util/interpolate":152,"../types":142,"../values":143,"@mapbox/unitbezier":5}],130:[function(t,e,i){"use strict";function n(t,e){var i=e[0],n=e[1],o=e[2],r=e[3];i=i.evaluate(t),n=n.evaluate(t),o=o.evaluate(t),r=r&&r.evaluate(t);var s=E(i,n,o,r);if(s)throw new D(s);return new S(i/255,n/255,o/255,r)}function o(t,e){return t in e}function r(t,e){var i=e[t];return void 0===i?null:i}function s(t,e){return e[0].evaluate(t).length}function a(t,e){var i=e[0],n=e[1];return i.evaluate(t)===n.evaluate(t)}function l(t,e){var i=e[0],n=e[1];return i.evaluate(t)!==n.evaluate(t)}function u(t,e){var i=e[0],n=e[1];return i.evaluate(t)<n.evaluate(t)}function h(t,e){var i=e[0],n=e[1];return i.evaluate(t)>n.evaluate(t)}function c(t,e){var i=e[0],n=e[1];return i.evaluate(t)<=n.evaluate(t)}function p(t,e){var i=e[0],n=e[1];return i.evaluate(t)>=n.evaluate(t)}var d=t("../types"),f=d.NullType,m=d.NumberType,g=d.StringType,v=d.BooleanType,y=d.ColorType,_=d.ObjectType,b=d.ValueType,x=d.ErrorType,w=d.array,T=d.toString,k=t("../values"),C=k.typeOf,S=k.Color,E=k.validateRGBA,A=t("../compound_expression"),P=A.CompoundExpression,z=A.varargs,D=t("../runtime_error"),M=t("./let"),I=t("./var"),O=t("./literal"),L=t("./assertion"),R=t("./array"),F=t("./coercion"),N=t("./at"),j=t("./match"),B=t("./case"),V=t("./curve"),H={let:M,var:I,literal:O,string:L,number:L,boolean:L,object:L,array:R,"to-number":F,"to-color":F,at:N,case:B,match:j,coalesce:t("./coalesce"),curve:V};P.register(H,{error:[x,[g],function(t,e){var i=e[0];throw new D(i.evaluate(t))}],typeof:[g,[b],function(t,e){var i=e[0];return T(C(i.evaluate(t)))}],"to-string":[g,[b],function(t,e){var i=e[0],n=typeof(i=i.evaluate(t));if(null===i||"string"===n||"number"===n||"boolean"===n)return String(i);if(i instanceof S){var o=i.value;return"rgba("+255*o[0]+", "+255*o[1]+", "+255*o[2]+", "+o[3]+")"}return JSON.stringify(i)}],"to-boolean":[v,[b],function(t,e){var i=e[0];return Boolean(i.evaluate(t))}],"to-rgba":[w(m,4),[y],function(t,e){return e[0].evaluate(t).value}],rgb:[y,[m,m,m],n],rgba:[y,[m,m,m,m],n],length:{type:m,overloads:[[[g],s],[[w(b)],s]]},has:{type:v,overloads:[[[g],function(t,e){return o(e[0].evaluate(t),t.properties())}],[[g,_],function(t,e){var i=e[0],n=e[1];return o(i.evaluate(t),n.evaluate(t))}]]},get:{type:b,overloads:[[[g],function(t,e){return r(e[0].evaluate(t),t.properties())}],[[g,_],function(t,e){var i=e[0],n=e[1];return r(i.evaluate(t),n.evaluate(t))}]]},properties:[_,[],function(t){return t.properties()}],"geometry-type":[g,[],function(t){return t.geometryType()}],id:[b,[],function(t){return t.id()}],zoom:[m,[],function(t){return t.globals.zoom}],"heatmap-density":[m,[],function(t){return t.globals.heatmapDensity||0}],"+":[m,z(m),function(t,e){for(var i=0,n=0,o=e;n<o.length;n+=1)i+=o[n].evaluate(t);return i}],"*":[m,z(m),function(t,e){for(var i=1,n=0,o=e;n<o.length;n+=1)i*=o[n].evaluate(t);return i}],"-":{type:m,overloads:[[[m,m],function(t,e){var i=e[0],n=e[1];return i.evaluate(t)-n.evaluate(t)}],[[m],function(t,e){return-e[0].evaluate(t)}]]},"/":[m,[m,m],function(t,e){var i=e[0],n=e[1];return i.evaluate(t)/n.evaluate(t)}],"%":[m,[m,m],function(t,e){var i=e[0],n=e[1];return i.evaluate(t)%n.evaluate(t)}],ln2:[m,[],function(){return Math.LN2}],pi:[m,[],function(){return Math.PI}],e:[m,[],function(){return Math.E}],"^":[m,[m,m],function(t,e){var i=e[0],n=e[1];return Math.pow(i.evaluate(t),n.evaluate(t))}],log10:[m,[m],function(t,e){var i=e[0];return Math.log10(i.evaluate(t))}],ln:[m,[m],function(t,e){var i=e[0];return Math.log(i.evaluate(t))}],log2:[m,[m],function(t,e){var i=e[0];return Math.log2(i.evaluate(t))}],sin:[m,[m],function(t,e){var i=e[0];return Math.sin(i.evaluate(t))}],cos:[m,[m],function(t,e){var i=e[0];return Math.cos(i.evaluate(t))}],tan:[m,[m],function(t,e){var i=e[0];return Math.tan(i.evaluate(t))}],asin:[m,[m],function(t,e){var i=e[0];return Math.asin(i.evaluate(t))}],acos:[m,[m],function(t,e){var i=e[0];return Math.acos(i.evaluate(t))}],atan:[m,[m],function(t,e){var i=e[0];return Math.atan(i.evaluate(t))}],min:[m,z(m),function(e,t){return Math.min.apply(Math,t.map(function(t){return t.evaluate(e)}))}],max:[m,z(m),function(e,t){return Math.max.apply(Math,t.map(function(t){return t.evaluate(e)}))}],"==":{type:v,overloads:[[[m,m],a],[[g,g],a],[[v,v],a],[[f,f],a]]},"!=":{type:v,overloads:[[[m,m],l],[[g,g],l],[[v,v],l],[[f,f],l]]},">":{type:v,overloads:[[[m,m],h],[[g,g],h]]},"<":{type:v,overloads:[[[m,m],u],[[g,g],u]]},">=":{type:v,overloads:[[[m,m],p],[[g,g],p]]},"<=":{type:v,overloads:[[[m,m],c],[[g,g],c]]},all:{type:v,overloads:[[[v,v],function(t,e){var i=e[0],n=e[1];return i.evaluate(t)&&n.evaluate(t)}],[z(v),function(t,e){for(var i=0,n=e;i<n.length;i+=1)if(!n[i].evaluate(t))return!1;return!0}]]},any:{type:v,overloads:[[[v,v],function(t,e){var i=e[0],n=e[1];return i.evaluate(t)||n.evaluate(t)}],[z(v),function(t,e){for(var i=0,n=e;i<n.length;i+=1)if(n[i].evaluate(t))return!0;return!1}]]},"!":[v,[v],function(t,e){return!e[0].evaluate(t)}],upcase:[g,[g],function(t,e){return e[0].evaluate(t).toUpperCase()}],downcase:[g,[g],function(t,e){return e[0].evaluate(t).toLowerCase()}],concat:[g,z(g),function(e,t){return t.map(function(t){return t.evaluate(e)}).join("")}]}),e.exports=H},{"../compound_expression":122,"../runtime_error":140,"../types":142,"../values":143,"./array":123,"./assertion":124,"./at":125,"./case":126,"./coalesce":127,"./coercion":128,"./curve":129,"./let":131,"./literal":132,"./match":133,"./var":134}],131:[function(t,e,i){"use strict";var a=function(t,e,i){this.key=t,this.type=i.type,this.bindings=[].concat(e),this.result=i};a.prototype.evaluate=function(t){t.pushScope(this.bindings);var e=this.result.evaluate(t);return t.popScope(),e},a.prototype.eachChild=function(t){for(var e=0,i=this.bindings;e<i.length;e+=1)t(i[e][1]);t(this.result)},a.parse=function(t,e){if(t.length<4)return e.error("Expected at least 3 arguments, but found "+(t.length-1)+" instead.");for(var i=[],n=1;n<t.length-1;n+=2){var o=t[n];if("string"!=typeof o)return e.error("Expected string, but found "+typeof o+" instead.",n);if(/[^a-zA-Z0-9_]/.test(o))return e.error("Variable names must contain only alphanumeric characters or '_'.",n);var r=e.parse(t[n+1],n+1);if(!r)return null;i.push([o,r])}var s=e.parse(t[t.length-1],t.length-1,void 0,i);return s?new a(e.key,i,s):null},e.exports=a},{}],132:[function(t,e,i){"use strict";var n=t("../values"),r=n.isValue,s=n.typeOf,a=function(t,e,i){this.key=t,this.type=e,this.value=i};a.parse=function(t,e){if(2!==t.length)return e.error("'literal' expression requires exactly one argument, but found "+(t.length-1)+" instead.");if(!r(t[1]))return e.error("invalid value");var i=t[1],n=s(i),o=e.expectedType;return"array"!==n.kind||0!==n.N||!o||"array"!==o.kind||"number"==typeof o.N&&0!==o.N||(n=o),new a(e.key,n,i)},a.prototype.evaluate=function(){return this.value},a.prototype.eachChild=function(){},e.exports=a},{"../values":143}],133:[function(t,e,i){"use strict";var g=t("../values").typeOf,v=function(t,e,i,n,o,r,s){this.key=t,this.inputType=e,this.type=i,this.input=n,this.cases=o,this.outputs=r,this.otherwise=s};v.parse=function(t,e){if(t.length<5)return e.error("Expected at least 4 arguments, but found only "+(t.length-1)+".");if(t.length%2!=1)return e.error("Expected an even number of arguments.");var i,n;e.expectedType&&"value"!==e.expectedType.kind&&(n=e.expectedType);for(var o={},r=[],s=2;s<t.length-1;s+=2){var a=t[s],l=t[s+1];Array.isArray(a)||(a=[a]);var u=e.concat(s);if(0===a.length)return u.error("Expected at least one branch label.");for(var h=0,c=a;h<c.length;h+=1){var p=c[h];if("number"!=typeof p&&"string"!=typeof p)return u.error("Branch labels must be numbers or strings.");if("number"==typeof p&&Math.abs(p)>Number.MAX_SAFE_INTEGER)return u.error("Branch labels must be integers no larger than "+Number.MAX_SAFE_INTEGER+".");if("number"==typeof p&&Math.floor(p)!==p)return u.error("Numeric branch labels must be integer values.");if(i){if(u.checkSubtype(i,g(p)))return null}else i=g(p);if(void 0!==o[String(p)])return u.error("Branch labels must be unique.");o[String(p)]=r.length}var d=e.parse(l,s,n);if(!d)return null;n=n||d.type,r.push(d)}var f=e.parse(t[1],1,i);if(!f)return null;var m=e.parse(t[t.length-1],t.length-1,n);return m?new v(e.key,i,n,f,o,r,m):null},v.prototype.evaluate=function(t){var e=this.input.evaluate(t);return(this.outputs[this.cases[e]]||this.otherwise).evaluate(t)},v.prototype.eachChild=function(t){t(this.input),this.outputs.forEach(t),t(this.otherwise)},e.exports=v},{"../values":143}],134:[function(t,e,i){"use strict";var n=function(t,e,i){this.key=t,this.type=i,this.name=e};n.parse=function(t,e){if(2!==t.length||"string"!=typeof t[1])return e.error("'var' expression requires exactly one string literal argument.");var i=t[1];return e.scope.has(i)?new n(e.key,i,e.scope.get(i).type):e.error('Unknown variable "'+i+'". Make sure "'+i+'" has been bound in an enclosing "let" expression before using it.',1)},n.prototype.evaluate=function(t){return t.scope.get(this.name).evaluate(t)},n.prototype.eachChild=function(){},e.exports=n},{}],135:[function(t,e,i){"use strict";var n=t("./scope"),o=t("../util/parse_color"),r=t("./values").Color,s=["Unknown","Point","LineString","Polygon"],a=function(){this.scope=new n,this._parseColorCache={}};a.prototype.id=function(){return this.feature&&"id"in this.feature?this.feature.id:null},a.prototype.geometryType=function(){return this.feature?"number"==typeof this.feature.type?s[this.feature.type]:this.feature.type:null},a.prototype.properties=function(){return this.feature&&this.feature.properties||{}},a.prototype.pushScope=function(t){this.scope=this.scope.concat(t)},a.prototype.popScope=function(){this.scope=this.scope.parent},a.prototype.parseColor=function(t){var e=this._parseColorCache[t];if(!e){var i=o(t);e=this._parseColorCache[t]=i?new r(i[0],i[1],i[2],i[3]):null}return e},e.exports=a},{"../util/parse_color":153,"./scope":141,"./values":143}],136:[function(t,e,i){"use strict";var f=t("./parsing_error"),m=t("./parsing_context"),g=t("./evaluation_context"),v=t("./compound_expression").CompoundExpression,y=t("./definitions/curve"),_=t("./definitions/coalesce"),b=t("./definitions/let"),x=t("./definitions"),w=t("./is_constant"),T=t("./values").unwrap;e.exports.createExpression=function(t,e,i,n){void 0===n&&(n={});var o,r,s=new m(x,[],(r={color:k,string:C,number:S,enum:C,boolean:E},"array"===(o=e).type?P(r[o.value]||A,o.length):r[o.type]||null)),a=s.parse(t);if(!a)return{result:"error",errors:s.errors};var l,u=new g;if(!1===n.handleErrors)l=function(t,e){return u.globals=t,u.feature=e,a.evaluate(u)};else{var h={},c=function(t){var e=t.default;if("color"===t.type&&z(e))return[0,0,0,0];if("color"!==t.type)return void 0===e?null:e;var i=D(e);return new M(i[0],i[1],i[2],i[3])}(e);l=function(t,e){u.globals=t,u.feature=e;try{var i=a.evaluate(u);return T(null==i?c:i)}catch(t){return h[t.message]||(h[t.message]=!0,"undefined"!=typeof console&&console.warn(t.message)),T(c)}}}var p=w.isFeatureConstant(a);if(!p&&"property"===i&&!e["property-function"])return{result:"error",errors:[new f("","property expressions not supported")]};if(w.isGlobalPropertyConstant(a,["zoom"]))return{result:"success",context:i,isZoomConstant:!0,isFeatureConstant:p,evaluate:l,parsed:a};if("filter"===i)return{result:"success",context:"filter",isZoomConstant:!1,isFeatureConstant:p,evaluate:l,parsed:a};var d=function t(e){if(e instanceof y){var i=e.input;return i instanceof v&&"zoom"===i.name?e:null}if(e instanceof b)return t(e.result);if(e instanceof _){for(var n=null,o=0,r=e.args;o<r.length;o+=1){var s=r[o],a=t(s);if(a){if(a.error)return a;if(!(a instanceof y)||n)return{key:a.key,error:"Only one zoom-based curve may be used in a style function."};n=a}}return n}return null}(a);return d?d instanceof y?"step"!==d.interpolation.name&&"piecewise-constant"===e.function?{result:"error",errors:[new f(d.key,'interpolation type must be "step" for this property')]}:{result:"success",context:"property",isZoomConstant:!1,isFeatureConstant:p,evaluate:l,parsed:a,interpolation:d.interpolation,zoomStops:d.labels}:{result:"error",errors:[new f(d.key,d.error)]}:{result:"error",errors:[new f("",'"zoom" expression may only be used as input to a top-level "curve" expression.')]}},e.exports.isExpression=function(t){return Array.isArray(t)&&0<t.length&&"string"==typeof t[0]&&t[0]in x};var n=t("./types"),k=n.ColorType,C=n.StringType,S=n.NumberType,E=n.BooleanType,A=n.ValueType,P=n.array,z=t("../function").isFunction,D=t("../util/parse_color"),M=t("./values").Color},{"../function":145,"../util/parse_color":153,"./compound_expression":122,"./definitions":130,"./definitions/coalesce":127,"./definitions/curve":129,"./definitions/let":131,"./evaluation_context":135,"./is_constant":137,"./parsing_context":138,"./parsing_error":139,"./types":142,"./values":143}],137:[function(t,e,i){"use strict";var o=t("./compound_expression").CompoundExpression;e.exports={isFeatureConstant:function e(t){if(t instanceof o){if("get"===t.name&&1===t.args.length)return!1;if("has"===t.name&&1===t.args.length)return!1;if("properties"===t.name||"geometry-type"===t.name||"id"===t.name)return!1}var i=!0;return t.eachChild(function(t){i&&!e(t)&&(i=!1)}),i},isGlobalPropertyConstant:function e(t,i){if(t instanceof o&&0<=i.indexOf(t.name))return!1;var n=!0;return t.eachChild(function(t){n&&!e(t,i)&&(n=!1)}),n}}},{"./compound_expression":122}],138:[function(c,t,e){"use strict";var r=c("./scope"),n=c("./types").checkSubtype,o=c("./parsing_error"),p=c("./definitions/literal"),s=function(t,e,i,n,o){void 0===e&&(e=[]),void 0===n&&(n=new r),void 0===o&&(o=[]),this.definitions=t,this.path=e,this.key=e.map(function(t){return"["+t+"]"}).join(""),this.scope=n,this.errors=o,this.expectedType=i};s.prototype.parse=function(t,e,i,n){var o=this;if(e&&(o=o.concat(e,i,n)),null!==t&&"string"!=typeof t&&"boolean"!=typeof t&&"number"!=typeof t||(t=["literal",t]),Array.isArray(t)){if(0===t.length)return o.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');var r=t[0];if("string"!=typeof r)return o.error("Expression name must be a string, but found "+typeof r+' instead. If you wanted a literal array, use ["literal", [...]].',0),null;var s=o.definitions[r];if(s){var a=s.parse(t,o);if(!a)return null;var l=o.expectedType,u=a.type;if(l){if("string"!==l.kind&&"number"!==l.kind&&"boolean"!==l.kind||"value"!==u.kind){if("color"===l.kind&&("value"===u.kind||"string"===u.kind)){a=new(c("./definitions/coercion"))(a.key,l,[a])}}else a=new(c("./definitions/assertion"))(a.key,l,[a]);if(o.checkSubtype(l,a.type))return null}if(!(a instanceof p)&&function(t){var e=c("./compound_expression").CompoundExpression,i=c("./is_constant"),n=i.isGlobalPropertyConstant,o=i.isFeatureConstant;if(t instanceof c("./definitions/var"))return!1;if(t instanceof e&&"error"===t.name)return!1;var r=!0;return t.eachChild(function(t){t instanceof p||(r=!1)}),!!r&&o(t)&&n(t,["zoom","heatmap-density"])}(a)){var h=new(c("./evaluation_context"));try{a=new p(a.key,a.type,a.evaluate(h))}catch(t){return o.error(t.message),null}}return a}return o.error('Unknown expression "'+r+'". If you wanted a literal array, use ["literal", [...]].',0)}return void 0===t?o.error("'undefined' value invalid. Use null instead."):"object"==typeof t?o.error('Bare objects invalid. Use ["literal", {...}] instead.'):o.error("Expected an array, but found "+typeof t+" instead.")},s.prototype.concat=function(t,e,i){var n="number"==typeof t?this.path.concat(t):this.path,o=i?this.scope.concat(i):this.scope;return new s(this.definitions,n,e||null,o,this.errors)},s.prototype.error=function(t){for(var e=[],i=arguments.length-1;0<i--;)e[i]=arguments[i+1];var n=""+this.key+e.map(function(t){return"["+t+"]"}).join("");this.errors.push(new o(n,t))},s.prototype.checkSubtype=function(t,e){var i=n(t,e);return i&&this.error(i),i},t.exports=s},{"./compound_expression":122,"./definitions/assertion":124,"./definitions/coercion":128,"./definitions/literal":132,"./definitions/var":134,"./evaluation_context":135,"./is_constant":137,"./parsing_error":139,"./scope":141,"./types":142}],139:[function(t,e,i){"use strict";var n=function(i){function t(t,e){i.call(this,e),this.message=e,this.key=t}return i&&(t.__proto__=i),(t.prototype=Object.create(i&&i.prototype)).constructor=t}(Error);e.exports=n},{}],140:[function(t,e,i){"use strict";var n=function(t){this.name="ExpressionEvaluationError",this.message=t};n.prototype.toJSON=function(){return this.message},e.exports=n},{}],141:[function(t,e,i){"use strict";var n=function(t,e){void 0===e&&(e=[]),this.parent=t,this.bindings={};for(var i=0,n=e;i<n.length;i+=1){var o=n[i],r=o[0],s=o[1];this.bindings[r]=s}};n.prototype.concat=function(t){return new n(this,t)},n.prototype.get=function(t){if(this.bindings[t])return this.bindings[t];if(this.parent)return this.parent.get(t);throw new Error(t+" not found in scope.")},n.prototype.has=function(t){return!!this.bindings[t]||!!this.parent&&this.parent.has(t)},e.exports=n},{}],142:[function(t,e,i){"use strict";function n(t,e){return{kind:"array",itemType:t,N:e}}function r(t){if("array"!==t.kind)return t.kind;var e=r(t.itemType);return"number"==typeof t.N?"array<"+e+", "+t.N+">":"value"===t.itemType.kind?"array":"array<"+e+">"}var o={kind:"null"},s={kind:"number"},a={kind:"string"},l={kind:"boolean"},u={kind:"color"},h={kind:"object"},c={kind:"value"},p=[o,s,a,l,u,h,n(c)];e.exports={NullType:o,NumberType:s,StringType:a,BooleanType:l,ColorType:u,ObjectType:h,ValueType:c,array:n,ErrorType:{kind:"error"},toString:r,checkSubtype:function t(e,i){if("error"===i.kind)return null;if("array"===e.kind){if("array"===i.kind&&!t(e.itemType,i.itemType)&&("number"!=typeof e.N||e.N===i.N))return null}else{if(e.kind===i.kind)return null;if("value"===e.kind)for(var n=0,o=p;n<o.length;n+=1)if(!t(o[n],i))return null}return"Expected "+r(e)+" but found "+r(i)+" instead."}}},{}],143:[function(t,e,i){"use strict";var n=t("./types"),a=n.NullType,l=n.NumberType,u=n.StringType,h=n.BooleanType,c=n.ColorType,p=n.ObjectType,d=n.ValueType,f=n.array,m=function(t,e,i,n){void 0===n&&(n=1),this.value=[t,e,i,n]};e.exports={Color:m,validateRGBA:function(t,e,i,n){return"number"==typeof t&&0<=t&&t<=255&&"number"==typeof e&&0<=e&&e<=255&&"number"==typeof i&&0<=i&&i<=255?void 0===n||"number"==typeof n&&0<=n&&n<=1?null:"Invalid rgba value ["+[t,e,i,n].join(", ")+"]: 'a' must be between 0 and 1.":"Invalid rgba value ["+("number"==typeof n?[t,e,i,n]:[t,e,i]).join(", ")+"]: 'r', 'g', and 'b' must be between 0 and 255."},isValue:function t(e){if(null===e)return!0;if("string"==typeof e)return!0;if("boolean"==typeof e)return!0;if("number"==typeof e)return!0;if(e instanceof m)return!0;if(Array.isArray(e)){for(var i=0,n=e;i<n.length;i+=1)if(!t(n[i]))return!1;return!0}if("object"!=typeof e)return!1;for(var o in e)if(!t(e[o]))return!1;return!0},typeOf:function t(e){if(null===e)return a;if("string"==typeof e)return u;if("boolean"==typeof e)return h;if("number"==typeof e)return l;if(e instanceof m)return c;if(Array.isArray(e)){for(var i,n=e.length,o=0,r=e;o<r.length;o+=1){var s=t(r[o]);if(i){if(i===s)continue;i=d;break}i=s}return f(i||d,n)}return p},unwrap:function(t){return t instanceof m?t.value:t}}},{"./types":142}],144:[function(t,e,i){"use strict";function o(t){if(!Array.isArray(t)||0===t.length)return!1;switch(t[0]){case"has":return 2<=t.length&&"$id"!==t[1]&&"$type"!==t[1];case"in":case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return 3===t.length&&(Array.isArray(t[1])||Array.isArray(t[2]));case"any":case"all":for(var e=0,i=t.slice(1);e<i.length;e+=1){var n=i[e];if(!o(n)&&"boolean"!=typeof n)return!1}return!0;default:return!0}}function n(t){if(!t)return"true";var e=t[0];return t.length<=1?"any"===e?"false":"true":"("+("=="===e?r(t[1],t[2],"===",!1):"!="===e?r(t[1],t[2],"!==",!1):"<"===e||">"===e||"<="===e||">="===e?r(t[1],t[2],e,!0):"any"===e?a(t.slice(1),"||"):"all"===e?a(t.slice(1),"&&"):"none"===e?h(a(t.slice(1),"||")):"in"===e?l(t[1],t.slice(2)):"!in"===e?h(l(t[1],t.slice(2))):"has"===e?u(t[1]):"!has"===e?h(u(t[1])):"true")+")"}function s(t){return"$type"===t?"f.type":"$id"===t?"f.id":"p["+JSON.stringify(t)+"]"}function r(t,e,i,n){var o=s(t),r="$type"===t?d.indexOf(e):JSON.stringify(e);return(n?"typeof "+o+"=== typeof "+r+"&&":"")+o+i+r}function a(t,e){return t.map(n).join(e)}function l(t,e){"$type"===t&&(e=e.map(function(t){return d.indexOf(t)}));var i=JSON.stringify(e.sort(c)),n=s(t);return e.length<=200?i+".indexOf("+n+") !== -1":"function(v, a, i, j) {while (i <= j) { var m = (i + j) >> 1;    if (a[m] === v) return true; if (a[m] > v) j = m - 1; else i = m + 1;}return false; }("+n+", "+i+",0,"+(e.length-1)+")"}function u(t){return"$id"===t?'"id" in f':JSON.stringify(t)+" in p"}function h(t){return"!("+t+")"}function c(t,e){return t<e?-1:e<t?1:0}var p=t("../expression").createExpression;e.exports=function(t){if(!t)return function(){return!0};if(!o(t))return new Function("g","f","var p = (f && f.properties || {}); return "+n(t));var e=p(t,f,"filter");if("success"===e.result)return e.evaluate;throw new Error(e.errors.map(function(t){return t.key+": "+t.message}).join(", "))},e.exports.isExpressionFilter=o;var d=["Unknown","Point","LineString","Polygon"],f={type:"boolean",default:!1,function:!0,"property-function":!0}},{"../expression":136}],145:[function(t,e,i){"use strict";function A(t){return t}function P(t,e,i){return void 0!==t?t:void 0!==e?e:void 0!==i?i:void 0}function z(t,e,i,n,o){return P(typeof i===o?n[i]:void 0,t.default,e.default)}function D(t,e,i){if("number"!==v(i))return P(t.default,e.default);var n=t.stops.length;if(1===n)return t.stops[0][1];if(i<=t.stops[0][0])return t.stops[0][1];if(i>=t.stops[n-1][0])return t.stops[n-1][1];var o=g(t.stops,i);return t.stops[o][1]}function M(t,e,i){var n=void 0!==t.base?t.base:1;if("number"!==v(i))return P(t.default,e.default);var o=t.stops.length;if(1===o)return t.stops[0][1];if(i<=t.stops[0][0])return t.stops[0][1];if(i>=t.stops[o-1][0])return t.stops[o-1][1];var r,s,a,l,u,h,c=g(t.stops,i),p=(r=i,s=n,a=t.stops[c][0],l=t.stops[c+1][0],h=r-a,0===(u=l-a)?0:1===s?h/u:(Math.pow(s,h)-1)/(Math.pow(s,u)-1)),d=t.stops[c][1],f=t.stops[c+1][1],m=y[e.type]||A;return"function"==typeof d.evaluate?{evaluate:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var i=d.evaluate.apply(void 0,t),n=f.evaluate.apply(void 0,t);if(void 0!==i&&void 0!==n)return m(i,n,p)}}:m(d,f,p)}function I(t,e,i){return"color"===e.type?i=L(i):v(i)===e.type||"enum"===e.type&&e.values[i]||(i=void 0),P(i,t.default,e.default)}function g(t,e){for(var i,n,o=0,r=t.length-1,s=0;o<=r;){if(i=t[s=Math.floor((o+r)/2)][0],n=t[s+1][0],e===i||i<e&&e<n)return s;i<e?o=s+1:e<i&&(r=s-1)}return Math.max(s-1,0)}var O=t("../util/color_spaces"),L=t("../util/parse_color"),R=t("../util/extend"),v=t("../util/get_type"),y=t("../util/interpolate");e.exports={createFunction:function t(n,o,e){var r,s,a,l,i,u="color"===o.type,h=n.stops&&"object"==typeof n.stops[0][0],c=h||void 0!==n.property,p=h||!c,d=n.type||("interpolated"===o.function?"exponential":"interval");if(u&&((n=R({},n)).stops&&(n.stops=n.stops.map(function(t){return[t[0],L(t[1])]})),n.default?n.default=L(n.default):n.default=L(o.default)),"exponential"===d)r=M;else if("interval"===d)r=D;else if("categorical"===d){r=z,s=Object.create(null);for(var f=0,m=n.stops;f<m.length;f+=1){var g=m[f];s[g[0]]=g[1]}a=typeof n.stops[0][0]}else{if("identity"!==d)throw new Error('Unknown function type "'+d+'"');r=I}if(n.colorSpace&&"rgb"!==n.colorSpace){if(!O[n.colorSpace])throw new Error("Unknown color space: "+n.colorSpace);var v=O[n.colorSpace];n=JSON.parse(JSON.stringify(n));for(var y=0;y<n.stops.length;y++)n.stops[y]=[n.stops[y][0],v.forward(n.stops[y][1])];l=v.reverse}else l=A;if(h){for(var _={},b=[],x=0;x<n.stops.length;x++){var w=n.stops[x],T=w[0].zoom;void 0===_[T]&&(_[T]={zoom:T,type:n.type,property:n.property,default:n.default,stops:[]},b.push(T)),_[T].stops.push([w[0].value,w[1]])}for(var k=[],C=0,S=b;C<S.length;C+=1){var E=S[C];k.push([_[E].zoom,t(_[E],o)])}return{isFeatureConstant:!1,interpolation:{name:"linear"},zoomStops:k.map(function(t){return t[0]}),evaluate:function(t,e){var i=t.zoom;return l(M({stops:k,base:n.base},o,i).evaluate(i,e))}}}return p?(i="heatmap-color"===e?function(t){var e=t.heatmapDensity;return l(r(n,o,e,s,a))}:function(t){var e=t.zoom;return l(r(n,o,e,s,a))},{isFeatureConstant:!0,isZoomConstant:!1,interpolation:"exponential"===d?{name:"exponential",base:void 0!==n.base?n.base:1}:{name:"step"},zoomStops:n.stops.map(function(t){return t[0]}),evaluate:i}):{isFeatureConstant:!1,isZoomConstant:!0,evaluate:function(t,e){var i=e&&e.properties?e.properties[n.property]:void 0;return void 0===i?P(n.default,o.default):l(r(n,o,i,s,a))}}},isFunction:function(t){return"object"==typeof t&&null!==t&&!Array.isArray(t)}}},{"../util/color_spaces":149,"../util/extend":150,"../util/get_type":151,"../util/interpolate":152,"../util/parse_color":153}],146:[function(t,e,i){"use strict";function l(t){var e=typeof t;if("number"===e||"boolean"===e||"string"===e||null==t)return JSON.stringify(t);if(Array.isArray(t)){for(var i="[",n=0,o=t;n<o.length;n+=1)i+=l(o[n])+",";return i+"]"}for(var r=Object.keys(t).sort(),s="{",a=0;a<r.length;a++)s+=JSON.stringify(r[a])+":"+l(t[r[a]])+",";return s+"}"}function a(t){for(var e="",i=0,n=o;i<n.length;i+=1)e+="/"+l(t[n[i]]);return e}var o=t("./util/ref_properties");e.exports=function(t){for(var e={},i=0;i<t.length;i++){var n=a(t[i]),o=e[n];o||(o=e[n]=[]),o.push(t[i])}var r=[];for(var s in e)r.push(e[s]);return r}},{"./util/ref_properties":154}],147:[function(t,e,i){"use strict";e.exports=t("./v8.json")},{"./v8.json":148}],148:[function(t,e,i){e.exports={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_tile","source_geojson","source_video","source_image","source_canvas"],source_tile:{type:{required:!0,type:"enum",values:{vector:{},raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.0511,180,85.0511]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},buffer:{type:"number",default:128,maximum:512,minimum:0},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_canvas:{type:{required:!0,type:"enum",values:{canvas:{}}},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}},animate:{type:"boolean",default:"true"},canvas:{type:"string",required:!0}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},background:{}}},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"},"paint.*":{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible"}},layout_fill:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible"}},layout_circle:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible"}},layout_line:{"line-cap":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{butt:{},round:{},square:{}},default:"butt"},"line-join":{type:"enum",function:"piecewise-constant","zoom-function":!0,"property-function":!0,values:{bevel:{},round:{},miter:{}},default:"miter"},"line-miter-limit":{type:"number",default:2,function:"interpolated","zoom-function":!0,requires:[{"line-join":"miter"}]},"line-round-limit":{type:"number",default:1.05,function:"interpolated","zoom-function":!0,requires:[{"line-join":"round"}]},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible"}},layout_symbol:{"symbol-placement":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{point:{},line:{}},default:"point"},"symbol-spacing":{type:"number",default:250,minimum:1,function:"interpolated","zoom-function":!0,units:"pixels",requires:[{"symbol-placement":"line"}]},"symbol-avoid-edges":{type:"boolean",function:"piecewise-constant","zoom-function":!0,default:!1},"icon-allow-overlap":{type:"boolean",function:"piecewise-constant","zoom-function":!0,default:!1,requires:["icon-image"]},"icon-ignore-placement":{type:"boolean",function:"piecewise-constant","zoom-function":!0,default:!1,requires:["icon-image"]},"icon-optional":{type:"boolean",function:"piecewise-constant","zoom-function":!0,default:!1,requires:["icon-image","text-field"]},"icon-rotation-alignment":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"]},"icon-size":{type:"number",default:1,minimum:0,function:"interpolated","zoom-function":!0,"property-function":!0,units:"factor of the original icon size",requires:["icon-image"]},"icon-text-fit":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"]},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",function:"interpolated","zoom-function":!0,requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}]},"icon-image":{type:"string",function:"piecewise-constant","zoom-function":!0,"property-function":!0,tokens:!0},"icon-rotate":{type:"number",default:0,period:360,function:"interpolated","zoom-function":!0,"property-function":!0,units:"degrees",requires:["icon-image"]},"icon-padding":{type:"number",default:2,minimum:0,function:"interpolated","zoom-function":!0,units:"pixels",requires:["icon-image"]},"icon-keep-upright":{type:"boolean",function:"piecewise-constant","zoom-function":!0,default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":"line"}]},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],function:"interpolated","zoom-function":!0,"property-function":!0,requires:["icon-image"]},"icon-anchor":{type:"enum",function:"piecewise-constant","zoom-function":!0,"property-function":!0,values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"]},"icon-pitch-alignment":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"]},"text-pitch-alignment":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"]},"text-rotation-alignment":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"]},"text-field":{type:"string",function:"piecewise-constant","zoom-function":!0,"property-function":!0,default:"",tokens:!0},"text-font":{type:"array",value:"string",function:"piecewise-constant","zoom-function":!0,default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"]},"text-size":{type:"number",default:16,minimum:0,units:"pixels",function:"interpolated","zoom-function":!0,"property-function":!0,requires:["text-field"]},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",function:"interpolated","zoom-function":!0,"property-function":!0,requires:["text-field"]},"text-line-height":{type:"number",default:1.2,units:"ems",function:"interpolated","zoom-function":!0,requires:["text-field"]},"text-letter-spacing":{type:"number",default:0,units:"ems",function:"interpolated","zoom-function":!0,"property-function":!0,requires:["text-field"]},"text-justify":{type:"enum",function:"piecewise-constant","zoom-function":!0,"property-function":!0,values:{left:{},center:{},right:{}},default:"center",requires:["text-field"]},"text-anchor":{type:"enum",function:"piecewise-constant","zoom-function":!0,"property-function":!0,values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field"]},"text-max-angle":{type:"number",default:45,units:"degrees",function:"interpolated","zoom-function":!0,requires:["text-field",{"symbol-placement":"line"}]},"text-rotate":{type:"number",default:0,period:360,units:"degrees",function:"interpolated","zoom-function":!0,"property-function":!0,requires:["text-field"]},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",function:"interpolated","zoom-function":!0,requires:["text-field"]},"text-keep-upright":{type:"boolean",function:"piecewise-constant","zoom-function":!0,default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":"line"}]},"text-transform":{type:"enum",function:"piecewise-constant","zoom-function":!0,"property-function":!0,values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"]},"text-offset":{type:"array",value:"number",units:"ems",function:"interpolated","zoom-function":!0,"property-function":!0,length:2,default:[0,0],requires:["text-field"]},"text-allow-overlap":{type:"boolean",function:"piecewise-constant","zoom-function":!0,default:!1,requires:["text-field"]},"text-ignore-placement":{type:"boolean",function:"piecewise-constant","zoom-function":!0,default:!1,requires:["text-field"]},"text-optional":{type:"boolean",function:"piecewise-constant","zoom-function":!0,default:!1,requires:["text-field","icon-image"]},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:22,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},expression_name:{type:"enum",values:{let:{group:"Variable binding"},var:{group:"Variable binding"},literal:{group:"Types"},array:{group:"Types"},at:{group:"Lookup"},case:{group:"Decision"},match:{group:"Decision"},coalesce:{group:"Decision"},curve:{group:"Ramps, scales, curves"},ln2:{group:"Math"},pi:{group:"Math"},e:{group:"Math"},typeof:{group:"Types"},string:{group:"Types"},number:{group:"Types"},boolean:{group:"Types"},object:{group:"Types"},"to-string":{group:"Types"},"to-number":{group:"Types"},"to-boolean":{group:"Types"},"to-rgba":{group:"Color"},"to-color":{group:"Types"},rgb:{group:"Color"},rgba:{group:"Color"},get:{group:"Lookup"},has:{group:"Lookup"},length:{group:"Lookup"},properties:{group:"Feature data"},"geometry-type":{group:"Feature data"},id:{group:"Feature data"},zoom:{group:"Zoom"},"heatmap-density":{group:"Heatmap"},"+":{group:"Math"},"*":{group:"Math"},"-":{group:"Math"},"/":{group:"Math"},"%":{group:"Math"},"^":{group:"Math"},log10:{group:"Math"},ln:{group:"Math"},log2:{group:"Math"},sin:{group:"Math"},cos:{group:"Math"},tan:{group:"Math"},asin:{group:"Math"},acos:{group:"Math"},atan:{group:"Math"},min:{group:"Math"},max:{group:"Math"},"==":{group:"Decision"},"!=":{group:"Decision"},">":{group:"Decision"},"<":{group:"Decision"},">=":{group:"Decision"},"<=":{group:"Decision"},all:{group:"Decision"},any:{group:"Decision"},"!":{group:"Decision"},upcase:{group:"String"},downcase:{group:"String"},concat:{group:"String"}}},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},transition:!1,"zoom-function":!0,"property-function":!1,function:"piecewise-constant"},position:{type:"array",default:[1.15,210,30],length:3,value:"number",transition:!0,function:"interpolated","zoom-function":!0,"property-function":!1},color:{type:"color",default:"#ffffff",function:"interpolated","zoom-function":!0,"property-function":!1,transition:!0},intensity:{type:"number",default:.5,minimum:0,maximum:1,function:"interpolated","zoom-function":!0,"property-function":!1,transition:!0}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",function:"piecewise-constant","zoom-function":!0,default:!0},"fill-opacity":{type:"number",function:"interpolated","zoom-function":!0,"property-function":!0,default:1,minimum:0,maximum:1,transition:!0},"fill-color":{type:"color",default:"#000000",function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:[{"!":"fill-pattern"}]},"fill-outline-color":{type:"color",function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}]},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],function:"interpolated","zoom-function":!0,transition:!0,units:"pixels"},"fill-translate-anchor":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{}},default:"map",requires:["fill-translate"]},"fill-pattern":{type:"string",function:"piecewise-constant","zoom-function":!0,transition:!0}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",function:"interpolated","zoom-function":!0,"property-function":!1,default:1,minimum:0,maximum:1,transition:!0},"fill-extrusion-color":{type:"color",default:"#000000",function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:[{"!":"fill-extrusion-pattern"}]},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],function:"interpolated","zoom-function":!0,transition:!0,units:"pixels"},"fill-extrusion-translate-anchor":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"]},"fill-extrusion-pattern":{type:"string",function:"piecewise-constant","zoom-function":!0,transition:!0},"fill-extrusion-height":{type:"number",function:"interpolated","zoom-function":!0,"property-function":!0,default:0,minimum:0,units:"meters",transition:!0},"fill-extrusion-base":{type:"number",function:"interpolated","zoom-function":!0,"property-function":!0,default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"]}},paint_line:{"line-opacity":{type:"number",function:"interpolated","zoom-function":!0,"property-function":!0,default:1,minimum:0,maximum:1,transition:!0},"line-color":{type:"color",default:"#000000",function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:[{"!":"line-pattern"}]},"line-translate":{type:"array",value:"number",length:2,default:[0,0],function:"interpolated","zoom-function":!0,transition:!0,units:"pixels"},"line-translate-anchor":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{}},default:"map",requires:["line-translate"]},"line-width":{type:"number",default:1,minimum:0,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels"},"line-gap-width":{type:"number",default:0,minimum:0,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels"},"line-offset":{type:"number",default:0,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels"},"line-blur":{type:"number",default:0,minimum:0,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels"},"line-dasharray":{type:"array",value:"number",function:"piecewise-constant","zoom-function":!0,minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}]},"line-pattern":{type:"string",function:"piecewise-constant","zoom-function":!0,transition:!0}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels"},"circle-color":{type:"color",default:"#000000",function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0},"circle-blur":{type:"number",default:0,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],function:"interpolated","zoom-function":!0,transition:!0,units:"pixels"},"circle-translate-anchor":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{}},default:"map",requires:["circle-translate"]},"circle-pitch-scale":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{}},default:"map"},"circle-pitch-alignment":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{}},default:"viewport"},"circle-stroke-width":{type:"number",default:0,minimum:0,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels"},"circle-stroke-color":{type:"color",default:"#000000",function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,function:"interpolated","zoom-function":!0,"property-function":!1,transition:!0,units:"pixels"},"heatmap-weight":{type:"number",default:1,minimum:0,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!1},"heatmap-intensity":{type:"number",default:1,minimum:0,function:"interpolated","zoom-function":!0,"property-function":!1,transition:!0},"heatmap-color":{type:"color",default:{stops:[[0,"rgba(0, 0, 255, 0)"],[.1,"royalblue"],[.3,"cyan"],[.5,"lime"],[.7,"yellow"],[1,"red"]]},function:"interpolated","zoom-function":!0,"property-function":!1,transition:!0},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,function:"interpolated","zoom-function":!0,"property-function":!1,transition:!0}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:["icon-image"]},"icon-color":{type:"color",default:"#000000",function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:["icon-image"]},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:["icon-image"]},"icon-halo-width":{type:"number",default:0,minimum:0,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels",requires:["icon-image"]},"icon-halo-blur":{type:"number",default:0,minimum:0,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels",requires:["icon-image"]},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],function:"interpolated","zoom-function":!0,transition:!0,units:"pixels",requires:["icon-image"]},"icon-translate-anchor":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"]},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:["text-field"]},"text-color":{type:"color",default:"#000000",function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:["text-field"]},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:["text-field"]},"text-halo-width":{type:"number",default:0,minimum:0,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels",requires:["text-field"]},"text-halo-blur":{type:"number",default:0,minimum:0,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels",requires:["text-field"]},"text-translate":{type:"array",value:"number",length:2,default:[0,0],function:"interpolated","zoom-function":!0,transition:!0,units:"pixels",requires:["text-field"]},"text-translate-anchor":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"]}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,function:"interpolated","zoom-function":!0,transition:!0},"raster-hue-rotate":{type:"number",default:0,period:360,function:"interpolated","zoom-function":!0,transition:!0,units:"degrees"},"raster-brightness-min":{type:"number",function:"interpolated","zoom-function":!0,default:0,minimum:0,maximum:1,transition:!0},"raster-brightness-max":{type:"number",function:"interpolated","zoom-function":!0,default:1,minimum:0,maximum:1,transition:!0},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,function:"interpolated","zoom-function":!0,transition:!0},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,function:"interpolated","zoom-function":!0,transition:!0},"raster-fade-duration":{type:"number",default:300,minimum:0,function:"interpolated","zoom-function":!0,transition:!0,units:"milliseconds"}},paint_background:{"background-color":{type:"color",default:"#000000",function:"interpolated","zoom-function":!0,transition:!0,requires:[{"!":"background-pattern"}]},"background-pattern":{type:"string",function:"piecewise-constant","zoom-function":!0,transition:!0},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,function:"interpolated","zoom-function":!0,transition:!0}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}}}},{}],149:[function(t,e,i){"use strict";function s(t){return m<t?Math.pow(t,1/3):t/f+p}function o(t){return d<t?t*t*t:f*(t-p)}function r(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function a(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function l(t){var e=a(t[0]),i=a(t[1]),n=a(t[2]),o=s((.4124564*e+.3575761*i+.1804375*n)/u),r=s((.2126729*e+.7151522*i+.072175*n)/h);return[116*r-16,500*(o-r),200*(r-s((.0193339*e+.119192*i+.9503041*n)/c)),t[3]]}function n(t){var e=(t[0]+16)/116,i=isNaN(t[1])?e:e+t[1]/500,n=isNaN(t[2])?e:e-t[2]/200;return e=h*o(e),[r(3.2404542*(i=u*o(i))-1.5371385*e-.4985314*(n=c*o(n))),r(-.969266*i+1.8760108*e+.041556*n),r(.0556434*i-.2040259*e+1.0572252*n),t[3]]}var u=.95047,h=1,c=1.08883,p=4/29,d=6/29,f=3*d*d,m=d*d*d,g=Math.PI/180,v=180/Math.PI;e.exports={lab:{forward:l,reverse:n},hcl:{forward:function(t){var e=l(t),i=e[0],n=e[1],o=e[2],r=Math.atan2(o,n)*v;return[r<0?r+360:r,Math.sqrt(n*n+o*o),i,t[3]]},reverse:function(t){var e=t[0]*g,i=t[1];return n([t[2],Math.cos(e)*i,Math.sin(e)*i,t[3]])}}}},{}],150:[function(t,e,i){"use strict";e.exports=function(t){for(var e=[],i=arguments.length-1;0<i--;)e[i]=arguments[i+1];for(var n=0,o=e;n<o.length;n+=1){var r=o[n];for(var s in r)t[s]=r[s]}return t}},{}],151:[function(t,e,i){"use strict";e.exports=function(t){return t instanceof Number?"number":t instanceof String?"string":t instanceof Boolean?"boolean":Array.isArray(t)?"array":null===t?"null":typeof t}},{}],152:[function(t,e,i){"use strict";function o(t,e,i){return t*(1-i)+e*i}((e.exports=o).number=o).vec2=function(t,e,i){return[o(t[0],e[0],i),o(t[1],e[1],i)]},o.color=function(t,e,i){return[o(t[0],e[0],i),o(t[1],e[1],i),o(t[2],e[2],i),o(t[3],e[3],i)]},o.array=function(t,i,n){return t.map(function(t,e){return o(t,i[e],n)})}},{}],153:[function(t,e,i){"use strict";var n=t("csscolorparser").parseCSSColor;e.exports=function(t){if("string"!=typeof t)return Array.isArray(t)?t:void 0;var e=n(t);return e?[e[0]/255*e[3],e[1]/255*e[3],e[2]/255*e[3],e[3]]:void 0}},{csscolorparser:11}],154:[function(t,e,i){"use strict";e.exports=["type","source","source-layer","minzoom","maxzoom","filter","layout"]},{}],155:[function(t,e,i){"use strict";function n(t){return t instanceof Number||t instanceof String||t instanceof Boolean?t.valueOf():t}e.exports=n,e.exports.deep=function t(e){return Array.isArray(e)?e.map(t):n(e)}},{}],156:[function(h,t,e){"use strict";var c=h("../error/validation_error"),p=h("../util/get_type"),d=h("../util/extend"),f=h("../util/unbundle_jsonlint"),m=h("../expression").isExpression,g=h("../function").isFunction;t.exports=function(t){var e=h("./validate_function"),i=h("./validate_expression"),n=h("./validate_object"),o={"*":function(){return[]},array:h("./validate_array"),boolean:h("./validate_boolean"),number:h("./validate_number"),color:h("./validate_color"),constants:h("./validate_constants"),enum:h("./validate_enum"),filter:h("./validate_filter"),function:h("./validate_function"),layer:h("./validate_layer"),object:h("./validate_object"),source:h("./validate_source"),light:h("./validate_light"),string:h("./validate_string")},r=t.value,s=t.valueSpec,a=t.key,l=t.styleSpec,u=t.style;if("string"===p(r)&&"@"===r[0]){if(7<l.$version)return[new c(a,r,"constants have been deprecated as of v8")];if(!(r in u.constants))return[new c(a,r,'constant "%s" not found',r)];t=d({},t,{value:u.constants[r]})}return s.function&&g(f(r))?e(t):s.function&&m(f.deep(r))?i(t):s.type&&o[s.type]?o[s.type](t):n(d({},t,{valueSpec:s.type?l[s.type]:s}))}},{"../error/validation_error":121,"../expression":136,"../function":145,"../util/extend":150,"../util/get_type":151,"../util/unbundle_jsonlint":155,"./validate_array":157,"./validate_boolean":158,"./validate_color":159,"./validate_constants":160,"./validate_enum":161,"./validate_expression":162,"./validate_filter":163,"./validate_function":164,"./validate_layer":166,"./validate_light":168,"./validate_number":169,"./validate_object":170,"./validate_source":173,"./validate_string":174}],157:[function(t,e,i){"use strict";var h=t("../util/get_type"),c=t("./validate"),p=t("../error/validation_error");e.exports=function(t){var e=t.value,i=t.valueSpec,n=t.style,o=t.styleSpec,r=t.key,s=t.arrayElementValidator||c;if("array"!==h(e))return[new p(r,e,"array expected, %s found",h(e))];if(i.length&&e.length!==i.length)return[new p(r,e,"array length %d expected, length %d found",i.length,e.length)];if(i["min-length"]&&e.length<i["min-length"])return[new p(r,e,"array length at least %d expected, length %d found",i["min-length"],e.length)];var a={type:i.value};o.$version<7&&(a.function=i.function),"object"===h(i.value)&&(a=i.value);for(var l=[],u=0;u<e.length;u++)l=l.concat(s({array:e,arrayIndex:u,value:e[u],valueSpec:a,style:n,styleSpec:o,key:r+"["+u+"]"}));return l}},{"../error/validation_error":121,"../util/get_type":151,"./validate":156}],158:[function(t,e,i){"use strict";var o=t("../util/get_type"),r=t("../error/validation_error");e.exports=function(t){var e=t.value,i=t.key,n=o(e);return"boolean"!==n?[new r(i,e,"boolean expected, %s found",n)]:[]}},{"../error/validation_error":121,"../util/get_type":151}],159:[function(t,e,i){"use strict";var o=t("../error/validation_error"),r=t("../util/get_type"),s=t("csscolorparser").parseCSSColor;e.exports=function(t){var e=t.key,i=t.value,n=r(i);return"string"!==n?[new o(e,i,"color expected, %s found",n)]:null===s(i)?[new o(e,i,'color expected, "%s" found',i)]:[]}},{"../error/validation_error":121,"../util/get_type":151,csscolorparser:11}],160:[function(t,e,i){"use strict";var s=t("../error/validation_error"),a=t("../util/get_type");e.exports=function(t){var e=t.key,i=t.value;if(7<t.styleSpec.$version)return i?[new s(e,i,"constants have been deprecated as of v8")]:[];var n=a(i);if("object"!==n)return[new s(e,i,"object expected, %s found",n)];var o=[];for(var r in i)"@"!==r[0]&&o.push(new s(e+"."+r,i[r],'constants must start with "@"'));return o}},{"../error/validation_error":121,"../util/get_type":151}],161:[function(t,e,i){"use strict";var r=t("../error/validation_error"),s=t("../util/unbundle_jsonlint");e.exports=function(t){var e=t.key,i=t.value,n=t.valueSpec,o=[];return Array.isArray(n.values)?-1===n.values.indexOf(s(i))&&o.push(new r(e,i,"expected one of [%s], %s found",n.values.join(", "),JSON.stringify(i))):-1===Object.keys(n.values).indexOf(s(i))&&o.push(new r(e,i,"expected one of [%s], %s found",Object.keys(n.values).join(", "),JSON.stringify(i))),o}},{"../error/validation_error":121,"../util/unbundle_jsonlint":155}],162:[function(t,e,i){"use strict";var n=t("../error/validation_error"),o=t("../expression").createExpression,r=t("../util/unbundle_jsonlint");e.exports=function(e){var t=o(r.deep(e.value),e.valueSpec,e.expressionContext);return"success"===t.result?[]:t.errors.map(function(t){return new n(""+e.key+t.key,e.value,t.message)})}},{"../error/validation_error":121,"../expression":136,"../util/unbundle_jsonlint":155}],163:[function(t,e,i){"use strict";var u=t("../error/validation_error"),h=t("./validate_expression"),c=t("./validate_enum"),p=t("../util/get_type"),d=t("../util/unbundle_jsonlint"),f=t("../util/extend"),m=t("../feature_filter").isExpressionFilter;e.exports=function t(e){var i,n=e.value,o=e.key,r=e.styleSpec,s=[];if("array"!==p(n))return[new u(o,n,"array expected, %s found",p(n))];if(m(d.deep(n)))return h(f({},e,{expressionContext:"filter",valueSpec:{value:"boolean"}}));if(n.length<1)return[new u(o,n,"filter array must have at least 1 element")];switch(s=s.concat(c({key:o+"[0]",value:n[0],valueSpec:r.filter_operator,style:e.style,styleSpec:e.styleSpec})),d(n[0])){case"<":case"<=":case">":case">=":2<=n.length&&"$type"===d(n[1])&&s.push(new u(o,n,'"$type" cannot be use with operator "%s"',n[0]));case"==":case"!=":3!==n.length&&s.push(new u(o,n,'filter array for operator "%s" must have 3 elements',n[0]));case"in":case"!in":2<=n.length&&"string"!==(i=p(n[1]))&&s.push(new u(o+"[1]",n[1],"string expected, %s found",i));for(var a=2;a<n.length;a++)i=p(n[a]),"$type"===d(n[1])?s=s.concat(c({key:o+"["+a+"]",value:n[a],valueSpec:r.geometry_type,style:e.style,styleSpec:e.styleSpec})):"string"!==i&&"number"!==i&&"boolean"!==i&&s.push(new u(o+"["+a+"]",n[a],"string, number, or boolean expected, %s found",i));break;case"any":case"all":case"none":for(var l=1;l<n.length;l++)s=s.concat(t({key:o+"["+l+"]",value:n[l],style:e.style,styleSpec:e.styleSpec}));break;case"has":case"!has":i=p(n[1]),2!==n.length?s.push(new u(o,n,'filter array for "%s" operator must have 2 elements',n[0])):"string"!==i&&s.push(new u(o+"[1]",n[1],"string expected, %s found",i))}return s}},{"../error/validation_error":121,"../feature_filter":144,"../util/extend":150,"../util/get_type":151,"../util/unbundle_jsonlint":155,"./validate_enum":161,"./validate_expression":162}],164:[function(t,e,i){"use strict";var d=t("../error/validation_error"),f=t("../util/get_type"),m=t("./validate"),g=t("./validate_object"),v=t("./validate_array"),y=t("./validate_number"),_=t("../util/unbundle_jsonlint");e.exports=function(t){function n(t){var e=[],i=t.value,n=t.key;if("array"!==f(i))return[new d(n,i,"array expected, %s found",f(i))];if(2!==i.length)return[new d(n,i,"array length %d expected, length %d found",2,i.length)];if(c){if("object"!==f(i[0]))return[new d(n,i,"object expected, %s found",f(i[0]))];if(void 0===i[0].zoom)return[new d(n,i,"object stop key must have zoom")];if(void 0===i[0].value)return[new d(n,i,"object stop key must have value")];if(r&&r>_(i[0].zoom))return[new d(n,i[0].zoom,"stop zoom values must appear in ascending order")];_(i[0].zoom)!==r&&(r=_(i[0].zoom),a=void 0,h={}),e=e.concat(g({key:n+"[0]",value:i[0],valueSpec:{zoom:{}},style:t.style,styleSpec:t.styleSpec,objectElementValidators:{zoom:y,value:o}}))}else e=e.concat(o({key:n+"[0]",value:i[0],valueSpec:{},style:t.style,styleSpec:t.styleSpec},i));return e.concat(m({key:n+"[1]",value:i[1],valueSpec:l,style:t.style,styleSpec:t.styleSpec}))}function o(t,e){var i=f(t.value),n=_(t.value),o=null!==t.value?t.value:e;if(s){if(i!==s)return[new d(t.key,o,"%s stop domain type must match previous stop domain type %s",i,s)]}else s=i;if("number"!==i&&"string"!==i&&"boolean"!==i)return[new d(t.key,o,"stop domain value must be a number, string, or boolean")];if("number"===i||"categorical"===u)return"categorical"!==u||"number"!==i||isFinite(n)&&Math.floor(n)===n?"categorical"!==u&&"number"===i&&void 0!==a&&n<a?[new d(t.key,o,"stop domain values must appear in ascending order")]:(a=n,"categorical"===u&&n in h?[new d(t.key,o,"stop domain values must be unique")]:(h[n]=!0,[])):[new d(t.key,o,"integer expected, found %s",n)];var r="number expected, %s found";return l["property-function"]&&void 0===u&&(r+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new d(t.key,o,r,i)]}var s,a,r,l=t.valueSpec,u=_(t.value.type),h={},e="categorical"!==u&&void 0===t.value.property,i=!e,c="array"===f(t.value.stops)&&"array"===f(t.value.stops[0])&&"object"===f(t.value.stops[0][0]),p=g({key:t.key,value:t.value,valueSpec:t.styleSpec.function,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{stops:function(t){if("identity"===u)return[new d(t.key,t.value,'identity function may not have a "stops" property')];var e=[],i=t.value;return e=e.concat(v({key:t.key,value:i,valueSpec:t.valueSpec,style:t.style,styleSpec:t.styleSpec,arrayElementValidator:n})),"array"===f(i)&&0===i.length&&e.push(new d(t.key,i,"array must have at least one stop")),e},default:function(t){return m({key:t.key,value:t.value,valueSpec:l,style:t.style,styleSpec:t.styleSpec})}}});return"identity"===u&&e&&p.push(new d(t.key,t.value,'missing required property "property"')),"identity"===u||t.value.stops||p.push(new d(t.key,t.value,'missing required property "stops"')),"exponential"===u&&"piecewise-constant"===t.valueSpec.function&&p.push(new d(t.key,t.value,"exponential functions not supported")),8<=t.styleSpec.$version&&(i&&!t.valueSpec["property-function"]?p.push(new d(t.key,t.value,"property functions not supported")):e&&!t.valueSpec["zoom-function"]&&p.push(new d(t.key,t.value,"zoom functions not supported"))),"categorical"!==u&&!c||void 0!==t.value.property||p.push(new d(t.key,t.value,'"property" property is required')),p}},{"../error/validation_error":121,"../util/get_type":151,"../util/unbundle_jsonlint":155,"./validate":156,"./validate_array":157,"./validate_number":169,"./validate_object":170}],165:[function(t,e,i){"use strict";var o=t("../error/validation_error"),r=t("./validate_string");e.exports=function(t){var e=t.value,i=t.key,n=r(t);return n.length||(-1===e.indexOf("{fontstack}")&&n.push(new o(i,e,'"glyphs" url must include a "{fontstack}" token')),-1===e.indexOf("{range}")&&n.push(new o(i,e,'"glyphs" url must include a "{range}" token'))),n}},{"../error/validation_error":121,"./validate_string":174}],166:[function(t,e,i){"use strict";var f=t("../error/validation_error"),m=t("../util/unbundle_jsonlint"),g=t("./validate_object"),v=t("./validate_filter"),y=t("./validate_paint_property"),_=t("./validate_layout_property"),b=t("../util/extend");e.exports=function(t){var e=[],i=t.value,n=t.key,o=t.style,r=t.styleSpec;i.type||i.ref||e.push(new f(n,i,'either "type" or "ref" is required'));var s,a=m(i.type),l=m(i.ref);if(i.id)for(var u=m(i.id),h=0;h<t.arrayIndex;h++){var c=o.layers[h];m(c.id)===u&&e.push(new f(n,i.id,'duplicate layer id "%s", previously used at line %d',i.id,c.id.__line__))}if("ref"in i)["type","source","source-layer","filter","layout"].forEach(function(t){t in i&&e.push(new f(n,i[t],'"%s" is prohibited for ref layers',t))}),o.layers.forEach(function(t){m(t.id)===l&&(s=t)}),s?s.ref?e.push(new f(n,i.ref,"ref cannot reference another ref layer")):a=m(s.type):e.push(new f(n,i.ref,'ref layer "%s" not found',l));else if("background"!==a)if(i.source){var p=o.sources&&o.sources[i.source],d=p&&m(p.type);p?"vector"===d&&"raster"===a?e.push(new f(n,i.source,'layer "%s" requires a raster source',i.id)):"raster"===d&&"raster"!==a?e.push(new f(n,i.source,'layer "%s" requires a vector source',i.id)):"vector"!==d||i["source-layer"]||e.push(new f(n,i,'layer "%s" must specify a "source-layer"',i.id)):e.push(new f(n,i.source,'source "%s" not found',i.source))}else e.push(new f(n,i,'missing required property "source"'));return e=e.concat(g({key:n,value:i,valueSpec:r.layer,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{"*":function(){return[]},filter:v,layout:function(t){return g({layer:i,key:t.key,value:t.value,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{"*":function(t){return _(b({layerType:a},t))}}})},paint:function(t){return g({layer:i,key:t.key,value:t.value,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{"*":function(t){return y(b({layerType:a},t))}}})}}}))}},{"../error/validation_error":121,"../util/extend":150,"../util/unbundle_jsonlint":155,"./validate_filter":163,"./validate_layout_property":167,"./validate_object":170,"./validate_paint_property":171}],167:[function(t,e,i){"use strict";var n=t("./validate_property");e.exports=function(t){return n(t,"layout")}},{"./validate_property":172}],168:[function(t,e,i){"use strict";var u=t("../error/validation_error"),h=t("../util/get_type"),c=t("./validate");e.exports=function(t){var e=t.value,i=t.styleSpec,n=i.light,o=t.style,r=[],s=h(e);if(void 0===e)return r;if("object"!==s)return r.concat([new u("light",e,"object expected, %s found",s)]);for(var a in e){var l=a.match(/^(.*)-transition$/);r=l&&n[l[1]]&&n[l[1]].transition?r.concat(c({key:a,value:e[a],valueSpec:i.transition,style:o,styleSpec:i})):n[a]?r.concat(c({key:a,value:e[a],valueSpec:n[a],style:o,styleSpec:i})):r.concat([new u(a,e[a],'unknown property "%s"',a)])}return r}},{"../error/validation_error":121,"../util/get_type":151,"./validate":156}],169:[function(t,e,i){"use strict";var r=t("../util/get_type"),s=t("../error/validation_error");e.exports=function(t){var e=t.key,i=t.value,n=t.valueSpec,o=r(i);return"number"!==o?[new s(e,i,"number expected, %s found",o)]:"minimum"in n&&i<n.minimum?[new s(e,i,"%s is less than the minimum value %s",i,n.minimum)]:"maximum"in n&&i>n.maximum?[new s(e,i,"%s is greater than the maximum value %s",i,n.maximum)]:[]}},{"../error/validation_error":121,"../util/get_type":151}],170:[function(t,e,i){"use strict";var f=t("../error/validation_error"),m=t("../util/get_type"),g=t("./validate");e.exports=function(t){var e=t.key,i=t.value,n=t.valueSpec||{},o=t.objectElementValidators||{},r=t.style,s=t.styleSpec,a=[],l=m(i);if("object"!==l)return[new f(e,i,"object expected, %s found",l)];for(var u in i){var h=u.split(".")[0],c=n[h]||n["*"],p=void 0;if(o[h])p=o[h];else if(n[h])p=g;else if(o["*"])p=o["*"];else{if(!n["*"]){a.push(new f(e,i[u],'unknown property "%s"',u));continue}p=g}a=a.concat(p({key:(e?e+".":e)+u,value:i[u],valueSpec:c,style:r,styleSpec:s,object:i,objectKey:u},i))}for(var d in n)n[d].required&&void 0===n[d].default&&void 0===i[d]&&a.push(new f(e,i,'missing required property "%s"',d));return a}},{"../error/validation_error":121,"../util/get_type":151,"./validate":156}],171:[function(t,e,i){"use strict";var n=t("./validate_property");e.exports=function(t){return n(t,"paint")}},{"./validate_property":172}],172:[function(t,e,i){"use strict";var p=t("./validate"),d=t("../error/validation_error"),f=t("../util/get_type");e.exports=function(t,e){var i=t.key,n=t.style,o=t.styleSpec,r=t.value,s=t.objectKey,a=o[e+"_"+t.layerType];if(!a)return[];var l=s.match(/^(.*)-transition$/);if("paint"===e&&l&&a[l[1]]&&a[l[1]].transition)return p({key:i,value:r,valueSpec:o.transition,style:n,styleSpec:o});var u,h=t.valueSpec||a[s];if(!h)return[new d(i,r,'unknown property "%s"',s)];if("string"===f(r)&&h["property-function"]&&!h.tokens&&(u=/^{([^}]+)}$/.exec(r)))return[new d(i,r,'"%s" does not support interpolation syntax\nUse an identity property function instead: `{ "type": "identity", "property": %s` }`.',s,JSON.stringify(u[1]))];var c=[];return"symbol"===t.layerType&&"text-field"===s&&n&&!n.glyphs&&c.push(new d(i,r,'use of "text-field" requires a style "glyphs" property')),c.concat(p({key:t.key,value:r,valueSpec:h,style:n,styleSpec:o,expressionContext:"property"}))}},{"../error/validation_error":121,"../util/get_type":151,"./validate":156}],173:[function(t,e,i){"use strict";var a=t("../error/validation_error"),l=t("../util/unbundle_jsonlint"),u=t("./validate_object"),h=t("./validate_enum");e.exports=function(t){var e=t.value,i=t.key,n=t.styleSpec,o=t.style;if(!e.type)return[new a(i,e,'"type" is required')];var r=[];switch(l(e.type)){case"vector":case"raster":if(r=r.concat(u({key:i,value:e,valueSpec:n.source_tile,style:t.style,styleSpec:n})),"url"in e)for(var s in e)["type","url","tileSize"].indexOf(s)<0&&r.push(new a(i+"."+s,e[s],'a source with a "url" property may not include a "%s" property',s));return r;case"geojson":return u({key:i,value:e,valueSpec:n.source_geojson,style:o,styleSpec:n});case"video":return u({key:i,value:e,valueSpec:n.source_video,style:o,styleSpec:n});case"image":return u({key:i,value:e,valueSpec:n.source_image,style:o,styleSpec:n});case"canvas":return u({key:i,value:e,valueSpec:n.source_canvas,style:o,styleSpec:n});default:return h({key:i+".type",value:e.type,valueSpec:{values:["vector","raster","geojson","video","image","canvas"]},style:o,styleSpec:n})}}},{"../error/validation_error":121,"../util/unbundle_jsonlint":155,"./validate_enum":161,"./validate_object":170}],174:[function(t,e,i){"use strict";var o=t("../util/get_type"),r=t("../error/validation_error");e.exports=function(t){var e=t.value,i=t.key,n=o(e);return"string"!==n?[new r(i,e,"string expected, %s found",n)]:[]}},{"../error/validation_error":121,"../util/get_type":151}],175:[function(t,e,i){"use strict";function n(t,e){e=e||l;var i=[];return i=i.concat(a({key:"",value:t,valueSpec:e.$root,styleSpec:e,style:t,objectElementValidators:{glyphs:u,"*":function(){return[]}}})),7<e.$version&&t.constants&&(i=i.concat(s({key:"constants",value:t.constants,style:t,styleSpec:e}))),o(i)}function o(t){return[].concat(t).sort(function(t,e){return t.line-e.line})}function r(t){return function(){return o(t.apply(this,arguments))}}var s=t("./validate/validate_constants"),a=t("./validate/validate"),l=t("./reference/latest"),u=t("./validate/validate_glyphs_url");n.source=r(t("./validate/validate_source")),n.light=r(t("./validate/validate_light")),n.layer=r(t("./validate/validate_layer")),n.filter=r(t("./validate/validate_filter")),n.paintProperty=r(t("./validate/validate_paint_property")),n.layoutProperty=r(t("./validate/validate_layout_property")),e.exports=n},{"./reference/latest":147,"./validate/validate":156,"./validate/validate_constants":160,"./validate/validate_filter":163,"./validate/validate_glyphs_url":165,"./validate/validate_layer":166,"./validate/validate_layout_property":167,"./validate/validate_light":168,"./validate/validate_paint_property":171,"./validate/validate_source":173}],176:[function(t,e,i){"use strict";var n=function(){this.n=0,this.times=[]};n.prototype.stopped=function(){return this.times=this.times.filter(function(t){return t.time>=(new Date).getTime()}),!this.times.length},n.prototype.set=function(t){return this.times.push({id:this.n,time:t+(new Date).getTime()}),this.n++},n.prototype.cancel=function(e){this.times=this.times.filter(function(t){return t.id!==e})},e.exports=n},{}],177:[function(t,e,i){"use strict";var n=t("../style-spec/reference/latest"),u=t("../util/util"),o=t("../util/evented"),r=t("./validate_style"),h=t("./style_declaration"),c=t("./style_transition"),p="-transition",s=["anchor","color","position","intensity"],d=n.light,a=function(e){function t(t){e.call(this),this.set(t)}return e&&(t.__proto__=e),((t.prototype=Object.create(e&&e.prototype)).constructor=t).prototype.set=function(t){if(!this._validate(r.light,t)){this._declarations={},this._transitions={},this._transitionOptions={},this.calculated={},t=u.extend({anchor:d.anchor.default,color:d.color.default,position:d.position.default,intensity:d.intensity.default},t);for(var e=0,i=s;e<i.length;e+=1){var n=i[e];this._declarations[n]=new h(d[n],t[n],n)}return this}},t.prototype.getLight=function(){return{anchor:this.getLightProperty("anchor"),color:this.getLightProperty("color"),position:this.getLightProperty("position"),intensity:this.getLightProperty("intensity")}},t.prototype.getLightProperty=function(t){return u.endsWith(t,p)?this._transitionOptions[t]:this._declarations[t]&&this._declarations[t].value},t.prototype.getLightValue=function(t,e){if("position"!==t)return this._transitions[t].calculate(e);var i=this._transitions[t].calculate(e),n=u.sphericalToCartesian(i);return{x:n[0],y:n[1],z:n[2]}},t.prototype.setLight=function(t){if(!this._validate(r.light,t))for(var e in t){var i=t[e];u.endsWith(e,p)?this._transitionOptions[e]=i:null==i?delete this._declarations[e]:this._declarations[e]=new h(d[e],i,e)}},t.prototype.recalculate=function(t){for(var e in this._declarations)this.calculated[e]=this.getLightValue(e,{zoom:t})},t.prototype._applyLightDeclaration=function(t,e,i,n,o){var r=i.transition?this._transitions[t]:void 0,s=d[t];if(null!=e||(e=new h(s,s.default,t)),!r||r.declaration.json!==e.json){var a=u.extend({duration:300,delay:0},n,this.getLightProperty(t+p)),l=this._transitions[t]=new c(s,e,r,a);l.instant()||(l.loopID=o.set(l.endTime-Date.now())),r&&o.cancel(r.loopID)}},t.prototype.updateLightTransitions=function(t,e,i){var n;for(n in this._declarations)this._applyLightDeclaration(n,this._declarations[n],t,e,i)},t.prototype._validate=function(t,e){return r.emitErrors(this,t.call(r,u.extend({value:e,style:{glyphs:!0,sprite:!0},styleSpec:n})))},t}(o);e.exports=a},{"../style-spec/reference/latest":147,"../util/evented":239,"../util/util":252,"./style_declaration":183,"./style_transition":194,"./validate_style":195}],178:[function(t,e,i){"use strict";var l=t("../util/mapbox").normalizeGlyphsURL,u=t("../util/ajax"),h=t("./parse_glyph_pbf");e.exports=function(t,e,i,n,s){var o=256*e,r=o+255,a=n(l(i).replace("{fontstack}",t).replace("{range}",o+"-"+r),u.ResourceType.Glyphs);u.getArrayBuffer(a,function(t,e){if(t)s(t);else if(e){for(var i={},n=0,o=h(e.data);n<o.length;n+=1){var r=o[n];i[r.id]=r}s(null,i)}})}},{"../util/ajax":230,"../util/mapbox":246,"./parse_glyph_pbf":180}],179:[function(t,e,i){"use strict";var o=t("../util/ajax"),m=t("../util/browser"),r=t("../util/mapbox").normalizeSpriteURL,g=t("../util/image").RGBAImage;e.exports=function(t,e,c){function i(){if(f)c(f);else if(p&&d){var t=m.getImageData(d),e={};for(var i in p){var n=p[i],o=n.width,r=n.height,s=n.x,a=n.y,l=n.sdf,u=n.pixelRatio,h=g.create({width:o,height:r});g.copy(t,h,{x:s,y:a},{x:0,y:0},{width:o,height:r}),e[i]={data:h,pixelRatio:u,sdf:l}}c(null,e)}}var p,d,f,n=1<m.devicePixelRatio?"@2x":"";o.getJSON(e(r(t,n,".json"),o.ResourceType.SpriteJSON),function(t,e){f||(f=t,p=e,i())}),o.getImage(e(r(t,n,".png"),o.ResourceType.SpriteImage),function(t,e){f||(f=t,d=e,i())})}},{"../util/ajax":230,"../util/browser":231,"../util/image":242,"../util/mapbox":246}],180:[function(t,e,i){"use strict";function n(t,e,i){1===t&&i.readMessage(o,e)}function o(t,e,i){if(3===t){var n=i.readMessage(c,{}),o=n.id,r=n.bitmap,s=n.width,a=n.height,l=n.left,u=n.top,h=n.advance;e.push({id:o,bitmap:p.create({width:s+2*d,height:a+2*d},r),metrics:{width:s,height:a,left:l,top:u,advance:h}})}}function c(t,e,i){1===t?e.id=i.readVarint():2===t?e.bitmap=i.readBytes():3===t?e.width=i.readVarint():4===t?e.height=i.readVarint():5===t?e.left=i.readSVarint():6===t?e.top=i.readSVarint():7===t&&(e.advance=i.readVarint())}var p=t("../util/image").AlphaImage,r=t("pbf"),d=3;e.exports=function(t){return new r(t).readFields(n,[])},e.exports.GLYPH_PBF_BORDER=d},{"../util/image":242,pbf:38}],181:[function(t,e,i){"use strict";var c=t("@mapbox/point-geometry");e.exports={getMaximumPaintValue:function(t,e,i){return e.isPaintValueFeatureConstant(t)?e.paint[t]:i.programConfigurations.get(e.id).paintPropertyStatistics[t].max},translateDistance:function(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])},translate:function(t,e,i,n,o){if(!e[0]&&!e[1])return t;var r=c.convert(e);"viewport"===i&&r._rotate(-n);for(var s=[],a=0;a<t.length;a++){for(var l=t[a],u=[],h=0;h<l.length;h++)u.push(l[h].sub(r._mult(o)));s.push(u)}return s}}},{"@mapbox/point-geometry":2}],182:[function(t,e,i){"use strict";var n=t("../util/evented"),l=t("./style_layer"),u=t("./load_sprite"),o=t("../render/image_manager"),s=t("../render/glyph_manager"),h=t("./light"),a=t("../render/line_atlas"),c=t("../util/util"),r=t("../util/ajax"),p=t("../util/mapbox"),d=t("../util/browser"),f=t("../util/dispatcher"),m=t("./animation_loop"),g=t("./validate_style"),v=t("../source/source").getType,y=t("../source/source").setType,_=t("../source/query_features"),b=t("../source/source_cache"),x=(t("../source/geojson_source"),t("../style-spec/reference/latest")),w=t("../util/global_worker_pool"),T=t("../style-spec/deref"),k=t("../style-spec/diff"),C=t("../source/rtl_text_plugin"),S=c.pick(k.operations,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData"]),E=c.pick(k.operations,["setCenter","setZoom","setBearing","setPitch"]),A=function(n){function t(t,e){var r=this;void 0===e&&(e={}),n.call(this),this.map=t,this.animationLoop=t&&t.animationLoop||new m,this.dispatcher=new f(w(),this),this.imageManager=new o,this.glyphManager=new s(t._transformRequest,e.localIdeographFontFamily),this.lineAtlas=new a(256,512),this._layers={},this._order=[],this.sourceCaches={},this.zoomHistory={},this._loaded=!1,c.bindAll(["_redoPlacement"],this),this._resetUpdates();var i=this;this._rtlTextPluginCallback=C.registerForPluginAvailability(function(t){for(var e in i.dispatcher.broadcast("loadRTLTextPlugin",t.pluginBlobURL,t.errorCallback),i.sourceCaches)i.sourceCaches[e].reload()}),this.on("data",function(t){if("source"===t.dataType&&"metadata"===t.sourceDataType){var e=r.sourceCaches[t.sourceId];if(e){var i=e.getSource();if(i&&i.vectorLayerIds)for(var n in r._layers){var o=r._layers[n];o.source===i.id&&r._validateLayer(o)}}}})}return n&&(t.__proto__=n),((t.prototype=Object.create(n&&n.prototype)).constructor=t).prototype.loadURL=function(t,e){var i=this;void 0===e&&(e={}),this.fire("dataloading",{dataType:"style"});var n="boolean"==typeof e.validate?e.validate:!p.isMapboxURL(t);t=p.normalizeStyleURL(t,e.accessToken);var o=this.map._transformRequest(t,r.ResourceType.Style);r.getJSON(o,function(t,e){t?i.fire("error",{error:t}):e&&i._load(e,n)})},t.prototype.loadJSON=function(t,e){var i=this;void 0===e&&(e={}),this.fire("dataloading",{dataType:"style"}),d.frame(function(){i._load(t,!1!==e.validate)})},t.prototype._load=function(t,e){var n=this;if(!e||!g.emitErrors(this,g(t))){for(var i in this._loaded=!0,this.stylesheet=t,this.updatePaintProperties(),t.sources)n.addSource(i,t.sources[i],{validate:!1});t.sprite?u(t.sprite,this.map._transformRequest,function(t,e){if(t)n.fire("error",t);else if(e)for(var i in e)n.imageManager.addImage(i,e[i]);n.imageManager.setLoaded(!0),n.fire("data",{dataType:"style"})}):this.imageManager.setLoaded(!0),this.glyphManager.setURL(t.glyphs);var o=T(this.stylesheet.layers);this._order=o.map(function(t){return t.id}),this._layers={};for(var r=0,s=o;r<s.length;r+=1){var a=s[r];(a=l.create(a)).setEventedParent(n,{layer:{id:a.id}}),n._layers[a.id]=a}this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new h(this.stylesheet.light),this.fire("data",{dataType:"style"}),this.fire("style.load")}},t.prototype._validateLayer=function(t){var e=this.sourceCaches[t.source];if(e){var i=t.sourceLayer;if(i){var n=e.getSource();("geojson"===n.type||n.vectorLayerIds&&-1===n.vectorLayerIds.indexOf(i))&&this.fire("error",{error:new Error('Source layer "'+i+'" does not exist on source "'+n.id+'" as specified by style layer "'+t.id+'"')})}}},t.prototype.loaded=function(){if(!this._loaded)return!1;if(Object.keys(this._updatedSources).length)return!1;for(var t in this.sourceCaches)if(!this.sourceCaches[t].loaded())return!1;return!!this.imageManager.isLoaded()},t.prototype._serializeLayers=function(t){var e=this;return t.map(function(t){return e._layers[t].serialize()})},t.prototype._applyPaintPropertyUpdates=function(t){if(this._loaded){t=t||{transition:!0};var e=this.stylesheet.transition||{},i=this._updatedAllPaintProps?this._layers:this._updatedPaintProps;for(var n in i){var o=this._layers[n],r=this._updatedPaintProps[n];if(this._updatedAllPaintProps||r.all)o.updatePaintTransitions(t,e,this.animationLoop,this.zoomHistory);else for(var s in r)this._layers[n].updatePaintTransition(s,t,e,this.animationLoop,this.zoomHistory)}this.light.updateLightTransitions(t,e,this.animationLoop)}},t.prototype._recalculate=function(t){if(this._loaded){for(var e in this.sourceCaches)this.sourceCaches[e].used=!1;this._updateZoomHistory(t);for(var i=0,n=this._order;i<n.length;i+=1){var o=n[i],r=this._layers[o];r.recalculate(t),!r.isHidden(t)&&r.source&&(this.sourceCaches[r.source].used=!0)}this.light.recalculate(t),Math.floor(this.z)!==Math.floor(t)&&this.animationLoop.set(300),this.z=t}},t.prototype._updateZoomHistory=function(t){var e=this.zoomHistory;void 0===e.lastIntegerZoom&&(e.lastIntegerZoom=Math.floor(t),e.lastIntegerZoomTime=0,e.lastZoom=t),Math.floor(e.lastZoom)<Math.floor(t)?(e.lastIntegerZoom=Math.floor(t),e.lastIntegerZoomTime=Date.now()):Math.floor(e.lastZoom)>Math.floor(t)&&(e.lastIntegerZoom=Math.floor(t+1),e.lastIntegerZoomTime=Date.now()),e.lastZoom=t},t.prototype._checkLoaded=function(){if(!this._loaded)throw new Error("Style is not done loading")},t.prototype.update=function(t){if(this._changed){var e=Object.keys(this._updatedLayers),i=Object.keys(this._removedLayers);for(var n in(e.length||i.length||this._updatedSymbolOrder)&&this._updateWorkerLayers(e,i),this._updatedSources){var o=this._updatedSources[n];"reload"===o?this._reloadSource(n):"clear"===o&&this._clearSource(n)}this._applyPaintPropertyUpdates(t),this._resetUpdates(),this.fire("data",{dataType:"style"})}},t.prototype._updateWorkerLayers=function(t,e){var i=this,n=this._updatedSymbolOrder?this._order.filter(function(t){return"symbol"===i._layers[t].type}):null;this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(t),removedIds:e,symbolOrder:n})},t.prototype._resetUpdates=function(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSymbolOrder=!1,this._updatedSources={},this._updatedPaintProps={},this._updatedAllPaintProps=!1},t.prototype.setState=function(t){var e=this;if(this._checkLoaded(),g.emitErrors(this,g(t)))return!1;(t=c.clone(t)).layers=T(t.layers);var i=k(this.serialize(),t).filter(function(t){return!(t.command in E)});if(0===i.length)return!1;var n=i.filter(function(t){return!(t.command in S)});if(0<n.length)throw new Error("Unimplemented: "+n.map(function(t){return t.command}).join(", ")+".");return i.forEach(function(t){"setTransition"!==t.command&&e[t.command].apply(e,t.args)}),this.stylesheet=t,!0},t.prototype.addImage=function(t,e){if(this.imageManager.getImage(t))return this.fire("error",{error:new Error("An image with this name already exists.")});this.imageManager.addImage(t,e),this.fire("data",{dataType:"style"})},t.prototype.removeImage=function(t){if(!this.imageManager.getImage(t))return this.fire("error",{error:new Error("No image with this name exists.")});this.imageManager.removeImage(t),this.fire("data",{dataType:"style"})},t.prototype.addSource=function(t,e,i){var n=this;if(this._checkLoaded(),void 0!==this.sourceCaches[t])throw new Error("There is already a source with this ID");if(!e.type)throw new Error("The type property must be defined, but the only the following properties were given: "+Object.keys(e).join(", ")+".");if(!(0<=["vector","raster","geojson","video","image","canvas"].indexOf(e.type)&&this._validate(g.source,"sources."+t,e,null,i))){var o=this.sourceCaches[t]=new b(t,e,this.dispatcher);o.style=this,o.setEventedParent(this,function(){return{isSourceLoaded:n.loaded(),source:o.serialize(),sourceId:t}}),o.onAdd(this.map),this._changed=!0}},t.prototype.removeSource=function(t){if(this._checkLoaded(),void 0===this.sourceCaches[t])throw new Error("There is no source with this ID");var e=this.sourceCaches[t];delete this.sourceCaches[t],delete this._updatedSources[t],e.fire("data",{sourceDataType:"metadata",dataType:"source",sourceId:t}),e.setEventedParent(null),e.clearTiles(),e.onRemove&&e.onRemove(this.map),this._changed=!0},t.prototype.setGeoJSONSourceData=function(t,e){this._checkLoaded(),this.sourceCaches[t].getSource().setData(e),this._changed=!0},t.prototype.getSource=function(t){return this.sourceCaches[t]&&this.sourceCaches[t].getSource()},t.prototype.addLayer=function(t,e,i){this._checkLoaded();var n=t.id;if("object"==typeof t.source&&(this.addSource(n,t.source),t=c.clone(t),t=c.extend(t,{source:n})),!this._validate(g.layer,"layers."+n,t,{arrayIndex:-1},i)){var o=l.create(t);this._validateLayer(o),o.setEventedParent(this,{layer:{id:n}});var r=e?this._order.indexOf(e):this._order.length;if(e&&-1===r)return void this.fire("error",{message:new Error('Layer with id "'+e+'" does not exist on this map.')});if(this._order.splice(r,0,n),this._layers[n]=o,this._removedLayers[n]&&o.source){var s=this._removedLayers[n];delete this._removedLayers[n],s.type!==o.type?this._updatedSources[o.source]="clear":(this._updatedSources[o.source]="reload",this.sourceCaches[o.source].pause())}this._updateLayer(o),"symbol"===o.type&&(this._updatedSymbolOrder=!0),this.updatePaintProperties(n)}},t.prototype.moveLayer=function(t,e){this._checkLoaded(),this._changed=!0;var i=this._layers[t];if(i){var n=this._order.indexOf(t);this._order.splice(n,1);var o=e?this._order.indexOf(e):this._order.length;this._order.splice(o,0,t),"symbol"===i.type&&(this._updatedSymbolOrder=!0,i.source&&!this._updatedSources[i.source]&&(this._updatedSources[i.source]="reload",this.sourceCaches[i.source].pause()))}else this.fire("error",{error:new Error("The layer '"+t+"' does not exist in the map's style and cannot be moved.")})},t.prototype.removeLayer=function(t){this._checkLoaded();var e=this._layers[t];if(e){e.setEventedParent(null);var i=this._order.indexOf(t);this._order.splice(i,1),"symbol"===e.type&&(this._updatedSymbolOrder=!0),this._changed=!0,this._removedLayers[t]=e,delete this._layers[t],delete this._updatedLayers[t],delete this._updatedPaintProps[t]}else this.fire("error",{error:new Error("The layer '"+t+"' does not exist in the map's style and cannot be removed.")})},t.prototype.getLayer=function(t){return this._layers[t]},t.prototype.setLayerZoomRange=function(t,e,i){this._checkLoaded();var n=this.getLayer(t);n?n.minzoom===e&&n.maxzoom===i||(null!=e&&(n.minzoom=e),null!=i&&(n.maxzoom=i),this._updateLayer(n)):this.fire("error",{error:new Error("The layer '"+t+"' does not exist in the map's style and cannot have zoom extent.")})},t.prototype.setFilter=function(t,e){this._checkLoaded();var i=this.getLayer(t);i?null!=e&&this._validate(g.filter,"layers."+i.id+".filter",e)||c.deepEqual(i.filter,e)||(i.filter=c.clone(e),this._updateLayer(i)):this.fire("error",{error:new Error("The layer '"+t+"' does not exist in the map's style and cannot be filtered.")})},t.prototype.getFilter=function(t){return c.clone(this.getLayer(t).filter)},t.prototype.setLayoutProperty=function(t,e,i){this._checkLoaded();var n=this.getLayer(t);n?c.deepEqual(n.getLayoutProperty(e),i)||(n.setLayoutProperty(e,i),this._updateLayer(n)):this.fire("error",{error:new Error("The layer '"+t+"' does not exist in the map's style and cannot be styled.")})},t.prototype.getLayoutProperty=function(t,e){return this.getLayer(t).getLayoutProperty(e)},t.prototype.setPaintProperty=function(t,e,i){this._checkLoaded();var n=this.getLayer(t);if(n){if(!c.deepEqual(n.getPaintProperty(e),i)){var o=n.isPaintValueFeatureConstant(e);n.setPaintProperty(e,i),n.isPaintValueFeatureConstant(e)&&o||this._updateLayer(n),this.updatePaintProperties(t,e)}}else this.fire("error",{error:new Error("The layer '"+t+"' does not exist in the map's style and cannot be styled.")})},t.prototype.getPaintProperty=function(t,e){return this.getLayer(t).getPaintProperty(e)},t.prototype.getTransition=function(){return c.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)},t.prototype.updatePaintProperties=function(t,e){if(this._changed=!0,t){var i=this._updatedPaintProps;i[t]||(i[t]={}),i[t][e||"all"]=!0}else this._updatedAllPaintProps=!0},t.prototype.serialize=function(){var e=this;return c.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:c.mapObject(this.sourceCaches,function(t){return t.serialize()}),layers:this._order.map(function(t){return e._layers[t].serialize()})},function(t){return void 0!==t})},t.prototype._updateLayer=function(t){this._updatedLayers[t.id]=!0,t.source&&!this._updatedSources[t.source]&&(this._updatedSources[t.source]="reload",this.sourceCaches[t.source].pause()),this._changed=!0},t.prototype._flattenRenderedFeatures=function(t){for(var e=[],i=this._order.length-1;0<=i;i--)for(var n=this._order[i],o=0,r=t;o<r.length;o+=1){var s=r[o][n];if(s)for(var a=0,l=s;a<l.length;a+=1){var u=l[a];e.push(u)}}return e},t.prototype.queryRenderedFeatures=function(t,e,i,n){e&&e.filter&&this._validate(g.filter,"queryRenderedFeatures.filter",e.filter);var o={};if(e&&e.layers){if(!Array.isArray(e.layers))return this.fire("error",{error:"parameters.layers must be an Array."}),[];for(var r=0,s=e.layers;r<s.length;r+=1){var a=s[r],l=this._layers[a];if(!l)return this.fire("error",{error:"The layer '"+a+"' does not exist in the map's style and cannot be queried for features."}),[];o[l.source]=!0}}var u=[];for(var h in this.sourceCaches)if(!e.layers||o[h]){var c=_.rendered(this.sourceCaches[h],this._layers,t,e,i,n);u.push(c)}return this._flattenRenderedFeatures(u)},t.prototype.querySourceFeatures=function(t,e){e&&e.filter&&this._validate(g.filter,"querySourceFeatures.filter",e.filter);var i=this.sourceCaches[t];return i?_.source(i,e):[]},t.prototype.addSourceType=function(t,e,i){return v(t)?i(new Error('A source type called "'+t+'" already exists.')):(y(t,e),e.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:t,url:e.workerSourceURL},i):i(null,null))},t.prototype.getLight=function(){return this.light.getLight()},t.prototype.setLight=function(t,e){this._checkLoaded();var i=this.light.getLight(),n=!1;for(var o in t)if(!c.deepEqual(t[o],i[o])){n=!0;break}if(n){var r=this.stylesheet.transition||{};this.light.setLight(t),this.light.updateLightTransitions(e||{transition:!0},r,this.animationLoop)}},t.prototype._validate=function(t,e,i,n,o){return(!o||!1!==o.validate)&&g.emitErrors(this,t.call(g,c.extend({key:e,style:this.serialize(),value:i,styleSpec:x},n)))},t.prototype._remove=function(){for(var t in C.evented.off("pluginAvailable",this._rtlTextPluginCallback),this.sourceCaches)this.sourceCaches[t].clearTiles();this.dispatcher.remove()},t.prototype._clearSource=function(t){this.sourceCaches[t].clearTiles()},t.prototype._reloadSource=function(t){this.sourceCaches[t].resume(),this.sourceCaches[t].reload()},t.prototype._updateSources=function(t){for(var e in this.sourceCaches)this.sourceCaches[e].update(t)},t.prototype._redoPlacement=function(){for(var t in this.sourceCaches)this.sourceCaches[t].redoPlacement()},t.prototype.getImages=function(t,e,i){this.imageManager.getImages(e.icons,i)},t.prototype.getGlyphs=function(t,e,i){this.glyphManager.getGlyphs(e.stacks,i)},t}(n);e.exports=A},{"../render/glyph_manager":86,"../render/image_manager":88,"../render/line_atlas":89,"../source/geojson_source":100,"../source/query_features":106,"../source/rtl_text_plugin":108,"../source/source":109,"../source/source_cache":110,"../style-spec/deref":119,"../style-spec/diff":120,"../style-spec/reference/latest":147,"../util/ajax":230,"../util/browser":231,"../util/dispatcher":237,"../util/evented":239,"../util/global_worker_pool":241,"../util/mapbox":246,"../util/util":252,"./animation_loop":176,"./light":177,"./load_sprite":179,"./style_layer":184,"./validate_style":195}],183:[function(t,e,i){"use strict";var o=t("../style-spec/util/parse_color"),n=t("../style-spec/function"),r=n.isFunction,s=n.createFunction,a=t("../style-spec/expression"),l=a.isExpression,u=a.createExpression,h=t("../util/util"),c=t("../style-spec/expression/definitions/curve"),p=function(t,e,i){this.value=h.clone(e),this.json=JSON.stringify(this.value),this.minimum=t.minimum,this.expression=function(t,e,i){if(r(t))return s(t,e,i);if(l(t)){var n=u(t,e,"property");if("success"!==n.result)throw new Error(n.errors.map(function(t){return t.key+": "+t.message}).join(", "));if("property"===n.context)return n;throw new Error("Incorrect expression context "+n.context)}return"string"==typeof t&&"color"===e.type&&(t=o(t)),{result:"success",context:"property",isFeatureConstant:!0,isZoomConstant:!0,evaluate:function(){return t}}}(this.value,t,i)};p.prototype.calculate=function(t,e){var i=this.expression.evaluate(t,e);return void 0!==this.minimum&&i<this.minimum?this.minimum:i},p.prototype.interpolationFactor=function(t,e,i){return this.expression.isZoomConstant?0:c.interpolationFactor(this.expression.interpolation,t,e,i)},e.exports=p},{"../style-spec/expression":136,"../style-spec/expression/definitions/curve":129,"../style-spec/function":145,"../style-spec/util/parse_color":153,"../util/util":252}],184:[function(t,e,i){"use strict";function n(t){return t.value}var h=t("../util/util"),c=t("./style_transition"),p=t("./style_declaration"),r=t("../style-spec/reference/latest"),s=t("./validate_style"),a=t("./../style-spec/util/parse_color"),o=t("../util/evented"),d="-transition",l=function(o){function t(t){o.call(this),this.id=t.id,this.metadata=t.metadata,this.type=t.type,this.minzoom=t.minzoom,this.maxzoom=t.maxzoom,"background"!==t.type&&(this.source=t.source,this.sourceLayer=t["source-layer"],this.filter=t.filter),this.paint={},this.layout={},this._featureFilter=function(){return!0},this._paintSpecifications=r["paint_"+this.type],this._layoutSpecifications=r["layout_"+this.type],this._paintTransitions={},this._paintTransitionOptions={},this._paintDeclarations={},this._layoutDeclarations={};var e,i,n={validate:!(this._layoutFunctions={})};for(e in t.paint)this.setPaintProperty(e,t.paint[e],n);for(i in t.layout)this.setLayoutProperty(i,t.layout[i],n);for(e in this._paintSpecifications)this.paint[e]=this.getPaintValue(e,{zoom:0});for(i in this._layoutSpecifications)this._updateLayoutValue(i)}return o&&(t.__proto__=o),((t.prototype=Object.create(o&&o.prototype)).constructor=t).prototype.setLayoutProperty=function(t,e,i){if(null==e)delete this._layoutDeclarations[t];else{var n="layers."+this.id+".layout."+t;if(this._validate(s.layoutProperty,n,t,e,i))return;this._layoutDeclarations[t]=new p(this._layoutSpecifications[t],e,t)}this._updateLayoutValue(t)},t.prototype.getLayoutProperty=function(t){return this._layoutDeclarations[t]&&this._layoutDeclarations[t].value},t.prototype.getLayoutValue=function(t,e,i){var n=this._layoutSpecifications[t],o=this._layoutDeclarations[t];return o&&(o.expression.isFeatureConstant||i)?o.calculate(e,i):n.default},t.prototype.setPaintProperty=function(t,e,i){var n="layers."+this.id+".paint."+t;if(h.endsWith(t,d))if(null==e)delete this._paintTransitionOptions[t];else{if(this._validate(s.paintProperty,n,t,e,i))return;this._paintTransitionOptions[t]=e}else if(null==e)delete this._paintDeclarations[t];else{if(this._validate(s.paintProperty,n,t,e,i))return;this._paintDeclarations[t]=new p(this._paintSpecifications[t],e,t)}},t.prototype.getPaintProperty=function(t){return h.endsWith(t,d)?this._paintTransitionOptions[t]:this._paintDeclarations[t]&&this._paintDeclarations[t].value},t.prototype.getPaintValue=function(t,e,i){var n=this._paintSpecifications[t],o=this._paintTransitions[t];return o&&(o.declaration.expression.isFeatureConstant||i)?o.calculate(e,i):"color"===n.type&&n.default?a(n.default):n.default},t.prototype.getPaintInterpolationFactor=function(t,e,i,n){var o=this._paintDeclarations[t];return o?o.interpolationFactor(e,i,n):0},t.prototype.isPaintValueFeatureConstant=function(t){var e=this._paintDeclarations[t];return!e||e.expression.isFeatureConstant},t.prototype.isPaintValueZoomConstant=function(t){var e=this._paintDeclarations[t];return!e||e.expression.isZoomConstant},t.prototype.isHidden=function(t){return!!(this.minzoom&&t<this.minzoom)||!!(this.maxzoom&&t>=this.maxzoom)||"none"===this.layout.visibility},t.prototype.updatePaintTransitions=function(t,e,i,n){var o;for(o in this._paintDeclarations)this._applyPaintDeclaration(o,this._paintDeclarations[o],t,e,i,n);for(o in this._paintTransitions)o in this._paintDeclarations||this._applyPaintDeclaration(o,null,t,e,i,n)},t.prototype.updatePaintTransition=function(t,e,i,n,o){var r=this._paintDeclarations[t];this._applyPaintDeclaration(t,r,e,i,n,o)},t.prototype.recalculate=function(t){for(var e in this._paintTransitions)this.paint[e]=this.getPaintValue(e,{zoom:t});for(var i in this._layoutFunctions)this.layout[i]=this.getLayoutValue(i,{zoom:t})},t.prototype.serialize=function(){var t={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:h.mapObject(this._layoutDeclarations,n),paint:h.mapObject(this._paintDeclarations,n)};return h.filterObject(t,function(t,e){return!(void 0===t||"layout"===e&&!Object.keys(t).length||"paint"===e&&!Object.keys(t).length)})},t.prototype._applyPaintDeclaration=function(t,e,i,n,o,r){var s=i.transition?this._paintTransitions[t]:void 0,a=this._paintSpecifications[t];if(null!=e||(e=new p(a,a.default,t)),!s||s.declaration.json!==e.json){var l=h.extend({duration:300,delay:0},n,this.getPaintProperty(t+d)),u=this._paintTransitions[t]=new c(a,e,s,l,r);o&&(u.instant()||(u.loopID=o.set(u.endTime-Date.now())),s&&o.cancel(s.loopID))}},t.prototype._updateLayoutValue=function(t){var e=this._layoutDeclarations[t];!e||e.expression.isZoomConstant&&e.expression.isFeatureConstant?(delete this._layoutFunctions[t],this.layout[t]=this.getLayoutValue(t,{zoom:0})):this._layoutFunctions[t]=!0},t.prototype._validate=function(t,e,i,n,o){return(!o||!1!==o.validate)&&s.emitErrors(this,t.call(s,{key:e,layerType:this.type,objectKey:i,value:n,styleSpec:r,style:{glyphs:!0,sprite:!0}}))},t.prototype.has3DPass=function(){return!1},t.prototype.resize=function(t){},t}(o);e.exports=l;var u={circle:t("./style_layer/circle_style_layer"),heatmap:t("./style_layer/heatmap_style_layer"),fill:t("./style_layer/fill_style_layer"),"fill-extrusion":t("./style_layer/fill_extrusion_style_layer"),line:t("./style_layer/line_style_layer"),symbol:t("./style_layer/symbol_style_layer"),background:t("./style_layer/background_style_layer"),raster:t("./style_layer/raster_style_layer")};l.create=function(t){return new u[t.type](t)}},{"../style-spec/reference/latest":147,"../util/evented":239,"../util/util":252,"./../style-spec/util/parse_color":153,"./style_declaration":183,"./style_layer/background_style_layer":185,"./style_layer/circle_style_layer":186,"./style_layer/fill_extrusion_style_layer":187,"./style_layer/fill_style_layer":188,"./style_layer/heatmap_style_layer":189,"./style_layer/line_style_layer":190,"./style_layer/raster_style_layer":191,"./style_layer/symbol_style_layer":192,"./style_transition":194,"./validate_style":195}],185:[function(t,e,i){"use strict";var n=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),((e.prototype=Object.create(t&&t.prototype)).constructor=e).prototype.isOpacityZero=function(t){return 0===this.getPaintValue("background-opacity",{zoom:t})},e}(t("../style_layer"));e.exports=n},{"../style_layer":184}],186:[function(t,e,i){"use strict";var n=t("../style_layer"),o=t("../../data/bucket/circle_bucket"),l=t("../../util/intersection_tests").multiPolygonIntersectsBufferedMultiPoint,r=t("../query_utils"),s=r.getMaximumPaintValue,a=r.translateDistance,u=r.translate,h=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),((e.prototype=Object.create(t&&t.prototype)).constructor=e).prototype.createBucket=function(t){return new o(t)},e.prototype.isOpacityZero=function(t){return this.isPaintValueFeatureConstant("circle-opacity")&&0===this.getPaintValue("circle-opacity",{zoom:t})&&this.isPaintValueFeatureConstant("circle-stroke-width")&&0===this.getPaintValue("circle-stroke-width",{zoom:t})||this.isPaintValueFeatureConstant("circle-stroke-opacity")&&0===this.getPaintValue("circle-stroke-opacity",{zoom:t})},e.prototype.queryRadius=function(t){return s("circle-radius",this,t)+a(this.paint["circle-translate"])},e.prototype.queryIntersectsFeature=function(t,e,i,n,o,r){var s=u(t,this.getPaintValue("circle-translate",{zoom:n},e),this.getPaintValue("circle-translate-anchor",{zoom:n},e),o,r),a=this.getPaintValue("circle-radius",{zoom:n},e)*r;return l(s,i,a)},e}(n);e.exports=h},{"../../data/bucket/circle_bucket":52,"../../util/intersection_tests":243,"../query_utils":181,"../style_layer":184}],187:[function(t,e,i){"use strict";var n=t("../style_layer"),r=t("../../data/bucket/fill_extrusion_bucket"),a=t("../../util/intersection_tests").multiPolygonIntersectsMultiPolygon,o=t("../query_utils"),s=o.translateDistance,l=o.translate,u=function(o){function t(){o.apply(this,arguments)}return o&&(t.__proto__=o),((t.prototype=Object.create(o&&o.prototype)).constructor=t).prototype.getPaintValue=function(t,e,i){var n=o.prototype.getPaintValue.call(this,t,e,i);return"fill-extrusion-color"===t&&n&&(n[3]=1),n},t.prototype.createBucket=function(t){return new r(t)},t.prototype.isOpacityZero=function(t){return 0===this.getPaintValue("fill-extrusion-opacity",{zoom:t})},t.prototype.queryRadius=function(){return s(this.paint["fill-extrusion-translate"])},t.prototype.queryIntersectsFeature=function(t,e,i,n,o,r){var s=l(t,this.getPaintValue("fill-extrusion-translate",{zoom:n},e),this.getPaintValue("fill-extrusion-translate-anchor",{zoom:n},e),o,r);return a(s,i)},t.prototype.has3DPass=function(){return 0!==this.paint["fill-extrusion-opacity"]&&"none"!==this.layout.visibility},t.prototype.resize=function(t){if(this.viewportFrame){var e=this.viewportFrame,i=e.texture,n=e.fbo;t.deleteTexture(i),t.deleteFramebuffer(n),this.viewportFrame=null}},t}(n);e.exports=u},{"../../data/bucket/fill_extrusion_bucket":54,"../../util/intersection_tests":243,"../query_utils":181,"../style_layer":184}],188:[function(t,e,i){"use strict";var n=t("../style_layer"),r=t("../../data/bucket/fill_bucket"),a=t("../../util/intersection_tests").multiPolygonIntersectsMultiPolygon,o=t("../query_utils"),s=o.translateDistance,l=o.translate,u=function(o){function t(){o.apply(this,arguments)}return o&&(t.__proto__=o),((t.prototype=Object.create(o&&o.prototype)).constructor=t).prototype.getPaintValue=function(t,e,i){if("fill-outline-color"===t){if(void 0===this.getPaintProperty("fill-outline-color"))return o.prototype.getPaintValue.call(this,"fill-color",e,i);for(var n=this._paintTransitions["fill-outline-color"];n;){if(!(n&&n.declaration&&n.declaration.value))return o.prototype.getPaintValue.call(this,"fill-color",e,i);n=n.oldTransition}}return o.prototype.getPaintValue.call(this,t,e,i)},t.prototype.getPaintInterpolationFactor=function(t){for(var e=[],i=arguments.length-1;0<i--;)e[i]=arguments[i+1];return"fill-outline-color"===t&&void 0===this.getPaintProperty("fill-outline-color")?o.prototype.getPaintInterpolationFactor.apply(this,["fill-color"].concat(e)):o.prototype.getPaintInterpolationFactor.apply(this,[t].concat(e))},t.prototype.isPaintValueFeatureConstant=function(t){return"fill-outline-color"===t&&void 0===this.getPaintProperty("fill-outline-color")?o.prototype.isPaintValueFeatureConstant.call(this,"fill-color"):o.prototype.isPaintValueFeatureConstant.call(this,t)},t.prototype.isPaintValueZoomConstant=function(t){return"fill-outline-color"===t&&void 0===this.getPaintProperty("fill-outline-color")?o.prototype.isPaintValueZoomConstant.call(this,"fill-color"):o.prototype.isPaintValueZoomConstant.call(this,t)},t.prototype.createBucket=function(t){return new r(t)},t.prototype.isOpacityZero=function(t){return this.isPaintValueFeatureConstant("fill-opacity")&&0===this.getPaintValue("fill-opacity",{zoom:t})},t.prototype.queryRadius=function(){return s(this.paint["fill-translate"])},t.prototype.queryIntersectsFeature=function(t,e,i,n,o,r){var s=l(t,this.getPaintValue("fill-translate",{zoom:n},e),this.getPaintValue("fill-translate-anchor",{zoom:n},e),o,r);return a(s,i)},t}(n);e.exports=u},{"../../data/bucket/fill_bucket":53,"../../util/intersection_tests":243,"../query_utils":181,"../style_layer":184}],189:[function(t,e,i){"use strict";var n=t("../style_layer"),o=t("../../data/bucket/heatmap_bucket"),c=t("../../util/image").RGBAImage,r=function(h){function t(t){h.call(this,t),this.colorRampData=new Uint8Array(1024),this.getPaintProperty("heatmap-color")||this.setPaintProperty("heatmap-color",this._paintSpecifications["heatmap-color"].default,"")}return h&&(t.__proto__=h),((t.prototype=Object.create(h&&h.prototype)).constructor=t).prototype.createBucket=function(t){return new o(t)},t.prototype.isOpacityZero=function(t){return 0===this.getPaintValue("heatmap-opacity",{zoom:t})},t.prototype._applyPaintDeclaration=function(t,e,i,n,o,r){if(h.prototype._applyPaintDeclaration.call(this,t,e,i,n,o,r),"heatmap-color"===t){for(var s=this.colorRampData.length,a=4;a<s;a+=4){var l=this.getPaintValue("heatmap-color",{heatmapDensity:a/s,zoom:-1}),u=l[3];this.colorRampData[a+0]=Math.floor(255*l[0]/u),this.colorRampData[a+1]=Math.floor(255*l[1]/u),this.colorRampData[a+2]=Math.floor(255*l[2]/u),this.colorRampData[a+3]=Math.floor(255*u)}this.colorRamp=c.create({width:256,height:1},this.colorRampData),this.colorRampTexture=null}},t.prototype.resize=function(t){this.heatmapTexture&&(t.deleteTexture(this.heatmapTexture),this.heatmapTexture=null),this.heatmapFbo&&(t.deleteFramebuffer(this.heatmapFbo),this.heatmapFbo=null)},t}(n);e.exports=r},{"../../data/bucket/heatmap_bucket":55,"../../util/image":242,"../style_layer":184}],190:[function(t,e,i){"use strict";function u(t,e){return 0<e?e+2*t:t}var m=t("@mapbox/point-geometry"),n=t("../style_layer"),o=t("../../data/bucket/line_bucket"),h=t("../../util/intersection_tests").multiPolygonIntersectsBufferedMultiLine,r=t("../query_utils"),s=r.getMaximumPaintValue,a=r.translateDistance,c=r.translate,l=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),((e.prototype=Object.create(t&&t.prototype)).constructor=e).prototype.createBucket=function(t){return new o(t)},e.prototype.isOpacityZero=function(t){return this.isPaintValueFeatureConstant("line-opacity")&&0===this.getPaintValue("line-opacity",{zoom:t})},e.prototype.queryRadius=function(t){var e=t,i=u(s("line-width",this,e),s("line-gap-width",this,e)),n=s("line-offset",this,e);return i/2+Math.abs(n)+a(this.paint["line-translate"])},e.prototype.queryIntersectsFeature=function(t,e,i,n,o,r){var s=c(t,this.getPaintValue("line-translate",{zoom:n},e),this.getPaintValue("line-translate-anchor",{zoom:n},e),o,r),a=r/2*u(this.getPaintValue("line-width",{zoom:n},e),this.getPaintValue("line-gap-width",{zoom:n},e)),l=this.getPaintValue("line-offset",{zoom:n},e);return l&&(i=function(t,e){for(var i=[],n=new m(0,0),o=0;o<t.length;o++){for(var r=t[o],s=[],a=0;a<r.length;a++){var l=r[a-1],u=r[a],h=r[a+1],c=0===a?n:u.sub(l)._unit()._perp(),p=a===r.length-1?n:h.sub(u)._unit()._perp(),d=c._add(p)._unit(),f=d.x*p.x+d.y*p.y;d._mult(1/f),s.push(d._mult(e)._add(u))}i.push(s)}return i}(i,l*r)),h(s,i,a)},e}(n);e.exports=l},{"../../data/bucket/line_bucket":56,"../../util/intersection_tests":243,"../query_utils":181,"../style_layer":184,"@mapbox/point-geometry":2}],191:[function(t,e,i){"use strict";var n=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),((e.prototype=Object.create(t&&t.prototype)).constructor=e).prototype.isOpacityZero=function(t){return 0===this.getPaintValue("raster-opacity",{zoom:t})},e}(t("../style_layer"));e.exports=n},{"../style_layer":184}],192:[function(t,e,i){"use strict";var n=t("../style_layer"),r=t("../../data/bucket/symbol_bucket"),o=function(o){function t(){o.apply(this,arguments)}return o&&(t.__proto__=o),((t.prototype=Object.create(o&&o.prototype)).constructor=t).prototype.getLayoutValue=function(t,e,i){var n=o.prototype.getLayoutValue.call(this,t,e,i);if("auto"!==n)return n;switch(t){case"text-rotation-alignment":case"icon-rotation-alignment":return"line"===this.getLayoutValue("symbol-placement",e,i)?"map":"viewport";case"text-pitch-alignment":return this.getLayoutValue("text-rotation-alignment",e,i);case"icon-pitch-alignment":return this.getLayoutValue("icon-rotation-alignment",e,i);default:return n}},t.prototype.getLayoutDeclaration=function(t){return this._layoutDeclarations[t]},t.prototype.isLayoutValueFeatureConstant=function(t){var e=this._layoutDeclarations[t];return!e||e.expression.isFeatureConstant},t.prototype.isLayoutValueZoomConstant=function(t){var e=this._layoutDeclarations[t];return!e||e.expression.isZoomConstant},t.prototype.createBucket=function(t){return new r(t)},t.prototype.isOpacityZero=function(t,e){return this.isPaintValueFeatureConstant(e)&&0===this.getPaintValue(e,{zoom:t})},t.prototype.queryRadius=function(){return 0},t.prototype.queryIntersectsFeature=function(){return!1},t}(n);e.exports=o},{"../../data/bucket/symbol_bucket":57,"../style_layer":184}],193:[function(t,e,i){"use strict";var _=t("./style_layer"),b=t("../util/util"),x=t("../style-spec/feature_filter"),w=t("../style-spec/group_by_layout"),n=function(t){t&&this.replace(t)};n.prototype.replace=function(t){this.symbolOrder=[];for(var e=0,i=t;e<i.length;e+=1){var n=i[e];"symbol"===n.type&&this.symbolOrder.push(n.id)}this._layerConfigs={},this._layers={},this.update(t,[])},n.prototype.update=function(t,e,i){for(var n=this,o=0,r=t;o<r.length;o+=1){var s=r[o];n._layerConfigs[s.id]=s;var a=n._layers[s.id]=_.create(s);a.updatePaintTransitions({transition:!1}),a._featureFilter=x(a.filter)}for(var l=0,u=e;l<u.length;l+=1){var h=u[l];delete n._layerConfigs[h],delete n._layers[h]}i&&(this.symbolOrder=i),this.familiesBySource={};for(var c=0,p=w(b.values(this._layerConfigs));c<p.length;c+=1){var d=p[c].map(function(t){return n._layers[t.id]}),f=d[0];if(!f.layout||"none"!==f.layout.visibility){var m=f.source||"",g=n.familiesBySource[m];g||(g=n.familiesBySource[m]={});var v=f.sourceLayer||"_geojsonTileLayer",y=g[v];y||(y=g[v]=[]),y.push(d)}}},e.exports=n},{"../style-spec/feature_filter":144,"../style-spec/group_by_layout":146,"../util/util":252,"./style_layer":184}],194:[function(t,e,i){"use strict";function r(t,e,i){if(void 0!==t&&void 0!==e)return{from:t.to,fromScale:t.toScale,to:e.to,toScale:e.toScale,t:i}}var s=t("../util/util"),h=t("../style-spec/util/interpolate"),a={lastIntegerZoom:0,lastIntegerZoomTime:0,lastZoom:0},n=function(t,e,i,n,o){this.declaration=e,this.startTime=this.endTime=(new Date).getTime(),this.oldTransition=i,this.duration=n.duration||0,this.delay=n.delay||0,this.zoomTransitioned="piecewise-constant"===t.function&&t.transition,this.interp=this.zoomTransitioned?r:h[t.type],this.zoomHistory=o||a,this.instant()||(this.endTime=this.startTime+this.duration+this.delay),i&&i.endTime<=this.startTime&&delete i.oldTransition};n.prototype.instant=function(){return!this.oldTransition||!this.interp||0===this.duration&&0===this.delay},n.prototype.calculate=function(t,e,i){var n=this._calculateTargetValue(t,e);if(this.instant())return n;if((i=i||Date.now())>=this.endTime)return n;var o=this.oldTransition.calculate(t,e,this.startTime),r=s.easeCubicInOut((i-this.startTime-this.delay)/this.duration);return this.interp(o,n,r)},n.prototype._calculateTargetValue=function(t,e){if(!this.zoomTransitioned)return this.declaration.calculate(t,e);var i=t.zoom,n=this.zoomHistory.lastIntegerZoom,o=n<i?2:.5,r=this.declaration.calculate({zoom:n<i?i-1:i+1},e),s=this.declaration.calculate({zoom:i},e),a=Math.min((Date.now()-this.zoomHistory.lastIntegerZoomTime)/this.duration,1),l=Math.abs(i-n),u=h(a,1,l);return void 0!==r&&void 0!==s?{from:r,fromScale:o,to:s,toScale:1,t:u}:void 0},e.exports=n},{"../style-spec/util/interpolate":152,"../util/util":252}],195:[function(t,e,i){"use strict";e.exports=t("../style-spec/validate_style.min"),e.exports.emitErrors=function(t,e){if(e&&e.length){for(var i=0,n=e;i<n.length;i+=1){var o=n[i].message;t.fire("error",{error:new Error(o)})}return!0}return!1}},{"../style-spec/validate_style.min":175}],196:[function(t,e,i){"use strict";var n=function(o){function t(t,e,i,n){o.call(this,t,e),this.angle=i,void 0!==n&&(this.segment=n)}return o&&(t.__proto__=o),((t.prototype=Object.create(o&&o.prototype)).constructor=t).prototype.clone=function(){return new t(this.x,this.y,this.angle,this.segment)},t}(t("@mapbox/point-geometry"));e.exports=n},{"@mapbox/point-geometry":2}],197:[function(t,e,i){"use strict";e.exports=function(t,e,i,n,o){if(void 0===e.segment)return!0;for(var r=e,s=e.segment+1,a=0;-i/2<a;){if(--s<0)return!1;a-=t[s].dist(r),r=t[s]}a+=t[s].dist(t[s+1]),s++;for(var l=[],u=0;a<i/2;){var h=t[s-1],c=t[s],p=t[s+1];if(!p)return!1;var d=h.angleTo(c)-c.angleTo(p);for(d=Math.abs((d+3*Math.PI)%(2*Math.PI)-Math.PI),l.push({distance:a,angleDelta:d}),u+=d;a-l[0].distance>n;)u-=l.shift().angleDelta;if(o<u)return!1;s++,a+=c.dist(p)}return!0}},{}],198:[function(t,e,i){"use strict";var p=t("@mapbox/point-geometry");e.exports=function(t,e,i,n,o){for(var r=[],s=0;s<t.length;s++)for(var a=t[s],l=void 0,u=0;u<a.length-1;u++){var h=a[u],c=a[u+1];h.x<e&&c.x<e||(h.x<e?h=new p(e,h.y+(c.y-h.y)*((e-h.x)/(c.x-h.x)))._round():c.x<e&&(c=new p(e,h.y+(c.y-h.y)*((e-h.x)/(c.x-h.x)))._round()),h.y<i&&c.y<i||(h.y<i?h=new p(h.x+(c.x-h.x)*((i-h.y)/(c.y-h.y)),i)._round():c.y<i&&(c=new p(h.x+(c.x-h.x)*((i-h.y)/(c.y-h.y)),i)._round()),h.x>=n&&c.x>=n||(h.x>=n?h=new p(n,h.y+(c.y-h.y)*((n-h.x)/(c.x-h.x)))._round():c.x>=n&&(c=new p(n,h.y+(c.y-h.y)*((n-h.x)/(c.x-h.x)))._round()),h.y>=o&&c.y>=o||(h.y>=o?h=new p(h.x+(c.x-h.x)*((o-h.y)/(c.y-h.y)),o)._round():c.y>=o&&(c=new p(h.x+(c.x-h.x)*((o-h.y)/(c.y-h.y)),o)._round()),l&&h.equals(l[l.length-1])||(l=[h],r.push(l)),l.push(c)))))}return r}},{"@mapbox/point-geometry":2}],199:[function(t,e,i){"use strict";var n=t("../util/struct_array"),o=t("@mapbox/point-geometry"),r=n({members:[{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"offsetX"},{type:"Int16",name:"offsetY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Float32",name:"unadjustedMaxScale"},{type:"Float32",name:"maxScale"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"},{type:"Int16",name:"bbox0"},{type:"Int16",name:"bbox1"},{type:"Int16",name:"bbox2"},{type:"Int16",name:"bbox3"},{type:"Float32",name:"placementScale"}]});Object.defineProperty(r.prototype.StructType.prototype,"anchorPoint",{get:function(){return new o(this.anchorPointX,this.anchorPointY)}}),e.exports=r},{"../util/struct_array":249,"@mapbox/point-geometry":2}],200:[function(t,e,i){"use strict";var n=function(t,e,i,n,o,r,s,a,l,u,h){var c=s.top*a-l,p=s.bottom*a+l,d=s.left*a-l,f=s.right*a+l;if(this.boxStartIndex=t.length,u){var m=p-c,g=f-d;if(0<m)if(m=Math.max(10*a,m),h){var v=e[i.segment+1].sub(e[i.segment])._unit()._mult(g),y=[i.sub(v),i.add(v)];this._addLineCollisionBoxes(t,y,i,0,g,m,n,o,r)}else this._addLineCollisionBoxes(t,e,i,i.segment,g,m,n,o,r)}else t.emplaceBack(i.x,i.y,0,0,d,c,f,p,1/0,1/0,n,o,r,0,0,0,0,0);this.boxEndIndex=t.length};n.prototype._addLineCollisionBoxes=function(t,e,i,n,o,r,s,a,l){var u=r/2,h=Math.floor(o/u),c=Math.floor(h/2),p=-r/2,d=i,f=n+1,m=p,g=-o/2,v=g-o/8;do{if(--f<0){if(g<m)return;f=0;break}m-=e[f].dist(d),d=e[f]}while(v<m);for(var y=e[f].dist(e[f+1]),_=-c;_<h+c;_++){var b=_*u,x=g+b;if(b<0&&(x+=b),o<b&&(x+=b-o),!(x<m)){for(;m+y<x;){if(m+=y,++f+1>=e.length)return;y=e[f].dist(e[f+1])}var w=x-m,T=e[f],k=e[f+1].sub(T)._unit()._mult(w)._add(T)._round(),C=o/2/Math.max(Math.abs(x-p)-u/2,0);(_<0||h<=_)&&(C=Math.min(C,.99)),t.emplaceBack(k.x,k.y,k.x-i.x,k.y-i.y,-r/2,-r/2,r/2,r/2,C,C,s,a,l,0,0,0,0,0)}}},e.exports=n},{}],201:[function(t,e,i){"use strict";var O=t("@mapbox/point-geometry"),u=t("../data/extent"),h=t("grid-index"),D=t("../util/intersection_tests"),n=function(t,e,i,n,o,r,s){void 0===r&&(r=new h(u,12,6)),void 0===s&&(s=new h(u,12,0)),this.angle=t,this.pitch=e,this.cameraToCenterDistance=i,this.cameraToTileDistance=n,this.grid=r,this.ignoredGrid=s,this.perspectiveRatio=1+.5*(n/i-1),this.minScale=.5/this.perspectiveRatio,this.maxScale=2/this.perspectiveRatio;var a=Math.sin(this.angle),l=Math.cos(this.angle);this.rotationMatrix=[l,-a,a,l],this.reverseRotationMatrix=[l,a,-a,l],this.yStretch=Math.max(1,n/(i*Math.cos(e/180*Math.PI))),0===(this.collisionBoxArray=o).length&&(o.emplaceBack(),o.emplaceBack(0,0,0,0,0,-u,0,u,1/0,1/0,0,0,0,0,0,0,0,0,0),o.emplaceBack(u,0,0,0,0,-u,0,u,1/0,1/0,0,0,0,0,0,0,0,0,0),o.emplaceBack(0,0,0,0,-u,0,u,0,1/0,1/0,0,0,0,0,0,0,0,0,0),o.emplaceBack(0,u,0,0,-u,0,u,0,1/0,1/0,0,0,0,0,0,0,0,0,0)),this.tempCollisionBox=o.get(0),this.edges=[o.get(1),o.get(2),o.get(3),o.get(4)]};n.deserialize=function(t,e){return new n(t.angle,t.pitch,t.cameraToCenterDistance,t.cameraToTileDistance,e,new h(t.grid),new h(t.ignoredGrid))},n.prototype.serialize=function(t){var e=this.grid.toArrayBuffer(),i=this.ignoredGrid.toArrayBuffer();return t&&(t.push(e),t.push(i)),{angle:this.angle,pitch:this.pitch,cameraToCenterDistance:this.cameraToCenterDistance,cameraToTileDistance:this.cameraToTileDistance,grid:e,ignoredGrid:i}},n.prototype.placeCollisionFeature=function(t,e,i){for(var n=this,o=this.collisionBoxArray,r=this.minScale,s=this.rotationMatrix,a=this.yStretch,l=t.boxStartIndex;l<t.boxEndIndex;l++){var u=o.get(l),h=u.anchorPoint._matMult(s),c=h.x,p=h.y,d=c+u.x1*n.perspectiveRatio,f=p+u.y1*a*n.perspectiveRatio,m=c+u.x2*n.perspectiveRatio,g=p+u.y2*a*n.perspectiveRatio;u.bbox0=d,u.bbox1=f,u.bbox2=m,u.bbox3=g;var v=new O(u.offsetX,u.offsetY)._matMult(s),y=v.x*v.x,_=v.y*v.y,b=_*a*a,x=Math.sqrt((y+b)/(y+_))||1;if(u.maxScale=u.unadjustedMaxScale*x,!e)for(var w=n.grid.query(d,f,m,g),T=0;T<w.length;T++){var k=o.get(w[T]),C=k.anchorPoint._matMult(s);if((r=n.getPlacementScale(r,h,u,C,k))>=n.maxScale)return r}if(i){var S=void 0;if(n.angle){var E=n.reverseRotationMatrix,A=new O(u.x1,u.y1).matMult(E),P=new O(u.x2,u.y1).matMult(E),z=new O(u.x1,u.y2).matMult(E),D=new O(u.x2,u.y2).matMult(E);(S=n.tempCollisionBox).anchorPointX=u.anchorPoint.x,S.anchorPointY=u.anchorPoint.y,S.x1=Math.min(A.x,P.x,z.x,D.x),S.y1=Math.min(A.y,P.x,z.x,D.x),S.x2=Math.max(A.x,P.x,z.x,D.x),S.y2=Math.max(A.y,P.x,z.x,D.x),S.maxScale=u.maxScale}else S=u;for(var M=0;M<this.edges.length;M++){var I=n.edges[M];if((r=n.getPlacementScale(r,u.anchorPoint,S,I.anchorPoint,I))>=n.maxScale)return r}}}return r},n.prototype.queryRenderedSymbols=function(t,e){var i={},n=[];if(0===t.length||0===this.grid.keys.length&&0===this.ignoredGrid.keys.length)return n;for(var o=this.collisionBoxArray,r=this.rotationMatrix,s=this.yStretch,a=[],l=1/0,u=1/0,h=-1/0,c=-1/0,p=0;p<t.length;p++)for(var d=t[p],f=0;f<d.length;f++){var m=d[f].matMult(r);l=Math.min(l,m.x),u=Math.min(u,m.y),h=Math.max(h,m.x),c=Math.max(c,m.y),a.push(m)}for(var g=this.grid.query(l,u,h,c),v=this.ignoredGrid.query(l,u,h,c),y=0;y<v.length;y++)g.push(v[y]);for(var _=e/this.perspectiveRatio,b=Math.pow(2,Math.ceil(Math.log(_)/Math.LN2*10)/10),x=0;x<g.length;x++){var w=o.get(g[x]),T=w.sourceLayerIndex,k=w.featureIndex;if(void 0===i[T]&&(i[T]={}),!i[T][k]&&!(b<w.placementScale||b>w.maxScale)){var C=w.anchorPoint.matMult(r),S=C.x+w.x1/_,E=C.y+w.y1/_*s,A=C.x+w.x2/_,P=C.y+w.y2/_*s,z=[new O(S,E),new O(A,E),new O(A,P),new O(S,P)];D.polygonIntersectsPolygon(a,z)&&(i[T][k]=!0,n.push(g[x]))}}return n},n.prototype.getPlacementScale=function(t,e,i,n,o){var r=e.x-n.x,s=e.y-n.y,a=(o.x1-i.x2)/r,l=(o.x2-i.x1)/r,u=(o.y1-i.y2)*this.yStretch/s,h=(o.y2-i.y1)*this.yStretch/s;(isNaN(a)||isNaN(l))&&(a=l=1),(isNaN(u)||isNaN(h))&&(u=h=1);var c=Math.min(Math.max(a,l),Math.max(u,h)),p=o.maxScale,d=i.maxScale;return p<c&&(c=p),d<c&&(c=d),t<c&&c>=o.placementScale&&(t=c),t},n.prototype.insertCollisionFeature=function(t,e,i){for(var n=i?this.ignoredGrid:this.grid,o=this.collisionBoxArray,r=t.boxStartIndex;r<t.boxEndIndex;r++){var s=o.get(r);(s.placementScale=e)<this.maxScale&&(1===this.perspectiveRatio||1<=s.maxScale)&&n.insert(r,s.bbox0,s.bbox1,s.bbox2,s.bbox3)}},e.exports=n},{"../data/extent":58,"../util/intersection_tests":243,"@mapbox/point-geometry":2,"grid-index":23}],202:[function(t,e,i){"use strict";var C=t("../style-spec/util/interpolate"),S=t("../symbol/anchor"),E=t("./check_max_angle");e.exports=function(t,e,i,n,o,r,s,a,l){var u=n?.6*r*s:0,h=Math.max(n?n.right-n.left:0,o?o.right-o.left:0),c=0===t[0].x||t[0].x===l||0===t[0].y||t[0].y===l;return e-h*s<e/4&&(e=h*s+e/4),function t(e,i,n,o,r,s,a,l,u){for(var h=s/2,c=0,p=0;p<e.length-1;p++)c+=e[p].dist(e[p+1]);for(var d=0,f=i-n,m=[],g=0;g<e.length-1;g++){for(var v=e[g],y=e[g+1],_=v.dist(y),b=y.angleTo(v);f+n<d+_;){var x=((f+=n)-d)/_,w=C(v.x,y.x,x),T=C(v.y,y.y,x);if(0<=w&&w<u&&0<=T&&T<u&&0<=f-h&&f+h<=c){var k=new S(w,T,b,g);k._round(),o&&!E(e,k,s,o,r)||m.push(k)}}d+=_}return l||m.length||a||(m=t(e,d/2,n,o,r,s,a,!0,u)),m}(t,c?e/2*a%e:(h/2+2*r)*s*a%e,e,u,i,h*s,c,!1,l)}},{"../style-spec/util/interpolate":152,"../symbol/anchor":196,"./check_max_angle":197}],203:[function(t,e,i){"use strict";e.exports=function(e){function t(t){a.push(e[t]),l++}function i(t,e,i){var n=s[t];return delete s[t],s[e]=n,a[n].geometry[0].pop(),a[n].geometry[0]=a[n].geometry[0].concat(i[0]),n}function n(t,e,i){var n=r[e];return delete r[e],r[t]=n,a[n].geometry[0].shift(),a[n].geometry[0]=i[0].concat(a[n].geometry[0]),n}function o(t,e,i){var n=i?e[0][e[0].length-1]:e[0][0];return t+":"+n.x+":"+n.y}for(var r={},s={},a=[],l=0,u=0;u<e.length;u++){var h=e[u],c=h.geometry,p=h.text;if(p){var d=o(p,c),f=o(p,c,!0);if(d in s&&f in r&&s[d]!==r[f]){var m=n(d,f,c),g=i(d,f,a[m].geometry);delete r[d],delete s[f],s[o(p,a[g].geometry,!0)]=g,a[m].geometry=null}else d in s?i(d,f,c):f in r?n(d,f,c):(t(u),r[d]=l-1,s[f]=l-1)}else t(u)}return a.filter(function(t){return t.geometry})}},{}],204:[function(t,e,i){"use strict";function F(t,e){var i=[t.x,t.y,0,1];O.transformMat4(i,i,e);var n=i[3];return{point:new B(i[0]/n,i[1]/n),signedDistanceFromCamera:n}}function M(t,e,i,n,o,r,s,a,l,u,h,c,p){var d,f=e/24,m=t.lineOffsetX*e,g=t.lineOffsetY*e;if(1<t.numGlyphs){var v=t.glyphStartIndex+t.numGlyphs,y=a.get(t.glyphStartIndex).offsetX,_=a.get(v-1).offsetX,b=t.lineStartIndex,x=t.lineStartIndex+t.lineLength,w=j(f*y,m,g,i,h,c,t.segment,b,x,l,r,p);if(!w)return{notEnoughRoom:!0};var T=j(f*_,m,g,i,h,c,t.segment,b,x,l,r,p);if(!T)return{notEnoughRoom:!0};var k=F(w.point,s).point,C=F(T.point,s).point;if(n&&!i&&(t.vertical?k.y<C.y:k.x>C.x))return{needsFlipping:!0};d=[w];for(var S=t.glyphStartIndex+1;S<v-1;S++){var E=a.get(S);d.push(j(f*E.offsetX,m,g,i,h,c,t.segment,b,x,l,r,p))}d.push(T)}else{if(n&&!i){var A=F(c,o).point,P=l.get(t.lineStartIndex+t.segment+1),z=F(P,o),D=0<z.signedDistanceFromCamera?z.point:N(c,new B(P.x,P.y),A,1,o);if(t.vertical?D.y>A.y:D.x<A.x)return{needsFlipping:!0}}var M=j(f*a.get(t.glyphStartIndex).offsetX,m,g,i,h,c,t.segment,t.lineStartIndex,t.lineStartIndex+t.lineLength,l,r,p);if(!M)return{notEnoughRoom:!0};d=[M]}for(var I=t.placementZoom,O=0,L=d;O<L.length;O+=1){var R=L[O];V(u,R.point,R.angle,I)}return{}}function N(t,e,i,n,o){var r=F(t.add(t.sub(e)._unit()),o).point,s=i.sub(r);return i.add(s._mult(n/s.mag()))}function j(t,e,i,n,o,r,s,a,l,u,h,c){var p=n?t-e:t+e,d=0<p?1:-1,f=0;n&&(d*=-1,f=Math.PI),d<0&&(f+=Math.PI);for(var m=0<d?a+s:a+s+1,g=o,v=o,y=0,_=0,b=Math.abs(p);y+_<=b;){if((m+=d)<a||l<=m)return null;if(v=g,void 0===(g=c[m])){var x=F(u.get(m),h);g=0<x.signedDistanceFromCamera?c[m]=x.point:N(0===y?r:new B(u.get(m-d).x,u.get(m-d).y),new B(u.get(m).x,u.get(m).y),v,b-y+1,h)}y+=_,_=v.dist(g)}var w=(b-y)/_,T=g.sub(v),k=T.mult(w)._add(v);return k._add(T._unit()._perp()._mult(i*d)),{point:k,angle:f+Math.atan2(g.y-v.y,g.x-v.x)}}function I(t,e){for(var i=0;i<t;i++)V(e,o,0,25)}var B=t("@mapbox/point-geometry"),n=t("@mapbox/gl-matrix"),s=n.mat4,O=n.vec4,L=t("./symbol_size"),V=t("../data/bucket/symbol_bucket").addDynamicAttributes;e.exports={updateLineLabels:function(t,e,i,n,o,r,s,a,l,u){var h,c,p,d,f,m,g=n?t.textSizeData:t.iconSizeData,v=L.evaluateSizeForZoom(g,i.transform,u,n),y=[256/i.width*2+1,256/i.height*2+1],_=n?t.text.dynamicLayoutVertexArray:t.icon.dynamicLayoutVertexArray;_.clear();for(var b=t.lineVertexArray,x=n?t.placedGlyphArray:t.placedIconArray,w=0;w<x.length;w++){var T=x.get(w),k=[T.anchorX,T.anchorY,0,1];if(O.transformMat4(k,k,e),h=k,c=T.placementZoom,p=y,d=i,f=h[0]/h[3],m=h[1]/h[3],f>=-p[0]&&f<=p[0]&&m>=-p[1]&&m<=p[1]&&d.frameHistory.isVisible(c)){var C=1+.5*(k[3]/i.transform.cameraToCenterDistance-1),S=L.evaluateSizeForFeature(g,v,T),E=s?S*C:S/C,A=new B(T.anchorX,T.anchorY),P=F(A,o).point,z={},D=M(T,E,!1,a,e,o,r,t.glyphOffsetArray,b,_,P,A,z);(D.notEnoughRoom||D.needsFlipping&&M(T,E,!0,a,e,o,r,t.glyphOffsetArray,b,_,P,A,z).notEnoughRoom)&&I(T.numGlyphs,_)}else I(T.numGlyphs,_)}n?t.text.dynamicLayoutVertexBuffer.updateData(_.serialize()):t.icon.dynamicLayoutVertexBuffer.updateData(_.serialize())},getLabelPlaneMatrix:function(t,e,i,n,o){var r=s.identity(new Float32Array(16));return e?(s.identity(r),s.scale(r,r,[1/o,1/o,1]),i||s.rotateZ(r,r,n.angle)):(s.scale(r,r,[n.width/2,-n.height/2,1]),s.translate(r,r,[1,-1,0]),s.multiply(r,r,t)),r},getGlCoordMatrix:function(t,e,i,n,o){var r=s.identity(new Float32Array(16));return e?(s.multiply(r,r,t),s.scale(r,r,[o,o,1]),i||s.rotateZ(r,r,-n.angle)):(s.scale(r,r,[1,-1,1]),s.translate(r,r,[-1,-1,0]),s.scale(r,r,[2/n.width,2/n.height,1])),r}};var o=new B(-1/0,-1/0)},{"../data/bucket/symbol_bucket":57,"./symbol_size":207,"@mapbox/gl-matrix":1,"@mapbox/point-geometry":2}],205:[function(t,e,i){"use strict";var F=t("@mapbox/point-geometry"),I=t("../style/parse_glyph_pbf").GLYPH_PBF_BORDER;e.exports={getIconQuads:function(t,e,i,n,o,r,s){var a,l,u,h,c=e.image,p=i.layout,d=e.top-1/c.pixelRatio,f=e.left-1/c.pixelRatio,m=e.bottom+1/c.pixelRatio,g=e.right+1/c.pixelRatio;if("none"!==p["icon-text-fit"]&&o){var v=g-f,y=m-d,_=p["text-size"]/24,b=o.left*_,x=o.right*_,w=o.top*_,T=x-b,k=o.bottom*_-w,C=p["icon-text-fit-padding"][0],S=p["icon-text-fit-padding"][1],E=p["icon-text-fit-padding"][2],A=p["icon-text-fit-padding"][3],P="width"===p["icon-text-fit"]?.5*(k-y):0,z="height"===p["icon-text-fit"]?.5*(T-v):0,D="width"===p["icon-text-fit"]||"both"===p["icon-text-fit"]?T:v,M="height"===p["icon-text-fit"]||"both"===p["icon-text-fit"]?k:y;a=new F(b+z-A,w+P-C),l=new F(b+z+S+D,w+P-C),u=new F(b+z+S+D,w+P+E+M),h=new F(b+z-A,w+P+E+M)}else a=new F(f,d),l=new F(g,d),u=new F(g,m),h=new F(f,m);var I=i.getLayoutValue("icon-rotate",r,s)*Math.PI/180;if(I){var O=Math.sin(I),L=Math.cos(I),R=[L,-O,O,L];a._matMult(R),l._matMult(R),h._matMult(R),u._matMult(R)}return[{tl:a,tr:l,bl:h,br:u,tex:{x:c.textureRect.x-1,y:c.textureRect.y-1,w:c.textureRect.w+2,h:c.textureRect.h+2},writingMode:void 0,glyphOffset:[0,0]}]},getGlyphQuads:function(t,e,i,n,o,r,s){for(var a=i.getLayoutValue("text-rotate",o,r)*Math.PI/180,l=i.getLayoutValue("text-offset",o,r).map(function(t){return 24*t}),u=e.positionedGlyphs,h=[],c=0;c<u.length;c++){var p=u[c],d=s[p.glyph];if(d){var f=d.rect;if(f){var m=I+1,g=d.metrics.advance/2,v=n?[p.x+g,p.y]:[0,0],y=n?[0,0]:[p.x+g+l[0],p.y+l[1]],_=d.metrics.left-m-g+y[0],b=-d.metrics.top-m+y[1],x=_+f.w,w=b+f.h,T=new F(_,b),k=new F(x,b),C=new F(_,w),S=new F(x,w);if(n&&p.vertical){var E=new F(-g,g),A=-Math.PI/2,P=new F(5,0);T._rotateAround(A,E)._add(P),k._rotateAround(A,E)._add(P),C._rotateAround(A,E)._add(P),S._rotateAround(A,E)._add(P)}if(a){var z=Math.sin(a),D=Math.cos(a),M=[D,-z,z,D];T._matMult(M),k._matMult(M),C._matMult(M),S._matMult(M)}h.push({tl:T,tr:k,bl:C,br:S,tex:f,writingMode:e.writingMode,glyphOffset:v})}}}return h}}},{"../style/parse_glyph_pbf":180,"@mapbox/point-geometry":2}],206:[function(t,e,i){"use strict";function p(t,e,i,n){var o=Math.pow(t-e,2);return n?t<e?o/2:2*o:o+Math.abs(i)*i}function d(t,e,i,n,o,r){for(var s=null,a=p(e,i,o,r),l=0,u=n;l<u.length;l+=1){var h=u[l],c=p(e-h.x,i,o,r)+h.badness;c<=a&&(s=h,a=c)}return{index:t,x:e,priorBreak:s,badness:a}}function f(t,e,i,n){if(!i)return[];if(!t)return[];for(var o=[],r=function(t,e,i,n){for(var o=0,r=0;r<t.length;r++){var s=n[t.charCodeAt(r)];s&&(o+=s.metrics.advance+e)}return o/Math.max(1,Math.ceil(o/i))}(t,e,i,n),s=0,a=0;a<t.length;a++){var l=t.charCodeAt(a),u=n[l];u&&!v[l]&&(s+=u.metrics.advance+e),a<t.length-1&&(y[l]||A.charAllowsIdeographicBreaking(l))&&o.push(d(a+1,s,r,o,(h=l,c=t.charCodeAt(a+1),p=void 0,p=0,10===h&&(p-=1e4),40!==h&&65288!==h||(p+=50),41!==c&&65289!==c||(p+=50),p),!1))}var h,c,p;return function t(e){return e?t(e.priorBreak).concat(e.index):[]}(d(t.length,s,r,o,0,!0))}function S(t){var e=.5,i=.5;switch(t){case"right":case"top-right":case"bottom-right":e=1;break;case"left":case"top-left":case"bottom-left":e=0}switch(t){case"bottom":case"bottom-right":case"bottom-left":i=1;break;case"top":case"top-right":case"top-left":i=0}return{horizontalAlign:e,verticalAlign:i}}function E(t,e,i,n,o){if(o){var r=e[t[n].glyph];if(r)for(var s=r.metrics.advance,a=(t[n].x+s)*o,l=i;l<=n;l++)t[l].x-=a}}var A=t("../util/script_detection"),m=t("../util/verticalize_punctuation"),g=t("../source/rtl_text_plugin"),P={horizontal:1,vertical:2};e.exports={shapeText:function(t,e,i,n,o,r,s,a,l,u){var h=t.trim();u===P.vertical&&(h=m(h));var c=[],p={positionedGlyphs:c,text:h,top:a[1],bottom:a[1],left:a[0],right:a[0],writingMode:u},d=g.processBidirectionalText;return function(t,e,i,n,o,r,s,a,l){for(var u=0,h=-17,c=0,p=t.positionedGlyphs,d="right"===r?1:"left"===r?0:.5,f=0,m=i;f<m.length;f+=1){var g=m[f];if((g=g.trim()).length){for(var v=p.length,y=0;y<g.length;y++){var _=g.charCodeAt(y),b=e[_];b&&(A.charHasUprightVerticalOrientation(_)&&s!==P.horizontal?(p.push({glyph:_,x:u,y:0,vertical:!0}),u+=l+a):(p.push({glyph:_,x:u,y:h,vertical:!1}),u+=b.metrics.advance+a))}if(p.length!==v){var x=u-a;c=Math.max(x,c),E(p,e,v,p.length-1,d)}u=0,h+=n}else h+=n}var w=S(o),T=w.horizontalAlign,k=w.verticalAlign;!function(t,e,i,n,o,r,s){for(var a=(e-i)*o,l=(-n*s+.5)*r,u=0;u<t.length;u++)t[u].x+=a,t[u].y+=l}(p,d,T,k,c,n,i.length);var C=i.length*n;t.top+=-k*C,t.bottom=t.top+C,t.left+=-T*c,t.right=t.left+c}(p,e,d?d(h,f(h,s,i,e)):function(t,e){for(var i=[],n=0,o=0,r=e;o<r.length;o+=1){var s=r[o];i.push(t.substring(n,s)),n=s}return n<t.length&&i.push(t.substring(n,t.length)),i}(h,f(h,s,i,e)),n,o,r,u,s,l),!!c.length&&p},shapeIcon:function(t,e,i){var n=S(i),o=n.horizontalAlign,r=n.verticalAlign,s=e[0],a=e[1],l=s-t.displaySize[0]*o,u=l+t.displaySize[0],h=a-t.displaySize[1]*r;return{image:t,top:h,bottom:h+t.displaySize[1],left:l,right:u}},WritingMode:P};var v={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},y={10:!0,32:!0,38:!0,40:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0}},{"../source/rtl_text_plugin":108,"../util/script_detection":247,"../util/verticalize_punctuation":254}],207:[function(t,e,i){"use strict";var o=t("../style-spec/util/interpolate"),u=t("../util/util");e.exports={getSizeData:function(t,e,i){var n=e.getLayoutDeclaration(i),o=!n||n.expression.isFeatureConstant;if(!n||n.expression.isZoomConstant)return o?{functionType:"constant",layoutSize:e.getLayoutValue(i,{zoom:t+1})}:{functionType:"source"};for(var r=n.expression.zoomStops,s=0;s<r.length&&r[s]<=t;)s++;for(var a=s=Math.max(0,s-1);a<r.length&&r[a]<t+1;)a++;a=Math.min(r.length-1,a);var l=[r[s],r[a]];return o?{functionType:"camera",layoutSize:e.getLayoutValue(i,{zoom:t+1}),coveringZoomRange:l,coveringStopValues:[e.getLayoutValue(i,{zoom:r[s]}),e.getLayoutValue(i,{zoom:r[a]})]}:{functionType:"composite",coveringZoomRange:l}},evaluateSizeForFeature:function(t,e,i){var n=e;return"source"===t.functionType?i.lowerSize/10:"composite"===t.functionType?o.number(i.lowerSize/10,i.upperSize/10,n.uSizeT):n.uSize},evaluateSizeForZoom:function(t,e,i,n){var o={};if("composite"===t.functionType){var r=i.getLayoutDeclaration(n?"text-size":"icon-size").interpolationFactor(e.zoom,t.coveringZoomRange[0],t.coveringZoomRange[1]);o.uSizeT=u.clamp(r,0,1)}else if("camera"===t.functionType){var s=i.getLayoutDeclaration(n?"text-size":"icon-size").interpolationFactor(e.zoom,t.coveringZoomRange[0],t.coveringZoomRange[1]),a=t.coveringStopValues[0],l=t.coveringStopValues[1];o.uSize=a+(l-a)*u.clamp(s,0,1)}else"constant"===t.functionType&&(o.uSize=t.layoutSize);return o}}},{"../style-spec/util/interpolate":152,"../util/util":252}],208:[function(t,e,i){"use strict";var r=t("../source/rtl_text_plugin");e.exports=function(t,e,i,n){var o=e.getLayoutValue("text-transform",i,n);return"uppercase"===o?t=t.toLocaleUpperCase():"lowercase"===o&&(t=t.toLocaleLowerCase()),r.applyArabicShaping&&(t=r.applyArabicShaping(t)),t}},{"../source/rtl_text_plugin":108}],209:[function(t,e,i){"use strict";var c=t("../util/dom"),p=t("@mapbox/point-geometry"),d={scrollZoom:t("./handler/scroll_zoom"),boxZoom:t("./handler/box_zoom"),dragRotate:t("./handler/drag_rotate"),dragPan:t("./handler/drag_pan"),keyboard:t("./handler/keyboard"),doubleClickZoom:t("./handler/dblclick_zoom"),touchZoomRotate:t("./handler/touch_zoom_rotate")};e.exports=function(o,t){function e(){u=null}function i(t,e){var i=c.mousePos(r,e);return o.fire(t,{lngLat:o.unproject(i),point:i,originalEvent:e})}function n(t,e){var i=c.touchPos(r,e),n=i.reduce(function(t,e,i,n){return t.add(e.div(n.length))},new p(0,0));return o.fire(t,{lngLat:o.unproject(n),point:n,lngLats:i.map(function(t){return o.unproject(t)},this),points:i,originalEvent:e})}var r=o.getCanvasContainer(),s=null,a=!1,l=null,u=null;for(var h in d)o[h]=new d[h](o,t),t.interactive&&t[h]&&o[h].enable(t[h]);r.addEventListener("mouseout",function(t){i("mouseout",t)},!1),r.addEventListener("mousedown",function(t){o.doubleClickZoom.isActive()||o.stop(),l=c.mousePos(r,t),i("mousedown",t),a=!0},!1),r.addEventListener("mouseup",function(t){var e=o.dragRotate&&o.dragRotate.isActive();s&&!e&&i("contextmenu",s),s=null,a=!1,i("mouseup",t)},!1),r.addEventListener("mousemove",function(t){if(!(o.dragPan&&o.dragPan.isActive()||o.dragRotate&&o.dragRotate.isActive())){for(var e=t.toElement||t.target;e&&e!==r;)e=e.parentNode;e===r&&i("mousemove",t)}},!1),r.addEventListener("touchstart",function(t){o.stop(),n("touchstart",t),!t.touches||1<t.touches.length||(u?(clearTimeout(u),u=null,i("dblclick",t)):u=setTimeout(e,300))},!1),r.addEventListener("touchend",function(t){n("touchend",t)},!1),r.addEventListener("touchmove",function(t){n("touchmove",t)},!1),r.addEventListener("touchcancel",function(t){n("touchcancel",t)},!1),r.addEventListener("click",function(t){c.mousePos(r,t).equals(l)&&i("click",t)},!1),r.addEventListener("dblclick",function(t){i("dblclick",t),t.preventDefault()},!1),r.addEventListener("contextmenu",function(t){var e=o.dragRotate&&o.dragRotate.isActive();a||e?a&&(s=t):i("contextmenu",t),t.preventDefault()},!1)}},{"../util/dom":238,"./handler/box_zoom":218,"./handler/dblclick_zoom":219,"./handler/drag_pan":220,"./handler/drag_rotate":221,"./handler/keyboard":222,"./handler/scroll_zoom":223,"./handler/touch_zoom_rotate":224,"@mapbox/point-geometry":2}],210:[function(t,e,i){"use strict";var M=t("../util/util"),I=t("../style-spec/util/interpolate"),n=t("../util/browser"),O=t("../geo/lng_lat"),f=t("../geo/lng_lat_bounds"),L=t("@mapbox/point-geometry"),o=function(i){function t(t,e){i.call(this),this.moving=!1,this.transform=t,this._bearingSnap=e.bearingSnap}return i&&(t.__proto__=i),((t.prototype=Object.create(i&&i.prototype)).constructor=t).prototype.getCenter=function(){return this.transform.center},t.prototype.setCenter=function(t,e){return this.jumpTo({center:t},e)},t.prototype.panBy=function(t,e,i){return t=L.convert(t).mult(-1),this.panTo(this.transform.center,M.extend({offset:t},e),i)},t.prototype.panTo=function(t,e,i){return this.easeTo(M.extend({center:t},e),i)},t.prototype.getZoom=function(){return this.transform.zoom},t.prototype.setZoom=function(t,e){return this.jumpTo({zoom:t},e),this},t.prototype.zoomTo=function(t,e,i){return this.easeTo(M.extend({zoom:t},e),i)},t.prototype.zoomIn=function(t,e){return this.zoomTo(this.getZoom()+1,t,e),this},t.prototype.zoomOut=function(t,e){return this.zoomTo(this.getZoom()-1,t,e),this},t.prototype.getBearing=function(){return this.transform.bearing},t.prototype.setBearing=function(t,e){return this.jumpTo({bearing:t},e),this},t.prototype.rotateTo=function(t,e,i){return this.easeTo(M.extend({bearing:t},e),i)},t.prototype.resetNorth=function(t,e){return this.rotateTo(0,M.extend({duration:1e3},t),e),this},t.prototype.snapToNorth=function(t,e){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(t,e):this},t.prototype.getPitch=function(){return this.transform.pitch},t.prototype.setPitch=function(t,e){return this.jumpTo({pitch:t},e),this},t.prototype.fitBounds=function(t,e,i){if("number"==typeof(e=M.extend({padding:{top:0,bottom:0,right:0,left:0},offset:[0,0],maxZoom:this.transform.maxZoom},e)).padding){var n=e.padding;e.padding={top:n,bottom:n,right:n,left:n}}if(!M.deepEqual(Object.keys(e.padding).sort(function(t,e){return t<e?-1:e<t?1:0}),["bottom","left","right","top"]))return M.warnOnce("options.padding must be a positive number, or an Object with keys 'bottom', 'left', 'right', 'top'"),this;t=f.convert(t);var o=[e.padding.left-e.padding.right,e.padding.top-e.padding.bottom],r=Math.min(e.padding.right,e.padding.left),s=Math.min(e.padding.top,e.padding.bottom);e.offset=[e.offset[0]+o[0],e.offset[1]+o[1]];var a=L.convert(e.offset),l=this.transform,u=l.project(t.getNorthWest()),h=l.project(t.getSouthEast()),c=h.sub(u),p=(l.width-2*r-2*Math.abs(a.x))/c.x,d=(l.height-2*s-2*Math.abs(a.y))/c.y;return d<0||p<0?(M.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset."),this):(e.center=l.unproject(u.add(h).div(2)),e.zoom=Math.min(l.scaleZoom(l.scale*Math.min(p,d)),e.maxZoom),e.bearing=0,e.linear?this.easeTo(e,i):this.flyTo(e,i))},t.prototype.jumpTo=function(t,e){this.stop();var i=this.transform,n=!1,o=!1,r=!1;return"zoom"in t&&i.zoom!==+t.zoom&&(n=!0,i.zoom=+t.zoom),void 0!==t.center&&(i.center=O.convert(t.center)),"bearing"in t&&i.bearing!==+t.bearing&&(o=!0,i.bearing=+t.bearing),"pitch"in t&&i.pitch!==+t.pitch&&(r=!0,i.pitch=+t.pitch),this.fire("movestart",e).fire("move",e),n&&this.fire("zoomstart",e).fire("zoom",e).fire("zoomend",e),o&&this.fire("rotate",e),r&&this.fire("pitchstart",e).fire("pitch",e).fire("pitchend",e),this.fire("moveend",e)},t.prototype.easeTo=function(t,r){var e=this;this.stop(),!1===(t=M.extend({offset:[0,0],duration:500,easing:M.ease},t)).animate&&(t.duration=0),t.smoothEasing&&0!==t.duration&&(t.easing=this._smoothOutEasing(t.duration));var s=this.transform,a=this.getZoom(),l=this.getBearing(),u=this.getPitch(),h="zoom"in t?+t.zoom:a,c="bearing"in t?this._normalizeBearing(t.bearing,l):l,p="pitch"in t?+t.pitch:u,d=s.centerPoint.add(L.convert(t.offset)),i=s.pointLocation(d),n=O.convert(t.center||i);this._normalizeCenter(n);var f,m,g=s.project(i),v=s.project(n).sub(g),y=s.zoomScale(h-a);return t.around&&(f=O.convert(t.around),m=s.locationPoint(f)),this.zooming=h!==a,this.rotating=l!==c,this.pitching=p!==u,this._prepareEase(r,t.noMoveStart),clearTimeout(this._onEaseEnd),this._ease(function(t){if(this.zooming&&(s.zoom=I(a,h,t)),this.rotating&&(s.bearing=I(l,c,t)),this.pitching&&(s.pitch=I(u,p,t)),f)s.setLocationAtPoint(f,m);else{var e=s.zoomScale(s.zoom-a),i=a<h?Math.min(2,y):Math.max(.5,y),n=Math.pow(i,1-t),o=s.unproject(g.add(v.mult(t*n)).mult(e));s.setLocationAtPoint(s.renderWorldCopies?o.wrap():o,d)}this._fireMoveEvents(r)},function(){t.delayEndEvents?e._onEaseEnd=setTimeout(function(){return e._easeToEnd(r)},t.delayEndEvents):e._easeToEnd(r)},t),this},t.prototype._prepareEase=function(t,e){this.moving=!0,e||this.fire("movestart",t),this.zooming&&this.fire("zoomstart",t),this.pitching&&this.fire("pitchstart",t)},t.prototype._fireMoveEvents=function(t){this.fire("move",t),this.zooming&&this.fire("zoom",t),this.rotating&&this.fire("rotate",t),this.pitching&&this.fire("pitch",t)},t.prototype._easeToEnd=function(t){var e=this.zooming,i=this.pitching;this.moving=!1,this.zooming=!1,this.rotating=!1,this.pitching=!1,e&&this.fire("zoomend",t),i&&this.fire("pitchend",t),this.fire("moveend",t)},t.prototype.flyTo=function(t,o){function e(t){var e=(x*x-b*b+(t?-1:1)*C*C*w*w)/(2*(t?x:b)*C*w);return Math.log(Math.sqrt(e*e+1)-e)}function i(t){return(Math.exp(t)-Math.exp(-t))/2}function n(t){return(Math.exp(t)+Math.exp(-t))/2}var r=this;this.stop(),t=M.extend({offset:[0,0],speed:1.2,curve:1.42,easing:M.ease},t);var s=this.transform,a=this.getZoom(),l=this.getBearing(),u=this.getPitch(),h="zoom"in t?M.clamp(+t.zoom,s.minZoom,s.maxZoom):a,c="bearing"in t?this._normalizeBearing(t.bearing,l):l,p="pitch"in t?+t.pitch:u,d=s.zoomScale(h-a),f=s.centerPoint.add(L.convert(t.offset)),m=s.pointLocation(f),g=O.convert(t.center||m);this._normalizeCenter(g);var v=s.project(m),y=s.project(g).sub(v),_=t.curve,b=Math.max(s.width,s.height),x=b/d,w=y.mag();if("minZoom"in t){var T=M.clamp(Math.min(t.minZoom,a,h),s.minZoom,s.maxZoom),k=b/s.zoomScale(T-a);_=Math.sqrt(k/w*2)}var C=_*_,S=e(0),E=function(t){return n(S)/n(S+_*t)},A=function(t){return b*((n(S)*(i(e=S+_*t)/n(e))-i(S))/C)/w;var e},P=(e(1)-S)/_;if(Math.abs(w)<1e-6||!isFinite(P)){if(Math.abs(b-x)<1e-6)return this.easeTo(t,o);var z=x<b?-1:1;P=Math.abs(Math.log(x/b))/_,A=function(){return 0},E=function(t){return Math.exp(z*_*t)}}if("duration"in t)t.duration=+t.duration;else{var D="screenSpeed"in t?+t.screenSpeed/_:+t.speed;t.duration=1e3*P/D}return t.maxDuration&&t.duration>t.maxDuration&&(t.duration=0),this.zooming=!0,this.rotating=l!==c,this.pitching=p!==u,this._prepareEase(o,!1),this._ease(function(t){var e=t*P,i=1/E(e);s.zoom=a+s.scaleZoom(i),this.rotating&&(s.bearing=I(l,c,t)),this.pitching&&(s.pitch=I(u,p,t));var n=s.unproject(v.add(y.mult(A(e))).mult(i));s.setLocationAtPoint(s.renderWorldCopies?n.wrap():n,f),this._fireMoveEvents(o)},function(){return r._easeToEnd(o)},t),this},t.prototype.isEasing=function(){return!!this._abortFn},t.prototype.isMoving=function(){return this.moving},t.prototype.stop=function(){return this._abortFn&&(this._abortFn(),this._finishEase()),this},t.prototype._ease=function(e,t,i){this._finishFn=t,this._abortFn=n.timed(function(t){e.call(this,i.easing(t)),1===t&&this._finishEase()},!1===i.animate?0:i.duration,this)},t.prototype._finishEase=function(){delete this._abortFn;var t=this._finishFn;delete this._finishFn,t.call(this)},t.prototype._normalizeBearing=function(t,e){t=M.wrap(t,-180,180);var i=Math.abs(t-e);return Math.abs(t-360-e)<i&&(t-=360),Math.abs(t+360-e)<i&&(t+=360),t},t.prototype._normalizeCenter=function(t){var e=this.transform;if(e.renderWorldCopies&&!e.lngRange){var i=t.lng-e.center.lng;t.lng+=180<i?-360:i<-180?360:0}},t.prototype._smoothOutEasing=function(t){var e=M.ease;if(this._prevEase){var i=this._prevEase,n=(Date.now()-i.start)/i.duration,o=i.easing(n+.01)-i.easing(n),r=.27/Math.sqrt(o*o+1e-4)*.01,s=Math.sqrt(.0729-r*r);e=M.bezier(r,s,.25,1)}return this._prevEase={start:(new Date).getTime(),duration:t,easing:e},e},t}(t("../util/evented"));e.exports=o},{"../geo/lng_lat":68,"../geo/lng_lat_bounds":69,"../style-spec/util/interpolate":152,"../util/browser":231,"../util/evented":239,"../util/util":252,"@mapbox/point-geometry":2}],211:[function(t,e,i){"use strict";var n=t("../../util/dom"),o=t("../../util/util"),r=t("../../util/config"),s=function(t){this.options=t,o.bindAll(["_updateEditLink","_updateData","_updateCompact"],this)};s.prototype.getDefaultPosition=function(){return"bottom-right"},s.prototype.onAdd=function(t){var e=this.options&&this.options.compact;return this._map=t,this._container=n.create("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),e&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),void 0===e&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container},s.prototype.onRemove=function(){n.remove(this._container),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0},s.prototype._updateEditLink=function(){var t=this._editLink;t||(t=this._editLink=this._container.querySelector(".mapbox-improve-map"));var n=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:r.ACCESS_TOKEN}];if(t){var e=n.reduce(function(t,e,i){return e.value&&(t+=e.key+"="+e.value+(i<n.length-1?"&":"")),t},"?");t.href="https://www.mapbox.com/feedback/"+e+(this._map._hash?this._map._hash.getHashString(!0):"")}},s.prototype._updateData=function(t){t&&"metadata"===t.sourceDataType&&(this._updateAttributions(),this._updateEditLink())},s.prototype._updateAttributions=function(){if(this._map.style){var n=[];if(this._map.style.stylesheet){var t=this._map.style.stylesheet;this.styleOwner=t.owner,this.styleId=t.id}var e=this._map.style.sourceCaches;for(var i in e){var o=e[i].getSource();o.attribution&&n.indexOf(o.attribution)<0&&n.push(o.attribution)}n.sort(function(t,e){return t.length-e.length}),n=n.filter(function(t,e){for(var i=e+1;i<n.length;i++)if(0<=n[i].indexOf(t))return!1;return!0}),this._container.innerHTML=n.join(" | "),this._editLink=null}},s.prototype._updateCompact=function(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact")},e.exports=s},{"../../util/config":235,"../../util/dom":238,"../../util/util":252}],212:[function(t,e,i){"use strict";var n=t("../../util/dom"),o=t("../../util/util"),r=t("../../util/window"),s=function(){this._fullscreen=!1,o.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in r.document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in r.document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in r.document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in r.document&&(this._fullscreenchange="MSFullscreenChange"),this._className="mapboxgl-ctrl"};s.prototype.onAdd=function(t){return this._map=t,this._mapContainer=this._map.getContainer(),this._container=n.create("div",this._className+" mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._container.style.display="none",o.warnOnce("This device does not support fullscreen mode.")),this._container},s.prototype.onRemove=function(){n.remove(this._container),this._map=null,r.document.removeEventListener(this._fullscreenchange,this._changeIcon)},s.prototype._checkFullscreenSupport=function(){return!!(r.document.fullscreenEnabled||r.document.mozFullScreenEnabled||r.document.msFullscreenEnabled||r.document.webkitFullscreenEnabled)},s.prototype._setupUI=function(){var t=this._fullscreenButton=n.create("button",this._className+"-icon "+this._className+"-fullscreen",this._container);t.setAttribute("aria-label","Toggle fullscreen"),t.type="button",this._fullscreenButton.addEventListener("click",this._onClickFullscreen),r.document.addEventListener(this._fullscreenchange,this._changeIcon)},s.prototype._isFullscreen=function(){return this._fullscreen},s.prototype._changeIcon=function(){(r.document.fullscreenElement||r.document.mozFullScreenElement||r.document.webkitFullscreenElement||r.document.msFullscreenElement)===this._mapContainer!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle(this._className+"-shrink"),this._fullscreenButton.classList.toggle(this._className+"-fullscreen"))},s.prototype._onClickFullscreen=function(){this._isFullscreen()?r.document.exitFullscreen?r.document.exitFullscreen():r.document.mozCancelFullScreen?r.document.mozCancelFullScreen():r.document.msExitFullscreen?r.document.msExitFullscreen():r.document.webkitCancelFullScreen&&r.document.webkitCancelFullScreen():this._mapContainer.requestFullscreen?this._mapContainer.requestFullscreen():this._mapContainer.mozRequestFullScreen?this._mapContainer.mozRequestFullScreen():this._mapContainer.msRequestFullscreen?this._mapContainer.msRequestFullscreen():this._mapContainer.webkitRequestFullscreen&&this._mapContainer.webkitRequestFullscreen()},e.exports=s},{"../../util/dom":238,"../../util/util":252,"../../util/window":233}],213:[function(t,e,i){"use strict";var n,o=t("../../util/evented"),r=t("../../util/dom"),s=t("../../util/window"),a=t("../../util/util"),l=t("../../geo/lng_lat"),u=t("../marker"),h={positionOptions:{enableHighAccuracy:!1,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showUserLocation:!0},c="mapboxgl-ctrl",p=function(e){function t(t){e.call(this),this.options=a.extend({},h,t),a.bindAll(["_onSuccess","_onError","_finish","_setupUI","_updateCamera","_updateMarker","_onClickGeolocate"],this)}return e&&(t.__proto__=e),((t.prototype=Object.create(e&&e.prototype)).constructor=t).prototype.onAdd=function(t){return this._map=t,this._container=r.create("div",c+" "+c+"-group"),e=this._setupUI,void 0!==n?e(n):void 0!==s.navigator.permissions?s.navigator.permissions.query({name:"geolocation"}).then(function(t){n="denied"!==t.state,e(n)}):(n=!!s.navigator.geolocation,e(n)),this._container;var e},t.prototype.onRemove=function(){void 0!==this._geolocationWatchID&&(s.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker.remove(),r.remove(this._container),this._map=void 0},t.prototype._onSuccess=function(t){if(this.options.trackUserLocation)switch(this._lastKnownPosition=t,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&"OFF"!==this._watchState&&this._updateMarker(t),this.options.trackUserLocation&&"ACTIVE_LOCK"!==this._watchState||this._updateCamera(t),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire("geolocate",t),this._finish()},t.prototype._updateCamera=function(t){var e=new l(t.coords.longitude,t.coords.latitude),i=t.coords.accuracy;this._map.fitBounds(e.toBounds(i),this.options.fitBoundsOptions,{geolocateSource:!0})},t.prototype._updateMarker=function(t){t?this._userLocationDotMarker.setLngLat([t.coords.longitude,t.coords.latitude]).addTo(this._map):this._userLocationDotMarker.remove()},t.prototype._onError=function(t){if(this.options.trackUserLocation)if(1===t.code)this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),void 0!==this._geolocationWatchID&&this._clearWatch();else switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting")}"OFF"!==this._watchState&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire("error",t),this._finish()},t.prototype._finish=function(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},t.prototype._setupUI=function(t){var e=this;!1!==t&&(this._container.addEventListener("contextmenu",function(t){return t.preventDefault()}),this._geolocateButton=r.create("button",c+"-icon "+c+"-geolocate",this._container),this._geolocateButton.type="button",this._geolocateButton.setAttribute("aria-label","Geolocate"),this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=r.create("div","mapboxgl-user-location-dot"),this._userLocationDotMarker=new u(this._dotElement),this.options.trackUserLocation&&(this._watchState="OFF")),this._geolocateButton.addEventListener("click",this._onClickGeolocate.bind(this)),this.options.trackUserLocation&&this._map.on("movestart",function(t){t.geolocateSource||"ACTIVE_LOCK"!==e._watchState||(e._watchState="BACKGROUND",e._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),e._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),e.fire("trackuserlocationend"))}))},t.prototype._onClickGeolocate=function(){if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire("trackuserlocationstart");break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire("trackuserlocationend");break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire("trackuserlocationstart")}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error")}"OFF"===this._watchState&&void 0!==this._geolocationWatchID?this._clearWatch():void 0===this._geolocationWatchID&&(this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),this._geolocationWatchID=s.navigator.geolocation.watchPosition(this._onSuccess,this._onError,this.options.positionOptions))}else s.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4)},t.prototype._clearWatch=function(){s.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)},t}(o);e.exports=p},{"../../geo/lng_lat":68,"../../util/dom":238,"../../util/evented":239,"../../util/util":252,"../../util/window":233,"../marker":227}],214:[function(t,e,i){"use strict";var n=t("../../util/dom"),o=t("../../util/util"),r=function(){o.bindAll(["_updateLogo"],this)};r.prototype.onAdd=function(t){this._map=t,this._container=n.create("div","mapboxgl-ctrl");var e=n.create("a","mapboxgl-ctrl-logo");return e.target="_blank",e.href="https://www.mapbox.com/",e.setAttribute("aria-label","Mapbox logo"),this._container.appendChild(e),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._container},r.prototype.onRemove=function(){n.remove(this._container),this._map.off("sourcedata",this._updateLogo)},r.prototype.getDefaultPosition=function(){return"bottom-left"},r.prototype._updateLogo=function(t){t&&"metadata"!==t.sourceDataType||(this._container.style.display=this._logoRequired()?"block":"none")},r.prototype._logoRequired=function(){if(this._map.style){var t=this._map.style.sourceCaches;for(var e in t)if(t[e].getSource().mapbox_logo)return!0;return!1}},e.exports=r},{"../../util/dom":238,"../../util/util":252}],215:[function(t,e,i){"use strict";var o=t("../../util/dom"),n=t("../../util/util"),r=t("../handler/drag_rotate"),s=function(){var t=this;n.bindAll(["_rotateCompassArrow"],this),this._container=o.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",function(t){return t.preventDefault()}),this._zoomInButton=this._createButton("mapboxgl-ctrl-icon mapboxgl-ctrl-zoom-in","Zoom In",function(){return t._map.zoomIn()}),this._zoomOutButton=this._createButton("mapboxgl-ctrl-icon mapboxgl-ctrl-zoom-out","Zoom Out",function(){return t._map.zoomOut()}),this._compass=this._createButton("mapboxgl-ctrl-icon mapboxgl-ctrl-compass","Reset North",function(){return t._map.resetNorth()}),this._compassArrow=o.create("span","mapboxgl-ctrl-compass-arrow",this._compass)};s.prototype._rotateCompassArrow=function(){var t="rotate("+this._map.transform.angle*(180/Math.PI)+"deg)";this._compassArrow.style.transform=t},s.prototype.onAdd=function(t){return this._map=t,this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new r(t,{button:"left",element:this._compass,pitchWithRotate:!1}),this._handler.enable(),this._container},s.prototype.onRemove=function(){o.remove(this._container),this._map.off("rotate",this._rotateCompassArrow),delete this._map,this._handler.disable(),delete this._handler},s.prototype._createButton=function(t,e,i){var n=o.create("button",t,this._container);return n.type="button",n.setAttribute("aria-label",e),n.addEventListener("click",i),n},e.exports=s},{"../../util/dom":238,"../../util/util":252,"../handler/drag_rotate":221}],216:[function(t,e,i){"use strict";function n(t,e,i){var n,o,r,s,a,l,u=i&&i.maxWidth||100,h=t._container.clientHeight/2,c=(n=t.unproject([0,h]),o=t.unproject([u,h]),r=Math.PI/180,s=n.lat*r,a=o.lat*r,l=Math.sin(s)*Math.sin(a)+Math.cos(s)*Math.cos(a)*Math.cos((o.lng-n.lng)*r),6371e3*Math.acos(Math.min(l,1)));if(i&&"imperial"===i.unit){var p=3.2808*c;5280<p?d(e,u,p/5280,"mi"):d(e,u,p,"ft")}else if(i&&"nautical"===i.unit){d(e,u,c/1852,"nm")}else d(e,u,c,"m")}function d(t,e,i,n){var o,r,s,a=(o=i,(r=Math.pow(10,(""+Math.floor(o)).length-1))*(s=10<=(s=o/r)?10:5<=s?5:3<=s?3:2<=s?2:1)),l=a/i;"m"===n&&1e3<=a&&(a/=1e3,n="km"),t.style.width=e*l+"px",t.innerHTML=a+n}var o=t("../../util/dom"),r=t("../../util/util"),s=function(t){this.options=t,r.bindAll(["_onMove"],this)};s.prototype.getDefaultPosition=function(){return"bottom-left"},s.prototype._onMove=function(){n(this._map,this._container,this.options)},s.prototype.onAdd=function(t){return this._map=t,this._container=o.create("div","mapboxgl-ctrl mapboxgl-ctrl-scale",t.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container},s.prototype.onRemove=function(){o.remove(this._container),this._map.off("move",this._onMove),this._map=void 0},e.exports=s},{"../../util/dom":238,"../../util/util":252}],217:[function(t,e,i){},{}],218:[function(t,e,i){"use strict";var a=t("../../util/dom"),o=t("../../geo/lng_lat_bounds"),n=t("../../util/util"),r=t("../../util/window"),s=function(t){this._map=t,this._el=t.getCanvasContainer(),this._container=t.getContainer(),n.bindAll(["_onMouseDown","_onMouseMove","_onMouseUp","_onKeyDown"],this)};s.prototype.isEnabled=function(){return!!this._enabled},s.prototype.isActive=function(){return!!this._active},s.prototype.enable=function(){this.isEnabled()||(this._map.dragPan&&this._map.dragPan.disable(),this._el.addEventListener("mousedown",this._onMouseDown,!1),this._map.dragPan&&this._map.dragPan.enable(),this._enabled=!0)},s.prototype.disable=function(){this.isEnabled()&&(this._el.removeEventListener("mousedown",this._onMouseDown),this._enabled=!1)},s.prototype._onMouseDown=function(t){t.shiftKey&&0===t.button&&(r.document.addEventListener("mousemove",this._onMouseMove,!1),r.document.addEventListener("keydown",this._onKeyDown,!1),r.document.addEventListener("mouseup",this._onMouseUp,!1),a.disableDrag(),this._startPos=a.mousePos(this._el,t),this._active=!0)},s.prototype._onMouseMove=function(t){var e=this._startPos,i=a.mousePos(this._el,t);this._box||(this._box=a.create("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",t));var n=Math.min(e.x,i.x),o=Math.max(e.x,i.x),r=Math.min(e.y,i.y),s=Math.max(e.y,i.y);a.setTransform(this._box,"translate("+n+"px,"+r+"px)"),this._box.style.width=o-n+"px",this._box.style.height=s-r+"px"},s.prototype._onMouseUp=function(t){if(0===t.button){var e=this._startPos,i=a.mousePos(this._el,t),n=(new o).extend(this._map.unproject(e)).extend(this._map.unproject(i));this._finish(),e.x===i.x&&e.y===i.y?this._fireEvent("boxzoomcancel",t):this._map.fitBounds(n,{linear:!0}).fire("boxzoomend",{originalEvent:t,boxZoomBounds:n})}},s.prototype._onKeyDown=function(t){27===t.keyCode&&(this._finish(),this._fireEvent("boxzoomcancel",t))},s.prototype._finish=function(){this._active=!1,r.document.removeEventListener("mousemove",this._onMouseMove,!1),r.document.removeEventListener("keydown",this._onKeyDown,!1),r.document.removeEventListener("mouseup",this._onMouseUp,!1),this._container.classList.remove("mapboxgl-crosshair"),this._box&&(a.remove(this._box),this._box=null),a.enableDrag()},s.prototype._fireEvent=function(t,e){return this._map.fire(t,{originalEvent:e})},e.exports=s},{"../../geo/lng_lat_bounds":69,"../../util/dom":238,"../../util/util":252,"../../util/window":233}],219:[function(t,e,i){"use strict";var n=t("../../util/util"),o=function(t){this._map=t,n.bindAll(["_onDblClick","_onZoomEnd"],this)};o.prototype.isEnabled=function(){return!!this._enabled},o.prototype.isActive=function(){return!!this._active},o.prototype.enable=function(){this.isEnabled()||(this._map.on("dblclick",this._onDblClick),this._enabled=!0)},o.prototype.disable=function(){this.isEnabled()&&(this._map.off("dblclick",this._onDblClick),this._enabled=!1)},o.prototype._onDblClick=function(t){this._active=!0,this._map.on("zoomend",this._onZoomEnd),this._map.zoomTo(this._map.getZoom()+(t.originalEvent.shiftKey?-1:1),{around:t.lngLat},t)},o.prototype._onZoomEnd=function(){this._active=!1,this._map.off("zoomend",this._onZoomEnd)},e.exports=o},{"../../util/util":252}],220:[function(t,e,i){"use strict";var n=t("../../util/dom"),o=t("../../util/util"),r=t("../../util/window"),p=o.bezier(0,0,.3,1),s=function(t){this._map=t,this._el=t.getCanvasContainer(),o.bindAll(["_onDown","_onMove","_onUp","_onTouchEnd","_onMouseUp"],this)};s.prototype.isEnabled=function(){return!!this._enabled},s.prototype.isActive=function(){return!!this._active},s.prototype.enable=function(){this.isEnabled()||(this._el.classList.add("mapboxgl-touch-drag-pan"),this._el.addEventListener("mousedown",this._onDown),this._el.addEventListener("touchstart",this._onDown),this._enabled=!0)},s.prototype.disable=function(){this.isEnabled()&&(this._el.classList.remove("mapboxgl-touch-drag-pan"),this._el.removeEventListener("mousedown",this._onDown),this._el.removeEventListener("touchstart",this._onDown),this._enabled=!1)},s.prototype._onDown=function(t){this._ignoreEvent(t)||this.isActive()||(t.touches?(r.document.addEventListener("touchmove",this._onMove),r.document.addEventListener("touchend",this._onTouchEnd)):(r.document.addEventListener("mousemove",this._onMove),r.document.addEventListener("mouseup",this._onMouseUp)),r.addEventListener("blur",this._onMouseUp),this._active=!1,this._startPos=this._pos=n.mousePos(this._el,t),this._inertia=[[Date.now(),this._pos]])},s.prototype._onMove=function(t){if(!this._ignoreEvent(t)){this.isActive()||(this._active=!0,this._map.moving=!0,this._fireEvent("dragstart",t),this._fireEvent("movestart",t));var e=n.mousePos(this._el,t),i=this._map;i.stop(),this._drainInertiaBuffer(),this._inertia.push([Date.now(),e]),i.transform.setLocationAtPoint(i.transform.pointLocation(this._pos),e),this._fireEvent("drag",t),this._fireEvent("move",t),this._pos=e,t.preventDefault()}},s.prototype._onUp=function(t){var e=this;if(this.isActive()){this._active=!1,this._fireEvent("dragend",t),this._drainInertiaBuffer();var i=function(){e._map.moving=!1,e._fireEvent("moveend",t)},n=this._inertia;if(n.length<2)return void i();var o=n[n.length-1],r=n[0],s=o[1].sub(r[1]),a=(o[0]-r[0])/1e3;if(0===a||o[1].equals(r[1]))return void i();var l=s.mult(.3/a),u=l.mag();1400<u&&(u=1400,l._unit()._mult(u));var h=u/750,c=l.mult(-h/2);this._map.panBy(c,{duration:1e3*h,easing:p,noMoveStart:!0},{originalEvent:t})}},s.prototype._onMouseUp=function(t){this._ignoreEvent(t)||(this._onUp(t),r.document.removeEventListener("mousemove",this._onMove),r.document.removeEventListener("mouseup",this._onMouseUp),r.removeEventListener("blur",this._onMouseUp))},s.prototype._onTouchEnd=function(t){this._ignoreEvent(t)||(this._onUp(t),r.document.removeEventListener("touchmove",this._onMove),r.document.removeEventListener("touchend",this._onTouchEnd))},s.prototype._fireEvent=function(t,e){return this._map.fire(t,{originalEvent:e})},s.prototype._ignoreEvent=function(t){var e=this._map;return!(!e.boxZoom||!e.boxZoom.isActive())||!(!e.dragRotate||!e.dragRotate.isActive())||(t.touches?1<t.touches.length:!!t.ctrlKey||"mousemove"!==t.type&&t.button&&0!==t.button)},s.prototype._drainInertiaBuffer=function(){for(var t=this._inertia,e=Date.now();0<t.length&&160<e-t[0][0];)t.shift()},e.exports=s},{"../../util/dom":238,"../../util/util":252,"../../util/window":233}],221:[function(t,e,i){"use strict";var m=t("../../util/dom"),n=t("../../util/util"),g=t("../../util/window"),v=n.bezier(0,0,.25,1),o=function(t,e){this._map=t,this._el=e.element||t.getCanvasContainer(),this._button=e.button||"right",this._bearingSnap=e.bearingSnap||0,this._pitchWithRotate=!1!==e.pitchWithRotate,n.bindAll(["_onDown","_onMove","_onUp"],this)};o.prototype.isEnabled=function(){return!!this._enabled},o.prototype.isActive=function(){return!!this._active},o.prototype.enable=function(){this.isEnabled()||(this._el.addEventListener("mousedown",this._onDown),this._enabled=!0)},o.prototype.disable=function(){this.isEnabled()&&(this._el.removeEventListener("mousedown",this._onDown),this._enabled=!1)},o.prototype._onDown=function(t){if(!(this._map.boxZoom&&this._map.boxZoom.isActive()||this._map.dragPan&&this._map.dragPan.isActive()||this.isActive())){if("right"===this._button){var e=t.ctrlKey?0:2,i=t.button;if(void 0!==g.InstallTrigger&&2===t.button&&t.ctrlKey&&0<=g.navigator.platform.toUpperCase().indexOf("MAC")&&(i=0),i!==e)return}else if(t.ctrlKey||0!==t.button)return;m.disableDrag(),g.document.addEventListener("mousemove",this._onMove,{capture:!0}),g.document.addEventListener("mouseup",this._onUp),g.addEventListener("blur",this._onUp),this._active=!1,this._inertia=[[Date.now(),this._map.getBearing()]],this._startPos=this._pos=m.mousePos(this._el,t),this._center=this._map.transform.centerPoint,t.preventDefault()}},o.prototype._onMove=function(t){this.isActive()||(this._active=!0,this._map.moving=!0,this._fireEvent("rotatestart",t),this._fireEvent("movestart",t),this._pitchWithRotate&&this._fireEvent("pitchstart",t));var e=this._map;e.stop();var i=this._pos,n=m.mousePos(this._el,t),o=.8*(i.x-n.x),r=-.5*(i.y-n.y),s=e.getBearing()-o,a=e.getPitch()-r,l=this._inertia,u=l[l.length-1];this._drainInertiaBuffer(),l.push([Date.now(),e._normalizeBearing(s,u[1])]),e.transform.bearing=s,this._pitchWithRotate&&(this._fireEvent("pitch",t),e.transform.pitch=a),this._fireEvent("rotate",t),this._fireEvent("move",t),this._pos=n},o.prototype._onUp=function(t){var e=this;if(g.document.removeEventListener("mousemove",this._onMove,{capture:!0}),g.document.removeEventListener("mouseup",this._onUp),g.removeEventListener("blur",this._onUp),m.enableDrag(),this.isActive()){this._active=!1,this._fireEvent("rotateend",t),this._drainInertiaBuffer();var i=this._map,n=i.getBearing(),o=this._inertia,r=function(){Math.abs(n)<e._bearingSnap?i.resetNorth({noMoveStart:!0},{originalEvent:t}):(e._map.moving=!1,e._fireEvent("moveend",t)),e._pitchWithRotate&&e._fireEvent("pitchend",t)};if(o.length<2)return void r();var s=o[0],a=o[o.length-1],l=o[o.length-2],u=i._normalizeBearing(n,l[1]),h=a[1]-s[1],c=h<0?-1:1,p=(a[0]-s[0])/1e3;if(0===h||0===p)return void r();var d=Math.abs(h*(.25/p));180<d&&(d=180);var f=d/180;u+=c*d*(f/2),Math.abs(i._normalizeBearing(u,0))<this._bearingSnap&&(u=i._normalizeBearing(0,u)),i.rotateTo(u,{duration:1e3*f,easing:v,noMoveStart:!0},{originalEvent:t})}},o.prototype._fireEvent=function(t,e){return this._map.fire(t,{originalEvent:e})},o.prototype._drainInertiaBuffer=function(){for(var t=this._inertia,e=Date.now();0<t.length&&160<e-t[0][0];)t.shift()},e.exports=o},{"../../util/dom":238,"../../util/util":252,"../../util/window":233}],222:[function(t,e,i){"use strict";function u(t){return t*(2-t)}var n=t("../../util/util"),o=function(t){this._map=t,this._el=t.getCanvasContainer(),n.bindAll(["_onKeyDown"],this)};o.prototype.isEnabled=function(){return!!this._enabled},o.prototype.enable=function(){this.isEnabled()||(this._el.addEventListener("keydown",this._onKeyDown,!1),this._enabled=!0)},o.prototype.disable=function(){this.isEnabled()&&(this._el.removeEventListener("keydown",this._onKeyDown),this._enabled=!1)},o.prototype._onKeyDown=function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var e=0,i=0,n=0,o=0,r=0;switch(t.keyCode){case 61:case 107:case 171:case 187:e=1;break;case 189:case 109:case 173:e=-1;break;case 37:t.shiftKey?i=-1:(t.preventDefault(),o=-1);break;case 39:t.shiftKey?i=1:(t.preventDefault(),o=1);break;case 38:t.shiftKey?n=1:(t.preventDefault(),r=-1);break;case 40:t.shiftKey?n=-1:(r=1,t.preventDefault());break;default:return}var s=this._map,a=s.getZoom(),l={duration:300,delayEndEvents:500,easing:u,zoom:e?Math.round(a)+e*(t.shiftKey?2:1):a,bearing:s.getBearing()+15*i,pitch:s.getPitch()+10*n,offset:[100*-o,100*-r],center:s.getCenter()};s.easeTo(l,{originalEvent:t})}},e.exports=o},{"../../util/util":252}],223:[function(t,e,i){"use strict";var o=t("../../util/dom"),n=t("../../util/util"),r=t("../../util/browser"),s=t("../../util/window"),a=s.navigator.userAgent.toLowerCase(),l=-1!==a.indexOf("firefox"),u=-1!==a.indexOf("safari")&&-1===a.indexOf("chrom"),h=function(t){this._map=t,this._el=t.getCanvasContainer(),n.bindAll(["_onWheel","_onTimeout"],this)};h.prototype.isEnabled=function(){return!!this._enabled},h.prototype.enable=function(t){this.isEnabled()||(this._el.addEventListener("wheel",this._onWheel,!1),this._el.addEventListener("mousewheel",this._onWheel,!1),this._enabled=!0,this._aroundCenter=t&&"center"===t.around)},h.prototype.disable=function(){this.isEnabled()&&(this._el.removeEventListener("wheel",this._onWheel),this._el.removeEventListener("mousewheel",this._onWheel),this._enabled=!1)},h.prototype._onWheel=function(t){var e=0;"wheel"===t.type?(e=t.deltaY,l&&t.deltaMode===s.WheelEvent.DOM_DELTA_PIXEL&&(e/=r.devicePixelRatio),t.deltaMode===s.WheelEvent.DOM_DELTA_LINE&&(e*=40)):"mousewheel"===t.type&&(e=-t.wheelDeltaY,u&&(e/=3));var i=r.now(),n=i-(this._time||0);this._pos=o.mousePos(this._el,t),this._time=i,0!==e&&e%4.000244140625==0?this._type="wheel":0!==e&&Math.abs(e)<4?this._type="trackpad":400<n?(this._type=null,this._lastValue=e,this._timeout=setTimeout(this._onTimeout,40)):this._type||(this._type=Math.abs(n*e)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,e+=this._lastValue)),t.shiftKey&&e&&(e/=4),this._type&&this._zoom(-e,t),t.preventDefault()},h.prototype._onTimeout=function(){this._type="wheel",this._zoom(-this._lastValue)},h.prototype._zoom=function(t,e){if(0!==t){var i=this._map,n=2/(1+Math.exp(-Math.abs(t/100)));t<0&&0!==n&&(n=1/n);var o=i.ease?i.ease.to:i.transform.scale,r=i.transform.scaleZoom(o*n);i.zoomTo(r,{duration:"wheel"===this._type?200:0,around:this._aroundCenter?i.getCenter():i.unproject(this._pos),delayEndEvents:200,smoothEasing:!0},{originalEvent:e})}},e.exports=h},{"../../util/browser":231,"../../util/dom":238,"../../util/util":252,"../../util/window":233}],224:[function(t,e,i){"use strict";var h=t("../../util/dom"),n=t("../../util/util"),d=t("../../util/window"),f=n.bezier(0,0,.15,1),o=function(t){this._map=t,this._el=t.getCanvasContainer(),n.bindAll(["_onStart","_onMove","_onEnd"],this)};o.prototype.isEnabled=function(){return!!this._enabled},o.prototype.enable=function(t){this.isEnabled()||(this._el.classList.add("mapboxgl-touch-zoom-rotate"),this._el.addEventListener("touchstart",this._onStart,!1),this._enabled=!0,this._aroundCenter=t&&"center"===t.around)},o.prototype.disable=function(){this.isEnabled()&&(this._el.classList.remove("mapboxgl-touch-zoom-rotate"),this._el.removeEventListener("touchstart",this._onStart),this._enabled=!1)},o.prototype.disableRotation=function(){this._rotationDisabled=!0},o.prototype.enableRotation=function(){this._rotationDisabled=!1},o.prototype._onStart=function(t){if(2===t.touches.length){var e=h.mousePos(this._el,t.touches[0]),i=h.mousePos(this._el,t.touches[1]);this._startVec=e.sub(i),this._startScale=this._map.transform.scale,this._startBearing=this._map.transform.bearing,this._gestureIntent=void 0,this._inertia=[],d.document.addEventListener("touchmove",this._onMove,!1),d.document.addEventListener("touchend",this._onEnd,!1)}},o.prototype._onMove=function(t){if(2===t.touches.length){var e=h.mousePos(this._el,t.touches[0]),i=h.mousePos(this._el,t.touches[1]),n=e.add(i).div(2),o=e.sub(i),r=o.mag()/this._startVec.mag(),s=this._rotationDisabled?0:180*o.angleWith(this._startVec)/Math.PI,a=this._map;if(this._gestureIntent){var l={duration:0,around:a.unproject(n)};"rotate"===this._gestureIntent&&(l.bearing=this._startBearing+s),"zoom"!==this._gestureIntent&&"rotate"!==this._gestureIntent||(l.zoom=a.transform.scaleZoom(this._startScale*r)),a.stop(),this._drainInertiaBuffer(),this._inertia.push([Date.now(),r,n]),a.easeTo(l,{originalEvent:t})}else{var u=.15<Math.abs(1-r);10<Math.abs(s)?this._gestureIntent="rotate":u&&(this._gestureIntent="zoom"),this._gestureIntent&&(this._startVec=o,this._startScale=a.transform.scale,this._startBearing=a.transform.bearing)}t.preventDefault()}},o.prototype._onEnd=function(t){d.document.removeEventListener("touchmove",this._onMove),d.document.removeEventListener("touchend",this._onEnd),this._drainInertiaBuffer();var e=this._inertia,i=this._map;if(e.length<2)i.snapToNorth({},{originalEvent:t});else{var n=e[e.length-1],o=e[0],r=i.transform.scaleZoom(this._startScale*n[1]),s=i.transform.scaleZoom(this._startScale*o[1]),a=r-s,l=(n[0]-o[0])/1e3,u=n[2];if(0!==l&&r!==s){var h=.15*a/l;2.5<Math.abs(h)&&(h=0<h?2.5:-2.5);var c=1e3*Math.abs(h/(12*.15)),p=r+h*c/2e3;p<0&&(p=0),i.easeTo({zoom:p,duration:c,easing:f,around:this._aroundCenter?i.getCenter():i.unproject(u)},{originalEvent:t})}else i.snapToNorth({},{originalEvent:t})}},o.prototype._drainInertiaBuffer=function(){for(var t=this._inertia,e=Date.now();2<t.length&&160<e-t[0][0];)t.shift()},e.exports=o},{"../../util/dom":238,"../../util/util":252,"../../util/window":233}],225:[function(t,e,i){"use strict";var n=t("../util/util"),o=t("../util/window"),r=function(){n.bindAll(["_onHashChange","_updateHash"],this)};r.prototype.addTo=function(t){return this._map=t,o.addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this},r.prototype.remove=function(){return o.removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),delete this._map,this},r.prototype.getHashString=function(t){var e=this._map.getCenter(),i=Math.round(100*this._map.getZoom())/100,n=Math.max(0,Math.ceil(Math.log(i)/Math.LN2)),o=Math.round(e.lng*Math.pow(10,n))/Math.pow(10,n),r=Math.round(e.lat*Math.pow(10,n))/Math.pow(10,n),s=this._map.getBearing(),a=this._map.getPitch(),l="";return l+=t?"#/"+o+"/"+r+"/"+i:"#"+i+"/"+r+"/"+o,(s||a)&&(l+="/"+Math.round(10*s)/10),a&&(l+="/"+Math.round(a)),l},r.prototype._onHashChange=function(){var t=o.location.hash.replace("#","").split("/");return 3<=t.length&&(this._map.jumpTo({center:[+t[2],+t[1]],zoom:+t[0],bearing:+(t[3]||0),pitch:+(t[4]||0)}),!0)},r.prototype._updateHash=function(){var t=this.getHashString();o.history.replaceState("","",t)},e.exports=r},{"../util/util":252,"../util/window":233}],226:[function(t,e,i){"use strict";function n(t){t.parentNode&&t.parentNode.removeChild(t)}var l=t("../util/util"),r=t("../util/browser"),s=t("../util/window"),u=t("../util/window").HTMLImageElement,h=t("../util/dom"),o=t("../util/ajax"),c=t("../style/style"),p=t("../style/animation_loop"),d=t("../render/painter"),f=t("../geo/transform"),m=t("./hash"),g=t("./bind_handlers"),a=t("./camera"),v=t("../geo/lng_lat"),y=t("../geo/lng_lat_bounds"),_=t("@mapbox/point-geometry"),b=t("./control/attribution_control"),x=t("./control/logo_control"),w=t("mapbox-gl-supported");t("./events");var T={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:0,maxZoom:22,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,bearingSnap:7,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,transformRequest:null},k=function(a){function t(t){var e=this;if(null!=(t=l.extend({},T,t)).minZoom&&null!=t.maxZoom&&t.minZoom>t.maxZoom)throw new Error("maxZoom must be greater than minZoom");var i=new f(t.minZoom,t.maxZoom,t.renderWorldCopies);a.call(this,i,t),this._interactive=t.interactive,this._maxTileCacheSize=t.maxTileCacheSize,this._failIfMajorPerformanceCaveat=t.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=t.preserveDrawingBuffer,this._trackResize=t.trackResize,this._bearingSnap=t.bearingSnap,this._refreshExpiredTiles=t.refreshExpiredTiles;var n=t.transformRequest;if(this._transformRequest=n?function(t,e){return n(t,e)||{url:t}}:function(t){return{url:t}},"string"==typeof t.container){var o=s.document.getElementById(t.container);if(!o)throw new Error("Container '"+t.container+"' not found.");this._container=o}else this._container=t.container;this.animationLoop=new p,t.maxBounds&&this.setMaxBounds(t.maxBounds),l.bindAll(["_onWindowOnline","_onWindowResize","_contextLost","_contextRestored","_update","_render","_onData","_onDataLoading"],this),this._setupContainer(),this._setupPainter(),this.on("move",this._update.bind(this,!1)),this.on("zoom",this._update.bind(this,!0)),this.on("moveend",function(){e.animationLoop.set(300),e._rerender()}),void 0!==s&&(s.addEventListener("online",this._onWindowOnline,!1),s.addEventListener("resize",this._onWindowResize,!1)),g(this,t),this._hash=t.hash&&(new m).addTo(this),this._hash&&this._hash._onHashChange()||this.jumpTo({center:t.center,zoom:t.zoom,bearing:t.bearing,pitch:t.pitch}),this.resize(),t.style&&this.setStyle(t.style,{localIdeographFontFamily:t.localIdeographFontFamily}),t.attributionControl&&this.addControl(new b),this.addControl(new x,t.logoPosition),this.on("style.load",function(){this.transform.unmodified&&this.jumpTo(this.style.stylesheet),this.style.update({transition:!1})}),this.on("data",this._onData),this.on("dataloading",this._onDataLoading)}a&&(t.__proto__=a);var e={showTileBoundaries:{},showCollisionBoxes:{},showOverdrawInspector:{},repaint:{},vertices:{}};return((t.prototype=Object.create(a&&a.prototype)).constructor=t).prototype.addControl=function(t,e){void 0===e&&t.getDefaultPosition&&(e=t.getDefaultPosition()),void 0===e&&(e="top-right");var i=t.onAdd(this),n=this._controlPositions[e];return-1!==e.indexOf("bottom")?n.insertBefore(i,n.firstChild):n.appendChild(i),this},t.prototype.removeControl=function(t){return t.onRemove(this),this},t.prototype.resize=function(){var t=this._containerDimensions(),e=t[0],i=t[1];return this._resizeCanvas(e,i),this.transform.resize(e,i),this.painter.resize(e,i),this.fire("movestart").fire("move").fire("resize").fire("moveend")},t.prototype.getBounds=function(){var t=new y(this.transform.pointLocation(new _(0,this.transform.height)),this.transform.pointLocation(new _(this.transform.width,0)));return(this.transform.angle||this.transform.pitch)&&(t.extend(this.transform.pointLocation(new _(this.transform.size.x,0))),t.extend(this.transform.pointLocation(new _(0,this.transform.size.y)))),t},t.prototype.getMaxBounds=function(){return this.transform.latRange&&2===this.transform.latRange.length&&this.transform.lngRange&&2===this.transform.lngRange.length?new y([this.transform.lngRange[0],this.transform.latRange[0]],[this.transform.lngRange[1],this.transform.latRange[1]]):null},t.prototype.setMaxBounds=function(t){if(t){var e=y.convert(t);this.transform.lngRange=[e.getWest(),e.getEast()],this.transform.latRange=[e.getSouth(),e.getNorth()],this.transform._constrain(),this._update()}else null!=t||(this.transform.lngRange=null,this.transform.latRange=null,this._update());return this},t.prototype.setMinZoom=function(t){if(0<=(t=null==t?0:t)&&t<=this.transform.maxZoom)return this.transform.minZoom=t,this._update(),this.getZoom()<t&&this.setZoom(t),this;throw new Error("minZoom must be between 0 and the current maxZoom, inclusive")},t.prototype.getMinZoom=function(){return this.transform.minZoom},t.prototype.setMaxZoom=function(t){if((t=null==t?22:t)>=this.transform.minZoom)return this.transform.maxZoom=t,this._update(),this.getZoom()>t&&this.setZoom(t),this;throw new Error("maxZoom must be greater than the current minZoom")},t.prototype.getMaxZoom=function(){return this.transform.maxZoom},t.prototype.project=function(t){return this.transform.locationPoint(v.convert(t))},t.prototype.unproject=function(t){return this.transform.pointLocation(_.convert(t))},t.prototype.on=function(n,o,r){var s=this;if(void 0===r)return a.prototype.on.call(this,n,o);var t=function(){if("mouseenter"===n||"mouseover"===n){var i=!1;return{layer:o,listener:r,delegates:{mousemove:function(t){var e=s.getLayer(o)?s.queryRenderedFeatures(t.point,{layers:[o]}):[];e.length?i||(i=!0,r.call(s,l.extend({features:e},t,{type:n}))):i=!1},mouseout:function(){i=!1}}}}if("mouseleave"===n||"mouseout"===n){var e=!1;return{layer:o,listener:r,delegates:{mousemove:function(t){(s.getLayer(o)?s.queryRenderedFeatures(t.point,{layers:[o]}):[]).length?e=!0:e&&(e=!1,r.call(s,l.extend({},t,{type:n})))},mouseout:function(t){e&&(e=!1,r.call(s,l.extend({},t,{type:n})))}}}}var t;return{layer:o,listener:r,delegates:(t={},t[n]=function(t){var e=s.getLayer(o)?s.queryRenderedFeatures(t.point,{layers:[o]}):[];e.length&&r.call(s,l.extend({features:e},t))},t)}}();for(var e in this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[n]=this._delegatedListeners[n]||[],this._delegatedListeners[n].push(t),t.delegates)s.on(e,t.delegates[e]);return this},t.prototype.off=function(t,e,i){if(void 0===i)return a.prototype.off.call(this,t,e);if(this._delegatedListeners&&this._delegatedListeners[t])for(var n=this._delegatedListeners[t],o=0;o<n.length;o++){var r=n[o];if(r.layer===e&&r.listener===i){for(var s in r.delegates)this.off(s,r.delegates[s]);return n.splice(o,1),this}}return this},t.prototype.queryRenderedFeatures=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var i,n,o={};return 2===t.length?(i=arguments[0],o=arguments[1]):1===t.length&&((n=t[0])instanceof _||Array.isArray(n))?i=t[0]:1===t.length&&(o=t[0]),this.style?this.style.queryRenderedFeatures(this._makeQueryGeometry(i),o,this.transform.zoom,this.transform.angle):[]},t.prototype._makeQueryGeometry=function(t){var e,i=this;if(void 0===t&&(t=[_.convert([0,0]),_.convert([this.transform.width,this.transform.height])]),t instanceof _||"number"==typeof t[0])e=[_.convert(t)];else{var n=[_.convert(t[0]),_.convert(t[1])];e=[n[0],new _(n[1].x,n[0].y),n[1],new _(n[0].x,n[1].y),n[0]]}return e.map(function(t){return i.transform.pointCoordinate(t)})},t.prototype.querySourceFeatures=function(t,e){return this.style.querySourceFeatures(t,e)},t.prototype.setStyle=function(t,e){if((!e||!1!==e.diff&&!e.localIdeographFontFamily)&&this.style&&t&&"object"==typeof t)try{return this.style.setState(t)&&this._update(!0),this}catch(t){l.warnOnce("Unable to perform style diff: "+(t.message||t.error||t)+".  Rebuilding the style from scratch.")}return this.style&&(this.style.setEventedParent(null),this.style._remove(),this.off("rotate",this.style._redoPlacement),this.off("pitch",this.style._redoPlacement),this.off("move",this.style._redoPlacement)),t?(this.style=new c(this,e||{}),this.style.setEventedParent(this,{style:this.style}),"string"==typeof t?this.style.loadURL(t):this.style.loadJSON(t),this.on("rotate",this.style._redoPlacement),this.on("pitch",this.style._redoPlacement),this.on("move",this.style._redoPlacement)):delete this.style,this},t.prototype.getStyle=function(){if(this.style)return this.style.serialize()},t.prototype.isStyleLoaded=function(){return this.style?this.style.loaded():l.warnOnce("There is no style added to the map.")},t.prototype.addSource=function(t,e){return this.style.addSource(t,e),this._update(!0),this},t.prototype.isSourceLoaded=function(t){var e=this.style&&this.style.sourceCaches[t];return void 0===e?void this.fire("error",{error:new Error("There is no source with ID '"+t+"'")}):e.loaded()},t.prototype.areTilesLoaded=function(){var t=this.style&&this.style.sourceCaches;for(var e in t){var i=t[e]._tiles;for(var n in i){var o=i[n];if("loaded"!==o.state&&"errored"!==o.state)return!1}}return!0},t.prototype.addSourceType=function(t,e,i){return this.style.addSourceType(t,e,i)},t.prototype.removeSource=function(t){return this.style.removeSource(t),this._update(!0),this},t.prototype.getSource=function(t){return this.style.getSource(t)},t.prototype.addImage=function(t,e,i){void 0===i&&(i={});var n=i.pixelRatio;void 0===n&&(n=1);var o=i.sdf;if(void 0===o&&(o=!1),e instanceof u)e=r.getImageData(e);else if(void 0===e.width||void 0===e.height)return this.fire("error",{error:new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")});this.style.addImage(t,{data:e,pixelRatio:n,sdf:o})},t.prototype.removeImage=function(t){this.style.removeImage(t)},t.prototype.loadImage=function(t,e){o.getImage(this._transformRequest(t,o.ResourceType.Image),e)},t.prototype.addLayer=function(t,e){return this.style.addLayer(t,e),this._update(!0),this},t.prototype.moveLayer=function(t,e){return this.style.moveLayer(t,e),this._update(!0),this},t.prototype.removeLayer=function(t){return this.style.removeLayer(t),this._update(!0),this},t.prototype.getLayer=function(t){return this.style.getLayer(t)},t.prototype.setFilter=function(t,e){return this.style.setFilter(t,e),this._update(!0),this},t.prototype.setLayerZoomRange=function(t,e,i){return this.style.setLayerZoomRange(t,e,i),this._update(!0),this},t.prototype.getFilter=function(t){return this.style.getFilter(t)},t.prototype.setPaintProperty=function(t,e,i){return this.style.setPaintProperty(t,e,i),this._update(!0),this},t.prototype.getPaintProperty=function(t,e){return this.style.getPaintProperty(t,e)},t.prototype.setLayoutProperty=function(t,e,i){return this.style.setLayoutProperty(t,e,i),this._update(!0),this},t.prototype.getLayoutProperty=function(t,e){return this.style.getLayoutProperty(t,e)},t.prototype.setLight=function(t){return this.style.setLight(t),this._update(!0),this},t.prototype.getLight=function(){return this.style.getLight()},t.prototype.getContainer=function(){return this._container},t.prototype.getCanvasContainer=function(){return this._canvasContainer},t.prototype.getCanvas=function(){return this._canvas},t.prototype._containerDimensions=function(){var t=0,e=0;return this._container&&(t=this._container.offsetWidth||400,e=this._container.offsetHeight||300),[t,e]},t.prototype._setupContainer=function(){var t=this._container;t.classList.add("mapboxgl-map"),(this._missingCSSContainer=h.create("div","mapboxgl-missing-css",t)).innerHTML="Missing Mapbox GL JS CSS";var e=this._canvasContainer=h.create("div","mapboxgl-canvas-container",t);this._interactive&&e.classList.add("mapboxgl-interactive"),this._canvas=h.create("canvas","mapboxgl-canvas",e),this._canvas.style.position="absolute",this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map");var i=this._containerDimensions();this._resizeCanvas(i[0],i[1]);var n=this._controlContainer=h.create("div","mapboxgl-control-container",t),o=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(function(t){o[t]=h.create("div","mapboxgl-ctrl-"+t,n)})},t.prototype._resizeCanvas=function(t,e){var i=s.devicePixelRatio||1;this._canvas.width=i*t,this._canvas.height=i*e,this._canvas.style.width=t+"px",this._canvas.style.height=e+"px"},t.prototype._setupPainter=function(){var t=l.extend({failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer},w.webGLContextAttributes),e=this._canvas.getContext("webgl",t)||this._canvas.getContext("experimental-webgl",t);e?this.painter=new d(e,this.transform):this.fire("error",{error:new Error("Failed to initialize WebGL")})},t.prototype._contextLost=function(t){t.preventDefault(),this._frameId&&(r.cancelFrame(this._frameId),this._frameId=null),this.fire("webglcontextlost",{originalEvent:t})},t.prototype._contextRestored=function(t){this._setupPainter(),this.resize(),this._update(),this.fire("webglcontextrestored",{originalEvent:t})},t.prototype.loaded=function(){return!this._styleDirty&&!this._sourcesDirty&&!(!this.style||!this.style.loaded())},t.prototype._update=function(t){return this.style&&(this._styleDirty=this._styleDirty||t,this._sourcesDirty=!0,this._rerender()),this},t.prototype._render=function(){return this.style&&this._styleDirty&&(this._styleDirty=!1,this.style.update(),this.style._recalculate(this.transform.zoom)),this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.rotating,zooming:this.zooming}),this.fire("render"),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire("load")),this._frameId=null,this.animationLoop.stopped()||(this._styleDirty=!0),(this._sourcesDirty||this._repaint||this._styleDirty)&&this._rerender(),this},t.prototype.remove=function(){this._hash&&this._hash.remove(),r.cancelFrame(this._frameId),this._frameId=null,this.setStyle(null),void 0!==s&&(s.removeEventListener("resize",this._onWindowResize,!1),s.removeEventListener("online",this._onWindowOnline,!1));var t=this.painter.gl.getExtension("WEBGL_lose_context");t&&t.loseContext(),n(this._canvasContainer),n(this._controlContainer),n(this._missingCSSContainer),this._container.classList.remove("mapboxgl-map"),this.fire("remove")},t.prototype._rerender=function(){this.style&&!this._frameId&&(this._frameId=r.frame(this._render))},t.prototype._onWindowOnline=function(){this._update()},t.prototype._onWindowResize=function(){this._trackResize&&this.stop().resize()._update()},e.showTileBoundaries.get=function(){return!!this._showTileBoundaries},e.showTileBoundaries.set=function(t){this._showTileBoundaries!==t&&(this._showTileBoundaries=t,this._update())},e.showCollisionBoxes.get=function(){return!!this._showCollisionBoxes},e.showCollisionBoxes.set=function(t){this._showCollisionBoxes!==t&&(this._showCollisionBoxes=t,this.style._redoPlacement())},e.showOverdrawInspector.get=function(){return!!this._showOverdrawInspector},e.showOverdrawInspector.set=function(t){this._showOverdrawInspector!==t&&(this._showOverdrawInspector=t,this._update())},e.repaint.get=function(){return!!this._repaint},e.repaint.set=function(t){this._repaint=t,this._update()},e.vertices.get=function(){return!!this._vertices},e.vertices.set=function(t){this._vertices=t,this._update()},t.prototype._onData=function(t){this._update("style"===t.dataType),this.fire(t.dataType+"data",t)},t.prototype._onDataLoading=function(t){this.fire(t.dataType+"dataloading",t)},Object.defineProperties(t.prototype,e),t}(a);e.exports=k},{"../geo/lng_lat":68,"../geo/lng_lat_bounds":69,"../geo/transform":70,"../render/painter":90,"../style/animation_loop":176,"../style/style":182,"../util/ajax":230,"../util/browser":231,"../util/dom":238,"../util/util":252,"../util/window":233,"./bind_handlers":209,"./camera":210,"./control/attribution_control":211,"./control/logo_control":214,"./events":217,"./hash":225,"@mapbox/point-geometry":2,"mapbox-gl-supported":37}],227:[function(t,e,i){"use strict";var n=t("../util/dom"),o=t("../geo/lng_lat"),r=t("@mapbox/point-geometry"),s=t("../util/smart_wrap"),a=t("../util/util").bindAll,l=function(t,e){this._offset=r.convert(e&&e.offset||[0,0]),a(["_update","_onMapClick"],this),t||(t=n.create("div")),t.classList.add("mapboxgl-marker"),this._element=t,this._popup=null};l.prototype.addTo=function(t){return this.remove(),(this._map=t).getCanvasContainer().appendChild(this._element),t.on("move",this._update),t.on("moveend",this._update),this._update(),this._map.on("click",this._onMapClick),this},l.prototype.remove=function(){return this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),delete this._map),n.remove(this._element),this._popup&&this._popup.remove(),this},l.prototype.getLngLat=function(){return this._lngLat},l.prototype.setLngLat=function(t){return this._lngLat=o.convert(t),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this},l.prototype.getElement=function(){return this._element},l.prototype.setPopup=function(t){return this._popup&&(this._popup.remove(),this._popup=null),t&&("offset"in t.options||(t.options.offset=this._offset),this._popup=t,this._popup.setLngLat(this._lngLat)),this},l.prototype._onMapClick=function(t){var e=t.originalEvent.target,i=this._element;this._popup&&(e===i||i.contains(e))&&this.togglePopup()},l.prototype.getPopup=function(){return this._popup},l.prototype.togglePopup=function(){var t=this._popup;return t&&(t.isOpen()?t.remove():t.addTo(this._map)),this},l.prototype._update=function(t){this._map&&(this._map.transform.renderWorldCopies&&(this._lngLat=s(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset),t&&"moveend"!==t.type||(this._pos=this._pos.round()),n.setTransform(this._element,"translate(-50%, -50%) translate("+this._pos.x+"px, "+this._pos.y+"px)"))},e.exports=l},{"../geo/lng_lat":68,"../util/dom":238,"../util/smart_wrap":248,"../util/util":252,"@mapbox/point-geometry":2}],228:[function(t,e,i){"use strict";var n=t("../util/util"),o=t("../util/evented"),u=t("../util/dom"),r=t("../geo/lng_lat"),h=t("@mapbox/point-geometry"),s=t("../util/window"),c=t("../util/smart_wrap"),a={closeButton:!0,closeOnClick:!0},l=function(e){function t(t){e.call(this),this.options=n.extend(Object.create(a),t),n.bindAll(["_update","_onClickClose"],this)}return e&&(t.__proto__=e),((t.prototype=Object.create(e&&e.prototype)).constructor=t).prototype.addTo=function(t){return this._map=t,this._map.on("move",this._update),this.options.closeOnClick&&this._map.on("click",this._onClickClose),this._update(),this},t.prototype.isOpen=function(){return!!this._map},t.prototype.remove=function(){return this._content&&u.remove(this._content),this._container&&(u.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("click",this._onClickClose),delete this._map),this.fire("close"),this},t.prototype.getLngLat=function(){return this._lngLat},t.prototype.setLngLat=function(t){return this._lngLat=r.convert(t),this._pos=null,this._update(),this},t.prototype.setText=function(t){return this.setDOMContent(s.document.createTextNode(t))},t.prototype.setHTML=function(t){var e,i=s.document.createDocumentFragment(),n=s.document.createElement("body");for(n.innerHTML=t;e=n.firstChild;)i.appendChild(e);return this.setDOMContent(i)},t.prototype.setDOMContent=function(t){return this._createContent(),this._content.appendChild(t),this._update(),this},t.prototype._createContent=function(){this._content&&u.remove(this._content),this._content=u.create("div","mapboxgl-popup-content",this._container),this.options.closeButton&&(this._closeButton=u.create("button","mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClickClose))},t.prototype._update=function(){if(this._map&&this._lngLat&&this._content){this._container||(this._container=u.create("div","mapboxgl-popup",this._map.getContainer()),this._tip=u.create("div","mapboxgl-popup-tip",this._container),this._container.appendChild(this._content)),this._map.transform.renderWorldCopies&&(this._lngLat=c(this._lngLat,this._pos,this._map.transform));var t=this._pos=this._map.project(this._lngLat),e=this.options.anchor,i=function t(e){if(e){if("number"==typeof e){var i=Math.round(Math.sqrt(.5*Math.pow(e,2)));return{top:new h(0,e),"top-left":new h(i,i),"top-right":new h(-i,i),bottom:new h(0,-e),"bottom-left":new h(i,-i),"bottom-right":new h(-i,-i),left:new h(e,0),right:new h(-e,0)}}if(e instanceof h||Array.isArray(e)){var n=h.convert(e);return{top:n,"top-left":n,"top-right":n,bottom:n,"bottom-left":n,"bottom-right":n,left:n,right:n}}return{top:h.convert(e.top||[0,0]),"top-left":h.convert(e["top-left"]||[0,0]),"top-right":h.convert(e["top-right"]||[0,0]),bottom:h.convert(e.bottom||[0,0]),"bottom-left":h.convert(e["bottom-left"]||[0,0]),"bottom-right":h.convert(e["bottom-right"]||[0,0]),left:h.convert(e.left||[0,0]),right:h.convert(e.right||[0,0])}}return t(new h(0,0))}(this.options.offset);if(!e){var n=this._container.offsetWidth,o=this._container.offsetHeight;e=t.y+i.bottom.y<o?["top"]:t.y>this._map.transform.height-o?["bottom"]:[],t.x<n/2?e.push("left"):t.x>this._map.transform.width-n/2&&e.push("right"),e=0===e.length?"bottom":e.join("-")}var r=t.add(i[e]).round(),s={top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"},a=this._container.classList;for(var l in s)a.remove("mapboxgl-popup-anchor-"+l);a.add("mapboxgl-popup-anchor-"+e),u.setTransform(this._container,s[e]+" translate("+r.x+"px,"+r.y+"px)")}},t.prototype._onClickClose=function(){this.remove()},t}(o);e.exports=l},{"../geo/lng_lat":68,"../util/dom":238,"../util/evented":239,"../util/smart_wrap":248,"../util/util":252,"../util/window":233,"@mapbox/point-geometry":2}],229:[function(t,e,i){"use strict";var n=t("./util"),o=function(t,e,i){this.target=t,this.parent=e,this.mapId=i,this.callbacks={},this.callbackID=0,n.bindAll(["receive"],this),this.target.addEventListener("message",this.receive,!1)};o.prototype.send=function(t,e,i,n,o){var r=i?this.mapId+":"+this.callbackID++:null;i&&(this.callbacks[r]=i),this.target.postMessage({targetMapId:o,sourceMapId:this.mapId,type:t,id:String(r),data:e},n)},o.prototype.receive=function(t){var e,n=this,i=t.data,o=i.id;if(!i.targetMapId||this.mapId===i.targetMapId){var r=function(t,e,i){n.target.postMessage({sourceMapId:n.mapId,type:"<response>",id:String(o),error:t?String(t):null,data:e},i)};if("<response>"===i.type)e=this.callbacks[i.id],delete this.callbacks[i.id],e&&i.error?e(new Error(i.error)):e&&e(null,i.data);else if(void 0!==i.id&&this.parent[i.type])this.parent[i.type](i.sourceMapId,i.data,r);else if(void 0!==i.id&&this.parent.getWorkerSource){var s=i.type.split(".");this.parent.getWorkerSource(i.sourceMapId,s[0])[s[1]](i.data,r)}else this.parent[i.type](i.data)}},o.prototype.remove=function(){this.target.removeEventListener("message",this.receive,!1)},e.exports=o},{"./util":252}],230:[function(t,e,i){"use strict";function n(t){var e=new a.XMLHttpRequest;for(var i in e.open("GET",t.url,!0),t.headers)e.setRequestHeader(i,t.headers[i]);return e.withCredentials="include"===t.credentials,e}var a=t("./window"),o={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};i.ResourceType=o,"function"==typeof Object.freeze&&Object.freeze(o);var r=function(i){function t(t,e){i.call(this,t),this.status=e}return i&&(t.__proto__=i),(t.prototype=Object.create(i&&i.prototype)).constructor=t}(Error);i.getJSON=function(t,e){var i=n(t);return i.setRequestHeader("Accept","application/json"),i.onerror=function(){e(new Error(i.statusText))},i.onload=function(){if(200<=i.status&&i.status<300&&i.response){var t;try{t=JSON.parse(i.response)}catch(t){return e(t)}e(null,t)}else e(new r(i.statusText,i.status))},i.send(),i},i.getArrayBuffer=function(t,e){var i=n(t);return i.responseType="arraybuffer",i.onerror=function(){e(new Error(i.statusText))},i.onload=function(){var t=i.response;if(0===t.byteLength&&200===i.status)return e(new Error("http status 200 returned without content."));200<=i.status&&i.status<300&&i.response?e(null,{data:t,cacheControl:i.getResponseHeader("Cache-Control"),expires:i.getResponseHeader("Expires")}):e(new r(i.statusText,i.status))},i.send(),i};i.getImage=function(t,r){return i.getArrayBuffer(t,function(t,e){if(t)r(t);else if(e){var i=new a.Image,n=a.URL||a.webkitURL;i.onload=function(){r(null,i),n.revokeObjectURL(i.src)};var o=new a.Blob([new Uint8Array(e.data)],{type:"image/png"});i.cacheControl=e.cacheControl,i.expires=e.expires,i.src=e.data.byteLength?n.createObjectURL(o):"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII="}})},i.getVideo=function(t,e){var i,n,o=a.document.createElement("video");o.onloadstart=function(){e(null,o)};for(var r=0;r<t.length;r++){var s=a.document.createElement("source");i=t[r],n=void 0,(n=a.document.createElement("a")).href=i,n.protocol===a.document.location.protocol&&n.host===a.document.location.host||(o.crossOrigin="Anonymous"),s.src=t[r],o.appendChild(s)}return o}},{"./window":233}],231:[function(t,e,i){"use strict";var n=t("./window"),a=n.performance&&n.performance.now?n.performance.now.bind(n.performance):Date.now.bind(Date),l=n.requestAnimationFrame||n.mozRequestAnimationFrame||n.webkitRequestAnimationFrame||n.msRequestAnimationFrame,o=n.cancelAnimationFrame||n.mozCancelAnimationFrame||n.webkitCancelAnimationFrame||n.msCancelAnimationFrame;e.exports={now:a,frame:function(t){return l(t)},cancelFrame:function(t){return o(t)},timed:function(i,n,o){if(!n)return i.call(o,1),null;var r=!1,s=a();return l(function t(){if(!r){var e=a();s+n<=e?i.call(o,1):(i.call(o,(e-s)/n),l(t))}}),function(){r=!0}},getImageData:function(t){var e=n.document.createElement("canvas"),i=e.getContext("2d");if(!i)throw new Error("failed to create canvas 2d context");return e.width=t.width,e.height=t.height,i.drawImage(t,0,0,t.width,t.height),i.getImageData(0,0,t.width,t.height)},hardwareConcurrency:n.navigator.hardwareConcurrency||4,get devicePixelRatio(){return n.devicePixelRatio},supportsWebp:!1};var r=n.document.createElement("img");r.onload=function(){e.exports.supportsWebp=!0},r.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA="},{"./window":233}],232:[function(t,e,i){"use strict";var n=t("webworkify"),o=t("../window"),r=o.URL.createObjectURL(new n(t("../../source/worker"),{bare:!0}));e.exports=function(){return new o.Worker(r)}},{"../../source/worker":117,"../window":233,webworkify:48}],233:[function(t,e,i){"use strict";e.exports=self},{}],234:[function(t,e,i){"use strict";function u(t,e){return e.area-t.area}var h=t("quickselect"),c=t("./util").calculateSignedArea;e.exports=function(t,e){var i=t.length;if(i<=1)return[t];for(var n,o,r=[],s=0;s<i;s++){var a=c(t[s]);0!==a&&(t[s].area=Math.abs(a),void 0===o&&(o=a<0),o===a<0?(n&&r.push(n),n=[t[s]]):n.push(t[s]))}if(n&&r.push(n),1<e)for(var l=0;l<r.length;l++)r[l].length<=e||(h(r[l],e,1,r[l].length-1,u),r[l]=r[l].slice(0,e));return r}},{"./util":252,quickselect:40}],235:[function(t,e,i){"use strict";e.exports={API_URL:"https://api.mapbox.com",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null}},{}],236:[function(t,e,i){"use strict";var n=function(t){this._stringToNumber={},this._numberToString=[];for(var e=0;e<t.length;e++){var i=t[e];this._stringToNumber[i]=e,this._numberToString[e]=i}};n.prototype.encode=function(t){return this._stringToNumber[t]},n.prototype.decode=function(t){return this._numberToString[t]},e.exports=n},{}],237:[function(t,e,i){"use strict";var s=t("./util"),a=t("./actor"),n=function(t,e){this.workerPool=t,this.actors=[],this.currentActor=0,this.id=s.uniqueId();for(var i=this.workerPool.acquire(this.id),n=0;n<i.length;n++){var o=i[n],r=new a(o,e,this.id);r.name="Worker "+n,this.actors.push(r)}};n.prototype.broadcast=function(i,n,t){t=t||function(){},s.asyncAll(this.actors,function(t,e){t.send(i,n,e)},t)},n.prototype.send=function(t,e,i,n,o){return("number"!=typeof n||isNaN(n))&&(n=this.currentActor=(this.currentActor+1)%this.actors.length),this.actors[n].send(t,e,i,o),n},n.prototype.remove=function(){this.actors.forEach(function(t){t.remove()}),this.actors=[],this.workerPool.release(this.id)},e.exports=n},{"./actor":229,"./util":252}],238:[function(t,e,i){"use strict";function n(t){for(var e=0;e<t.length;e++)if(t[e]in a)return t[e];return t[0]}var s=t("@mapbox/point-geometry"),o=t("./window");i.create=function(t,e,i){var n=o.document.createElement(t);return e&&(n.className=e),i&&i.appendChild(n),n};var r,a=o.document.documentElement.style,l=n(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]);i.disableDrag=function(){l&&(r=a[l],a[l]="none")},i.enableDrag=function(){l&&(a[l]=r)};var u=n(["transform","WebkitTransform"]);i.setTransform=function(t,e){t.style[u]=e};var h=function(t){t.preventDefault(),t.stopPropagation(),o.removeEventListener("click",h,!0)};i.suppressClick=function(){o.addEventListener("click",h,!0),o.setTimeout(function(){o.removeEventListener("click",h,!0)},0)},i.mousePos=function(t,e){var i=t.getBoundingClientRect();return e=e.touches?e.touches[0]:e,new s(e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop)},i.touchPos=function(t,e){for(var i=t.getBoundingClientRect(),n=[],o="touchend"===e.type?e.changedTouches:e.touches,r=0;r<o.length;r++)n.push(new s(o[r].clientX-i.left-t.clientLeft,o[r].clientY-i.top-t.clientTop));return n},i.remove=function(t){t.parentNode&&t.parentNode.removeChild(t)}},{"./window":233,"@mapbox/point-geometry":2}],239:[function(t,e,i){"use strict";function n(t,e,i){i[t]=i[t]||[],i[t].push(e)}function s(t,e,i){if(i&&i[t]){var n=i[t].indexOf(e);-1!==n&&i[t].splice(n,1)}}var a=t("./util"),o=function(){};o.prototype.on=function(t,e){return this._listeners=this._listeners||{},n(t,e,this._listeners),this},o.prototype.off=function(t,e){return s(t,e,this._listeners),s(t,e,this._oneTimeListeners),this},o.prototype.once=function(t,e){return this._oneTimeListeners=this._oneTimeListeners||{},n(t,e,this._oneTimeListeners),this},o.prototype.fire=function(t,e){if(this.listens(t)){e=a.extend({},e,{type:t,target:this});for(var i=this._listeners&&this._listeners[t]?this._listeners[t].slice():[],n=0;n<i.length;n++)i[n].call(this,e);for(var o=this._oneTimeListeners&&this._oneTimeListeners[t]?this._oneTimeListeners[t].slice():[],r=0;r<o.length;r++)o[r].call(this,e),s(t,o[r],this._oneTimeListeners);this._eventedParent&&this._eventedParent.fire(t,a.extend({},e,"function"==typeof this._eventedParentData?this._eventedParentData():this._eventedParentData))}else a.endsWith(t,"error")&&console.error(e&&e.error||e||"Empty error event");return this},o.prototype.listens=function(t){return this._listeners&&this._listeners[t]&&0<this._listeners[t].length||this._oneTimeListeners&&this._oneTimeListeners[t]&&0<this._oneTimeListeners[t].length||this._eventedParent&&this._eventedParent.listens(t)},o.prototype.setEventedParent=function(t,e){return this._eventedParent=t,this._eventedParentData=e,this},e.exports=o},{"./util":252}],240:[function(t,e,i){"use strict";function b(t,e){return e.max-t.max}function x(t,e,i,n){this.p=new T(t,e),this.h=i,this.d=function(t,e){for(var i=!1,n=1/0,o=0;o<e.length;o++)for(var r=e[o],s=0,a=r.length,l=a-1;s<a;l=s++){var u=r[s],h=r[l];u.y>t.y!=h.y>t.y&&t.x<(h.x-u.x)*(t.y-u.y)/(h.y-u.y)+u.x&&(i=!i),n=Math.min(n,c(t,u,h))}return(i?1:-1)*Math.sqrt(n)}(this.p,n),this.max=this.d+this.h*Math.SQRT2}var w=t("tinyqueue"),T=t("@mapbox/point-geometry"),c=t("./intersection_tests").distToSegmentSquared;e.exports=function(t,e,i){void 0===e&&(e=1),void 0===i&&(i=!1);for(var n=1/0,o=1/0,r=-1/0,s=-1/0,a=t[0],l=0;l<a.length;l++){var u=a[l];(!l||u.x<n)&&(n=u.x),(!l||u.y<o)&&(o=u.y),(!l||u.x>r)&&(r=u.x),(!l||u.y>s)&&(s=u.y)}var h=r-n,c=s-o,p=Math.min(h,c),d=p/2,f=new w(null,b);if(0===p)return new T(n,o);for(var m=n;m<r;m+=p)for(var g=o;g<s;g+=p)f.push(new x(m+d,g+d,d,t));for(var v=function(t){for(var e=0,i=0,n=0,o=t[0],r=0,s=o.length,a=s-1;r<s;a=r++){var l=o[r],u=o[a],h=l.x*u.y-u.x*l.y;i+=(l.x+u.x)*h,n+=(l.y+u.y)*h,e+=3*h}return new x(i/e,n/e,0,t)}(t),y=f.length;f.length;){var _=f.pop();(_.d>v.d||!v.d)&&(v=_,i&&console.log("found best %d after %d probes",Math.round(1e4*_.d)/1e4,y)),_.max-v.d<=e||(d=_.h/2,f.push(new x(_.p.x-d,_.p.y-d,d,t)),f.push(new x(_.p.x+d,_.p.y-d,d,t)),f.push(new x(_.p.x-d,_.p.y+d,d,t)),f.push(new x(_.p.x+d,_.p.y+d,d,t)),y+=4)}return i&&(console.log("num probes: "+y),console.log("best distance: "+v.d)),v.p}},{"./intersection_tests":243,"@mapbox/point-geometry":2,tinyqueue:42}],241:[function(t,e,i){"use strict";var n,o=t("./worker_pool");e.exports=function(){return n||(n=new o),n}},{"./worker_pool":255}],242:[function(t,e,i){"use strict";function s(t,e,i){var n=t.width,o=t.height;if(i){if(i.length!==n*o*e)throw new RangeError("mismatched image size")}else i=new Uint8Array(n*o*e);return{width:n,height:o,data:i}}function n(t,e,i){var n=e.width,o=e.height;if(n===t.width&&o===t.height)return t;var r=s({width:n,height:o},i);a(t,r,{x:0,y:0},{x:0,y:0},{width:Math.min(t.width,n),height:Math.min(t.height,o)},i),t.width=n,t.height=o,t.data=r.data}function a(t,e,i,n,o,r){if(0===o.width||0===o.height)return e;if(o.width>t.width||o.height>t.height||i.x>t.width-o.width||i.y>t.height-o.height)throw new RangeError("out of range source coordinates for image copy");if(o.width>e.width||o.height>e.height||n.x>e.width-o.width||n.y>e.height-o.height)throw new RangeError("out of range destination coordinates for image copy");for(var s=t.data,a=e.data,l=0;l<o.height;l++)for(var u=((i.y+l)*t.width+i.x)*r,h=((n.y+l)*e.width+n.x)*r,c=0;c<o.width*r;c++)a[h+c]=s[u+c];return e}var o=function(){};o.create=function(t,e){return s(t,1,e)},o.resize=function(t,e){n(t,e,1)},o.copy=function(t,e,i,n,o){a(t,e,i,n,o,1)};var r=function(){};r.create=function(t,e){return s(t,4,e)},r.resize=function(t,e){n(t,e,4)},r.copy=function(t,e,i,n,o){a(t,e,i,n,o,4)},e.exports={AlphaImage:o,RGBAImage:r}},{}],243:[function(t,e,i){"use strict";function l(t,e,i){if(1<t.length){if(u(t,e))return!0;for(var n=0;n<e.length;n++)if(h(e[n],t,i))return!0}for(var o=0;o<t.length;o++)if(h(t[o],e,i))return!0;return!1}function u(t,e){if(0===t.length||0===e.length)return!1;for(var i=0;i<t.length-1;i++)for(var n=t[i],o=t[i+1],r=0;r<e.length-1;r++){var s=e[r],a=e[r+1];if(u=o,d(l=n,h=s,c=a)!==d(u,h,c)&&d(l,u,h)!==d(l,u,c))return!0}var l,u,h,c;return!1}function h(t,e,i){var n=i*i;if(1===e.length)return t.distSqr(e[0])<n;for(var o=1;o<e.length;o++)if(r(t,e[o-1],e[o])<n)return!0;return!1}function r(t,e,i){var n=e.distSqr(i);if(0===n)return t.distSqr(e);var o=((t.x-e.x)*(i.x-e.x)+(t.y-e.y)*(i.y-e.y))/n;return o<0?t.distSqr(e):1<o?t.distSqr(i):t.distSqr(i.sub(e)._mult(o)._add(e))}function c(t,e){for(var i,n,o,r=!1,s=0;s<t.length;s++)for(var a=0,l=(i=t[s]).length-1;a<i.length;l=a++)n=i[a],o=i[l],n.y>e.y!=o.y>e.y&&e.x<(o.x-n.x)*(e.y-n.y)/(o.y-n.y)+n.x&&(r=!r);return r}function p(t,e){for(var i=!1,n=0,o=t.length-1;n<t.length;o=n++){var r=t[n],s=t[o];r.y>e.y!=s.y>e.y&&e.x<(s.x-r.x)*(e.y-r.y)/(s.y-r.y)+r.x&&(i=!i)}return i}var d=t("./util").isCounterClockwise;e.exports={multiPolygonIntersectsBufferedMultiPoint:function(t,e,i){for(var n=0;n<t.length;n++)for(var o=t[n],r=0;r<e.length;r++)for(var s=e[r],a=0;a<s.length;a++){var l=s[a];if(p(o,l))return!0;if(h(l,o,i))return!0}return!1},multiPolygonIntersectsMultiPolygon:function(t,e){if(1===t.length&&1===t[0].length)return c(e,t[0][0]);for(var i=0;i<e.length;i++)for(var n=e[i],o=0;o<n.length;o++)if(c(t,n[o]))return!0;for(var r=0;r<t.length;r++){for(var s=t[r],a=0;a<s.length;a++)if(c(e,s[a]))return!0;for(var l=0;l<e.length;l++)if(u(s,e[l]))return!0}return!1},multiPolygonIntersectsBufferedMultiLine:function(t,e,i){for(var n=0;n<e.length;n++)for(var o=e[n],r=0;r<t.length;r++){var s=t[r];if(3<=s.length)for(var a=0;a<o.length;a++)if(p(s,o[a]))return!0;if(l(s,o,i))return!0}return!1},polygonIntersectsPolygon:function(t,e){for(var i=0;i<t.length;i++)if(p(e,t[i]))return!0;for(var n=0;n<e.length;n++)if(p(t,e[n]))return!0;return!!u(t,e)},distToSegmentSquared:r}},{"./util":252}],244:[function(t,e,i){"use strict";e.exports={"Latin-1 Supplement":function(t){return 128<=t&&t<=255},Arabic:function(t){return 1536<=t&&t<=1791},"Arabic Supplement":function(t){return 1872<=t&&t<=1919},"Arabic Extended-A":function(t){return 2208<=t&&t<=2303},"Hangul Jamo":function(t){return 4352<=t&&t<=4607},"Unified Canadian Aboriginal Syllabics":function(t){return 5120<=t&&t<=5759},"Unified Canadian Aboriginal Syllabics Extended":function(t){return 6320<=t&&t<=6399},"General Punctuation":function(t){return 8192<=t&&t<=8303},"Letterlike Symbols":function(t){return 8448<=t&&t<=8527},"Number Forms":function(t){return 8528<=t&&t<=8591},"Miscellaneous Technical":function(t){return 8960<=t&&t<=9215},"Control Pictures":function(t){return 9216<=t&&t<=9279},"Optical Character Recognition":function(t){return 9280<=t&&t<=9311},"Enclosed Alphanumerics":function(t){return 9312<=t&&t<=9471},"Geometric Shapes":function(t){return 9632<=t&&t<=9727},"Miscellaneous Symbols":function(t){return 9728<=t&&t<=9983},"Miscellaneous Symbols and Arrows":function(t){return 11008<=t&&t<=11263},"CJK Radicals Supplement":function(t){return 11904<=t&&t<=12031},"Kangxi Radicals":function(t){return 12032<=t&&t<=12255},"Ideographic Description Characters":function(t){return 12272<=t&&t<=12287},"CJK Symbols and Punctuation":function(t){return 12288<=t&&t<=12351},Hiragana:function(t){return 12352<=t&&t<=12447},Katakana:function(t){return 12448<=t&&t<=12543},Bopomofo:function(t){return 12544<=t&&t<=12591},"Hangul Compatibility Jamo":function(t){return 12592<=t&&t<=12687},Kanbun:function(t){return 12688<=t&&t<=12703},"Bopomofo Extended":function(t){return 12704<=t&&t<=12735},"CJK Strokes":function(t){return 12736<=t&&t<=12783},"Katakana Phonetic Extensions":function(t){return 12784<=t&&t<=12799},"Enclosed CJK Letters and Months":function(t){return 12800<=t&&t<=13055},"CJK Compatibility":function(t){return 13056<=t&&t<=13311},"CJK Unified Ideographs Extension A":function(t){return 13312<=t&&t<=19903},"Yijing Hexagram Symbols":function(t){return 19904<=t&&t<=19967},"CJK Unified Ideographs":function(t){return 19968<=t&&t<=40959},"Yi Syllables":function(t){return 40960<=t&&t<=42127},"Yi Radicals":function(t){return 42128<=t&&t<=42191},"Hangul Jamo Extended-A":function(t){return 43360<=t&&t<=43391},"Hangul Syllables":function(t){return 44032<=t&&t<=55215},"Hangul Jamo Extended-B":function(t){return 55216<=t&&t<=55295},"Private Use Area":function(t){return 57344<=t&&t<=63743},"CJK Compatibility Ideographs":function(t){return 63744<=t&&t<=64255},"Arabic Presentation Forms-A":function(t){return 64336<=t&&t<=65023},"Vertical Forms":function(t){return 65040<=t&&t<=65055},"CJK Compatibility Forms":function(t){return 65072<=t&&t<=65103},"Small Form Variants":function(t){return 65104<=t&&t<=65135},"Arabic Presentation Forms-B":function(t){return 65136<=t&&t<=65279},"Halfwidth and Fullwidth Forms":function(t){return 65280<=t&&t<=65519}}},{}],245:[function(t,e,i){"use strict";var n=function(t,e){this.max=t,this.onRemove=e,this.reset()};n.prototype.reset=function(){for(var t in this.data)this.onRemove(this.data[t]);return this.data={},this.order=[],this},n.prototype.add=function(t,e){if(this.has(t))this.order.splice(this.order.indexOf(t),1),this.data[t]=e,this.order.push(t);else if(this.data[t]=e,this.order.push(t),this.order.length>this.max){var i=this.get(this.order[0]);i&&this.onRemove(i)}return this},n.prototype.has=function(t){return t in this.data},n.prototype.keys=function(){return this.order},n.prototype.get=function(t){if(!this.has(t))return null;var e=this.data[t];return delete this.data[t],this.order.splice(this.order.indexOf(t),1),e},n.prototype.getWithoutRemoving=function(t){return this.has(t)?this.data[t]:null},n.prototype.remove=function(t){if(!this.has(t))return this;var e=this.data[t];return delete this.data[t],this.onRemove(e),this.order.splice(this.order.indexOf(t),1),this},n.prototype.setMaxSize=function(t){for(this.max=t;this.order.length>this.max;){var e=this.get(this.order[0]);e&&this.onRemove(e)}return this},e.exports=n},{}],246:[function(t,e,i){"use strict";function r(t,e){var i=a(u.API_URL);if(t.protocol=i.protocol,t.authority=i.authority,"/"!==i.path&&(t.path=""+i.path+t.path),!u.REQUIRE_ACCESS_TOKEN)return l(t);if(!(e=e||u.ACCESS_TOKEN))throw new Error("An API access token is required to use Mapbox GL. "+n);if("s"===e[0])throw new Error("Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). "+n);return t.params.push("access_token="+e),l(t)}function s(t){return 0===t.indexOf("mapbox:")}function a(t){var e=t.match(o);if(!e)throw new Error("Unable to parse URL object");return{protocol:e[1],authority:e[2],path:e[3]||"/",params:e[4]?e[4].split("&"):[]}}function l(t){var e=t.params.length?"?"+t.params.join("&"):"";return t.protocol+"://"+t.authority+t.path+e}var u=t("./config"),h=t("./browser"),n="See https://www.mapbox.com/api-documentation/#access-tokens";i.isMapboxURL=s,i.normalizeStyleURL=function(t,e){if(!s(t))return t;var i=a(t);return i.path="/styles/v1"+i.path,r(i,e)},i.normalizeGlyphsURL=function(t,e){if(!s(t))return t;var i=a(t);return i.path="/fonts/v1"+i.path,r(i,e)},i.normalizeSourceURL=function(t,e){if(!s(t))return t;var i=a(t);return i.path="/v4/"+i.authority+".json",i.params.push("secure"),r(i,e)},i.normalizeSpriteURL=function(t,e,i,n){var o=a(t);return s(t)?(o.path="/styles/v1"+o.path+"/sprite"+e+i,r(o,n)):(o.path+=""+e+i,l(o))};var c=/(\.(png|jpg)\d*)(?=$)/;i.normalizeTileURL=function(t,e,i){if(!e||!s(e))return t;var n=a(t),o=2<=h.devicePixelRatio||512===i?"@2x":"",r=h.supportsWebp?".webp":"$1";return n.path=n.path.replace(c,""+o+r),function(t){for(var e=0;e<t.length;e++)0===t[e].indexOf("access_token=tk.")&&(t[e]="access_token="+(u.ACCESS_TOKEN||""))}(n.params),l(n)};var o=/^(\w+):\/\/([^\/?]*)(\/[^?]+)?\??(.+)?/},{"./browser":231,"./config":235}],247:[function(t,e,o){"use strict";var i=t("./is_char_in_unicode_block");e.exports.allowsIdeographicBreaking=function(t){for(var e=0,i=t;e<i.length;e+=1){var n=i[e];if(!o.charAllowsIdeographicBreaking(n.charCodeAt(0)))return!1}return!0},e.exports.allowsVerticalWritingMode=function(t){for(var e=0,i=t;e<i.length;e+=1){var n=i[e];if(o.charHasUprightVerticalOrientation(n.charCodeAt(0)))return!0}return!1},e.exports.allowsLetterSpacing=function(t){for(var e=0,i=t;e<i.length;e+=1){var n=i[e];if(!o.charAllowsLetterSpacing(n.charCodeAt(0)))return!1}return!0},e.exports.charAllowsLetterSpacing=function(t){return!(i.Arabic(t)||i["Arabic Supplement"](t)||i["Arabic Extended-A"](t)||i["Arabic Presentation Forms-A"](t)||i["Arabic Presentation Forms-B"](t))},e.exports.charAllowsIdeographicBreaking=function(t){return!!(!(t<11904)&&(i["Bopomofo Extended"](t)||i.Bopomofo(t)||i["CJK Compatibility Forms"](t)||i["CJK Compatibility Ideographs"](t)||i["CJK Compatibility"](t)||i["CJK Radicals Supplement"](t)||i["CJK Strokes"](t)||i["CJK Symbols and Punctuation"](t)||i["CJK Unified Ideographs Extension A"](t)||i["CJK Unified Ideographs"](t)||i["Enclosed CJK Letters and Months"](t)||i["Halfwidth and Fullwidth Forms"](t)||i.Hiragana(t)||i["Ideographic Description Characters"](t)||i["Kangxi Radicals"](t)||i["Katakana Phonetic Extensions"](t)||i.Katakana(t)||i["Vertical Forms"](t)||i["Yi Radicals"](t)||i["Yi Syllables"](t)))},o.charHasUprightVerticalOrientation=function(t){return!!(746===t||747===t||!(t<4352)&&(i["Bopomofo Extended"](t)||i.Bopomofo(t)||i["CJK Compatibility Forms"](t)&&!(65097<=t&&t<=65103)||i["CJK Compatibility Ideographs"](t)||i["CJK Compatibility"](t)||i["CJK Radicals Supplement"](t)||i["CJK Strokes"](t)||!(!i["CJK Symbols and Punctuation"](t)||12296<=t&&t<=12305||12308<=t&&t<=12319||12336===t)||i["CJK Unified Ideographs Extension A"](t)||i["CJK Unified Ideographs"](t)||i["Enclosed CJK Letters and Months"](t)||i["Hangul Compatibility Jamo"](t)||i["Hangul Jamo Extended-A"](t)||i["Hangul Jamo Extended-B"](t)||i["Hangul Jamo"](t)||i["Hangul Syllables"](t)||i.Hiragana(t)||i["Ideographic Description Characters"](t)||i.Kanbun(t)||i["Kangxi Radicals"](t)||i["Katakana Phonetic Extensions"](t)||i.Katakana(t)&&12540!==t||!(!i["Halfwidth and Fullwidth Forms"](t)||65288===t||65289===t||65293===t||65306<=t&&t<=65310||65339===t||65341===t||65343===t||65371<=t&&t<=65503||65507===t||65512<=t&&t<=65519)||!(!i["Small Form Variants"](t)||65112<=t&&t<=65118||65123<=t&&t<=65126)||i["Unified Canadian Aboriginal Syllabics"](t)||i["Unified Canadian Aboriginal Syllabics Extended"](t)||i["Vertical Forms"](t)||i["Yijing Hexagram Symbols"](t)||i["Yi Syllables"](t)||i["Yi Radicals"](t)))},o.charHasNeutralVerticalOrientation=function(t){return!!(i["Latin-1 Supplement"](t)&&(167===t||169===t||174===t||177===t||188===t||189===t||190===t||215===t||247===t)||i["General Punctuation"](t)&&(8214===t||8224===t||8225===t||8240===t||8241===t||8251===t||8252===t||8258===t||8263===t||8264===t||8265===t||8273===t)||i["Letterlike Symbols"](t)||i["Number Forms"](t)||i["Miscellaneous Technical"](t)&&(8960<=t&&t<=8967||8972<=t&&t<=8991||8996<=t&&t<=9e3||9003===t||9085<=t&&t<=9114||9150<=t&&t<=9165||9167===t||9169<=t&&t<=9179||9186<=t&&t<=9215)||i["Control Pictures"](t)&&9251!==t||i["Optical Character Recognition"](t)||i["Enclosed Alphanumerics"](t)||i["Geometric Shapes"](t)||i["Miscellaneous Symbols"](t)&&!(9754<=t&&t<=9759)||i["Miscellaneous Symbols and Arrows"](t)&&(11026<=t&&t<=11055||11088<=t&&t<=11097||11192<=t&&t<=11243)||i["CJK Symbols and Punctuation"](t)||i.Katakana(t)||i["Private Use Area"](t)||i["CJK Compatibility Forms"](t)||i["Small Form Variants"](t)||i["Halfwidth and Fullwidth Forms"](t)||8734===t||8756===t||8757===t||9984<=t&&t<=10087||10102<=t&&t<=10131||65532===t||65533===t)},o.charHasRotatedVerticalOrientation=function(t){return!(o.charHasUprightVerticalOrientation(t)||o.charHasNeutralVerticalOrientation(t))}},{"./is_char_in_unicode_block":244}],248:[function(t,e,i){"use strict";var a=t("../geo/lng_lat");e.exports=function(t,e,i){if(t=new a(t.lng,t.lat),e){var n=new a(t.lng-360,t.lat),o=new a(t.lng+360,t.lat),r=i.locationPoint(t).distSqr(e);i.locationPoint(n).distSqr(e)<r?t=n:i.locationPoint(o).distSqr(e)<r&&(t=o)}for(;180<Math.abs(t.lng-i.center.lng);){var s=i.locationPoint(t);if(0<=s.x&&0<=s.y&&s.x<=i.width&&s.y<=i.height)break;t.lng>i.center.lng?t.lng-=360:t.lng+=360}return t}},{"../geo/lng_lat":68}],249:[function(t,e,i){"use strict";function x(t,e){return Math.ceil(t/e)*e}function w(t){return n[t].BYTES_PER_ELEMENT}function T(t){return t.toLowerCase()}e.exports=function(t){var e=JSON.stringify(t);if(S[e])return S[e];var i,n,o,r,s,a,l=void 0===t.alignment?1:t.alignment,u=0,h=0,c=["Uint8"],p=t.members.map(function(t){c.indexOf(t.type)<0&&c.push(t.type);var e=w(t.type),i=u=x(u,Math.max(l,e)),n=t.components||1;return h=Math.max(h,e),u+=e*n,{name:t.name,type:t.type,components:n,offset:i}}),d=x(u,Math.max(h,l)),f=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e}(k);f.prototype.alignment=l,f.prototype.size=d;for(var m=0,g=p;m<g.length;m+=1)for(var v=g[m],y=0;y<v.components;y++){var _=v.name;if(1<v.components&&(_+=y),_ in f.prototype)throw new Error(_+" is a reserved name and cannot be used as a member name.");Object.defineProperty(f.prototype,_,(n=y,s=r=o=a=void 0,o="this._pos"+w((i=v).type).toFixed(0),r=(i.offset/w(i.type)+n).toFixed(0),s=o+" + "+r,a="this._structArray."+T(i.type)+"["+s+"]",{get:new Function("return "+a+";"),set:new Function("x",a+" = x;")}))}var b=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e}(C);return b.prototype.members=p,b.prototype.StructType=f,b.prototype.bytesPerElement=d,b.prototype.emplaceBack=function(t,e){for(var i=[],n=[],o="var i = this.length;\nthis.resize(this.length + 1);\n",r=0,s=t;r<s.length;r+=1){var a=s[r],l=w(a.type);i.indexOf(l)<0&&(i.push(l),o+="var o"+l.toFixed(0)+" = i * "+(e/l).toFixed(0)+";\n");for(var u=0;u<a.components;u++){var h="v"+n.length,c="o"+l.toFixed(0)+" + "+(a.offset/l+u).toFixed(0);o+="this."+T(a.type)+"["+c+"] = "+h+";\n",n.push(h)}}return o+="return i;",new Function(n.toString(),o)}(p,d),b.prototype._usedTypes=c,S[e]=b};var n={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array},k=function(t,e){this._structArray=t,this._pos1=e*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8},C=function(t){this.isTransferred=!1,void 0!==t?(this.arrayBuffer=t.arrayBuffer,this.length=t.length,this.capacity=this.arrayBuffer.byteLength/this.bytesPerElement,this._refreshViews()):(this.capacity=-1,this.resize(0))};C.serialize=function(){return{members:this.prototype.members,alignment:this.prototype.StructType.prototype.alignment}},C.prototype.serialize=function(t){return this._trim(),t&&(this.isTransferred=!0,t.push(this.arrayBuffer)),{length:this.length,arrayBuffer:this.arrayBuffer}},C.prototype.get=function(t){return new this.StructType(this,t)},C.prototype._trim=function(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())},C.prototype.clear=function(){this.length=0},C.prototype.resize=function(t){if((this.length=t)>this.capacity){this.capacity=Math.max(t,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);var e=this.uint8;this._refreshViews(),e&&this.uint8.set(e)}},C.prototype._refreshViews=function(){for(var t=0,e=this._usedTypes;t<e.length;t+=1){var i=e[t];this[T(i)]=new n[i](this.arrayBuffer)}},C.prototype.toArray=function(t,e){for(var i=[],n=t;n<e;n++){var o=this.get(n);i.push(o)}return i};var S={}},{}],250:[function(t,e,i){"use strict";var n=t("./browser"),o=function(t,e){this.frequency=t,this.throttledFunction=e,this.lastInvocation=0};o.prototype.invoke=function(){var t=this;if(!this.pendingInvocation){var e=0===this.lastInvocation?0:this.lastInvocation+this.frequency-n.now();e<=0?(this.lastInvocation=n.now(),this.throttledFunction()):this.pendingInvocation=setTimeout(function(){t.pendingInvocation=void 0,t.lastInvocation=n.now(),t.throttledFunction()},e)}},o.prototype.stop=function(){this.pendingInvocation&&(clearTimeout(this.pendingInvocation),this.pendingInvocation=void 0)},e.exports=o},{"./browser":231}],251:[function(t,e,i){"use strict";e.exports=function(i,t){return t.replace(/{([^{}]+)}/g,function(t,e){return e in i?String(i[e]):""})}},{}],252:[function(t,e,o){"use strict";var r=t("@mapbox/unitbezier"),h=t("../geo/coordinate");t("@mapbox/point-geometry");o.easeCubicInOut=function(t){if(t<=0)return 0;if(1<=t)return 1;var e=t*t,i=e*t;return 4*(t<.5?i:3*(t-e)+i-.75)},o.bezier=function(t,e,i,n){var o=new r(t,e,i,n);return function(t){return o.solve(t)}},o.ease=o.bezier(.25,.1,.25,1),o.clamp=function(t,e,i){return Math.min(i,Math.max(e,t))},o.wrap=function(t,e,i){var n=i-e,o=((t-e)%n+n)%n+e;return o===e?i:o},o.asyncAll=function(t,e,n){if(!t.length)return n(null,[]);var o=t.length,r=new Array(t.length),s=null;t.forEach(function(t,i){e(t,function(t,e){t&&(s=t),r[i]=e,0==--o&&n(s,r)})})},o.values=function(t){var e=[];for(var i in t)e.push(t[i]);return e},o.keysDifference=function(t,e){var i=[];for(var n in t)n in e||i.push(n);return i},o.extend=function(t){for(var e=[],i=arguments.length-1;0<i--;)e[i]=arguments[i+1];for(var n=0,o=e;n<o.length;n+=1){var r=o[n];for(var s in r)t[s]=r[s]}return t},o.pick=function(t,e){for(var i={},n=0;n<e.length;n++){var o=e[n];o in t&&(i[o]=t[o])}return i};var i=1;o.uniqueId=function(){return i++},o.bindAll=function(t,e){t.forEach(function(t){e[t]&&(e[t]=e[t].bind(e))})},o.getCoordinatesCenter=function(t){for(var e=1/0,i=1/0,n=-1/0,o=-1/0,r=0;r<t.length;r++)e=Math.min(e,t[r].column),i=Math.min(i,t[r].row),n=Math.max(n,t[r].column),o=Math.max(o,t[r].row);var s=n-e,a=o-i,l=Math.max(s,a),u=Math.max(0,Math.floor(-Math.log(l)/Math.LN2));return new h((e+n)/2,(i+o)/2,0).zoomTo(u)},o.endsWith=function(t,e){return-1!==t.indexOf(e,t.length-e.length)},o.mapObject=function(t,e,i){var n={};for(var o in t)n[o]=e.call(i||this,t[o],o,t);return n},o.filterObject=function(t,e,i){var n={};for(var o in t)e.call(i||this,t[o],o,t)&&(n[o]=t[o]);return n},o.deepEqual=function(t,e){if(Array.isArray(t)){if(!Array.isArray(e)||t.length!==e.length)return!1;for(var i=0;i<t.length;i++)if(!o.deepEqual(t[i],e[i]))return!1;return!0}if("object"!=typeof t||null===t||null===e)return t===e;if("object"!=typeof e)return!1;if(Object.keys(t).length!==Object.keys(e).length)return!1;for(var n in t)if(!o.deepEqual(t[n],e[n]))return!1;return!0},o.clone=function(t){return Array.isArray(t)?t.map(o.clone):"object"==typeof t&&t?o.mapObject(t,o.clone):t},o.arraysIntersect=function(t,e){for(var i=0;i<t.length;i++)if(0<=e.indexOf(t[i]))return!0;return!1};var n={};o.warnOnce=function(t){n[t]||("undefined"!=typeof console&&console.warn(t),n[t]=!0)},o.isCounterClockwise=function(t,e,i){return(i.y-t.y)*(e.x-t.x)>(e.y-t.y)*(i.x-t.x)},o.calculateSignedArea=function(t){for(var e=0,i=0,n=t.length,o=n-1,r=void 0,s=void 0;i<n;o=i++)r=t[i],e+=((s=t[o]).x-r.x)*(r.y+s.y);return e},o.isClosedPolygon=function(t){if(t.length<4)return!1;var e=t[0],i=t[t.length-1];return!(0<Math.abs(e.x-i.x)||0<Math.abs(e.y-i.y))&&.01<Math.abs(o.calculateSignedArea(t))},o.sphericalToCartesian=function(t){var e=t[0],i=t[1],n=t[2];return i+=90,i*=Math.PI/180,n*=Math.PI/180,[e*Math.cos(i)*Math.sin(n),e*Math.sin(i)*Math.sin(n),e*Math.cos(n)]},o.parseCacheControl=function(t){var r={};if(t.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,function(t,e,i,n){var o=i||n;return r[e]=!o||o.toLowerCase(),""}),r["max-age"]){var e=parseInt(r["max-age"],10);isNaN(e)?delete r["max-age"]:r["max-age"]=e}return r}},{"../geo/coordinate":67,"@mapbox/point-geometry":2,"@mapbox/unitbezier":5}],253:[function(t,e,i){"use strict";var n=function(t,e,i,n){this.type="Feature",(this._vectorTileFeature=t)._z=e,t._x=i,t._y=n,this.properties=t.properties,null!=t.id&&(this.id=t.id)},o={geometry:{}};o.geometry.get=function(){return void 0===this._geometry&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry},o.geometry.set=function(t){this._geometry=t},n.prototype.toJSON=function(){var t={geometry:this.geometry};for(var e in this)"_geometry"!==e&&"_vectorTileFeature"!==e&&(t[e]=this[e]);return t},Object.defineProperties(n.prototype,o),e.exports=n},{}],254:[function(t,r,e){"use strict";var s=t("./script_detection");r.exports=function(t){for(var e="",i=0;i<t.length;i++){var n=t.charCodeAt(i+1)||null,o=t.charCodeAt(i-1)||null;n&&s.charHasRotatedVerticalOrientation(n)&&!r.exports.lookup[t[i+1]]||o&&s.charHasRotatedVerticalOrientation(o)&&!r.exports.lookup[t[i-1]]||!r.exports.lookup[t[i]]?e+=t[i]:e+=r.exports.lookup[t[i]]}return e},r.exports.lookup={"!":"Ã¯Â¸â¢","#":"Ã¯Â¼Æ",$:"Ã¯Â¼â","%":"Ã¯Â¼â¦","&":"Ã¯Â¼â ","(":"Ã¯Â¸Âµ",")":"Ã¯Â¸Â¶","*":"Ã¯Â¼Å ","+":"Ã¯Â¼â¹",",":"Ã¯Â¸Â","-":"Ã¯Â¸Â²",".":"Ã£ÆÂ»","/":"Ã¯Â¼Â",":":"Ã¯Â¸â",";":"Ã¯Â¸â","<":"Ã¯Â¸Â¿","=":"Ã¯Â¼Â",">":"Ã¯Â¹â¬","?":"Ã¯Â¸â","@":"Ã¯Â¼ ","[":"Ã¯Â¹â¡","\\":"Ã¯Â¼Â¼","]":"Ã¯Â¹Ë","^":"Ã¯Â¼Â¾",_:"Ã¯Â¸Â³","`":"Ã¯Â½â¬","{":"Ã¯Â¸Â·","|":"Ã¢â¬â¢","}":"Ã¯Â¸Â¸","~":"Ã¯Â½Å¾","ÃÂ¢":"Ã¯Â¿ ","ÃÂ£":"Ã¯Â¿Â¡","ÃÂ¥":"Ã¯Â¿Â¥","ÃÂ¦":"Ã¯Â¿Â¤","ÃÂ¬":"Ã¯Â¿Â¢","ÃÂ¯":"Ã¯Â¿Â£","Ã¢â¬â":"Ã¯Â¸Â²","Ã¢â¬â":"Ã¯Â¸Â±","Ã¢â¬Ë":"Ã¯Â¹Æ","Ã¢â¬â¢":"Ã¯Â¹â","Ã¢â¬Å":"Ã¯Â¹Â","Ã¢â¬Â":"Ã¯Â¹â","Ã¢â¬Â¦":"Ã¯Â¸â¢","Ã¢â¬Â§":"Ã£ÆÂ»","Ã¢âÂ©":"Ã¯Â¿Â¦","Ã£â¬Â":"Ã¯Â¸â","Ã£â¬â":"Ã¯Â¸â","Ã£â¬Ë":"Ã¯Â¸Â¿","Ã£â¬â°":"Ã¯Â¹â¬","Ã£â¬Å ":"Ã¯Â¸Â½","Ã£â¬â¹":"Ã¯Â¸Â¾","Ã£â¬Å":"Ã¯Â¹Â","Ã£â¬Â":"Ã¯Â¹â","Ã£â¬Å½":"Ã¯Â¹Æ","Ã£â¬Â":"Ã¯Â¹â","Ã£â¬Â":"Ã¯Â¸Â»","Ã£â¬â":"Ã¯Â¸Â¼","Ã£â¬â":"Ã¯Â¸Â¹","Ã£â¬â¢":"Ã¯Â¸Âº","Ã£â¬â":"Ã¯Â¸â","Ã£â¬â":"Ã¯Â¸Ë","Ã¯Â¼Â":"Ã¯Â¸â¢","Ã¯Â¼Ë":"Ã¯Â¸Âµ","Ã¯Â¼â°":"Ã¯Â¸Â¶","Ã¯Â¼Å":"Ã¯Â¸Â","Ã¯Â¼Â":"Ã¯Â¸Â²","Ã¯Â¼Å½":"Ã£ÆÂ»","Ã¯Â¼Å¡":"Ã¯Â¸â","Ã¯Â¼âº":"Ã¯Â¸â","Ã¯Â¼Å":"Ã¯Â¸Â¿","Ã¯Â¼Å¾":"Ã¯Â¹â¬","Ã¯Â¼Å¸":"Ã¯Â¸â","Ã¯Â¼Â»":"Ã¯Â¹â¡","Ã¯Â¼Â½":"Ã¯Â¹Ë","Ã¯Â¼Â¿":"Ã¯Â¸Â³","Ã¯Â½âº":"Ã¯Â¸Â·","Ã¯Â½Å":"Ã¢â¬â¢","Ã¯Â½Â":"Ã¯Â¸Â¸","Ã¯Â½Å¸":"Ã¯Â¸Âµ","Ã¯Â½ ":"Ã¯Â¸Â¶","Ã¯Â½Â¡":"Ã¯Â¸â","Ã¯Â½Â¢":"Ã¯Â¹Â","Ã¯Â½Â£":"Ã¯Â¹â"}},{"./script_detection":247}],255:[function(i,t,e){"use strict";var n=i("./web_worker"),o=function(){this.active={}};o.prototype.acquire=function(t){if(!this.workers){var e=i("../").workerCount;for(this.workers=[];this.workers.length<e;)this.workers.push(new n)}return this.active[t]=!0,this.workers.slice()},o.prototype.release=function(t){delete this.active[t],0===Object.keys(this.active).length&&(this.workers.forEach(function(t){t.terminate()}),this.workers=null)},t.exports=o},{"../":73,"./web_worker":232}]},{},[73])(73)}),function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).supercluster=t()}}(function(){return function r(s,a,l){function u(i,t){if(!a[i]){if(!s[i]){var e="function"==typeof require&&require;if(!t&&e)return e(i,!0);if(h)return h(i,!0);var n=new Error("Cannot find module '"+i+"'");throw n.code="MODULE_NOT_FOUND",n}var o=a[i]={exports:{}};s[i][0].call(o.exports,function(t){var e=s[i][1][t];return u(e||t)},o,o.exports,r,s,a,l)}return a[i].exports}for(var h="function"==typeof require&&require,t=0;t<l.length;t++)u(l[t]);return u}({1:[function(t,e,i){"use strict";var h=t("kdbush");function n(t){return new o(t)}function o(t){this.options=r(Object.create(this.options),t),this.trees=new Array(this.options.maxZoom+1)}function c(t){return{type:"Feature",properties:l(t),geometry:{type:"Point",coordinates:[(n=t.x,360*(n-.5)),(e=t.y,i=(180-360*e)*Math.PI/180,360*Math.atan(Math.exp(i))/Math.PI-90)]}};var e,i,n}function l(t){var e=t.numPoints,i=1e4<=e?Math.round(e/1e3)+"k":1e3<=e?Math.round(e/100)/10+"k":e;return r(r({},t.properties),{cluster:!0,cluster_id:t.id,point_count:e,point_count_abbreviated:i})}function p(t){return t/360+.5}function d(t){var e=Math.sin(t*Math.PI/180),i=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return i<0?0:1<i?1:i}function r(t,e){for(var i in e)t[i]=e[i];return t}function f(t){return t.x}function m(t){return t.y}e.exports=n,e.exports.default=n,o.prototype={options:{minZoom:0,maxZoom:16,radius:40,extent:512,nodeSize:64,log:!1,reduce:null,initial:function(){return{}},map:function(t){return t}},load:function(t){var e=this.options.log;e&&console.time("total time");var i="prepare "+t.length+" points";e&&console.time(i),this.points=t;for(var n,o,r,s=[],a=0;a<t.length;a++)t[a].geometry&&s.push((n=t[a],o=a,void 0,{x:p((r=n.geometry.coordinates)[0]),y:d(r[1]),zoom:1/0,id:o,parentId:-1}));this.trees[this.options.maxZoom+1]=h(s,f,m,this.options.nodeSize,Float32Array),e&&console.timeEnd(i);for(var l=this.options.maxZoom;l>=this.options.minZoom;l--){var u=+Date.now();s=this._cluster(s,l),this.trees[l]=h(s,f,m,this.options.nodeSize,Float32Array),e&&console.log("z%d: %d clusters in %dms",l,s.length,+Date.now()-u)}return e&&console.timeEnd("total time"),this},getClusters:function(t,e){if(t[0]>t[2]){var i=this.getClusters([t[0],t[1],180,t[3]],e),n=this.getClusters([-180,t[1],t[2],t[3]],e);return i.concat(n)}for(var o=this.trees[this._limitZoom(e)],r=o.range(p(t[0]),d(t[3]),p(t[2]),d(t[1])),s=[],a=0;a<r.length;a++){var l=o.points[r[a]];s.push(l.numPoints?c(l):this.points[l.id])}return s},getChildren:function(t){var e=t>>5,i=t%32,n="No cluster with the specified id.",o=this.trees[i];if(!o)throw new Error(n);var r=o.points[e];if(!r)throw new Error(n);for(var s=this.options.radius/(this.options.extent*Math.pow(2,i-1)),a=o.within(r.x,r.y,s),l=[],u=0;u<a.length;u++){var h=o.points[a[u]];h.parentId===t&&l.push(h.numPoints?c(h):this.points[h.id])}if(0===l.length)throw new Error(n);return l},getLeaves:function(t,e,i){e=e||10,i=i||0;var n=[];return this._appendLeaves(n,t,e,i,0),n},getTile:function(t,e,i){var n=this.trees[this._limitZoom(t)],o=Math.pow(2,t),r=this.options.extent,s=this.options.radius/r,a=(i-s)/o,l=(i+1+s)/o,u={features:[]};return this._addTileFeatures(n.range((e-s)/o,a,(e+1+s)/o,l),n.points,e,i,o,u),0===e&&this._addTileFeatures(n.range(1-s/o,a,1,l),n.points,o,i,o,u),e===o-1&&this._addTileFeatures(n.range(0,a,s/o,l),n.points,-1,i,o,u),u.features.length?u:null},getClusterExpansionZoom:function(t){for(var e=t%32-1;e<this.options.maxZoom;){var i=this.getChildren(t);if(e++,1!==i.length)break;t=i[0].properties.cluster_id}return e},_appendLeaves:function(t,e,i,n,o){for(var r=this.getChildren(e),s=0;s<r.length;s++){var a=r[s].properties;if(a&&a.cluster?o+a.point_count<=n?o+=a.point_count:o=this._appendLeaves(t,a.cluster_id,i,n,o):o<n?o++:t.push(r[s]),t.length===i)break}return o},_addTileFeatures:function(t,e,i,n,o,r){for(var s=0;s<t.length;s++){var a=e[t[s]];r.features.push({type:1,geometry:[[Math.round(this.options.extent*(a.x*o-i)),Math.round(this.options.extent*(a.y*o-n))]],tags:a.numPoints?l(a):this.points[a.id].properties})}},_limitZoom:function(t){return Math.max(this.options.minZoom,Math.min(t,this.options.maxZoom+1))},_cluster:function(t,e){for(var i=[],n=this.options.radius/(this.options.extent*Math.pow(2,e)),o=0;o<t.length;o++){var r=t[o];if(!(r.zoom<=e)){r.zoom=e;var s=this.trees[e+1],a=s.within(r.x,r.y,n),l=r.numPoints||1,u=r.x*l,h=r.y*l,c=null;this.options.reduce&&(c=this.options.initial(),this._accumulate(c,r));for(var p=(o<<5)+(e+1),d=0;d<a.length;d++){var f=s.points[a[d]];if(!(f.zoom<=e)){f.zoom=e;var m=f.numPoints||1;u+=f.x*m,h+=f.y*m,l+=m,f.parentId=p,this.options.reduce&&this._accumulate(c,f)}}1===l?i.push(r):(r.parentId=p,i.push({x:u/l,y:h/l,zoom:1/0,id:p,parentId:-1,numPoints:l,properties:c}))}}return i},_accumulate:function(t,e){var i=e.numPoints?e.properties:this.options.map(this.points[e.id].properties);this.options.reduce(t,i)}}},{kdbush:2}],2:[function(t,e,i){"use strict";var s=t("./sort"),o=t("./range"),n=t("./within");function r(t,e,i,n,o){e=e||a,i=i||l,o=o||Array,this.nodeSize=n||64,this.points=t,this.ids=new o(t.length),this.coords=new o(2*t.length);for(var r=0;r<t.length;r++)this.ids[r]=r,this.coords[2*r]=e(t[r]),this.coords[2*r+1]=i(t[r]);s(this.ids,this.coords,this.nodeSize,0,this.ids.length-1,0)}function a(t){return t[0]}function l(t){return t[1]}e.exports=function(t,e,i,n,o){return new r(t,e,i,n,o)},r.prototype={range:function(t,e,i,n){return o(this.ids,this.coords,t,e,i,n,this.nodeSize)},within:function(t,e,i){return n(this.ids,this.coords,t,e,i,this.nodeSize)}}},{"./range":3,"./sort":4,"./within":5}],3:[function(t,e,i){"use strict";e.exports=function(t,e,i,n,o,r,s){var a,l,u=[0,t.length-1,0],h=[];for(;u.length;){var c=u.pop(),p=u.pop(),d=u.pop();if(p-d<=s)for(var f=d;f<=p;f++)a=e[2*f],l=e[2*f+1],i<=a&&a<=o&&n<=l&&l<=r&&h.push(t[f]);else{var m=Math.floor((d+p)/2);a=e[2*m],l=e[2*m+1],i<=a&&a<=o&&n<=l&&l<=r&&h.push(t[m]);var g=(c+1)%2;(0===c?i<=a:n<=l)&&(u.push(d),u.push(m-1),u.push(g)),(0===c?a<=o:l<=r)&&(u.push(m+1),u.push(p),u.push(g))}}return h}},{}],4:[function(t,e,i){"use strict";function f(t,e,i,n,o,r){for(;n<o;){if(600<o-n){var s=o-n+1,a=i-n+1,l=Math.log(s),u=.5*Math.exp(2*l/3),h=.5*Math.sqrt(l*u*(s-u)/s)*(a-s/2<0?-1:1);f(t,e,i,Math.max(n,Math.floor(i-a*u/s+h)),Math.min(o,Math.floor(i+(s-a)*u/s+h)),r)}var c=e[2*i+r],p=n,d=o;for(m(t,e,n,i),e[2*o+r]>c&&m(t,e,n,o);p<d;){for(m(t,e,p,d),p++,d--;e[2*p+r]<c;)p++;for(;e[2*d+r]>c;)d--}e[2*n+r]===c?m(t,e,n,d):m(t,e,++d,o),d<=i&&(n=d+1),i<=d&&(o=d-1)}}function m(t,e,i,n){o(t,i,n),o(e,2*i,2*n),o(e,2*i+1,2*n+1)}function o(t,e,i){var n=t[e];t[e]=t[i],t[i]=n}e.exports=function t(e,i,n,o,r,s){if(r-o<=n)return;var a=Math.floor((o+r)/2);f(e,i,a,o,r,s%2);t(e,i,n,o,a-1,s+1);t(e,i,n,a+1,r,s+1)}},{}],5:[function(t,e,i){"use strict";function v(t,e,i,n){var o=t-i,r=e-n;return o*o+r*r}e.exports=function(t,e,i,n,o,r){var s=[0,t.length-1,0],a=[],l=o*o;for(;s.length;){var u=s.pop(),h=s.pop(),c=s.pop();if(h-c<=r)for(var p=c;p<=h;p++)v(e[2*p],e[2*p+1],i,n)<=l&&a.push(t[p]);else{var d=Math.floor((c+h)/2),f=e[2*d],m=e[2*d+1];v(f,m,i,n)<=l&&a.push(t[d]);var g=(u+1)%2;(0===u?i-o<=f:n-o<=m)&&(s.push(c),s.push(d-1),s.push(g)),(0===u?f<=i+o:m<=n+o)&&(s.push(d+1),s.push(h),s.push(g))}}return a}},{}]},{},[1])(1)}),function(c){if(!c.hasInitialised){var p={escapeRegExp:function(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},hasClass:function(t,e){return 1===t.nodeType&&0<=(" "+t.className+" ").replace(/[\n\t]/g," ").indexOf(" "+e+" ")},addClass:function(t,e){t.className+=" "+e},removeClass:function(t,e){var i=new RegExp("\\b"+this.escapeRegExp(e)+"\\b");t.className=t.className.replace(i,"")},interpolateString:function(t,e){return t.replace(/{{([a-z][a-z0-9\-_]*)}}/gi,function(t){return e(arguments[1])||""})},getCookie:function(t){var e=("; "+document.cookie).split("; "+t+"=");return e.length<2?void 0:e.pop().split(";").shift()},setCookie:function(t,e,i,n,o,r){var s=new Date;s.setDate(s.getDate()+(i||365));var a=[t+"="+e,"expires="+s.toUTCString(),"path="+(o||"/")];n&&a.push("domain="+n),r&&a.push("secure"),document.cookie=a.join(";")},deepExtend:function(t,e){for(var i in e)e.hasOwnProperty(i)&&(i in t&&this.isPlainObject(t[i])&&this.isPlainObject(e[i])?this.deepExtend(t[i],e[i]):t[i]=e[i]);return t},throttle:function(t,e){var i=!1;return function(){i||(t.apply(this,arguments),i=!0,setTimeout(function(){i=!1},e))}},hash:function(t){var e,i,n=0;if(0===t.length)return n;for(e=0,i=t.length;e<i;++e)n=(n<<5)-n+t.charCodeAt(e),n|=0;return n},normaliseHex:function(t){return"#"==t[0]&&(t=t.substr(1)),3==t.length&&(t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]),t},getContrast:function(t){return t=this.normaliseHex(t),128<=(299*parseInt(t.substr(0,2),16)+587*parseInt(t.substr(2,2),16)+114*parseInt(t.substr(4,2),16))/1e3?"#000":"#fff"},getLuminance:function(t){var e=parseInt(this.normaliseHex(t),16),i=38+(e>>16),n=38+(e>>8&255),o=38+(255&e);return"#"+(16777216+65536*(i<255?i<1?0:i:255)+256*(n<255?n<1?0:n:255)+(o<255?o<1?0:o:255)).toString(16).slice(1)},isMobile:function(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)},isPlainObject:function(t){return"object"==typeof t&&null!==t&&t.constructor==Object},traverseDOMPath:function(t,e){return t&&t.parentNode?p.hasClass(t,e)?t:this.traverseDOMPath(t.parentNode,e):null}};c.status={deny:"deny",allow:"allow",dismiss:"dismiss"},c.transitionEnd=function(){var t=document.createElement("div"),e={t:"transitionend",OT:"oTransitionEnd",msT:"MSTransitionEnd",MozT:"transitionend",WebkitT:"webkitTransitionEnd"};for(var i in e)if(e.hasOwnProperty(i)&&void 0!==t.style[i+"ransition"])return e[i];return""}(),c.hasTransition=!!c.transitionEnd;var u=Object.keys(c.status).map(p.escapeRegExp);c.customStyles={},c.Popup=function(){function t(){this.initialise.apply(this,arguments)}function i(t){this.openingTimeout=null,p.removeClass(t,"cc-invisible")}function n(t){t.style.display="none",t.removeEventListener(c.transitionEnd,this.afterTransition),this.afterTransition=null}function o(){var t=this.options.position.split("-"),e=[];return t.forEach(function(t){e.push("cc-"+t)}),e}function r(){var t=this.options,e="top"==t.position||"bottom"==t.position?"banner":"floating";p.isMobile()&&(e="floating");var i=["cc-"+e,"cc-type-"+t.type,"cc-theme-"+t.theme];return t.static&&i.push("cc-static"),i.push.apply(i,o.call(this)),function(t){var e=p.hash(JSON.stringify(t)),i="cc-color-override-"+e,n=p.isPlainObject(t);return this.customStyleSelector=n?i:null,n&&function(t,e,i){if(c.customStyles[t])return++c.customStyles[t].references;var n={},o=e.popup,r=e.button,s=e.highlight;o&&(o.text=o.text?o.text:p.getContrast(o.background),o.link=o.link?o.link:o.text,n[i+".cc-window"]=["color: "+o.text,"background-color: "+o.background],n[i+".cc-revoke"]=["color: "+o.text,"background-color: "+o.background],n[i+" .cc-link,"+i+" .cc-link:active,"+i+" .cc-link:visited"]=["color: "+o.link],r&&(r.text=r.text?r.text:p.getContrast(r.background),r.border=r.border?r.border:"transparent",n[i+" .cc-btn"]=["color: "+r.text,"border-color: "+r.border,"background-color: "+r.background],r.padding&&n[i+" .cc-btn"].push("padding: "+r.padding),"transparent"!=r.background&&(n[i+" .cc-btn:hover, "+i+" .cc-btn:focus"]=["background-color: "+(r.hover||(a=r.background,"000000"==(a=p.normaliseHex(a))?"#222":p.getLuminance(a)))]),n[i+" .cc-highlight .cc-btn:first-child"]=s?(s.text=s.text?s.text:p.getContrast(s.background),s.border=s.border?s.border:"transparent",["color: "+s.text,"border-color: "+s.border,"background-color: "+s.background]):["color: "+o.text]));var a;var l=document.createElement("style");document.head.appendChild(l),c.customStyles[t]={references:1,element:l.sheet};var u=-1;for(var h in n)n.hasOwnProperty(h)&&l.sheet.insertRule(h+"{"+n[h].join(";")+"}",++u)}(e,t,"."+i),n}.call(this,this.options.palette),this.customStyleSelector&&i.push(this.customStyleSelector),i}function s(t){var e=this.options,i=document.createElement("div"),n=e.container&&1===e.container.nodeType?e.container:document.body;i.innerHTML=t;var o=i.children[0];return o.style.display="none",p.hasClass(o,"cc-window")&&c.hasTransition&&p.addClass(o,"cc-invisible"),this.onButtonClick=function(t){var e=p.traverseDOMPath(t.target,"cc-btn")||t.target;if(p.hasClass(e,"cc-btn")){var i=e.className.match(new RegExp("\\bcc-("+u.join("|")+")\\b")),n=i&&i[1]||!1;n&&(this.setStatus(n),this.close(!0))}p.hasClass(e,"cc-close")&&(this.setStatus(c.status.dismiss),this.close(!0)),p.hasClass(e,"cc-revoke")&&this.revokeChoice()}.bind(this),o.addEventListener("click",this.onButtonClick),e.autoAttach&&(n.firstChild?n.insertBefore(o,n.firstChild):n.appendChild(o)),o}function a(t,e){for(var i=0,n=t.length;i<n;++i){var o=t[i];if(o instanceof RegExp&&o.test(e)||"string"==typeof o&&o.length&&o===e)return!0}return!1}var l={enabled:!0,container:null,cookie:{name:"cookieconsent_status",path:"/",domain:"",expiryDays:365,secure:!1},onPopupOpen:function(){},onPopupClose:function(){},onInitialise:function(t){},onStatusChange:function(t,e){},onRevokeChoice:function(){},onNoCookieLaw:function(t,e){},content:{header:"Cookies used on the website!",message:"This website uses cookies to ensure you get the best experience on our website.",dismiss:"Got it!",allow:"Allow cookies",deny:"Decline",link:"Learn more",href:"https://cookiesandyou.com",close:"&#x274c;",target:"_blank",policy:"Cookie Policy"},elements:{header:'<span class="cc-header">{{header}}</span>&nbsp;',message:'<span id="cookieconsent:desc" class="cc-message">{{message}}</span>',messagelink:'<span id="cookieconsent:desc" class="cc-message">{{message}} <a aria-label="learn more about cookies" role=button tabindex="0" class="cc-link" href="{{href}}" rel="noopener noreferrer nofollow" target="{{target}}">{{link}}</a></span>',dismiss:'<a aria-label="dismiss cookie message" role=button tabindex="0" class="cc-btn cc-dismiss">{{dismiss}}</a>',allow:'<a aria-label="allow cookies" role=button tabindex="0"  class="cc-btn cc-allow">{{allow}}</a>',deny:'<a aria-label="deny cookies" role=button tabindex="0" class="cc-btn cc-deny">{{deny}}</a>',link:'<a aria-label="learn more about cookies" role=button tabindex="0" class="cc-link" href="{{href}}" rel="noopener noreferrer nofollow" target="{{target}}">{{link}}</a>',close:'<span aria-label="dismiss cookie message" role=button tabindex="0" class="cc-close">{{close}}</span>'},window:'<div role="dialog" aria-live="polite" aria-label="cookieconsent" aria-describedby="cookieconsent:desc" class="cc-window {{classes}}">\x3c!--googleoff: all--\x3e{{children}}\x3c!--googleon: all--\x3e</div>',revokeBtn:'<div class="cc-revoke {{classes}}">{{policy}}</div>',compliance:{info:'<div class="cc-compliance">{{dismiss}}</div>',"opt-in":'<div class="cc-compliance cc-highlight">{{deny}}{{allow}}</div>',"opt-out":'<div class="cc-compliance cc-highlight">{{deny}}{{allow}}</div>'},type:"info",layouts:{basic:"{{messagelink}}{{compliance}}","basic-close":"{{messagelink}}{{compliance}}{{close}}","basic-header":"{{header}}{{message}}{{link}}{{compliance}}"},layout:"basic",position:"bottom",theme:"block",static:!1,palette:null,revokable:!1,animateRevokable:!0,showLink:!0,dismissOnScroll:!1,dismissOnTimeout:!1,dismissOnWindowClick:!1,ignoreClicksFrom:["cc-revoke","cc-btn"],autoOpen:!0,autoAttach:!0,whitelistPage:[],blacklistPage:[],overrideHTML:null};return t.prototype.initialise=function(t){this.options&&this.destroy(),p.deepExtend(this.options={},l),p.isPlainObject(t)&&p.deepExtend(this.options,t),function(){var t=this.options.onInitialise.bind(this);if(!window.navigator.cookieEnabled)return t(c.status.deny),!0;if(window.CookiesOK||window.navigator.CookiesOK)return t(c.status.allow),!0;var e=Object.keys(c.status),i=this.getStatus(),n=0<=e.indexOf(i);return n&&t(i),n}.call(this)&&(this.options.enabled=!1),a(this.options.blacklistPage,location.pathname)&&(this.options.enabled=!1),a(this.options.whitelistPage,location.pathname)&&(this.options.enabled=!0);var e=this.options.window.replace("{{classes}}",r.call(this).join(" ")).replace("{{children}}",function(){var e={},i=this.options;i.showLink||(i.elements.link="",i.elements.messagelink=i.elements.message),Object.keys(i.elements).forEach(function(t){e[t]=p.interpolateString(i.elements[t],function(t){var e=i.content[t];return t&&"string"==typeof e&&e.length?e:""})});var t=i.compliance[i.type];t||(t=i.compliance.info),e.compliance=p.interpolateString(t,function(t){return e[t]});var n=i.layouts[i.layout];return n||(n=i.layouts.basic),p.interpolateString(n,function(t){return e[t]})}.call(this)),i=this.options.overrideHTML;if("string"==typeof i&&i.length&&(e=i),this.options.static){var n=s.call(this,'<div class="cc-grower">'+e+"</div>");n.style.display="",this.element=n.firstChild,this.element.style.display="none",p.addClass(this.element,"cc-invisible")}else this.element=s.call(this,e);(function(){var s=this.setStatus.bind(this),a=this.close.bind(this),t=this.options.dismissOnTimeout;"number"==typeof t&&0<=t&&(this.dismissTimeout=window.setTimeout(function(){s(c.status.dismiss),a(!0)},Math.floor(t)));var e=this.options.dismissOnScroll;if("number"==typeof e&&0<=e){var i=function(t){window.pageYOffset>Math.floor(e)&&(s(c.status.dismiss),a(!0),window.removeEventListener("scroll",i),this.onWindowScroll=null)};this.options.enabled&&(this.onWindowScroll=i,window.addEventListener("scroll",i))}var n=this.options.dismissOnWindowClick,l=this.options.ignoreClicksFrom;if(n){var u=function(t){for(var e=!1,i=t.path.length,n=l.length,o=0;o<i;o++)if(!e)for(var r=0;r<n;r++)e||(e=p.hasClass(t.path[o],l[r]));e||(s(c.status.dismiss),a(!0),window.removeEventListener("click",u),this.onWindowClick=null)}.bind(this);this.options.enabled&&(this.onWindowClick=u,window.addEventListener("click",u))}}).call(this),function(){if("info"!=this.options.type&&(this.options.revokable=!0),p.isMobile()&&(this.options.animateRevokable=!1),this.options.revokable){var t=o.call(this);this.options.animateRevokable&&t.push("cc-animate"),this.customStyleSelector&&t.push(this.customStyleSelector);var e=this.options.revokeBtn.replace("{{classes}}",t.join(" ")).replace("{{policy}}",this.options.content.policy);this.revokeBtn=s.call(this,e);var n=this.revokeBtn;if(this.options.animateRevokable){var i=p.throttle(function(t){var e=!1,i=window.innerHeight-20;p.hasClass(n,"cc-top")&&t.clientY<20&&(e=!0),p.hasClass(n,"cc-bottom")&&t.clientY>i&&(e=!0),e?p.hasClass(n,"cc-active")||p.addClass(n,"cc-active"):p.hasClass(n,"cc-active")&&p.removeClass(n,"cc-active")},200);this.onMouseMove=i,window.addEventListener("mousemove",i)}}}.call(this),this.options.autoOpen&&this.autoOpen()},t.prototype.destroy=function(){this.onButtonClick&&this.element&&(this.element.removeEventListener("click",this.onButtonClick),this.onButtonClick=null),this.dismissTimeout&&(clearTimeout(this.dismissTimeout),this.dismissTimeout=null),this.onWindowScroll&&(window.removeEventListener("scroll",this.onWindowScroll),this.onWindowScroll=null),this.onWindowClick&&(window.removeEventListener("click",this.onWindowClick),this.onWindowClick=null),this.onMouseMove&&(window.removeEventListener("mousemove",this.onMouseMove),this.onMouseMove=null),this.element&&this.element.parentNode&&this.element.parentNode.removeChild(this.element),this.element=null,this.revokeBtn&&this.revokeBtn.parentNode&&this.revokeBtn.parentNode.removeChild(this.revokeBtn),this.revokeBtn=null,function(t){if(p.isPlainObject(t)){var e=p.hash(JSON.stringify(t)),i=c.customStyles[e];if(i&&!--i.references){var n=i.element.ownerNode;n&&n.parentNode&&n.parentNode.removeChild(n),c.customStyles[e]=null}}}(this.options.palette),this.options=null},t.prototype.open=function(t){if(this.element)return this.isOpen()||(c.hasTransition?this.fadeIn():this.element.style.display="",this.options.revokable&&this.toggleRevokeButton(),this.options.onPopupOpen.call(this)),this},t.prototype.close=function(t){if(this.element)return this.isOpen()&&(c.hasTransition?this.fadeOut():this.element.style.display="none",t&&this.options.revokable&&this.toggleRevokeButton(!0),this.options.onPopupClose.call(this)),this},t.prototype.fadeIn=function(){var t=this.element;if(c.hasTransition&&t&&(this.afterTransition&&n.call(this,t),p.hasClass(t,"cc-invisible"))){if(t.style.display="",this.options.static){var e=this.element.clientHeight;this.element.parentNode.style.maxHeight=e+"px"}this.openingTimeout=setTimeout(i.bind(this,t),20)}},t.prototype.fadeOut=function(){var t=this.element;c.hasTransition&&t&&(this.openingTimeout&&(clearTimeout(this.openingTimeout),i.bind(this,t)),p.hasClass(t,"cc-invisible")||(this.options.static&&(this.element.parentNode.style.maxHeight=""),this.afterTransition=n.bind(this,t),t.addEventListener(c.transitionEnd,this.afterTransition),p.addClass(t,"cc-invisible")))},t.prototype.isOpen=function(){return this.element&&""==this.element.style.display&&(!c.hasTransition||!p.hasClass(this.element,"cc-invisible"))},t.prototype.toggleRevokeButton=function(t){this.revokeBtn&&(this.revokeBtn.style.display=t?"":"none")},t.prototype.revokeChoice=function(t){this.options.enabled=!0,this.clearStatus(),this.options.onRevokeChoice.call(this),t||this.autoOpen()},t.prototype.hasAnswered=function(t){return 0<=Object.keys(c.status).indexOf(this.getStatus())},t.prototype.hasConsented=function(t){var e=this.getStatus();return e==c.status.allow||e==c.status.dismiss},t.prototype.autoOpen=function(t){!this.hasAnswered()&&this.options.enabled?this.open():this.hasAnswered()&&this.options.revokable&&this.toggleRevokeButton(!0)},t.prototype.setStatus=function(t){var e=this.options.cookie,i=p.getCookie(e.name),n=0<=Object.keys(c.status).indexOf(i);0<=Object.keys(c.status).indexOf(t)?(p.setCookie(e.name,t,e.expiryDays,e.domain,e.path,e.secure),this.options.onStatusChange.call(this,t,n)):this.clearStatus()},t.prototype.getStatus=function(){return p.getCookie(this.options.cookie.name)},t.prototype.clearStatus=function(){var t=this.options.cookie;p.setCookie(t.name,"",-1,t.domain,t.path)},t}(),c.Location=function(){function t(t){p.deepExtend(this.options={},i),p.isPlainObject(t)&&p.deepExtend(this.options,t),this.currentServiceIndex=-1}function e(t,e,i){var n,o=document.createElement("script");o.type="text/"+(t.type||"javascript"),o.src=t.src||t,o.async=!1,o.onreadystatechange=o.onload=function(){var t=o.readyState;clearTimeout(n),e.done||t&&!/loaded|complete/.test(t)||(e.done=!0,e(),o.onreadystatechange=o.onload=null)},document.body.appendChild(o),n=setTimeout(function(){e.done=!0,e(),o.onreadystatechange=o.onload=null},i)}function r(t,e,i,n,o){var r=new(window.XMLHttpRequest||window.ActiveXObject)("MSXML2.XMLHTTP.3.0");if(r.open(n?"POST":"GET",t,1),r.setRequestHeader("Content-type","application/x-www-form-urlencoded"),Array.isArray(o))for(var s=0,a=o.length;s<a;++s){var l=o[s].split(":",2);r.setRequestHeader(l[0].replace(/^\s+|\s+$/g,""),l[1].replace(/^\s+|\s+$/g,""))}"function"==typeof e&&(r.onreadystatechange=function(){3<r.readyState&&e(r)}),r.send(n)}function n(t){return new Error("Error ["+(t.code||"UNKNOWN")+"]: "+t.error)}var i={timeout:5e3,services:["ipinfo"],serviceDefinitions:{ipinfo:function(){return{url:"//ipinfo.io",headers:["Accept: application/json"],callback:function(t,e){try{var i=JSON.parse(e);return i.error?n(i):{code:i.country}}catch(t){return n({error:"Invalid response ("+t+")"})}}}},ipinfodb:function(t){return{url:"//api.ipinfodb.com/v3/ip-country/?key={api_key}&format=json&callback={callback}",isScript:!0,callback:function(t,e){try{var i=JSON.parse(e);return"ERROR"==i.statusCode?n({error:i.statusMessage}):{code:i.countryCode}}catch(t){return n({error:"Invalid response ("+t+")"})}}}},maxmind:function(){return{url:"//js.maxmind.com/js/apis/geoip2/v2.1/geoip2.js",isScript:!0,callback:function(e){return window.geoip2?void geoip2.country(function(t){try{e({code:t.country.iso_code})}catch(t){e(n(t))}},function(t){e(n(t))}):void e(new Error("Unexpected response format. The downloaded script should have exported `geoip2` to the global scope"))}}}}};return t.prototype.getNextService=function(){for(var t;t=this.getServiceByIdx(++this.currentServiceIndex),this.currentServiceIndex<this.options.services.length&&!t;);return t},t.prototype.getServiceByIdx=function(t){var e=this.options.services[t];if("function"!=typeof e)return"string"==typeof e?this.options.serviceDefinitions[e]():p.isPlainObject(e)?this.options.serviceDefinitions[e.name](e):null;var i=e();return i.name&&p.deepExtend(i,this.options.serviceDefinitions[i.name](i)),i},t.prototype.locate=function(t,e){var i=this.getNextService();return i?(this.callbackComplete=t,this.callbackError=e,void this.runService(i,this.runNextServiceOnError.bind(this))):void e(new Error("No services to run"))},t.prototype.setupUrl=function(n){var o=this.getCurrentServiceOpts();return n.url.replace(/\{(.*?)\}/g,function(t,e){if("callback"===e){var i="callback"+Date.now();return window[i]=function(t){n.__JSONP_DATA=JSON.stringify(t)},i}if(e in o.interpolateUrl)return o.interpolateUrl[e]})},t.prototype.runService=function(i,n){var o=this;i&&i.url&&i.callback&&(i.isScript?e:r)(this.setupUrl(i),function(t){var e=t?t.responseText:"";i.__JSONP_DATA&&(e=i.__JSONP_DATA,delete i.__JSONP_DATA),o.runServiceCallback.call(o,n,i,e)},this.options.timeout,i.data,i.headers)},t.prototype.runServiceCallback=function(e,t,i){var n=this,o=t.callback(function(t){o||n.onServiceResult.call(n,e,t)},i);o&&this.onServiceResult.call(this,e,o)},t.prototype.onServiceResult=function(t,e){e instanceof Error||e&&e.error?t.call(this,e,null):t.call(this,null,e)},t.prototype.runNextServiceOnError=function(t,e){if(t){this.logError(t);var i=this.getNextService();i?this.runService(i,this.runNextServiceOnError.bind(this)):this.completeService.call(this,this.callbackError,new Error("All services failed"))}else this.completeService.call(this,this.callbackComplete,e)},t.prototype.getCurrentServiceOpts=function(){var t=this.options.services[this.currentServiceIndex];return"string"==typeof t?{name:t}:"function"==typeof t?t():p.isPlainObject(t)?t:{}},t.prototype.completeService=function(t,e){this.currentServiceIndex=-1,t&&t(e)},t.prototype.logError=function(t){var e=this.currentServiceIndex,i=this.getServiceByIdx(e);console.warn("The service["+e+"] ("+i.url+") responded with the following error",t)},t}(),c.Law=function(){function t(t){this.initialise.apply(this,arguments)}var e={regionalLaw:!0,hasLaw:["AT","BE","BG","HR","CZ","CY","DK","EE","FI","FR","DE","EL","HU","IE","IT","LV","LT","LU","MT","NL","PL","PT","SK","ES","SE","GB","UK","GR","EU"],revokable:["HR","CY","DK","EE","FR","DE","LV","LT","NL","PT","ES"],explicitAction:["HR","IT","ES"]};return t.prototype.initialise=function(t){p.deepExtend(this.options={},e),p.isPlainObject(t)&&p.deepExtend(this.options,t)},t.prototype.get=function(t){var e=this.options;return{hasLaw:0<=e.hasLaw.indexOf(t),revokable:0<=e.revokable.indexOf(t),explicitAction:0<=e.explicitAction.indexOf(t)}},t.prototype.applyLaw=function(t,e){var i=this.get(e);return i.hasLaw||(t.enabled=!1,"function"==typeof t.onNoCookieLaw&&t.onNoCookieLaw(e,i)),this.options.regionalLaw&&(i.revokable&&(t.revokable=!0),i.explicitAction&&(t.dismissOnScroll=!1,t.dismissOnTimeout=!1)),t},t}(),c.initialise=function(e,i,n){var o=new c.Law(e.law);i||(i=function(){}),n||(n=function(){});var t=Object.keys(c.status),r=p.getCookie("cookieconsent_status");return 0<=t.indexOf(r)?void i(new c.Popup(e)):void c.getCountryCode(e,function(t){delete e.law,delete e.location,t.code&&(e=o.applyLaw(e,t.code)),i(new c.Popup(e))},function(t){delete e.law,delete e.location,n(t,new c.Popup(e))})},c.getCountryCode=function(t,e,i){t.law&&t.law.countryCode?e({code:t.law.countryCode}):t.location?new c.Location(t.location).locate(function(t){e(t||{})},i):e({})},c.utils=p,c.hasInitialised=!0,window.cookieconsent=c}}(window.cookieconsent||{});